<html>
<head>
<title>Sentiment Analysis: Introduction with a Simple Technical Example.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">情感分析:用一个简单的技术例子介绍。</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/sentimental-analysis-introduction-with-a-simple-technical-example-f9abaed5e58a?source=collection_archive---------12-----------------------#2021-06-26">https://medium.com/analytics-vidhya/sentimental-analysis-introduction-with-a-simple-technical-example-f9abaed5e58a?source=collection_archive---------12-----------------------#2021-06-26</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/b0207479cba2f941d7553fcb8df6ad92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XJpPGY70QpBeY-Qegl2EkA.jpeg"/></div></div></figure><h1 id="03dd" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated"><strong class="ak">什么事</strong></h1><p id="1d02" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">情感分析是用于研究人类语言的一般情绪/感觉/或情感的术语。它也可以应用于其他领域(也许是座头鲸交配的歌曲),但我们将只看文本的情感分析。</p><p id="33a2" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">这个话题对外人来说可能有点怪异，对我们的人性来说可能显得有些侵扰。我们真的能量化我们的情绪吗？当然可以，情感分析有很多有用的应用。它并不完美，实际上离完美还很远，但它可以很有见地，并且很有趣。</p></div><div class="ab cl kq kr go ks" role="separator"><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv"/></div><div class="ha hb hc hd he"><h1 id="53dc" class="ip iq hh bd ir is kx iu iv iw ky iy iz ja kz jc jd je la jg jh ji lb jk jl jm bi translated"><strong class="ak">用例</strong></h1><p id="4501" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated"><em class="lc">用户体验</em>:一家公司重新设计了他们的网站，想要测量用户的评论与之前的基准相比是积极还是消极。</p><p id="3085" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">产品开发:研发团队要求用户评论一个原型，并使用评论问卷进行情感分析，以衡量对新产品的总体反应。</p><p id="af97" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated"><em class="lc">客户服务</em>:帮助台服务可以使用情感分析和票证优先级来确定首先解决的问题。例如，一种解决方案是从优先级最高的最不开心的客户开始，到优先级最低的最开心的客户。</p><p id="d9df" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated"><em class="lc">政治民意调查</em>:一个政治组织可能会在twitter标签上进行情绪分析，以“调查”一项新法律的总体情绪。</p></div><div class="ab cl kq kr go ks" role="separator"><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv"/></div><div class="ha hb hc hd he"><h1 id="8695" class="ip iq hh bd ir is kx iu iv iw ky iy iz ja kz jc jd je la jg jh ji lb jk jl jm bi translated">例子</h1><p id="9720" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">情绪分析通常看正面、中性和负面分数的简单分类。</p><p id="5472" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">每个单词或单词集合将具有所有三个分数加上一个复合分数，该复合分数只是各个分数的组合，以传递一些聚合度量。</p><p id="feec" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">"我要给他一个他无法拒绝的提议。"教父(1972)</p><figure class="le lf lg lh fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ld"><img src="../Images/c5d1052f88e96bdca07817212ec4e0fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*63EAqkLmHPJ8fFNraHC69A.png"/></div></div></figure><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="09ff" class="ln iq hh lj b fi lo lp l lq lr">from nltk.sentiment.vader import SentimentIntensityAnalyzer</span><span id="3e5c" class="ln iq hh lj b fi ls lp l lq lr">text = "I'm gonna make him an offer he can't refuse."</span><span id="28ab" class="ln iq hh lj b fi ls lp l lq lr">sia = SentimentIntensityAnalyzer()<br/>sia.polarity_scores(text)<br/><strong class="lj hi">output: {'compound': 0.2235, 'neg': 0.0, 'neu': 0.809, 'pos': 0.191}</strong></span></pre><p id="6b24" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated"><strong class="jp hi">消极</strong>衡量文本的消极程度</p><p id="c3cb" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated"><strong class="jp hi"> neu </strong>测量文本的中性程度</p><p id="85c8" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated"><strong class="jp hi"> pos </strong>测量文本的积极程度</p><p id="3f6c" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated"><strong class="jp hi">复合</strong>是文本的总得分，可以按以下方式解释:</p><ul class=""><li id="b9da" class="lt lu hh jp b jq kl ju km jy lv kc lw kg lx kk ly lz ma mb bi translated">1到0.5 —总体积极情绪:</li><li id="02e4" class="lt lu hh jp b jq mc ju md jy me kc mf kg mg kk ly lz ma mb bi translated">0.5到-0.5 —中性情绪</li><li id="8ea7" class="lt lu hh jp b jq mc ju md jy me kc mf kg mg kk ly lz ma mb bi translated">-0.5比1 —负面情绪</li></ul><p id="d980" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">让我们看几个其他的例子。请注意，较短的段落更难分析，而且大多数在情感上是中性的。</p><p id="a036" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">“我是世界之王！”(泰坦尼克号1997)</p><figure class="le lf lg lh fd ii er es paragraph-image"><div class="er es mh"><img src="../Images/35b809e37776f35446058a9c8f00ce9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1226/format:webp/1*pnjl7McMxBKg1ITpnYxosw.png"/></div></figure><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="1c76" class="ln iq hh lj b fi lo lp l lq lr">sia.polarity_scores(text)<br/><strong class="lj hi">output: {'compound': 0.0, 'neg': 0.0, 'neu': 1.0, 'pos': 0.0}</strong></span></pre><p id="d497" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">“及时行乐。抓紧时间，孩子们。让你们的生活变得不同凡响。”死亡诗社，1989年。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="8378" class="ln iq hh lj b fi lo lp l lq lr">sia.polarity_scores(text)</span><span id="6925" class="ln iq hh lj b fi ls lp l lq lr"><strong class="lj hi">output: {'compound': 0.0, 'neg': 0.0, 'neu': 1.0, 'pos': 0.0}</strong><br/># "seize the day" and "extraordinary" are very positive words. Again, sentiment analysis is not perfect. </span></pre><p id="b33f" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">“妈妈总是说生活就像一盒巧克力。你永远不知道你会得到什么。”——阿甘正传，1994年</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="7b6b" class="ln iq hh lj b fi lo lp l lq lr">sia.polarity_scores(text)<br/><strong class="lj hi">output: {'compound': 0.3612, 'neg': 0.0, 'neu': 0.857, 'pos': 0.143}</strong></span></pre><p id="e845" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">为了从《泰坦尼克号》、《死亡诗社》和《阿甘正传》的情感混乱中恢复过来，让我们来看看更令人兴奋的东西，美国宪法的序言…</p><figure class="le lf lg lh fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mi"><img src="../Images/1f3a507b6cc67dc05f1dda38099a36c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WGFX9ZSfgIQwXjtHO7l0PA.png"/></div></div></figure><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="3dec" class="ln iq hh lj b fi lo lp l lq lr">PREAMBLE = """<br/>We the People of the United States,\<br/>in Order to form a more perfect Union, establish Justice,\<br/>insure domestic Tranquility, provide for the common defense, \<br/>promote the general Welfare, and secure the Blessings of \<br/>Liberty to ourselves and our Posterity, do ordain and establish \<br/>this Constitution for the United States of America.\<br/>"""</span><span id="5387" class="ln iq hh lj b fi ls lp l lq lr">sia.polarity_scores(PREAMBLE)<br/><strong class="lj hi">output: {'compound': 0.9744, 'neg': 0.0, 'neu': 0.608, 'pos': 0.392}</strong></span></pre><p id="8d44" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">啊哈，终于有些过于积极的东西了！</p></div><div class="ab cl kq kr go ks" role="separator"><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv"/></div><div class="ha hb hc hd he"><h2 id="d9bc" class="ln iq hh bd ir mj mk ml iv mm mn mo iz jy mp mq jd kc mr ms jh kg mt mu jl mv bi translated">简单但技术性的解释，它如何在4个步骤</h2><ol class=""><li id="615b" class="lt lu hh jp b jq jr ju jv jy mw kc mx kg my kk mz lz ma mb bi translated"><strong class="jp hi">分词词典</strong></li></ol><ul class=""><li id="f23d" class="lt lu hh jp b jq kl ju km jy lv kc lw kg lx kk ly lz ma mb bi translated">为每个单词创建一个到数字id的映射。本质上为每个单词分配一个唯一的索引。</li><li id="ec3a" class="lt lu hh jp b jq mc ju md jy me kc mf kg mg kk ly lz ma mb bi translated">这可以对整个英语语言，或者你想使用的一些单词集进行。</li><li id="91d4" class="lt lu hh jp b jq mc ju md jy me kc mf kg mg kk ly lz ma mb bi translated">例如，让我们拿一些不那么随意的词汇集合来说:</li></ul><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="5a1d" class="ln iq hh lj b fi lo lp l lq lr">+----+---+----+------+------+<br/>|  0 | 1 | 2  |   3  |   4  |<br/>+----+---+----+------+------+<br/>| No | I | am | your |father|<br/>+----+---+----+------+------+</span></pre><p id="7f19" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated"><strong class="jp hi"> 2。向量化你的正文文本</strong></p><ul class=""><li id="d44e" class="lt lu hh jp b jq kl ju km jy lv kc lw kg lx kk ly lz ma mb bi translated">因为数学是用数字来完成的，所以让我们把想要分析的单词转换成向量。我们可以这样做:如果句子中缺少字典中的一个单词，则投射0；如果有一个单词，则投射1。</li><li id="dd07" class="lt lu hh jp b jq mc ju md jy me kc mf kg mg kk ly lz ma mb bi translated">例句:</li></ul><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="fc83" class="ln iq hh lj b fi lo lp l lq lr">"No, I am your father." - Star Wars (the correct quote) </span><span id="9aea" class="ln iq hh lj b fi ls lp l lq lr">+---+---+---+---+---+<br/>| 0 | 1 | 2 | 3 | 4 |  &lt;- index <br/>+---+---+---+---+---+<br/>| 1 | 1 | 1 | 1 | 1 |  &lt;- vector <br/>+---+---+---+---+---+</span><span id="1112" class="ln iq hh lj b fi ls lp l lq lr">"I am a father."  - a simple sentence (ignore "a" for now)</span><span id="7c18" class="ln iq hh lj b fi ls lp l lq lr">+---+---+---+---+---+<br/>| 0 | 1 | 2 | 3 | 4 |  &lt;- index<br/>+---+---+---+---+---+<br/>| 0 | 1 | 1 | 0 | 1 |  &lt;- vector<br/>+---+---+---+---+---+</span></pre><p id="6523" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated"><strong class="jp hi"> 3。列车型号</strong></p><ul class=""><li id="ee5d" class="lt lu hh jp b jq kl ju km jy lv kc lw kg lx kk ly lz ma mb bi translated">通过训练模型，我的意思是简单地为每个单词指定一个情感分数。这可以手动完成，或者通过使用一些其他机器学习方法来完成。</li><li id="e64f" class="lt lu hh jp b jq mc ju md jy me kc mf kg mg kk ly lz ma mb bi translated">对于我们的例子，让我们只使用一个单一的复合分数来分配一个情感值。</li><li id="f93d" class="lt lu hh jp b jq mc ju md jy me kc mf kg mg kk ly lz ma mb bi translated">我将根据自己的情感感知来分配分数，因此在情感分析中必须认真考虑偏见。</li></ul><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="3fb1" class="ln iq hh lj b fi lo lp l lq lr">indices <br/>+--+--+--+----+------+<br/>| 0| 1| 2| 3  |  4   |  <br/>+--+--+--+----+------+</span><span id="63fd" class="ln iq hh lj b fi ls lp l lq lr">text<br/>+--+--+--+----+------+<br/>|No| I|am|your|father|<br/>+--+--+--+----+------+</span><span id="9a40" class="ln iq hh lj b fi ls lp l lq lr">scores<br/>+--+--+--+----+------+   <br/>|-1| 1| 1| 0  |  1   |<br/>+--+--+--+----+------+</span><span id="8f52" class="ln iq hh lj b fi ls lp l lq lr">1 = positive<br/>-1 = negative<br/>0 = neutral</span></pre><p id="3b29" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated"><strong class="jp hi"> 4。使文本适合模型。</strong></p><ul class=""><li id="3efa" class="lt lu hh jp b jq kl ju km jy lv kc lw kg lx kk ly lz ma mb bi translated">这是您将要分析的文本适合模型的地方。最终目标是获得一个情感分数。</li><li id="10ba" class="lt lu hh jp b jq mc ju md jy me kc mf kg mg kk ly lz ma mb bi translated">分数是映射到字典的另一个向量。我们不需要像在我们的例子中那样，对字典中的每个单词都有一个分数。其他机器学习模型可以对没有确切情感值的词进行平均。</li></ul><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="c514" class="ln iq hh lj b fi lo lp l lq lr">index from the dictionary<br/>+---+---+---+---+---+<br/>|<strong class="lj hi"> 0 </strong>|<strong class="lj hi"> 1 </strong>|<strong class="lj hi"> 2 </strong>|<strong class="lj hi"> 3 </strong>|<strong class="lj hi"> 4 </strong>| <br/>+---+---+---+---+---+</span><span id="72f1" class="ln iq hh lj b fi ls lp l lq lr">vector for "No, I am your father"<br/>+---+---+---+---+---+<br/>| 1 | 1 | 1 | 1 | 1 |<br/>+---+---+---+---+---+</span><span id="ee97" class="ln iq hh lj b fi ls lp l lq lr">vector for "I am a father"<br/>+---+---+---+---+---+<br/>| 0 | 1 | 1 | 0 | 1 | <br/>+---+---+---+---+---+</span><span id="e58a" class="ln iq hh lj b fi ls lp l lq lr">score vector<br/>+---+---+---+---+---+<br/>|-1 | 1 | 1 | 0 | 1 | <br/>+---+---+---+---+---+</span></pre><ul class=""><li id="87ad" class="lt lu hh jp b jq kl ju km jy lv kc lw kg lx kk ly lz ma mb bi translated">让我们使用这两个句子和我们在步骤2中创建的向量来拟合它们，并得到一个情感分数。使用点积将单词向量与分数向量相乘。将点积的结果除以单词向量中1的数量，得到“加权”或组合的情感分数，该分数将在-1和1之间。</li></ul><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="d396" class="ln iq hh lj b fi lo lp l lq lr"># "No, I am your father."<br/>[1,1,1,1,1]*[-1,1,1,0,1]^T = 2/5 = 0.4    </span><span id="b5ee" class="ln iq hh lj b fi ls lp l lq lr"># "I am a father."<br/>[0,1,1,0,1]*[-1,1,1,0,1]^T = 3/3 = 1</span></pre><ul class=""><li id="9814" class="lt lu hh jp b jq kl ju km jy lv kc lw kg lx kk ly lz ma mb bi translated">人们很容易对《星球大战》中的名言“不，我是你的父亲”做出否定的评价，因为这是卢克·天行者可能收到的最糟糕的消息。分数其实是中性的0.4。我认为卢克对这个消息也是中立的。顺便说一下，讽刺是很难用机器学习来衡量的。</li><li id="972a" class="lt lu hh jp b jq mc ju md jy me kc mf kg mg kk ly lz ma mb bi translated">文本“我是一个父亲。”得分为正1。</li><li id="15d0" class="lt lu hh jp b jq mc ju md jy me kc mf kg mg kk ly lz ma mb bi translated">我们除以单词向量中1的计数，通过句子中当前单词的数量来标准化得分，这些单词在向量中用1表示。</li></ul><p id="2bb2" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">我希望这是对情感分析的一个有用的介绍，有一个简单但技术性的例子。</p></div></div>    
</body>
</html>