<html>
<head>
<title>Implementing Projection Mapping using Threejs Shader Material in React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在React中使用Threejs着色器材质实现投影贴图</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/projection-mapping-three-js-fiber-and-react-dbdf7da2fd5b?source=collection_archive---------9-----------------------#2021-03-17">https://medium.com/analytics-vidhya/projection-mapping-three-js-fiber-and-react-dbdf7da2fd5b?source=collection_archive---------9-----------------------#2021-03-17</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="f33f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">使用glsl着色器在React中完成的一个非常简单的投影映射实现，可以在任何类型的曲面上工作，也可以移动或旋转！</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jc"><img src="../Images/e487189281ba59733b1d3f33641a828e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BsUxka3xCNrLNjjgo73BNw.png"/></div></div><figcaption class="jo jp et er es jq jr bd b be z dx translated">最终的结果将是这样的</figcaption></figure><p id="4287" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">你可以去下面的沙盒里看看-&gt;<a class="ae js" href="https://codesandbox.io/s/czxbw" rel="noopener ugc nofollow" target="_blank">https://codesandbox.io/s/czxbw</a></p><h1 id="010c" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated"><strong class="ak">一名布雷夫看着场景设置反应过来:</strong></h1><p id="7b4a" class="pw-post-body-paragraph ie if hh ig b ih kr ij ik il ks in io ip kt ir is it ku iv iw ix kv iz ja jb ha bi translated">在短短几行代码中，我为我们的项目创建了场景作为React组件:</p><p id="1275" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">首先，我导入必要的库，threejs的CameraHelper，这样我们就可以在用于投影纹理的相机上显示一些小发明。</p><p id="28a8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">react-three-fiber和drei的引入是为了让我们的生活更轻松，因为它们以最好的方式提供了来自三个js库中的组件，为react做好了准备。</p><p id="edc9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">看一下整个代码，我会在代码部分解释每一部分。</p><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="kw kx l"/></div></figure><p id="25e5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">第11行和第21行是我用地球和天空纹理制作的两个漂亮的球体的定义(这样场景就不会空了:)</p><p id="1745" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">当我使用下面通过扩展shaderMaterial类创建的组件时，真正的奇迹发生在第31行，我带来了下面的代码。</p><p id="2d47" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这里需要注意的是，我们需要一个摄像机及其坐标，所以我在第55行定义了摄像机对象，并更新了useFrame句柄中的坐标。该信息然后被提供给第58行中调用的projectedMaterial组件。</p><p id="be2b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们还需要一个简单的纹理和一个颜色作为没有投影的区域的网格基础，这些分别在第35行和第37行定义。</p><h1 id="7514" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">一个简单的着色器来管理它们</h1><p id="7415" class="pw-post-body-paragraph ie if hh ig b ih kr ij ik il ks in io ip kt ir is it ku iv iw ix kv iz ja jb ha bi translated">shaderMaterial类是Three js中任何着色器实现的网关，您可以非常容易地将您在着色器中使用的所有组件作为构造函数中的制服，然后提供片段和顶点着色器。</p><p id="f891" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在这里，我们从相机获取坐标，并根据每一帧的坐标改变纹理的uv坐标。</p><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="kw kx l"/></div></figure><p id="f555" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我希望这对你有用，如果你需要更多信息，请留下评论！</p></div></div>    
</body>
</html>