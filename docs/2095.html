<html>
<head>
<title>Python Matplotlib</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python Matplotlib</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/python-matplotlib-36ad72381c0c?source=collection_archive---------8-----------------------#2021-04-04">https://medium.com/analytics-vidhya/python-matplotlib-36ad72381c0c?source=collection_archive---------8-----------------------#2021-04-04</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="0194" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">商务专业人士实用指南</h2></div><p id="e493" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在上一篇文章中，我为初学者分享了Python Pandas的实用数据辩论技巧。</p><div class="js jt ez fb ju jv"><a rel="noopener follow" target="_blank" href="/analytics-vidhya/data-wrangling-with-python-pandas-e58a7058408a"><div class="jw ab dw"><div class="jx ab jy cl cj jz"><h2 class="bd hi fi z dy ka ea eb kb ed ef hg bi translated">与Python熊猫的数据角力</h2><div class="kc l"><h3 class="bd b fi z dy ka ea eb kb ed ef dx translated">非技术人员的视角</h3></div><div class="kd l"><p class="bd b fp z dy ka ea eb kb ed ef dx translated">medium.com</p></div></div><div class="ke l"><div class="kf l kg kh ki ke kj kk jv"/></div></div></a></div><p id="e801" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi kl translated">他的文章强调了使用最流行的Python库之一— <strong class="iy hi"> <em class="ku"> Matplotlib </em> </strong>进行数据可视化。更具体地说，这篇文章的灵感来自于这样一个想法，即提供一个<strong class="iy hi"> <em class="ku">可视化模板，让商务专业人士创建有意义的图表</em> </strong>，而不必太担心语法。</p><p id="46c2" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">本教程使用了<a class="ae kv" href="https://www.citibikenyc.com/system-data" rel="noopener ugc nofollow" target="_blank">纽约自行车共享2019 </a>数据集，一切都是在<a class="ae kv" href="https://colab.research.google.com/notebooks/intro.ipynb" rel="noopener ugc nofollow" target="_blank">谷歌Colab </a>的帮助下准备的。</p></div><div class="ab cl kw kx go ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ha hb hc hd he"><p id="8bd6" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">你可以在github @ <a class="ae kv" href="https://github.com/ongks-useR/united_states_bike_share/blob/main/matplotlib_demo.ipynb" rel="noopener ugc nofollow" target="_blank"> ongks-useR </a>中找到我的jupyter笔记本进行演示。请按照Python库，探索数据&amp;按客户类型划分的自行车共享月度活动一节中的步骤准备本教程所需的数据框架。</p><figure class="le lf lg lh fd li er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es ld"><img src="../Images/ffb9d8dc96618d657306469db254b9e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yI3eHiEadUoErk8pXDonWQ.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">订户的数据帧</figcaption></figure><figure class="le lf lg lh fd li er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es ls"><img src="../Images/3ef6c6bb4dd82c06430e0a6747b0b014.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DRmHbQIhnDI3g547076I0Q.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">客户的数据框架</figcaption></figure></div><div class="ab cl kw kx go ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ha hb hc hd he"><p id="bf03" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">现在，让我们从可视化的基本概念开始。基本图表(真正的基本图表)由几个部分组成:</p><ol class=""><li id="cb0d" class="lt lu hh iy b iz ja jc jd jf lv jj lw jn lx jr ly lz ma mb bi translated">数字和图表</li><li id="e4cf" class="lt lu hh iy b iz mc jc md jf me jj mf jn mg jr ly lz ma mb bi translated">数据</li><li id="e40a" class="lt lu hh iy b iz mc jc md jf me jj mf jn mg jr ly lz ma mb bi translated">颜色</li><li id="3dcf" class="lt lu hh iy b iz mc jc md jf me jj mf jn mg jr ly lz ma mb bi translated">主要标题和副标题</li><li id="8c2b" class="lt lu hh iy b iz mc jc md jf me jj mf jn mg jr ly lz ma mb bi translated">轴标签</li><li id="ed5c" class="lt lu hh iy b iz mc jc md jf me jj mf jn mg jr ly lz ma mb bi translated">神话；传奇</li><li id="0668" class="lt lu hh iy b iz mc jc md jf me jj mf jn mg jr ly lz ma mb bi translated">记号和记号标签</li><li id="28d5" class="lt lu hh iy b iz mc jc md jf me jj mf jn mg jr ly lz ma mb bi translated">样式表</li></ol></div><div class="ab cl kw kx go ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ha hb hc hd he"><h1 id="5979" class="mh mi hh bd mj mk ml mm mn mo mp mq mr in ms io mt iq mu ir mv it mw iu mx my bi translated"><strong class="ak"> 1。图&amp;图表</strong></h1><p id="1f9a" class="pw-post-body-paragraph iw ix hh iy b iz mz ii jb jc na il je jf nb jh ji jj nc jl jm jn nd jp jq jr ha bi translated">用简单的英语，你可以把它们想成:</p><blockquote class="ne"><p id="d290" class="nf ng hh bd nh ni nj nk nl nm nn jr dx translated">图——一张A4大小的纸<br/>图——一幅画由一个物体组成，例如:一栋房子。</p></blockquote><p id="752f" class="pw-post-body-paragraph iw ix hh iy b iz no ii jb jc np il je jf nq jh ji jj nr jl jm jn ns jp jq jr ha bi translated">可视化意味着在一张纸上画一个图表；但是，我们使用的是Python Matplotlib，而不是pencil。</p><pre class="le lf lg lh fd nt nu nv nw aw nx bi"><span id="56e6" class="ny mi hh nu b fi nz oa l ob oc"><em class="ku">create a chart (ax) on a A4 paper (figure) with plt.subplots()</em></span><span id="efcf" class="ny mi hh nu b fi od oa l ob oc"><em class="ku"># create figure (fig) &amp; chart (ax)</em><br/>fig, ax = plt.subplots()<br/><br/><em class="ku"># use .get_height() &amp; get_width() to obatin default height &amp; width of the Figure</em><br/>h = fig.get_figheight()<br/>w = fig.get_figwidth()<br/><br/><em class="ku"># use .get_xticks() &amp; .get_xticklabels() to obtain default tickmark of the chart</em><br/>xtick = ax.get_xticks()<br/>xticklabel = ax.get_xticklabels();</span></pre><figure class="le lf lg lh fd li er es paragraph-image"><div class="er es oe"><img src="../Images/e44987ee7e2876b45680a7943e142fbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:766/format:webp/1*4drAnVn0-t4LdTaSFm5YKw.png"/></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">由plt.subplots生成的默认图表</figcaption></figure><p id="632e" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">通过运行下面的代码，我们创建了一个默认情况下由一个图表组成的图形。</p><pre class="le lf lg lh fd nt nu nv nw aw nx bi"><span id="e6b6" class="ny mi hh nu b fi nz oa l ob oc"><em class="ku"># create figure (fig) &amp; chart (ax)</em><br/>fig, ax = plt.subplots()</span></pre><p id="84ce" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">下面的代码用于获得图形的默认高度和重量，即6px宽和4px高。</p><pre class="le lf lg lh fd nt nu nv nw aw nx bi"><span id="b959" class="ny mi hh nu b fi nz oa l ob oc"><em class="ku"># use .get_height() &amp; get_width() to obatin default height &amp; width of the Figure</em><br/>h = fig.get_figheight()<br/>w = fig.get_figwidth()</span><span id="c596" class="ny mi hh nu b fi od oa l ob oc"><em class="ku"># height &amp; width of Figure</em><br/><br/>f"Figure height: <strong class="nu hi">{</strong>h<strong class="nu hi">}</strong> &amp; width: <strong class="nu hi">{</strong>w<strong class="nu hi">}</strong>"<br/>'Figure height: 4.0 &amp; width: 6.0'</span></pre><p id="ca06" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我们可以检查x轴上的记号和标签。默认标签范围从0到1，增量为0.2。</p><pre class="le lf lg lh fd nt nu nv nw aw nx bi"><span id="e25e" class="ny mi hh nu b fi nz oa l ob oc"><em class="ku"># use .get_xticks() &amp; .get_xticklabels() to obtain default tickmark of the chart</em><br/>xtick = ax.get_xticks()<br/>xticklabel = ax.get_xticklabels();</span><span id="5d35" class="ny mi hh nu b fi od oa l ob oc"><em class="ku"># xticks of chart</em>  <br/>xtick<br/>array([0. , 0.2, 0.4, 0.6, 0.8, 1. ])</span><span id="c475" class="ny mi hh nu b fi od oa l ob oc"><em class="ku"># xticklabels of chart</em><br/><br/>[label <strong class="nu hi">for</strong> label <strong class="nu hi">in</strong> xticklabel]<br/>[Text(0.0, 0, '0.0'),<br/> Text(0.2, 0, '0.2'),<br/> Text(0.4, 0, '0.4'),<br/> Text(0.6000000000000001, 0, '0.6'),<br/> Text(0.8, 0, '0.8'),<br/> Text(1.0, 0, '1.0')]</span></pre><p id="5cbe" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">通过提供参数<em class="ku"> nrows=1 &amp; ncols=2 </em>，我们可以很容易地创建一个连续包含两个图表的图形。</p><pre class="le lf lg lh fd nt nu nv nw aw nx bi"><span id="abf4" class="ny mi hh nu b fi nz oa l ob oc"><em class="ku"># create 2 charts in one row &amp; 2 columns</em>  <br/>fig, ax = plt.subplots(nrows=1, ncols=2)</span></pre><figure class="le lf lg lh fd li er es paragraph-image"><div class="er es of"><img src="../Images/b6fc4f46c7ebdb36cad9d371d75e9cb9.png" data-original-src="https://miro.medium.com/v2/resize:fit:768/format:webp/1*M9tDUocWqSvnfOt5UV3fdQ.png"/></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">连续两张图表…</figcaption></figure><p id="18ee" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我们可以通过使用参数<em class="ku"> figsize </em>将图形大小(想象我们使用更大的纸张)调整为14px宽和6px高。</p><pre class="le lf lg lh fd nt nu nv nw aw nx bi"><span id="c3cd" class="ny mi hh nu b fi nz oa l ob oc"><em class="ku">'''</em><br/><em class="ku">figsize &gt;&gt; adjust size of figure</em><br/><em class="ku">figsize = (14, 6) &gt;&gt; 14 px for x-axis &amp; 6 px for y-axis</em><br/><br/><em class="ku">imagine we use larger piece of drawing paper to fit 2 charts</em><br/><br/><em class="ku">'''</em><br/><br/>fig, ax = plt.subplots(nrows=1, ncols=2, figsize = (14, 6))</span></pre><figure class="le lf lg lh fd li er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es og"><img src="../Images/5c2485a0c0c97ffe591320d4fc3a3ad9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Uk8Zg-ukN4pEuGk6cqiZ4Q.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">较大的绘图纸…</figcaption></figure><p id="2954" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我们只关注基本面，所以让我们在图上做一个图表。\</p><pre class="le lf lg lh fd nt nu nv nw aw nx bi"><span id="dd68" class="ny mi hh nu b fi nz oa l ob oc">fig, ax = plt.subplots(figsize = (10, 6))</span></pre><figure class="le lf lg lh fd li er es paragraph-image"><div class="er es oh"><img src="../Images/3fae9d9b55ea1bd1f461ac987c7cb461.png" data-original-src="https://miro.medium.com/v2/resize:fit:1210/format:webp/1*KJHWVA8q-2a8zdi08zqpJQ.png"/></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">每个图形初始化一个图表…</figcaption></figure></div><div class="ab cl kw kx go ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ha hb hc hd he"><h1 id="4cc1" class="mh mi hh bd mj mk ml mm mn mo mp mq mr in ms io mt iq mu ir mv it mw iu mx my bi translated"><strong class="ak"> 2。数据</strong></h1><p id="4718" class="pw-post-body-paragraph iw ix hh iy b iz mz ii jb jc na il je jf nb jh ji jj nc jl jm jn nd jp jq jr ha bi translated">接下来，我们将绘制每个月的自行车共享记录。</p><p id="0d38" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">为了方便起见，下面的代码显示了从1月到12月的12个月的数据。</p><pre class="le lf lg lh fd nt nu nv nw aw nx bi"><span id="8e08" class="ny mi hh nu b fi nz oa l ob oc"><em class="ku"># extract month number</em><br/><em class="ku"># 1 &gt;&gt; January &amp; 12 &gt;&gt; December</em><br/><br/>monthly_subscriber.index.month<br/>Int64Index([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], dtype='int64', name='time_start')</span></pre><p id="81f1" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iy hi">提醒:我们在图表上绘制数据点，而不是数字。<br/> </strong>所以，我们就用<em class="ku">。chart上的fill_between() </em>方法(<em class="ku"> ax </em>)。</p><blockquote class="ne"><p id="5652" class="nf ng hh bd nh ni nj nk nl nm nn jr dx translated">ax <em class="oi">。&gt;fill _ between()&gt;绘制面积图</em></p></blockquote><pre class="oj ok ol om on nt nu nv nw aw nx bi"><span id="1179" class="ny mi hh nu b fi nz oa l ob oc"><em class="ku"># create figure (fig) &amp; a chart (ax)</em><br/>fig, ax = plt.subplots(figsize = (10, 6))</span><span id="389b" class="ny mi hh nu b fi od oa l ob oc"># draw area chart for Subscriber &amp; Customer<br/>ax.fill_between(monthly_subscriber.index.month, monthly_subscriber.subscriber, alpha=0.4)</span><span id="45ee" class="ny mi hh nu b fi od oa l ob oc">ax.fill_between(monthly_customer.index.month, monthly_customer.customer, alpha=0.4);</span></pre><figure class="le lf lg lh fd li er es paragraph-image"><div class="er es oo"><img src="../Images/81d4a21bd7841cac88a7c34da6c377af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1216/format:webp/1*hgCNxU2O6cK0815TXq4XPw.png"/></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">面积图…</figcaption></figure></div><div class="ab cl kw kx go ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ha hb hc hd he"><h1 id="3484" class="mh mi hh bd mj mk ml mm mn mo mp mq mr in ms io mt iq mu ir mv it mw iu mx my bi translated"><strong class="ak"> <em class="oi"> 3。</em>颜色</strong></h1><p id="5b03" class="pw-post-body-paragraph iw ix hh iy b iz mz ii jb jc na il je jf nb jh ji jj nc jl jm jn nd jp jq jr ha bi translated">Matplotlib为订户和客户随机分配2种颜色。他们可能看起来不太好，我们可以做些什么。定制颜色的一种方法是使用<a class="ae kv" href="https://matplotlib.org/stable/gallery/color/colormap_reference.html" rel="noopener ugc nofollow" target="_blank"> Matplotlib Colormap </a>。</p><p id="8b86" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我们将使用<strong class="iy hi">选项卡20 </strong>中的一种颜色进行演示。tab20是色彩图的定性颜色之一。</p><figure class="le lf lg lh fd li er es paragraph-image"><div class="er es op"><img src="../Images/fa1672617de6608a8db444dd9a6ad622.png" data-original-src="https://miro.medium.com/v2/resize:fit:1194/format:webp/1*5gtQiPdTliv20c__U0Z6ng.png"/></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">定性彩色地图</figcaption></figure><p id="1501" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在教程的最开始，我们用<code class="du oq or os nu b">from matplotlib import cm</code>导入颜色管理器(cm)。我们可以调用<code class="du oq or os nu b">cm.&lt;colormapname&gt;</code>从色图中选择单独的颜色，并包含在<em class="ku">的参数color中。fill_between() </em></p><p id="33d0" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">例:<br/> <code class="du oq or os nu b">cm.tab20()</code>由Tableau提供的20种颜色组成。通过调用<code class="du oq or os nu b">cm.tab20(0)</code>，我们得到<code class="du oq or os nu b">tab20</code>色图索引0处的颜色，也就是<code class="du oq or os nu b">darkblue</code>。</p><pre class="le lf lg lh fd nt nu nv nw aw nx bi"><span id="32ba" class="ny mi hh nu b fi nz oa l ob oc"><em class="ku"># create figure (fig) &amp; a chart (ax)</em><br/>fig, ax = plt.subplots(figsize = (10, 6))<br/><br/><em class="ku">'''</em><br/><em class="ku">paramater 'color' within fill_between, with cm.tab20()</em><br/><em class="ku">'''</em><br/>ax.fill_between(monthly_subscriber.index.month, monthly_subscriber.subscriber, <br/>                alpha=0.4, <strong class="nu hi">color=cm.tab20(7)</strong>)</span><span id="0274" class="ny mi hh nu b fi od oa l ob oc">ax.fill_between(monthly_customer.index.month, monthly_customer.customer, <br/>                alpha=0.4, <strong class="nu hi">color=cm.tab20(4)</strong>);</span></pre><figure class="le lf lg lh fd li er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es ot"><img src="../Images/3fa9aa1282b66e727dc263d288a395f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*s_xr4JfHOjc-giAmho17pg.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">彩色地图的效果</figcaption></figure></div><div class="ab cl kw kx go ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ha hb hc hd he"><h1 id="4d6f" class="mh mi hh bd mj mk ml mm mn mo mp mq mr in ms io mt iq mu ir mv it mw iu mx my bi translated">4.大标题+小标题</h1><p id="86c3" class="pw-post-body-paragraph iw ix hh iy b iz mz ii jb jc na il je jf nb jh ji jj nc jl jm jn nd jp jq jr ha bi translated"><strong class="iy hi">大标题</strong>设置在<strong class="iy hi">图</strong>上，而<strong class="iy hi">副标题</strong>设置在<strong class="iy hi">图</strong>上。</p><p id="96ec" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><code class="du oq or os nu b">fig.suptitle()</code>创建大标题<br/> <code class="du oq or os nu b">ax.set_title()</code>创建小标题</p><pre class="le lf lg lh fd nt nu nv nw aw nx bi"><span id="fa47" class="ny mi hh nu b fi nz oa l ob oc">fig, ax = plt.subplots(figsize = (10, 6))<br/><br/>ax.fill_between(monthly_subscriber.index.month, monthly_subscriber.subscriber, <br/>                alpha=0.4, color=cm.tab20(7))<br/>ax.fill_between(monthly_customer.index.month, monthly_customer.customer, <br/>                alpha=0.4, color=cm.tab20(4))<br/><br/><em class="ku"># create Major Title</em><br/>fig.suptitle('New York Bike Share 2019')<br/><br/><em class="ku"># create a Subtitle</em><br/>ax.set_title('Monthly Trend by Customer Type');</span></pre><figure class="le lf lg lh fd li er es paragraph-image"><div class="er es ou"><img src="../Images/9fa3203435c031de6700f898ec89b6f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1206/format:webp/1*dHW98tD3_oD24T_RpjMhTw.png"/></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">主要标题和副标题…</figcaption></figure></div><div class="ab cl kw kx go ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ha hb hc hd he"><h1 id="2a16" class="mh mi hh bd mj mk ml mm mn mo mp mq mr in ms io mt iq mu ir mv it mw iu mx my bi translated"><strong class="ak"> <em class="oi"> 5。轴标签</em> </strong></h1><p id="4904" class="pw-post-body-paragraph iw ix hh iy b iz mz ii jb jc na il je jf nb jh ji jj nc jl jm jn nd jp jq jr ha bi translated">对于x轴，显示“月”。因此，不需要标签。<br/>1&gt;&gt;<em class="ku">1月<br/></em>12&gt;&gt;<em class="ku">12月</em>。</p><p id="2af4" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我们将为y轴贴上标签，让用户知道它代表用户的<strong class="iy hi">号。我们用。<em class="ku"> set_ylabel() </em></strong></p><pre class="le lf lg lh fd nt nu nv nw aw nx bi"><span id="0ee2" class="ny mi hh nu b fi nz oa l ob oc"><em class="ku"># create figure (fig) &amp; a chart (ax)</em><br/>fig, ax = plt.subplots(figsize = (10, 6))<br/><br/>ax.fill_between(monthly_subscriber.index.month, monthly_subscriber.subscriber, <br/>                alpha=0.4, color=cm.tab20(7))<br/>ax.fill_between(monthly_customer.index.month, monthly_customer.customer, <br/>                alpha=0.4, color=cm.tab20(4))<br/><br/><em class="ku"># create Major Title</em><br/>fig.suptitle('New York Bike Share 2019')<br/><br/><em class="ku"># create a Subtitle</em><br/>ax.set_title('Monthly Trend by Customer Type')<br/><br/><em class="ku"># set y-axis label</em><br/>ax.set_ylabel("# of User ('000)");</span></pre><figure class="le lf lg lh fd li er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es ov"><img src="../Images/184a29c8f7e8703876097c6d6c788e2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1250/format:webp/1*dYz2tFGu7K4JHY9pdN08Yw.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">创建y标签</figcaption></figure></div><div class="ab cl kw kx go ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ha hb hc hd he"><h1 id="8386" class="mh mi hh bd mj mk ml mm mn mo mp mq mr in ms io mt iq mu ir mv it mw iu mx my bi translated">6.神话；传奇</h1><p id="e658" class="pw-post-body-paragraph iw ix hh iy b iz mz ii jb jc na il je jf nb jh ji jj nc jl jm jn nd jp jq jr ha bi translated">此时，我们在图表上看到两种颜色，但用户可能不知道哪种颜色属于<em class="ku">订户</em> &amp; <em class="ku">客户</em>。要给图表添加图例，使用<em class="ku">。legend() </em></p><pre class="le lf lg lh fd nt nu nv nw aw nx bi"><span id="d627" class="ny mi hh nu b fi nz oa l ob oc"><em class="ku"># create figure (fig) &amp; a chart (ax)</em><br/>fig, ax = plt.subplots(figsize = (10, 6))<br/><br/>ax.fill_between(monthly_subscriber.index.month, monthly_subscriber.subscriber, <br/>                alpha=0.4, color=cm.tab20(7))<br/>ax.fill_between(monthly_customer.index.month, monthly_customer.customer, <br/>                alpha=0.4, color=cm.tab20(4))<br/><br/><em class="ku"># create Major Title</em><br/>fig.suptitle('New York Bike Share 2019')<br/><br/><em class="ku"># create a Subtitle</em><br/>ax.set_title('Monthly Trend by Customer Type')<br/><br/><em class="ku"># set y-axis label</em><br/>ax.set_ylabel("# of User ('000)")<br/><br/><em class="ku"># set legend; title &amp; labels</em><br/>ax.legend(title = 'Customer Type', labels = ['Subscriber', 'Customer']);</span></pre><figure class="le lf lg lh fd li er es paragraph-image"><div class="er es ow"><img src="../Images/af2f8a47db5c3af97b89df8f210f81db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*G2_zvRzGpwC3Y4P4QzuPyA.png"/></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">添加图例</figcaption></figure></div><div class="ab cl kw kx go ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ha hb hc hd he"><h1 id="e171" class="mh mi hh bd mj mk ml mm mn mo mp mq mr in ms io mt iq mu ir mv it mw iu mx my bi translated">7.记号和记号标签</h1><p id="e45e" class="pw-post-body-paragraph iw ix hh iy b iz mz ii jb jc na il je jf nb jh ji jj nc jl jm jn nd jp jq jr ha bi translated">我们可以在图表上获得刻度和刻度标签，x轴为<br/> <code class="du oq or os nu b">.get_xticks()</code> &amp; <code class="du oq or os nu b">get_xticklabels()</code>，y轴为<br/> <code class="du oq or os nu b">.get_yticks()</code> &amp; <code class="du oq or os nu b">get_yticklabels()</code></p><p id="5319" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在这里，我们可以看到图表在x轴上的刻度范围从0到14。这些是月份数字的表示(2020年1月1日、12月12日和2月14日)</p><pre class="le lf lg lh fd nt nu nv nw aw nx bi"><span id="69d5" class="ny mi hh nu b fi nz oa l ob oc">ax.get_xticks()<br/>array([ 0.,  2.,  4.,  6.,  8., 10., 12., 14.])</span><span id="d139" class="ny mi hh nu b fi od oa l ob oc">[label <strong class="nu hi">for</strong> label <strong class="nu hi">in</strong> ax.get_xticklabels()]<br/>[Text(0.0, 0, '0'),<br/> Text(2.0, 0, '2'),<br/> Text(4.0, 0, '4'),<br/> Text(6.0, 0, '6'),<br/> Text(8.0, 0, '8'),<br/> Text(10.0, 0, '10'),<br/> Text(12.0, 0, '12'),<br/> Text(14.0, 0, '14')]</span></pre><p id="a1fb" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">类似地，y轴的刻度范围从-25K到225万。</p><pre class="le lf lg lh fd nt nu nv nw aw nx bi"><span id="9850" class="ny mi hh nu b fi nz oa l ob oc">ax.get_yticks()<br/>array([-250000.,       0.,  250000.,  500000.,  750000., 1000000.,<br/>       1250000., 1500000., 1750000., 2000000., 2250000.])</span><span id="28c8" class="ny mi hh nu b fi od oa l ob oc">[label <strong class="nu hi">for</strong> label <strong class="nu hi">in</strong> ax.get_yticklabels()]<br/>[Text(0, -250000.0, '−0.25'),<br/> Text(0, 0.0, '0.00'),<br/> Text(0, 250000.0, '0.25'),<br/> Text(0, 500000.0, '0.50'),<br/> Text(0, 750000.0, '0.75'),<br/> Text(0, 1000000.0, '1.00'),<br/> Text(0, 1250000.0, '1.25'),<br/> Text(0, 1500000.0, '1.50'),<br/> Text(0, 1750000.0, '1.75'),<br/> Text(0, 2000000.0, '2.00'),<br/> Text(0, 2250000.0, '2.25')]</span></pre><p id="5e47" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">请注意，我们可以选择要包含在图表中的xticks/yticks，并格式化相应的xticklabels/yticklabels以反映在图表上。我们用<em class="ku">选择要包含在图表中的数字。set_xticks()/。set_yticks() </em>，用<em class="ku">格式化ticklabels。set_xticklabels()/。set_yticklabels() </em>反映在图表上。</p><pre class="le lf lg lh fd nt nu nv nw aw nx bi"><span id="f57c" class="ny mi hh nu b fi nz oa l ob oc"><em class="ku">'''</em><br/><em class="ku">set ticks &amp; ticklabels for x-axis</em><br/><br/><em class="ku">NOTE: must set xticks first then set xticklabels</em><br/><br/><em class="ku">Only want to display February (ie 2) up to December 2019 (ie 12)</em><br/><em class="ku">'''</em></span><span id="72bb" class="ny mi hh nu b fi od oa l ob oc">ax.set_xticks([2, 4, 6, 8, 10, 12])<br/>ax.set_xticklabels([<strong class="nu hi">'Feb', 'Apr', 'Jun', 'Aug', 'Oct', 'Dec'</strong>])</span><span id="b0d9" class="ny mi hh nu b fi od oa l ob oc"><em class="ku">'''</em><br/><em class="ku">set ticks &amp; ticklabels for y-axis</em><br/><br/><em class="ku">NOTE: must set yticks first then set yticklabels</em><br/><em class="ku">yticks are [0, 500,000, 1,000,000, 1,500,000, 2,000,000], in 'integer' format</em><br/><em class="ku">yticklabels are formatted as 'string' &gt;&gt; [0, 500, 1,000, 1,500, 2,000]</em><br/><br/><em class="ku">REMEMBER!! ticks are actual number &amp; ticklabels are number formatted for presentation.</em><br/><br/><em class="ku">'''</em><br/><br/>ax.set_yticks([0, 0.5e6, 1e6, 1.5e6, 2e6])<br/>ax.set_yticklabels(<strong class="nu hi">[f"{int(num):,}" for num in np.array([0, 0.5e6, 1e6, 1.5e6, 2e6])/1000]</strong>);</span></pre><figure class="le lf lg lh fd li er es paragraph-image"><div class="er es ox"><img src="../Images/435dee6c61054a8fcc3e645f28c934a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1236/format:webp/1*7ERH_FZ8MY-vhFHLHSiTKQ.png"/></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">两轴上的新标签…</figcaption></figure></div><div class="ab cl kw kx go ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ha hb hc hd he"><h1 id="ef12" class="mh mi hh bd mj mk ml mm mn mo mp mq mr in ms io mt iq mu ir mv it mw iu mx my bi translated">8.样式表</h1><p id="40d9" class="pw-post-body-paragraph iw ix hh iy b iz mz ii jb jc na il je jf nb jh ji jj nc jl jm jn nd jp jq jr ha bi translated">样式表本质上是图表的主题。它通过应用自定义样式来提高图表的美感。你可能会发现所有的<a class="ae kv" href="https://matplotlib.org/stable/gallery/style_sheets/style_sheets_reference.html" rel="noopener ugc nofollow" target="_blank"> <em class="ku">样式表</em> </a>都内置在Matplotlib中。</p><p id="1ec9" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在图的开头添加<code class="du oq or os nu b">with plt.style.context(&lt;style sheet name&gt;):</code>，为特定的图应用临时主题。每个样式表都有预定义的格式，只需一行代码就可以改善图表的美观。</p><p id="ad0d" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">本演示使用样式表<strong class="iy hi"> fivethirtyeight。</strong></p><pre class="le lf lg lh fd nt nu nv nw aw nx bi"><span id="884b" class="ny mi hh nu b fi nz oa l ob oc"><strong class="nu hi">with plt.style.context('fivethirtyeight'):</strong><br/><br/>    <em class="ku"># create figure (fig) &amp; a chart (ax)</em><br/>    fig, ax = plt.subplots(figsize = (10, 6))<br/><br/>    ax.fill_between(monthly_subscriber.index.month, monthly_subscriber.subscriber, alpha=0.4, color=cm.tab20(7))</span><span id="989f" class="ny mi hh nu b fi od oa l ob oc">    ax.fill_between(monthly_customer.index.month, monthly_customer.customer, alpha=0.4, color=cm.tab20(4))<br/><br/>    <em class="ku"># create Major Title</em><br/>    fig.suptitle('New York Bike Share 2019')<br/><br/>    <em class="ku"># create a Subtitle</em><br/>    ax.set_title('Monthly Trend by Customer Type')<br/><br/>    <em class="ku"># set y-axis label</em><br/>    ax.set_ylabel("# of User ('000)")<br/><br/>    <em class="ku"># set legend; title &amp; labels</em><br/>    ax.legend(title = 'Customer Type', labels = ['Subscriber', 'Customer'])<br/><br/>    <em class="ku">'''</em><br/><em class="ku">    set ticks &amp; ticklabels for x-axis</em><br/><br/><em class="ku">    NOTE: must set xticks first then set xticklabels</em><br/><br/><em class="ku">    Only want to display February (ie 2) up to December 2019 (ie 12)</em><br/><em class="ku">    '''</em><br/>    ax.set_xticks([2, 4, 6, 8, 10, 12])<br/>    ax.set_xticklabels(['Feb', 'Apr', 'Jun', 'Aug', 'Oct', 'Dec'])<br/><br/>    <em class="ku">'''</em><br/><em class="ku">    set ticks &amp; ticklabels for y-axis</em><br/><br/><em class="ku">    NOTE: must set yticks first then set yticklabels</em><br/><em class="ku">    yticks are [0, 500,000, 1,000,000, 1,500,000, 2,000,000], in 'integer' format</em><br/><em class="ku">    yticklabels are formatted as 'string' &gt;&gt; [0, 500, 1,000, 1,500, 2,000]</em><br/><br/><em class="ku">    REMEMBER!! ticks are actual number &amp; ticklabels are number formatted for presentation.</em><br/><br/><em class="ku">    '''</em><br/><br/>    ax.set_yticks([0, 0.5e6, 1e6, 1.5e6, 2e6])<br/>    ax.set_yticklabels([f"<strong class="nu hi">{</strong>int(num)<strong class="nu hi">:</strong>,<strong class="nu hi">}</strong>" <strong class="nu hi">for</strong> num <strong class="nu hi">in</strong> np.array([0, 0.5e6, 1e6, 1.5e6, 2e6])/1000]);</span></pre><figure class="le lf lg lh fd li er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es oy"><img src="../Images/2e50ec520623d86c47e658b711156b68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LKBqfSReVyOm2I1Tleox0A.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated"><strong class="bd mj">538</strong>样式表…</figcaption></figure></div><div class="ab cl kw kx go ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ha hb hc hd he"><h1 id="6da4" class="mh mi hh bd mj mk ml mm mn mo mp mq mr in ms io mt iq mu ir mv it mw iu mx my bi translated">多走几英里</h1><p id="ee93" class="pw-post-body-paragraph iw ix hh iy b iz mz ii jb jc na il je jf nb jh ji jj nc jl jm jn nd jp jq jr ha bi translated">最后再来完善一下:<em class="ku">大标题</em> &amp; <em class="ku">小标题</em>，<em class="ku">字体</em>，<em class="ku">图例</em> &amp; <em class="ku">轴标签</em>。我们可以用各种参数来调整这些组件的字体大小、位置和样式。</p><pre class="le lf lg lh fd nt nu nv nw aw nx bi"><span id="d25e" class="ny mi hh nu b fi nz oa l ob oc"><strong class="nu hi">with</strong> plt.style.context('fivethirtyeight'):<br/><br/>    <em class="ku"># create figure (fig) &amp; a chart (ax)</em><br/>    fig, ax = plt.subplots(figsize = (10, 6))<br/><br/>    ax.fill_between(monthly_subscriber.index.month, monthly_subscriber.subscriber, alpha=0.4, color=cm.tab20(7))</span><span id="043a" class="ny mi hh nu b fi od oa l ob oc">    ax.fill_between(monthly_customer.index.month, monthly_customer.customer, alpha=0.4, color=cm.tab20(4))<br/><br/>    <em class="ku"># create Major Title</em><br/>    fig.suptitle('New York Bike Share 2019', <strong class="nu hi">x=0.25, y=1.03, fontsize=22, fontweight='bold'</strong>)<br/><br/>    <em class="ku"># create a Subtitle</em><br/>    ax.set_title('Monthly Trend by Customer Type', <strong class="nu hi">fontdict={'fontsize': 16, 'style': 'italic'}, position = [0.15, 1.06]</strong>)<br/><br/>    <em class="ku"># set y-axis label</em><br/>    ax.set_ylabel("# of User ('000)", <strong class="nu hi">fontdict={'fontsize': 16, 'fontweight': 'bold'}</strong>)<br/><br/>    <em class="ku">'''</em><br/><em class="ku">    set legend; title &amp; labels</em><br/><em class="ku">    frameon = False &gt;&gt; remove the frame of legend</em><br/><em class="ku">    bbox_to_anchor &gt;&gt; moves legend out of the chart window</em><br/><em class="ku">    </em><br/><em class="ku">    '''</em><br/>    ax.legend(title = 'Customer Type', labels = ['Subscriber', 'Customer'], <strong class="nu hi">frameon = False, bbox_to_anchor=(1.25, 0.6)</strong>)<br/><br/>    <em class="ku"># set axes ticks &amp; ticklabels</em><br/>    ax.set_xticks([2, 4, 6, 8, 10, 12])<br/>    ax.set_xticklabels(['Feb', 'Apr', 'Jun', 'Aug', 'Oct', 'Dec'])<br/><br/>    ax.set_yticks([0, 0.5e6, 1e6, 1.5e6, 2e6])<br/>    ax.set_yticklabels([f"<strong class="nu hi">{</strong>int(num)<strong class="nu hi">:</strong>,<strong class="nu hi">}</strong>" <strong class="nu hi">for</strong> num <strong class="nu hi">in</strong> np.array([0, 0.5e6, 1e6, 1.5e6, 2e6])/1000]);</span></pre><figure class="le lf lg lh fd li er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es oz"><img src="../Images/164fcfbbb6406afdb72bcea8f0d15507.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A18nYmPFJDGU-KhcSQHRqg.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">最终杰作…耶</figcaption></figure></div><div class="ab cl kw kx go ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ha hb hc hd he"><h1 id="0bd1" class="mh mi hh bd mj mk ml mm mn mo mp mq mr in ms io mt iq mu ir mv it mw iu mx my bi translated">TQVM</h1><p id="f9db" class="pw-post-body-paragraph iw ix hh iy b iz mz ii jb jc na il je jf nb jh ji jj nc jl jm jn nd jp jq jr ha bi translated">我将在这里结束我的Matplotlib基础演示。我花了几周时间，根据纽约自行车共享2019，用类似的<strong class="iy hi">模板</strong>概念创建各种图表类型；如果你渴望了解更多，请在这里找到它们。如果你有更好的分享想法，请发表评论。</p></div></div>    
</body>
</html>