<html>
<head>
<title>Easy Way To Build An Audiobook Using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python构建有声读物的简单方法</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/easy-way-to-build-an-audiobook-using-python-20fc7d6fb1af?source=collection_archive---------11-----------------------#2021-10-11">https://medium.com/analytics-vidhya/easy-way-to-build-an-audiobook-using-python-20fc7d6fb1af?source=collection_archive---------11-----------------------#2021-10-11</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><figure class="hg hh ez fb hi hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es hf"><img src="../Images/498e103daa7b666187f0bdf3f8ea8543.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W59vDP7z_sixG9TM7GZy7A.jpeg"/></div></div><figcaption class="hq hr et er es hs ht bd b be z dx translated">Lena Kudryavtseva 在<a class="ae hu" href="https://unsplash.com/s/photos/audiobook?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><div class=""/><p id="d598" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">有声读物只不过是以音频格式录制的书。也可以说是一本正在大声朗读的书。有声读物有助于即兴发挥一个人的词汇，理解和单词发音。希望你们中的一些人是书迷，但是懒得自己去读。所以是时候使用Python的少量代码来创建您的有声读物了。这将使你享受有声读物，而不需要任何订阅费，就像Audible，Scribd等平台一样。</p><h1 id="06e5" class="js jt hx bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">先决条件</h1><p id="0a92" class="pw-post-body-paragraph iu iv hx iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr ha bi translated">Python有大量包含可重用代码的模块，这些代码在被调用时执行所需的功能。在使用其功能之前，必须将其安装到您的系统中。所以在这里，我们将从大量流行的python模块中选取2个模块。</p><ul class=""><li id="2e71" class="kv kw hx iw b ix iy jb jc jf kx jj ky jn kz jr la lb lc ld bi translated">安装PyPDF2模块，使用</li></ul><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="f8dc" class="ln jt hx lj b fi lo lp l lq lr"><em class="ls">pip install PyPDF2</em></span></pre><ul class=""><li id="fb9d" class="kv kw hx iw b ix iy jb jc jf kx jj ky jn kz jr la lb lc ld bi translated">安装pyttsx3模块，使用</li></ul><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="d57c" class="ln jt hx lj b fi lo lp l lq lr"><em class="ls">pip install pyttsx3</em></span></pre><h1 id="2833" class="js jt hx bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">PyPDF2模块</h1><p id="7ef1" class="pw-post-body-paragraph iu iv hx iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr ha bi translated">它是一个纯Python库，可以在任何Python平台上运行，没有任何外部依赖性。它完全在StringIO上工作，而不是使用文件流。PyPDF2模块对PDF文件执行各种操作。PyPDF2模块可以执行以下一些任务，</p><ul class=""><li id="b3d6" class="kv kw hx iw b ix iy jb jc jf kx jj ky jn kz jr la lb lc ld bi translated">获取文档信息，如标题、作者等。</li><li id="2ba5" class="kv kw hx iw b ix lt jb lu jf lv jj lw jn lx jr la lb lc ld bi translated">逐页拆分和合并文档。</li><li id="bfdf" class="kv kw hx iw b ix lt jb lu jf lv jj lw jn lx jr la lb lc ld bi translated">将多页合并成一页。</li><li id="c8f4" class="kv kw hx iw b ix lt jb lu jf lv jj lw jn lx jr la lb lc ld bi translated">将页面裁剪到所需的比例。</li><li id="4680" class="kv kw hx iw b ix lt jb lu jf lv jj lw jn lx jr la lb lc ld bi translated">PDF文件的加密和解密。</li></ul><h1 id="928a" class="js jt hx bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">pyttsx3模块</h1><p id="a514" class="pw-post-body-paragraph iu iv hx iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr ha bi translated">它是python中最流行的模块之一，将文本作为输入，将语音/音频作为输出。甚至这个pyttsx3模块也可以脱机工作，证明它是一个比其他模块更友好的模块。它与Python版本2以及Python版本3兼容。</p><h1 id="85b8" class="js jt hx bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">导入模块</h1><p id="90d4" class="pw-post-body-paragraph iu iv hx iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr ha bi translated">必须调用上述模块才能在程序中使用它们的功能。使用import语句导入模块，例如</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="ea94" class="ln jt hx lj b fi lo lp l lq lr"><em class="ls">import PyPDF2</em></span><span id="2da5" class="ln jt hx lj b fi ly lp l lq lr"><em class="ls">import pyttsx3</em></span></pre><h1 id="93e4" class="js jt hx bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">阅读PDF文件</h1><p id="02ea" class="pw-post-body-paragraph iu iv hx iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr ha bi translated">必须先打开PDF文件才能操作其内容。pdf文件可以读/写，可以嵌入附件，在PDF文件中添加书签等等。使用Python可以对pdf文件执行各种操作。我们可以从PDF文件中检索一些有用的信息，如页数、正在使用的页面的布局，可以借助页码检索页面等等。Python中的PyPDF2模块继承了所有这些操作。</p><p id="ce2c" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">要读取PDF文件，请使用命令，</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="d697" class="ln jt hx lj b fi lo lp l lq lr"><em class="ls">variable_name = PyPDF2.PdfFileReader(open(‘file_name’,’rb’))</em></span></pre><p id="2f9b" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">其中变量名称→变量的名称</p><p id="ced7" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">PdfFileReader()→py pdf 2模块下的类。</p><p id="d258" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">open( ) →用于打开文件的函数。</p><p id="58d8" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">file_name →需要打开的文件的名称。</p><p id="b9ce" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">rb →文件模式(以二进制格式打开文件进行读取)</p><h1 id="fa0d" class="js jt hx bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">初始化扬声器</h1><p id="410a" class="pw-post-body-paragraph iu iv hx iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr ha bi translated">接下来必须初始化扬声器，以便我们可以使用pyttsx3模块将文本转换为音频格式。使用命令，</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="3859" class="ln jt hx lj b fi lo lp l lq lr"><em class="ls">speaker=pyttsx3.init()</em></span></pre><p id="993f" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">初始化扬声器。</p><h1 id="b34a" class="js jt hx bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">提取文本</h1><p id="73aa" class="pw-post-body-paragraph iu iv hx iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr ha bi translated">首先也是最重要的是借助页码获取页面。所需页面的页码作为参数传递给getPage()方法。</p><p id="0ea1" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">该命令可以写成，</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="1a9c" class="ln jt hx lj b fi lo lp l lq lr"><em class="ls">text=readpdf.getPage(pagenumber).extractText()</em></span></pre><p id="54ab" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">其中getPage(pagenumber) →借助页码检索页面</p><p id="3f6c" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">extractText() →从指定页面提取文本。</p><h1 id="f657" class="js jt hx bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">文本到音频</h1><p id="9426" class="pw-post-body-paragraph iu iv hx iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr ha bi translated">现在是时候将所有提取的文本作为参数传递给pyttsx3模块中名为say()的方法了，该方法有助于将文本转换为音频格式。该命令如下所示，</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="5caa" class="ln jt hx lj b fi lo lp l lq lr"><em class="ls">speaker.say(text)</em></span></pre><p id="92cd" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">其中在前一个命令中提取的文本作为参数传递给say()方法。</p><h1 id="9825" class="js jt hx bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">将语音保存到文件中</h1><p id="fc9e" class="pw-post-body-paragraph iu iv hx iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr ha bi translated">上述命令生成的声音可以保存到mp3文件中。该文件将被保存在我们保存代码的确切位置。因此，保存音频文件将有助于用户在将来访问它。</p><p id="0d94" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">将语音保存到文件的命令如下:</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="e215" class="ln jt hx lj b fi lo lp l lq lr"><em class="ls">speaker.save_to_file(text,’filename.mp3')</em></span></pre><p id="3702" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">其中speaker →已经初始化的变量。</p><p id="7dfc" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">save_to_file( text，' filename.mp3') →用于保存音频文件的方法。</p></div><div class="ab cl lz ma go mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ha hb hc hd he"><p id="8b6b" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这里有书迷吗？？？？？？评论你的名字和你想把它做成有声读物的书。是时候自己建立一本有声读物了！！！</p><h1 id="f7ad" class="js jt hx bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">代码片段</h1><figure class="le lf lg lh fd hj"><div class="bz dy l di"><div class="mg mh l"/></div></figure></div><div class="ab cl lz ma go mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ha hb hc hd he"><p id="a85c" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><em class="ls">原载于2021年10月4日</em><a class="ae hu" href="https://gettoknowpython.blogspot.com/2021/10/easy-way-to-build-audiobook-using-python.html" rel="noopener ugc nofollow" target="_blank"><em class="ls">【https://gettoknowpython.blogspot.com】</em></a><em class="ls">。</em></p></div></div>    
</body>
</html>