<html>
<head>
<title>Build a Movie Recommendation Flask Based Deployment</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">构建基于电影推荐烧瓶的部署</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/build-a-movie-recommendation-flask-based-deployment-8e2970f1f5f1?source=collection_archive---------1-----------------------#2021-08-28">https://medium.com/analytics-vidhya/build-a-movie-recommendation-flask-based-deployment-8e2970f1f5f1?source=collection_archive---------1-----------------------#2021-08-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="b984" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">创建您自己的电影推荐API，供其他开发者在他们的应用程序或网站中使用</p><blockquote class="jd je jf"><p id="b234" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated">“每次我去看电影，都很神奇，不管电影讲的是什么”。</p><p id="10b6" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated">— <strong class="ih hj">史蒂文·斯皮尔伯格</strong></p></blockquote><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es jk"><img src="../Images/1e7f61f29558be9a458611cc9f23a344.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*GF04VmEPXxzHRYj0"/></div></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">照片由<a class="ae ka" href="https://unsplash.com/@myke_simon?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">迈克·西蒙</a>在<a class="ae ka" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><blockquote class="kb"><p id="2a38" class="kc kd hi bd ke kf kg kh ki kj kk jc dx translated">应用程序的现场演示可以在<a class="ae ka" href="https://lookupforcinema.herokuapp.com" rel="noopener ugc nofollow" target="_blank">这里</a>查看</p></blockquote><p id="0333" class="pw-post-body-paragraph if ig hi ih b ii kl ik il im km io ip iq kn is it iu ko iw ix iy kp ja jb jc hb bi translated">你好，我将解释以下内容:</p><ol class=""><li id="3684" class="kq kr hi ih b ii ij im in iq ks iu kt iy ku jc kv kw kx ky bi translated">数据预处理</li><li id="61b6" class="kq kr hi ih b ii kz im la iq lb iu lc iy ld jc kv kw kx ky bi translated">构建电影推荐器机器学习模型</li><li id="296b" class="kq kr hi ih b ii kz im la iq lb iu lc iy ld jc kv kw kx ky bi translated">使用Flask构建REST API</li><li id="f4f2" class="kq kr hi ih b ii kz im la iq lb iu lc iy ld jc kv kw kx ky bi translated">在本地主机127.0.0.1:5000上测试它— API上线</li></ol><p id="62f3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">推荐系统以两种方式之一生成推荐列表:</p><p id="2e08" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">协同过滤</strong>:协同过滤方法基于过去的用户行为(即用户购买或搜索的项目)和其他人做出的类似决定建立模型，然后该模型用于预测用户可能感兴趣的项目(或项目评级)。</p><p id="2aa1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">基于内容的过滤。基于内容的</strong>过滤<strong class="ih hj">方法</strong> <strong class="ih hj">利用</strong> <strong class="ih hj">的优势</strong><strong class="ih hj">的某些</strong> <strong class="ih hj">的独有特性</strong>中的某一项向<strong class="ih hj">建议</strong>附加具有类似特性的项。<strong class="ih hj">内容</strong>过滤<strong class="ih hj">是</strong>完全基于<strong class="ih hj"/><strong class="ih hj">项目的描述</strong>和<strong class="ih hj">用户</strong> <strong class="ih hj">兴趣的简介，</strong>基于<strong class="ih hj">用户过去的</strong><strong class="ih hj">兴趣推荐项目。</strong></p><p id="9c9c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以，事不宜迟，我们开始吧。如果你已经习惯了，也可以跳过任何部分。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es le"><img src="../Images/bf8dbeceaac356b1588a6034bb8b96df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/1*DCLvFKy-pF145lFTygB89g.gif"/></div></figure><h1 id="16fd" class="lf lg hi bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">第一部分:数据预处理</h1><p id="91ae" class="pw-post-body-paragraph if ig hi ih b ii md ik il im me io ip iq mf is it iu mg iw ix iy mh ja jb jc hb bi translated">我们先来看看数据集。我们将使用来自Kaggle.com的<a class="ae ka" href="https://www.kaggle.com/tmdb/tmdb-movie-metadata" rel="noopener ugc nofollow" target="_blank"> TMDB5000数据集</a>。该数据集由两个文件组成，即tmdb _ 5000 _ credits . CSV&amp;tmdb _ 5000 _ MOVIES . CSV。还有一个名为<a class="ae ka" href="https://www.kaggle.com/rounakbanik/the-movies-dataset" rel="noopener ugc nofollow" target="_blank">的数据集，即电影数据集</a>，它拥有超过百万的电影评论和评级。然而，我没有使用它有两个原因。</p><ol class=""><li id="5b25" class="kq kr hi ih b ii ij im in iq ks iu kt iy ku jc kv kw kx ky bi translated">数据集对于系统来说太大了，估计需要45–50GB的RAM。</li><li id="f95c" class="kq kr hi ih b ii kz im la iq lb iu lc iy ld jc kv kw kx ky bi translated">生产的机器学习模型对Heroku来说也太大了。Heroku不允许我们在免费账户上存储超过250MB的内容。</li></ol><p id="4ff4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我简单介绍一下数据集，以便我们可以专注于构建机器学习模型部分。</p><p id="28e6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将2个CSV文件加载到df1和df2熊猫数据帧中。</p><figure class="jl jm jn jo fd jp"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="46c3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">get _ data()的返回值:- </strong></p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es mk"><img src="../Images/344242969a8d899f324f7821be2ef118.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h4-sKR22jq8q4WSrjnX4Yg.png"/></div></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">图1:数据帧1 — tmdb_5000_credits.csv</figcaption></figure><div class="jl jm jn jo fd ab cb"><figure class="ml jp mm mn mo mp mq paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><img src="../Images/0272f7f7b072da4a709dd098b8880b23.png" data-original-src="https://miro.medium.com/v2/resize:fit:942/format:webp/0*yfa_Io6DEBrB4Nm4.png"/></div></figure><figure class="ml jp mr mn mo mp mq paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><img src="../Images/fb06b454c8b39ec652bfdf94ddbb9aae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1060/format:webp/0*HGsTdkEhlLT9McDc.png"/></div><figcaption class="jw jx et er es jy jz bd b be z dx ms di mt mu translated">图2:数据帧2 — tmdb_5000_movies.csv</figcaption></figure></div><figure class="jl jm jn jo fd jp"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="c68c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我没有处理两个数据帧，而是合并了两个数据帧，因此我们必须处理一个数据帧。幸运的是，数据集没有很多空值。让我们一个一个地处理它们。以下是所有列的概述。</p><p id="1777" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">combine _ data()的返回值:- </strong></p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es mv"><img src="../Images/664709a1a2b62f97f3255faa33e2b21d.png" data-original-src="https://miro.medium.com/v2/resize:fit:528/format:webp/0*2rFgmEL7TEDA6vGr.png"/></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">图NaN的所有列视图</figcaption></figure><p id="d523" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">至于每部电影特有的ID栏，我们不需要，因为不影响推荐。此外，删除介绍栏是个好主意，因为大多数电影都有概述，因此介绍会导致更多相似的上下文。通过删除这两列，您得到一个具有21个属性的数据帧。</p><p id="e697" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有几列(见图3)包含一个字典的行或节点。我们可以使用上一个模块中的文字来删除这些行或节点，并获得一个内联字典。因此，我们对演员、关键字、组和类别的属性使用文字值，现在我们以字典的形式拥有它们，我们可以使用它们并获得重要的特征，例如导演的名字，这对我们的推荐系统来说是一个非常重要的因素。对于演员、关键字和性别属性，我们可以返回列表中每个类别的前3个名字。我们现在可以创建一个列，它将是所有4个属性的总和，这些属性对于我们的推荐系统来说是非常重要的因素。让我们把这个列叫做“汤”(因为它就像一个汤/ 4属性组合)。</p><p id="4a7b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们检查NaN值的数据集。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es mw"><img src="../Images/7f57524bfccad35c27aa9b42c8ce0ff6.png" data-original-src="https://miro.medium.com/v2/resize:fit:486/format:webp/0*spqCpQgulVwR1tgU.png"/></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">图5:更新的所有列视图</figcaption></figure><p id="644e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由于我们的主页上有许多空白值，我们别无选择，只能删除它们。我们也可以用平均值填充空的运行时间值。由于我们有一个未发布的动作，我们可以删除这个特定的行，因为电影还没有发布。我们现在有了一些机器学习模型的最终数据集。</p><h1 id="aeae" class="lf lg hi bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">第二部分:构建电影推荐器机器学习模型</h1><p id="417c" class="pw-post-body-paragraph if ig hi ih b ii md ik il im me io ip iq mf is it iu mg iw ix iy mh ja jb jc hb bi translated">为了构建我们的模型，我们首先创建一个用向量计数工具生成的计数矩阵。我们用英语停用词创建一个计数向量，并拟合和转换我们在上一节中刚刚创建的soup列。一个很好的技术叫做余弦相似度。它只是一种度量标准，用于确定文档的相似性，而不考虑文档的大小。在为我们的数据集构建余弦相似性矩阵之后，我们可以对结果进行排序，以找到前10部相似的电影。我们将电影标题和索引返回给用户。</p><h1 id="2dd6" class="lf lg hi bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">推荐_电影()</h1><p id="183c" class="pw-post-body-paragraph if ig hi ih b ii md ik il im me io ip iq mf is it iu mg iw ix iy mh ja jb jc hb bi translated"><strong class="ih hj">推荐_电影()</strong>取四个参数。</p><ul class=""><li id="0689" class="kq kr hi ih b ii ij im in iq ks iu kt iy ku jc mx kw kx ky bi translated"><strong class="ih hj">片名:</strong>电影名称</li><li id="2d96" class="kq kr hi ih b ii kz im la iq lb iu lc iy ld jc mx kw kx ky bi translated"><strong class="ih hj">数据:</strong>返回值<strong class="ih hj"> get_data() </strong></li><li id="9c41" class="kq kr hi ih b ii kz im la iq lb iu lc iy ld jc mx kw kx ky bi translated"><strong class="ih hj">combine:</strong><strong class="ih hj">combine _ data()</strong>的返回值</li><li id="9e66" class="kq kr hi ih b ii kz im la iq lb iu lc iy ld jc mx kw kx ky bi translated"><strong class="ih hj">transform:</strong><strong class="ih hj">transform _ data()</strong>的返回值</li></ul><figure class="jl jm jn jo fd jp"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="1564" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">创建<strong class="ih hj"> </strong>一个<strong class="ih hj">熊猫系列</strong>，包含我们数据集中所有电影的索引。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es my"><img src="../Images/2d555b849a85608b468eac97e2bd7abe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1232/format:webp/0*mx-i1lftYZnuKdxJ.png"/></div></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">熊猫系列</figcaption></figure><h1 id="b098" class="lf lg hi bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">第3节:使用Flask构建REST API</h1><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es mz"><img src="../Images/e2b9745507e69f48fd55afa93c687f2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*W2N2Ll-kq6RGq5Xi"/></div></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">照片由<a class="ae ka" href="https://unsplash.com/@krakenimages?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">克拉肯images </a>在<a class="ae ka" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h1 id="524c" class="lf lg hi bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">烧瓶:-</h1><p id="a676" class="pw-post-body-paragraph if ig hi ih b ii md ik il im me io ip iq mf is it iu mg iw ix iy mh ja jb jc hb bi translated">为了理解文章的这一部分，我建议你对Flask有一个基本的概念。对于我们的任务，我们只需要了解一些初级功能。</p><p id="4f3c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要在您的系统上安装Flask，请在终端/命令提示符下键入<strong class="ih hj"> <em class="jg"> pip install Flask。</em> </strong>就这样，Flask现在已经安装在你的系统上了。</p><p id="0d0b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要了解一个简单的Flask应用程序的基本知识，请点击下面的链接。</p><p id="a833" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">烧瓶你好世界</strong></p><p id="32c8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们对Flask有了一个基本的概念，让我们进入下一个主题，即<strong class="ih hj">REST API。</strong></p><h1 id="d9c1" class="lf lg hi bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">REST API:-</h1><p id="4ca3" class="pw-post-body-paragraph if ig hi ih b ii md ik il im me io ip iq mf is it iu mg iw ix iy mh ja jb jc hb bi translated">用Flask创建RESTful API—GET请求</p><h1 id="c276" class="lf lg hi bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">文件2 — app.py</h1><p id="c9b5" class="pw-post-body-paragraph if ig hi ih b ii md ik il im me io ip iq mf is it iu mg iw ix iy mh ja jb jc hb bi translated">在这个文件中，我们将编写Flask应用程序，并使用我们之前构建的推荐系统。</p><h1 id="1983" class="lf lg hi bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">导入所需的包</h1><figure class="jl jm jn jo fd jp"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="9dc6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我们导入<strong class="ih hj"> Flask </strong>类之后，然后<strong class="ih hj">请求</strong>库发送<strong class="ih hj"> HTTPS </strong>请求，最后我们导入<strong class="ih hj"> jsonify </strong>以<strong class="ih hj"> JSON </strong>格式返回我们的结果。</p><p id="5cf0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们导入<strong class="ih hj"> flask_cors </strong>来为我们的API <strong class="ih hj">启用跨来源请求。</strong></p><p id="688a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">什么是<strong class="ih hj">跨来源请求</strong>？</p><blockquote class="jd je jf"><p id="5b44" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated"><strong class="ih hj"><em class="hi"/></strong><em class="hi">(</em><strong class="ih hj"><em class="hi">【CORS】</em></strong><em class="hi">)跨源资源共享是一种机制，它允许从第一个资源所服务的域之外的另一个域请求网页上的受限资源。</em></p></blockquote><p id="c6e9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要了解更多关于CORS的政策，请点击下面的链接。它解释了你需要知道的关于CORS政策的一切。</p><ul class=""><li id="9b53" class="kq kr hi ih b ii ij im in iq ks iu kt iy ku jc mx kw kx ky bi translated"><a class="ae ka" href="https://www.codecademy.com/articles/what-is-cors" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">什么是CORS？</strong> </a></li></ul><p id="04ea" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们导入我们的<strong class="ih hj">推荐. py </strong>文件作为一个模块，在我们的<strong class="ih hj"> app.py </strong>文件中使用它。</p><h2 id="aaeb" class="na lg hi bd lh nb nc nd ll ne nf ng lp iq nh ni lt iu nj nk lx iy nl nm mb nn bi translated">烧瓶代码:-</h2><figure class="jl jm jn jo fd jp"><div class="bz dy l di"><div class="mi mj l"/></div></figure><ul class=""><li id="584c" class="kq kr hi ih b ii ij im in iq ks iu kt iy ku jc mx kw kx ky bi translated"><strong class="ih hj">第1行:</strong>我们创建了这个类的一个实例。第一个参数是应用程序的模块或包的名称。</li><li id="9dbe" class="kq kr hi ih b ii kz im la iq lb iu lc iy ld jc mx kw kx ky bi translated"><strong class="ih hj">第2行:</strong>我们使用<strong class="ih hj"> CORS() </strong>方法在我们的API上启用<strong class="ih hj"> CORS </strong>策略。</li><li id="a5ca" class="kq kr hi ih b ii kz im la iq lb iu lc iy ld jc mx kw kx ky bi translated"><strong class="ih hj">第4行:</strong>然后我们使用<strong class="ih hj"> route() </strong> decorator告诉Flask哪个URL应该触发我们的函数。在这种情况下，我们使用带有基本URL的<strong class="ih hj"> /movie </strong>端点。</li><li id="4959" class="kq kr hi ih b ii kz im la iq lb iu lc iy ld jc mx kw kx ky bi translated"><strong class="ih hj">第5行:</strong>现在，我们定义一个名为<strong class="ih hj"> recommend_movies() </strong>的函数，它将用于返回前20个推荐。</li><li id="c506" class="kq kr hi ih b ii kz im la iq lb iu lc iy ld jc mx kw kx ky bi translated"><strong class="ih hj">第6行:</strong>在这一行中，我们从<strong class="ih hj"> recommendation.py </strong>文件中调用<strong class="ih hj"> results() </strong>函数，并将推荐存储在一个名为<strong class="ih hj"> res. </strong>的变量中。使用<strong class="ih hj">request . args()</strong>将电影名称作为<strong class="ih hj">查询字符串</strong>传递给我们的<strong class="ih hj"> results() </strong>函数，参数名称为<strong class="ih hj"> title。</strong></li><li id="d7d5" class="kq kr hi ih b ii kz im la iq lb iu lc iy ld jc mx kw kx ky bi translated"><strong class="ih hj">第7行:</strong>最后我们将从<strong class="ih hj"> recommendation.py </strong>接收到的结果以字典格式返回到<strong class="ih hj"> app.py </strong>并转换成<strong class="ih hj"> JSON </strong>格式返回结果。</li><li id="f618" class="kq kr hi ih b ii kz im la iq lb iu lc iy ld jc mx kw kx ky bi translated"><strong class="ih hj">第9行:</strong>这一行表示如果我们直接从终端/命令提示符调用我们的<strong class="ih hj"> app.py </strong>文件，那么它将执行后面的内容。</li><li id="16d3" class="kq kr hi ih b ii kz im la iq lb iu lc iy ld jc mx kw kx ky bi translated"><strong class="ih hj">第10行:</strong>我们在终端/命令提示符下直接调用我们的<strong class="ih hj"> app.py </strong>文件后运行app。当在<strong class="ih hj"><em class="jg">localhost</em></strong><em class="jg"/>上运行时，我们将端口号设置为5000，并设置<strong class="ih hj"> debug=True </strong>来追溯运行我们的应用程序时出现的任何错误。</li></ul><h1 id="306e" class="lf lg hi bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">4.在本地主机上测试它— 127.0.0.1:5000</h1><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es no"><img src="../Images/e930588a2925eb4b0a2a20e2e956aa2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*TY2qOBnFxOoR3o9F"/></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">由<a class="ae ka" href="https://unsplash.com/@dtravisphd" rel="noopener ugc nofollow" target="_blank"> David Travis </a>在<a class="ae ka" href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="8b04" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们已经完成了编码部分，让我们在<strong class="ih hj"> <em class="jg"> localhost </em> </strong>上测试我们的应用程序，看看它是否工作。</p><p id="0b0f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你想用Postman测试我们的API，那么从下面的链接下载。</p><ul class=""><li id="99fc" class="kq kr hi ih b ii ij im in iq ks iu kt iy ku jc mx kw kx ky bi translated"><strong class="ih hj">下载邮差</strong></li></ul><p id="dbf3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你喜欢用浏览器而不是邮递员，你也可以用浏览器来测试。我们将对他们两个进行测试，你将会看到结果。</p><h1 id="6596" class="lf lg hi bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">测试我们的API:-</h1><p id="9a56" class="pw-post-body-paragraph if ig hi ih b ii md ik il im me io ip iq mf is it iu mg iw ix iy mh ja jb jc hb bi translated"><strong class="ih hj">步骤— 1: </strong>如果在Windows中打开命令提示符，如果使用Linux则打开终端。</p><p id="abb4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">步骤— 2: </strong>使用命令行导航到保存数据集、<strong class="ih hj">推荐. py </strong>文件和<strong class="ih hj"> app.py </strong>文件的文件夹。</p><p id="21f7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将文件存储在名为<strong class="ih hj">建议2.0的文件夹中。下面是我们的目录结构。</strong></p><pre class="jl jm jn jo fd np nq nr ns aw nt bi"><span id="b7c9" class="na lg hi nq b fi nu nv l nw nx">Our directory structure(<strong class="nq hj">Recommendation 2.0)</strong></span><span id="3d2f" class="na lg hi nq b fi ny nv l nw nx">movie_data.csv.zip</span><span id="b340" class="na lg hi nq b fi ny nv l nw nx">Recommendation.py</span><span id="b2a1" class="na lg hi nq b fi ny nv l nw nx">app.py</span></pre><p id="84f4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">开发应用程序时，所有文件和数据集都应该放在一个文件夹中，以便于使用。</p><p id="5053" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">步骤— 3: </strong>当我们在<strong class="ih hj">建议2.0 </strong>文件夹中时，在命令行中键入以下命令。</p><pre class="jl jm jn jo fd np nq nr ns aw nt bi"><span id="b3ec" class="na lg hi nq b fi nu nv l nw nx"><strong class="nq hj">set FLASK_APP=app.py</strong></span></pre><p id="0544" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">运行应用程序:- </strong></p><pre class="jl jm jn jo fd np nq nr ns aw nt bi"><span id="8fc7" class="na lg hi nq b fi nu nv l nw nx"><strong class="nq hj">flask run</strong></span></pre><p id="4067" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">执行完这两个命令后，我们将看到我们的应用程序运行在<strong class="ih hj"> localhost </strong>上。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es nz"><img src="../Images/7d1d73ab79ba7fabd61dae38f607a23f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1392/format:webp/1*CJe6-3yZQfA1ajjoiY4SNw.png"/></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">Flask应用程序启动并运行</figcaption></figure><p id="4e0c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用Postman或任何浏览器在本地主机 上测试我们的API。</p><p id="b807" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当我们将一部电影传递给我们的API时，让我们看看我们的结果。</p><h2 id="3850" class="na lg hi bd lh nb nc nd ll ne nf ng lp iq nh ni lt iu nj nk lx iy nl nm mb nn bi translated">邮递员:-</h2><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es no"><img src="../Images/ff66245a25ca9e2607b53694b1117e15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*mP7aSmivYuJj7jml.png"/></div></div></figure><h1 id="42e9" class="lf lg hi bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">最后，我们的电影推荐API现已上线。</h1><h1 id="bbf2" class="lf lg hi bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">万岁！现在我们开始直播</h1><blockquote class="kb"><p id="a006" class="kc kd hi bd ke kf oa ob oc od oe jc dx translated">该应用的现场演示可在处查看<a class="ae ka" href="https://lookupforcinema.herokuapp.com" rel="noopener ugc nofollow" target="_blank"/></p></blockquote><figure class="og oh oi oj ok jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es of"><img src="../Images/8ee0050cc927b0d6f507e0734efa216b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*b1uLQ8i2478wBECU"/></div></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">史蒂夫·哈拉马在<a class="ae ka" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="5c5c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请给一些掌声，做⭐的 <a class="ae ka" href="https://github.com/Tharun-tharun/Movie-Recommendation-System-with-Sentiment-Analysis" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj"> <em class="jg">资源库</em> </strong> </a> <em class="jg">，如果它对你有帮助的话。</em></p><h1 id="8896" class="lf lg hi bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">你可以通过以下方式找到我</h1><ul class=""><li id="a15a" class="kq kr hi ih b ii md im me iq ol iu om iy on jc mx kw kx ky bi translated"><a class="ae ka" href="https://www.linkedin.com/in/tharun-p-827813177" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">领英</strong> </a></li><li id="2dce" class="kq kr hi ih b ii kz im la iq lb iu lc iy ld jc mx kw kx ky bi translated"><a class="ae ka" href="https://github.com/Tharun-tharun" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj"> GitHub </strong> </a></li></ul></div></div>    
</body>
</html>