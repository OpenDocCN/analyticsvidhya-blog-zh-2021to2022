# è®­ç»ƒä¸€ä¸ªè‡ªå®šä¹‰çš„ YOLOv4 å¯¹è±¡æ£€æµ‹å™¨(ä½¿ç”¨ Google Colab)

> åŸæ–‡ï¼š<https://medium.com/analytics-vidhya/train-a-custom-yolov4-object-detector-using-google-colab-61a659d4868?source=collection_archive---------0----------------------->

![](img/7f6df591e0873bd47cd92c4ee3be30da.png)

## (åˆå­¦è€…æ•™ç¨‹)

![](img/8d04d44b0dd60c31461fa0ada4c523be.png)

# **åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†**ä½¿ç”¨ YOLOv4 å’Œ Darknet è®­ç»ƒæˆ‘ä»¬çš„è‡ªå®šä¹‰æ£€æµ‹å™¨è¿›è¡Œå±è”½æ£€æµ‹

# **æˆ‘åœ¨ YouTube ä¸Šçš„è§†é¢‘ï¼**

# **å¦‚ä½•å¼€å§‹ï¼Ÿ**

*   **âœ…Subscribe åˆ°æˆ‘çš„ YouTube é¢‘é“ğŸ‘‰ğŸ»ã€https://bit.ly/3Ap3sdi ğŸ˜ğŸ˜œ**
*   **åœ¨ä½ çš„æµè§ˆå™¨ä¸Šæ‰“å¼€æˆ‘çš„ [Colab ç¬”è®°æœ¬](https://colab.research.google.com/drive/1zqRb08ljHvIIMR4fgAXeNy1kUtjDU85B?usp=sharing)ã€‚**
*   **ç‚¹å‡»èœå•æ ä¸­çš„**æ–‡ä»¶**å¹¶ç‚¹å‡»**åœ¨é©±åŠ¨å™¨**ä¸­ä¿å­˜ä¸€ä»½å‰¯æœ¬ã€‚è¿™å°†åœ¨æ‚¨çš„æµè§ˆå™¨ä¸Šæ‰“å¼€æˆ‘çš„ Colab ç¬”è®°æœ¬çš„å‰¯æœ¬ï¼Œæ‚¨ç°åœ¨å¯ä»¥ä½¿ç”¨å®ƒäº†ã€‚**
*   **æ¥ä¸‹æ¥ï¼Œæ‰“å¼€æˆ‘çš„ç¬”è®°æœ¬å‰¯æœ¬å¹¶è¿æ¥åˆ° Google Colab VM åï¼Œç‚¹å‡»èœå•æ ä¸­çš„**è¿è¡Œæ—¶**å¹¶ç‚¹å‡»**æ›´æ”¹è¿è¡Œæ—¶ç±»å‹**ã€‚é€‰æ‹© **GPU** å¹¶ç‚¹å‡»ä¿å­˜ã€‚**

# **æˆ‘å·²ç»åœ¨æˆ‘çš„ç½‘ç«™ä¸Šä¸Šä¼ äº†æˆ‘å®šåˆ¶çš„ YOLOv4 ç ç ï¼Œç”¨äºæ£€æµ‹é¢è†œã€‚æ‚¨å¯ä»¥å°†å®ƒç”¨äºæµ‹è¯•ç›®çš„ã€‚**

**[](https://techzizou.com/train-a-custom-yolov4-detector-using-google-colab-tutorial-for-beginners/#mask_detection_weights) [## ä½¿ç”¨ Google Colab - TECHZIZOU è®­ç»ƒè‡ªå®šä¹‰çš„ YOLOv4 æ£€æµ‹å™¨

### å±è”½æ£€æµ‹æƒé‡

techzizou.com](https://techzizou.com/train-a-custom-yolov4-detector-using-google-colab-tutorial-for-beginners/#mask_detection_weights)** 

# **æŒ‰ç…§è¿™ 12 ä¸ªæ­¥éª¤ä½¿ç”¨ YOLOv4 è®­ç»ƒä¸€ä¸ªç‰©ä½“æ£€æµ‹å™¨**

**(**æ³¨æ„:**å¯¹äºæœ¬ YOLOv4 æ•™ç¨‹ï¼Œæˆ‘ä»¬å°†åœ¨ google drive çš„ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­å…‹éš† Darknet git å­˜å‚¨åº“)**

1.  **[åœ¨ä½ çš„ google drive](/p/61a659d4868#065e) ä¸­åˆ›å»º***yolov 4*T24**å’Œ*åŸ¹è®­*æ–‡ä»¶å¤¹******
2.  **[æŒ‚è½½é©±åŠ¨å™¨ï¼Œé“¾æ¥ä½ çš„æ–‡ä»¶å¤¹ï¼Œå¯¼èˆªåˆ° ***yolov4*** æ–‡ä»¶å¤¹](/p/61a659d4868#4894)**
3.  **[å…‹éš†**æš—ç½‘** git ä»“åº“](/p/61a659d4868#f7ec)**
4.  **[åˆ›å»º&å°†æˆ‘ä»¬åŸ¹è®­éœ€è¦çš„æ–‡ä»¶(å³â€œ **obj.zip** â€ã€â€œ **yolov4- custom.cfg** â€ã€â€œ **obj.data** â€ã€â€œ **obj.names** â€å’Œâ€œ **process.py** â€)ä¸Šä¼ åˆ°ä½ çš„é©±åŠ¨å™¨](/p/61a659d4868#4be1)**
5.  **[åœ¨ Makefile ä¸­è¿›è¡Œæ›´æ”¹ï¼Œä»¥å¯ç”¨ **OPENCV** å’Œ **GPU** å’Œ](/p/61a659d4868#a777)**
6.  **[è¿è¡Œ **make** å‘½ä»¤æ„å»ºæš—ç½‘](/p/61a659d4868#ba6f)**
7.  **[å°† **obj.zip** ã€ **yolov4-custom.cfg** ã€ **obj.data** ã€ **obj.names** ã€ **process.py** æ–‡ä»¶ä» ***yolov4*** æ–‡ä»¶å¤¹å¤åˆ¶åˆ° ***darknet*** ç›®å½•](/p/61a659d4868#5316)**
8.  **[è¿è¡Œ **process.py** python è„šæœ¬åˆ›å»º**train . txt**&**test . txt**æ–‡ä»¶](/p/61a659d4868#b7b4)**
9.  **[ä¸‹è½½é¢„å…ˆè®­ç»ƒå¥½çš„ **YOLOv4** é‡é‡](/p/61a659d4868#d4cc)**
10.  **[è®­ç»ƒæ¢æµ‹å™¨](/p/61a659d4868#e5b4)**
11.  **[æ£€æŸ¥æ€§èƒ½](/p/61a659d4868#1a83)**
12.  **[æµ‹è¯•æ‚¨çš„è‡ªå®šä¹‰å¯¹è±¡æ£€æµ‹å™¨](/p/61a659d4868#4842)**

****æ³¨æ„:å¦‚æœç”±äºæŸç§åŸå› æ–­å¼€è¿æ¥æˆ–ä¸¢å¤±ä¼šè¯ï¼Œæ¯æ¬¡éƒ½å¿…é¡»å†æ¬¡è¿è¡Œæ­¥éª¤ 2ã€5 å’Œ 6 æ¥æŒ‚è½½é©±åŠ¨å™¨ã€ç¼–è¾‘ makefile å¹¶æ„å»º darknetï¼Œå¦åˆ™ darknet å¯æ‰§è¡Œæ–‡ä»¶å°†æ— æ³•è¿è¡Œ**ã€‚**

# **æˆ‘ä»¬å¼€å§‹å§ï¼ï¼**

**![](img/fc5fd53fb380447de021ffb601856a0b.png)**

**æ¥è‡ª [Pexels](https://www.pexels.com/photo/4612297/?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels) çš„ [cottonbro](https://www.pexels.com/@cottonbro?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels) åŸåˆ›è§†é¢‘**

# **1)åœ¨æ‚¨çš„é©±åŠ¨å™¨ä¸­åˆ›å»ºâ€œyolov4â€å’Œâ€œtrainingâ€æ–‡ä»¶å¤¹**

**åœ¨ä½ çš„ google drive ä¸­åˆ›å»ºä¸€ä¸ªåä¸º ***yolov4*** çš„æ–‡ä»¶å¤¹ã€‚æ¥ä¸‹æ¥ï¼Œåœ¨ ***yolov4*** æ–‡ä»¶å¤¹å†…åˆ›å»ºå¦ä¸€ä¸ªåä¸º***training****çš„æ–‡ä»¶å¤¹ã€‚è¿™æ˜¯æˆ‘ä»¬å°†ä¿å­˜æˆ‘ä»¬è®­ç»ƒè¿‡çš„æƒé‡çš„åœ°æ–¹(è¿™ä¸ªè·¯å¾„åœ¨æˆ‘ä»¬ç¨åå°†ä¸Šä¼ çš„ ***obj.data*** æ–‡ä»¶ä¸­æåˆ°)***

**![](img/af2c21d2b6254565749bcf2352865cf8.png)**

# **2)å®‰è£…é©±åŠ¨å™¨å¹¶å¯¼èˆªåˆ°é©±åŠ¨å™¨ä¸­çš„â€œyolov4â€æ–‡ä»¶å¤¹**

## **å®‰è£…é©±åŠ¨å™¨**

```
%cd ..
from google.colab import drive
drive.mount('/content/gdrive')
```

## **é“¾æ¥æ‚¨çš„æ–‡ä»¶å¤¹**

**è¿è¡Œä»¥ä¸‹å‘½ä»¤åˆ›å»ºä¸€ä¸ªç¬¦å·é“¾æ¥ï¼Œè¿™æ ·ç°åœ¨è·¯å¾„**/content/g Drive/My \ Drive/**ç­‰äº **/mydrive****

```
!ln -s /content/gdrive/My\ Drive/ /mydrive
```

****å¯¼èˆªåˆ°/mydrive/yolov4 æ–‡ä»¶å¤¹****

```
%cd /mydrive/yolov4
```

# **3)å…‹éš† Darknet git å­˜å‚¨åº“**

**åœ¨æ‚¨çš„é©±åŠ¨å™¨ä¸Šçš„ ***yolov4*** æ–‡ä»¶å¤¹ä¸­å…‹éš† Darknet git åº“ã€‚**

```
!git clone [https://github.com/AlexeyAB/darknet](https://github.com/AlexeyAB/darknet)
```

**![](img/aee072dc3ea5b14e7d1fc7bd4310bd2d.png)**

****å…‹éš†äº† yolov4 æ–‡ä»¶å¤¹ä¸­çš„ Darknet åº“****

**æ‚¨ä¹Ÿå¯ä»¥ä» Colab ä¸­æŸ¥çœ‹è¯¥æ–‡ä»¶å¤¹ï¼Œå› ä¸ºé©±åŠ¨å™¨å·²ç»å®‰è£…ã€‚è§ä¸‹å›¾ã€‚**

**![](img/f830f968b931963e8321b82d017bb602.png)**

**åœ¨ Colab æ–‡ä»¶éƒ¨åˆ†**

# **4)åˆ›å»ºå¹¶ä¸Šä¼ ä»¥ä¸‹æ–‡ä»¶ï¼Œæˆ‘ä»¬éœ€è¦è¿™äº›æ–‡ä»¶æ¥åŸ¹è®­å®šåˆ¶æ£€æµ‹æœº**

```
**a. Labeled Custom Dataset
b. Custom cfg file
c. obj.data and obj.names files
d. process.py file (to create train.txt and test.txt files for training)**
```

**æˆ‘å·²ç»åœ¨æˆ‘çš„**[**GitHub**](https://github.com/techzizou/yolov4-custom_Training)**ä¸Šä¼ äº†æˆ‘çš„ç”¨äºé®ç½©æ£€æµ‹çš„è‡ªå®šä¹‰æ–‡ä»¶ã€‚**æˆ‘æ­£åœ¨å¤„ç†ä¸¤ä¸ªç±»ï¼Œå³â€œå¸¦ _ æ©ç â€å’Œâ€œä¸å¸¦ _ æ©ç â€ã€‚****

## ****æ ‡æ³¨æ•°æ®é›†****

****è¾“å…¥å›¾åƒç¤ºä¾‹(**Image1.jpg**)****

****![](img/e33752052dc77f2bf86cff17d66ee853.png)****

****[é˜¿é‡ŒÂ·å¸•æ‰å°¼](https://www.pexels.com/@alipazani?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels)çš„åŸå§‹ç…§ç‰‡æ¥è‡ª [Pexels](https://www.pexels.com/photo/close-up-photo-of-woman-biting-her-lower-lip-2878373/?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels)****

****æ‚¨å¯ä»¥ä½¿ç”¨ä»»ä½•è½¯ä»¶è¿›è¡Œè´´æ ‡ï¼Œå¦‚ [**labelImg**](https://github.com/tzutalin/labelImg#labelimg) å·¥å…·ã€‚****

****![](img/8cf8d4f94d2ae48993d39d93c1552ff7.png)****

******Image1.jpg æ ‡ç­¾å›¾å½¢ç”¨æˆ·ç•Œé¢******

****æˆ‘ä½¿ç”¨ä¸€ä¸ªå«åš **OpenLabeling** çš„å¼€æºæ ‡ç­¾å·¥å…·ï¼Œå®ƒæœ‰ä¸€ä¸ªéå¸¸ç®€å•çš„ç”¨æˆ·ç•Œé¢ã€‚****

****![](img/b8e332608d87e0722d3117a9a3ade322.png)****

******æ‰“å¼€è´´æ ‡å·¥å…· GUI******

****ç‚¹å‡»ä¸‹é¢çš„é“¾æ¥ï¼Œäº†è§£æ›´å¤šå…³äºè´´æ ‡è¿‡ç¨‹å’Œå…¶ä»–è½¯ä»¶çš„ä¿¡æ¯:****

*   ****[**å½±åƒæ•°æ®é›†æ ‡æ³¨ä»‹è´¨æ¡**](https://techzizou007.medium.com/image-dataset-labeling-annotation-bec3390eda2d)****

******æ³¨:**åƒåœ¾å…¥=åƒåœ¾å‡ºã€‚é€‰æ‹©å’Œæ ‡è®°å›¾åƒæ˜¯æœ€é‡è¦çš„éƒ¨åˆ†ã€‚å°½é‡æ‰¾è´¨é‡å¥½çš„å›¾ç‰‡ã€‚æ•°æ®çš„è´¨é‡åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå†³å®šäº†ç»“æœçš„è´¨é‡ã€‚****

****è¾“å‡ºçš„ YOLO æ ¼å¼æ ‡ç­¾æ–‡ä»¶å¦‚ä¸‹æ‰€ç¤ºã€‚****

****![](img/76f3e0ac41bd4e4a369dba2a09c5d8d1.png)****

******Image1.txt******

## ******4(a)åˆ›å»ºå¸¦æœ‰æ ‡ç­¾çš„è‡ªå®šä¹‰æ•°æ®é›†â€œobj.zipâ€æ–‡ä»¶ï¼Œå¹¶ä¸Šä¼ è‡³ç¡¬ç›˜ä¸Šçš„â€œyolov4â€æ–‡ä»¶å¤¹******

****æŠŠæ‰€æœ‰è¾“å…¥çš„å›¾åƒâ€ã€‚jpg "æ–‡ä»¶åŠå…¶å¯¹åº”çš„ YOLO æ ¼å¼æ ‡æ³¨"ã€‚txt "æ–‡ä»¶æ”¾åœ¨åä¸º **obj** çš„æ–‡ä»¶å¤¹ä¸­ã€‚****

****åˆ›å»ºå®ƒçš„ zip æ–‡ä»¶ **obj.zip** å¹¶ä¸Šä¼ åˆ°ä½ ç¡¬ç›˜ä¸Šçš„ ***yolov4*** æ–‡ä»¶å¤¹ã€‚****

****![](img/255b2d4f57263ce57e9ad1a17571cd15.png)****

******åŒ…å«è¾“å…¥å›¾åƒæ–‡ä»¶å’Œ YOLO æ ‡ç­¾æ–‡æœ¬æ–‡ä»¶çš„ obj æ–‡ä»¶å¤¹******

## ******4(b)åˆ›å»ºæ‚¨çš„è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ï¼Œå¹¶å°†å…¶ä¸Šä¼ åˆ°ç¡¬ç›˜ä¸Šçš„â€œyolov4â€æ–‡ä»¶å¤¹******

****ä»***darknet/CFG****ç›®å½•*ï¼Œ*ä¸‹è½½***yolov 4-custom . CFG***æ–‡ä»¶ï¼Œå¹¶å¯¹å…¶è¿›è¡Œä¿®æ”¹ï¼Œä¸Šä¼ åˆ°æ‚¨ç¡¬ç›˜ä¸Šçš„****yolov 4/data***æ–‡ä»¶å¤¹ã€‚******

******ä½ ä¹Ÿå¯ä»¥ä» [AlexeyAB çš„ Github](https://www.github.com/AlexeyAB/darknet) ä¸‹è½½å®šåˆ¶é…ç½®æ–‡ä»¶ã€‚******

********åœ¨è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œä»¥ä¸‹æ›´æ”¹:********

******![](img/7e5171d397855b9171b5f1214d27dc24.png)******

*   ******å°†è¡Œæ‰¹æ›´æ”¹ä¸ºæ‰¹=64******
*   ******å°†çº¿æ¡ç»†åˆ†æ”¹ä¸ºç»†åˆ†=16******
*   ******è®¾ç½®ç½‘ç»œå¤§å°å®½åº¦=416 é«˜åº¦=416 æˆ– 32 çš„ä»»æ„å€æ•°******
*   ******å°†è¡Œ max_batches æ›´æ”¹ä¸º(ç±»*2000ï¼Œä½†ä¸å°äºè®­ç»ƒå›¾åƒæ•°ï¼Œä¸”ä¸å°äº 6000)ï¼Œä¾‹å¦‚ï¼Œå¦‚æœè®­ç»ƒ 3 ä¸ªç±»ï¼Œmax_batches=6000******
*   ******å°†ç”Ÿäº§çº¿æ­¥éª¤æ›´æ”¹ä¸º max_batches çš„ 80%å’Œ 90%ï¼Œå³æ­¥éª¤=4800ï¼Œ5400******

******![](img/013669bf7a9f08093df6992f80d38c04.png)******

*   ******åœ¨æ¯ä¸ª[yolo]å±‚ä¹‹å‰çš„ **3** **ã€å·ç§¯ã€‘**ä¸­ï¼Œå°†[filters=255]æ›´æ”¹ä¸º filters=(classes + 5)x3ï¼Œè¯·è®°ä½ï¼Œå®ƒåªéœ€æ˜¯æ¯ä¸ª[yolo]å±‚ä¹‹å‰çš„æœ€åä¸€ä¸ª[å·ç§¯]ã€‚******
*   ******åœ¨æ¯ä¸ª**3ã€yoloã€‘**å±‚ä¸­ï¼Œå°†çº¿æ¡ç±»åˆ«=80 æ”¹ä¸ºä½ çš„å¯¹è±¡æ•°é‡ã€‚******

******å› æ­¤ï¼Œå¦‚æœ classes=1ï¼Œé‚£ä¹ˆå®ƒåº”è¯¥æ˜¯ filters=18ã€‚å¦‚æœ classes=2ï¼Œåˆ™ç¼–å†™ filters=21ã€‚******

******ä¸€æ—¦ä½ ç†è§£äº†è®­ç»ƒè¿‡ç¨‹çš„åŸºæœ¬åŸç†ï¼Œä½ ä¹Ÿå¯ä»¥è°ƒæ•´å…¶ä»–å‚æ•°å€¼ï¼Œå¦‚å­¦ä¹ ç‡ã€è§’åº¦ã€é¥±å’Œåº¦ã€æ›å…‰å’Œè‰²è°ƒã€‚å¯¹äºåˆå­¦è€…æ¥è¯´ï¼Œä»¥ä¸Šæ”¹åŠ¨å°±è¶³å¤Ÿäº†ã€‚******

## ********æ³¨:** **ä»€ä¹ˆæ˜¯ç»†åˆ†ï¼Ÿ********

*   ******è¿™æ˜¯æˆ‘ä»¬åˆ†æˆçš„è®¸å¤šå°æ‰¹é‡çš„æ•°é‡ã€‚******
*   ******Batch=64 ->ä¸€æ¬¡è¿­ä»£åŠ è½½ 64 å¹…å›¾åƒã€‚******
*   ******ç»†åˆ†=8 ->å°†æ‰¹æ¬¡åˆ†ä¸º 8 ä¸ªå°æ‰¹æ¬¡ï¼Œå› æ­¤æ¯ä¸ªå°æ‰¹æ¬¡æœ‰ 64/8 = 8 ä¸ªå›¾åƒï¼Œè¿™ 8 ä¸ªå›¾åƒè¢«å‘é€è¿›è¡Œå¤„ç†ã€‚è¯¥è¿‡ç¨‹å°†è¢«æ‰§è¡Œ 8 æ¬¡ï¼Œç›´åˆ°è¯¥æ‰¹å®Œæˆï¼Œå¹¶ä¸”æ–°çš„è¿­ä»£å°†ä» 64 ä¸ªæ–°å›¾åƒå¼€å§‹ã€‚******
*   ******å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯ä½å†…å­˜çš„ GPUï¼Œè¯·ä¸ºç»†åˆ†è®¾ç½®ä¸€ä¸ªè¾ƒé«˜çš„å€¼(32 æˆ– 64)ã€‚è¿™æ˜¾ç„¶éœ€è¦æ›´é•¿çš„æ—¶é—´æ¥è®­ç»ƒï¼Œå› ä¸ºæˆ‘ä»¬æ­£åœ¨å‡å°‘åŠ è½½çš„å›¾åƒæ•°é‡ä»¥åŠå°æ‰¹é‡çš„æ•°é‡ã€‚******
*   ******å¦‚æœæ‚¨æœ‰ä¸€ä¸ªé«˜å†…å­˜çš„ GPUï¼Œè®¾ç½®ä¸€ä¸ªè¾ƒä½çš„ç»†åˆ†å€¼(16 æˆ– 8)ã€‚è¿™å°†åŠ é€Ÿè®­ç»ƒè¿‡ç¨‹ï¼Œå› ä¸ºæ¯æ¬¡è¿­ä»£åŠ è½½æ›´å¤šçš„å›¾åƒã€‚******

## ******4(c)åˆ›å»ºæ‚¨çš„â€œå¯¹è±¡æ•°æ®â€å’Œâ€œå¯¹è±¡åç§°â€æ–‡ä»¶ï¼Œå¹¶å°†å®ƒä»¬ä¸Šä¼ åˆ°æ‚¨çš„é©±åŠ¨å™¨******

## ******å¯¹è±¡æ•°æ®******

*********obj.data*** æ–‡ä»¶æœ‰:******

*   ******ç­çº§çš„æ•°é‡ã€‚******
*   ******æˆ‘ä»¬åé¢è¦åˆ›å»ºçš„ ***train.txt*** å’Œ ***test.txt*** æ–‡ä»¶çš„è·¯å¾„ã€‚******
*   ******åŒ…å«ç±»åçš„ ***obj.names*** æ–‡ä»¶çš„è·¯å¾„ã€‚******
*   ******ä¿å­˜è®­ç»ƒæƒé‡çš„ ***è®­ç»ƒ*** æ–‡ä»¶å¤¹çš„è·¯å¾„ã€‚******

## ******å¯¹è±¡åç§°******

******åŒ…å«å¯¹è±¡çš„åç§°ï¼Œæ¯ä¸ªåç§°å ä¸€è¡Œã€‚ç¡®ä¿åˆ†ç±»çš„é¡ºåºä¸æ ‡è®°å›¾åƒæ—¶ä½¿ç”¨çš„ class_list.txt æ–‡ä»¶ä¸­çš„é¡ºåºç›¸åŒï¼Œä»¥ä¾¿æ¯ä¸ªåˆ†ç±»çš„ç´¢å¼• id ä¸æ ‡è®°çš„ YOLO æ–‡æœ¬æ–‡ä»¶ä¸­æåˆ°çš„ç›¸åŒã€‚******

## ******4(d)å°†<process.py>è„šæœ¬æ–‡ä»¶ä¸Šä¼ åˆ°ç¡¬ç›˜ä¸Šçš„ yolov4 æ–‡ä»¶å¤¹</process.py>******

******(å°†æ‰€æœ‰å›¾åƒæ–‡ä»¶åˆ†æˆ 2 éƒ¨åˆ†ã€‚90%ç”¨äºè®­ç»ƒï¼Œ10%ç”¨äºæµ‹è¯•)******

******è¿™ä¸ª ***process.py*** è„šæœ¬åˆ›å»ºæ–‡ä»¶***train . txt***&***test . txt***å…¶ä¸­***train . txt****æ–‡ä»¶å…·æœ‰æŒ‡å‘ 90%å›¾åƒçš„è·¯å¾„ï¼Œè€Œ ***test.txt*** å…·æœ‰æŒ‡å‘ 10%å›¾åƒçš„è·¯å¾„ã€‚*******

******å¯ä»¥ä»æˆ‘çš„ [**GitHub**](https://github.com/techzizou/yolov4-custom_Training) **ä¸‹è½½ ***process.py*** è„šæœ¬ã€‚********

********* *é‡è¦æç¤º:â€œ*process . pyâ€*è„šæœ¬åªæœ‰ã€‚jpg "æ ¼å¼å†™åœ¨å®ƒçš„ç¬¬ 20 è¡Œï¼Œæ‰€ä»¥å…¶ä»–æ ¼å¼å¦‚"ã€‚pngâ€œï¼Œâ€ã€‚jpegâ€ï¼Œç”šè‡³æ˜¯â€ã€‚JPGâ€(å¤§å†™)ä¸ä¼šè¢«æ‰¿è®¤ã€‚å¦‚æœæ‚¨æ­£åœ¨ä½¿ç”¨ä»»ä½•å…¶ä»–æ ¼å¼ï¼Œè¯·åœ¨ *process.py* è„šæœ¬ä¸­è¿›è¡Œç›¸åº”çš„æ›´æ”¹ã€‚********

********process.py è„šæœ¬********

******ç°åœ¨æˆ‘ä»¬å·²ç»ä¸Šä¼ äº†æ‰€æœ‰çš„æ–‡ä»¶ï¼Œæˆ‘ä»¬é©±åŠ¨å™¨ä¸Šçš„***yolov 4****æ–‡ä»¶å¤¹åº”è¯¥æ˜¯è¿™æ ·çš„:*******

*******![](img/94fc153bca52e7de9acf53fc1e6f568b.png)*******

# *******5)åœ¨ makefile ä¸­è¿›è¡Œæ›´æ”¹ï¼Œä»¥å¯ç”¨ OPENCV å’Œ GPUã€‚*******

*******(è¿˜è¦å°† CUDNNã€CUDNN_HALF å’Œ LIBSO è®¾ç½®ä¸º 1)*******

```
*****%cd darknet/
!sed -i 's/OPENCV=0/OPENCV=1/' Makefile
!sed -i 's/GPU=0/GPU=1/' Makefile
!sed -i 's/CUDNN=0/CUDNN=1/' Makefile
!sed -i 's/CUDNN_HALF=0/CUDNN_HALF=1/' Makefile
!sed -i 's/LIBSO=0/LIBSO=1/' Makefile*****
```

# *******6)è¿è¡Œ make å‘½ä»¤æ„å»ºæš—ç½‘*******

```
*****!make*****
```

# *******7)å°†æ‰€æœ‰æ–‡ä»¶ä»'`yolov4'`æ–‡ä»¶å¤¹å¤åˆ¶åˆ°' darknet 'ç›®å½•*******

*******å½“å‰å·¥ä½œç›®å½•æ˜¯**/my drive/yolov 4/darknet*********

*******æ¸…ç† ***æ•°æ®*** å’Œ ***cfg*** æ–‡ä»¶å¤¹ï¼Œé™¤äº† ***æ•°æ®*** æ–‡ä»¶å¤¹å†…çš„**æ ‡ç­¾**æ–‡ä»¶å¤¹ï¼Œè¿™æ˜¯åœ¨æ£€æµ‹ç›’ä¸Šå†™æ ‡ç­¾åç§°æ‰€éœ€è¦çš„ã€‚*******

******å› æ­¤ï¼Œåªéœ€ä» ***data*** æ–‡ä»¶å¤¹ä¸­åˆ é™¤æ‰€æœ‰å…¶ä»–æ–‡ä»¶ï¼Œå¹¶å½»åº•æ¸…ç† ***cfg*** æ–‡ä»¶å¤¹ï¼Œå› ä¸ºæˆ‘ä»¬çš„é©±åŠ¨å™¨ä¸Šçš„ ***yolov4*** æ–‡ä»¶å¤¹ä¸­å·²ç»æœ‰äº†æˆ‘ä»¬çš„è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ã€‚******

********è¿™ä¸€æ­¥æ˜¯å¯é€‰çš„ã€‚********

```
****%cd data/
!find -maxdepth 1 -type f -exec rm -rf {} \;
%cd ..%rm -rf cfg/
%mkdir cfg****
```

******7(a)è§£å‹ ***obj.zip*** æ•°æ®é›†åŠå…¶å†…å®¹ï¼Œä½¿å…¶ç°åœ¨ä½äº **/darknet/data/** æ–‡ä»¶å¤¹ä¸­******

```
****!unzip /mydrive/yolov4/obj.zip -d data/****
```

******7(b)å¤åˆ¶æ‚¨çš„***yolov 4-custom . CFG***æ–‡ä»¶ï¼Œä½¿å…¶ç°åœ¨ä½äº **/darknet/cfg/** æ–‡ä»¶å¤¹ä¸­******

```
****!cp /mydrive/yolov4/yolov4-custom.cfg cfg****
```

******7(c)å¤åˆ¶ ***obj.names*** å’Œ ***obj.data*** æ–‡ä»¶ï¼Œä½¿å®ƒä»¬ç°åœ¨ä½äº **/darknet/data/** æ–‡ä»¶å¤¹ä¸­******

```
****!cp /mydrive/yolov4/obj.names data
!cp /mydrive/yolov4/obj.data  data****
```

******7(d)å°† ***process.py*** æ–‡ä»¶å¤åˆ¶åˆ°å½“å‰ ***darknet*** ç›®å½•ä¸‹******

```
****!cp /mydrive/yolov4/process.py .****
```

# ******8)è¿è¡Œ process.py python è„šæœ¬ï¼Œåœ¨æ•°æ®æ–‡ä»¶å¤¹ä¸­åˆ›å»º train.txt å’Œ test.txt æ–‡ä»¶******

******å½“å‰å·¥ä½œç›®å½•æ˜¯**/my drive/yolov 4/darknet********

```
****!python process.py****
```

******åˆ—å‡º ***æ•°æ®*** æ–‡ä»¶å¤¹çš„å†…å®¹ï¼Œæ£€æŸ¥ ***train.txt*** å’Œ ***test.txt*** æ–‡ä»¶æ˜¯å¦å·²ç»åˆ›å»ºã€‚******

```
****!ls data/****
```

******ä¸Šé¢çš„ ***process.py*** è„šæœ¬åˆ›å»ºäº†ä¸¤ä¸ªæ–‡ä»¶ ***train.txt*** å’Œ ***test.txt*** ï¼Œå…¶ä¸­ ***train.txt*** æœ‰æŒ‡å‘ 90%å›¾åƒçš„è·¯å¾„ï¼Œè€Œ ***test.txt*** æœ‰æŒ‡å‘ 10%å›¾åƒçš„è·¯å¾„ã€‚æˆ‘æ­£åœ¨ä½¿ç”¨çš„[***process . py***](https://github.com/techzizou/yolov4-custom_Training/blob/main/yolov4/process.py)è„šæœ¬æ–‡ä»¶ä¸­å†™å…¥äº†è·¯å¾„ ***data/obj*** ï¼Œå› ä¸ºå½“å‰å·¥ä½œç›®å½•æ˜¯ **/mydrive/yolov4/darknetã€‚åœ¨æ­¥éª¤ 7(a)ä¸­ï¼Œæˆ‘ä»¬å°†å›¾åƒè§£å‹ç¼©åˆ° ***data/obj*** æ–‡ä»¶å¤¹ä¸­ã€‚*****train . txt***å’Œ ***test.txt*** æ–‡ä»¶çœ‹èµ·æ¥å¦‚ä¸‹æ‰€ç¤ºã€‚**********

******![](img/e4e2c5a630ca7d779e2a06aa00843e7f.png)******

********train.txt & test.txt æ–‡ä»¶********

# ******9)ä¸‹è½½é¢„è®­ç»ƒçš„ YOLOv4 é‡é‡******

******è¿™é‡Œæˆ‘ä»¬ç”¨è¿ç§»å­¦ä¹ ã€‚æˆ‘ä»¬æ²¡æœ‰ä»å¤´å¼€å§‹è®­ç»ƒæ¨¡å‹ï¼Œè€Œæ˜¯ä½¿ç”¨é¢„å…ˆè®­ç»ƒçš„ YOLOv4 æƒé‡ï¼Œè¿™äº›æƒé‡å·²ç»è¢«è®­ç»ƒåˆ° 137 ä¸ªå·ç§¯å±‚ã€‚è¿è¡Œä»¥ä¸‹å‘½ä»¤ä¸‹è½½ YOLOv4 é¢„è®­ç»ƒæƒé‡æ–‡ä»¶ã€‚******

```
****!wget [https://github.com/AlexeyAB/darknet/releases/download/darknet_yolo_v3_optimal/yolov4.conv.137](https://github.com/AlexeyAB/darknet/releases/download/darknet_yolo_v3_optimal/yolov4.conv.137)****
```

# ******10)åŸ¹è®­******

## ******è®­ç»ƒæ‚¨çš„å®šåˆ¶æ£€æµ‹å™¨******

******ä¸ºäº†è·å¾—æœ€ä½³ç»“æœï¼Œå¦‚æœå¯èƒ½çš„è¯ï¼Œå½“å¹³å‡æŸå¤±å°äº 0.05 æˆ–è€…è‡³å°‘æŒç»­ä½äº 0.3 æ—¶ï¼Œåº”è¯¥åœæ­¢è®­ç»ƒï¼Œå¦åˆ™è®­ç»ƒæ¨¡å‹ï¼Œç›´åˆ°å¹³å‡æŸå¤±æš‚æ—¶æ²¡æœ‰ä»»ä½•æ˜¾è‘—å˜åŒ–ã€‚******

```
****./darknet detector train data/obj.data cfg/yolov4-custom.cfg yolov4.conv.137 -dont_show -map****
```

******è¿™é‡Œçš„**å›¾**å‚æ•°ç»™äº†æˆ‘ä»¬ **M** å¹³å‡ **A** å¹³å‡ **P** ç²¾åº¦ã€‚**å›¾**è¶Šé«˜ï¼Œè¶Šæœ‰åˆ©äºç‰©ä½“æ£€æµ‹ã€‚******

******ä½ å¯ä»¥è®¿é—®å®˜æ–¹çš„ AlexeyAB Github é¡µé¢ï¼Œå®ƒç»™å‡ºäº†å…³äºä½•æ—¶åœæ­¢è®­ç»ƒçš„è¯¦ç»†è§£é‡Šã€‚ç‚¹å‡»ä¸‹é¢çš„é“¾æ¥è·³è½¬åˆ°è¯¥éƒ¨åˆ†ã€‚******

******[](https://github.com/AlexeyAB/darknet/#user-content-when-should-i-stop-training) [## AlexeyAB/darknet

### https://arxiv.org/abs/2004.10934 çº¸ YOLO v4:https://arxiv.org/abs/2011.08036 çº¸ç¼©æ”¾ YOLO v4:ç”¨äºå¤åˆ¶â€¦

github.com](https://github.com/AlexeyAB/darknet/#user-content-when-should-i-stop-training) 

**æ³¨æ„:å¦‚æœæ‚¨ç”±äºæŸç§åŸå› æ–­å¼€è¿æ¥æˆ–ä¸¢å¤±ä¼šè¯ï¼Œæ‚¨å¿…é¡»å†æ¬¡è¿è¡Œæ­¥éª¤ 2ã€5 å’Œ 6 æ¥æŒ‚è½½é©±åŠ¨å™¨ï¼Œç¼–è¾‘ makefile å¹¶æ¯æ¬¡éƒ½æ„å»º darknetï¼Œå¦åˆ™ darknet å¯æ‰§è¡Œæ–‡ä»¶å°†æ— æ³•å·¥ä½œã€‚**

## é‡æ–°å¼€å§‹æ‚¨çš„åŸ¹è®­(ä»¥é˜²åŸ¹è®­æœªç»“æŸè€Œæ–­å¼€è¿æ¥)

![](img/e093410b227f63e0959bbf594a0842e1.png)

å¦‚æœæ‚¨æ–­å¼€è¿æ¥æˆ–ä¸¢å¤±ä¼šè¯ï¼Œæ‚¨ä¸å¿…å†æ¬¡ä»å¤´å¼€å§‹è®­ç»ƒæ¨¡å‹ã€‚ä½ å¯ä»¥ä»ä½ åœæ­¢çš„åœ°æ–¹é‡æ–°å¼€å§‹è®­ç»ƒã€‚ä½¿ç”¨ä¸Šæ¬¡ä¿å­˜çš„é‡é‡ã€‚æ¯ 100 æ¬¡è¿­ä»£å°†æƒé‡ä¿å­˜ä¸ºé©±åŠ¨å™¨ä¸Š **yolov4/training** æ–‡ä»¶å¤¹ä¸­çš„**yolov 4-custom _ last . weights***ã€‚(æˆ‘ä»¬åœ¨â€œobj.dataâ€æ–‡ä»¶ä¸­ä½œä¸ºå¤‡ä»½ç»™å‡ºçš„è·¯å¾„)ã€‚*

**æ‰€ä»¥è¦é‡å¯è®­ç»ƒè¿è¡Œæ­¥éª¤ 2ã€5ã€6ï¼Œç„¶åè¿è¡Œä»¥ä¸‹å‘½ä»¤:**

```
!./darknet detector train data/obj.data cfg/yolov4-custom.cfg /mydrive/yolov4/training/yolov4-custom_last.weights -dont_show -map
``` 

# ******ä½¿ç”¨è¿™ä¸ªç®€å•çš„é»‘å®¢è‡ªåŠ¨ç‚¹å‡»ï¼Œä»¥é¿å…è¢«è¸¢å‡º Colab è™šæ‹Ÿæœº******

******æŒ‰(Ctrl + Shift + i)ã€‚è½¬åˆ°æ§åˆ¶å°ã€‚ç²˜è´´ä»¥ä¸‹ä»£ç ï¼Œç„¶åæŒ‰ Enter é”®ã€‚******

```
****function ClickConnect(){
console.log("Working"); 
document
  .querySelector('#top-toolbar > colab-connect-button')
  .shadowRoot.querySelector('#connect')
  .click() 
}
setInterval(ClickConnect,60000)****
```

# ******11)æ£€æŸ¥æ€§èƒ½******

## ********å®šä¹‰åŠ©æ‰‹åŠŸèƒ½ imShow********

```
****def imShow(path):import cv2
import matplotlib.pyplot as plt
%matplotlib inline
image = cv2.imread(path)
height, width = image.shape[:2]
resized_image = cv2.resize(image,(3*width, 3*height), interpolation = cv2.INTER_CUBIC)
fig = plt.gcf()
fig.set_size_inches(18, 10)
plt.axis(â€œoffâ€)
plt.imshow(cv2.cvtColor(resized_image, cv2.COLOR_BGR2RGB))
plt.show()****
```

## ********æŸ¥çœ‹åŸ¹è®­å›¾è¡¨********

******æ‚¨å¯ä»¥é€šè¿‡æŸ¥çœ‹***chart.png***æ–‡ä»¶æ¥æ£€æŸ¥æ‰€æœ‰è®­ç»ƒè¿‡çš„é‡é‡çš„æ€§èƒ½ã€‚ç„¶è€Œï¼Œ***chart.png***æ–‡ä»¶ä»…åœ¨è®­ç»ƒæ²¡æœ‰ä¸­æ–­çš„æƒ…å†µä¸‹æ˜¾ç¤ºç»“æœï¼Œå³ï¼Œå¦‚æœæ‚¨æ²¡æœ‰æ–­å¼€è¿æ¥æˆ–ä¸¢å¤±ä¼šè¯ã€‚å¦‚æœä»ä¿å­˜çš„ç‚¹é‡æ–°å¼€å§‹è®­ç»ƒï¼Œè¿™å°†ä¸èµ·ä½œç”¨ã€‚******

```
****imShow('chart.png')****
```

******å¦‚æœè¿™ä¸èµ·ä½œç”¨ï¼Œè¿˜æœ‰å…¶ä»–æ–¹æ³•æ¥æ£€æŸ¥ä½ çš„è¡¨ç°ã€‚å…¶ä¸­ä¹‹ä¸€æ˜¯é€šè¿‡æ£€æŸ¥è®­ç»ƒæƒé‡çš„åœ°å›¾ã€‚******

## ********æ£€æŸ¥åœ°å›¾(å¹³å‡å¹³å‡ç²¾åº¦)********

******æ‚¨å¯ä»¥æ£€æŸ¥æ¯ 1000 æ¬¡è¿­ä»£ä¿å­˜çš„æ‰€æœ‰æƒé‡çš„è´´å›¾ï¼Œä¾‹å¦‚:- yolov4-custom_4000.weightsã€yolov4-custom_5000.weightsã€yolov4-custom_6000.weights ç­‰ç­‰ã€‚è¿™æ ·ï¼Œæ‚¨å¯ä»¥æ‰¾å‡ºå“ªä¸ªæƒé‡æ–‡ä»¶ç»™ä½ æœ€å¥½çš„ç»“æœã€‚åœ°å›¾è¶Šé«˜è¶Šå¥½ã€‚******

******è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥æ£€æŸ¥ç‰¹å®šå·²ä¿å­˜æƒé‡æ–‡ä»¶çš„æ˜ å°„ï¼Œå…¶ä¸­ **xxxx** æ˜¯å…¶è¿­ä»£ç¼–å·ã€‚(ä¾‹å¦‚:- 4000ï¼Œ5000ï¼Œ6000ï¼Œâ€¦)******

```
****!./darknet detector map data/obj.data cfg/yolov4-custom.cfg /mydrive/yolov4/training/yolov4-custom_**xxxx**.weights -points 0****
```

# ******12)æµ‹è¯•æ‚¨çš„è‡ªå®šä¹‰å¯¹è±¡æ£€æµ‹å™¨******

## ******å¯¹è‡ªå®šä¹‰é…ç½®æ–‡ä»¶è¿›è¡Œæ›´æ”¹ï¼Œå°†å…¶è®¾ç½®ä¸ºæµ‹è¯•æ¨¡å¼******

*   ******å°†è¡Œæ‰¹æ›´æ”¹ä¸ºæ‰¹=1******
*   ******å°†çº¿ç»†åˆ†æ”¹ä¸ºç»†åˆ†=1******

******æ‚¨å¯ä»¥æ‰‹åŠ¨å®Œæˆï¼Œä¹Ÿå¯ä»¥ç®€å•åœ°è¿è¡Œä¸‹é¢çš„ä»£ç ******

```
****%cd cfg
!sed -i 's/batch=64/batch=1/' yolov4-custom.cfg
!sed -i 's/subdivisions=16/subdivisions=1/' yolov4-custom.cfg
%cd ..****
```

## ******å¯¹å›¾åƒè¿è¡Œæ£€æµ‹å™¨******

******ä¸Šä¼ ä¸€å¼ å›¾ç‰‡åˆ°ä½ çš„ google drive è¿›è¡Œæµ‹è¯•ã€‚******

******ä½¿ç”¨æ­¤å‘½ä»¤å¯¹å›¾åƒè¿è¡Œæ‚¨çš„è‡ªå®šä¹‰æ£€æµ‹å™¨ã€‚(é˜ˆå€¼æ ‡å¿—è®¾ç½®å¯¹è±¡æ£€æµ‹æ‰€éœ€çš„æœ€ä½ç²¾åº¦)******

```
****!./darknet detector test data/obj.data cfg/yolov4-custom.cfg /mydrive/yolov4/training/yolov4-custom_best.weights /mydrive/mask_test_images/image1.jpg -thresh 0.3imShow('predictions.jpg')****
```

******![](img/bda615cad3b73ee137082221845f2b29.png)******

******æ¥è‡ª [Pexels](https://www.pexels.com/photo/men-putting-food-on-a-thermal-bag-4393665/?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels) çš„ [Norma Mortenson](https://www.pexels.com/@norma-mortenson?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels) çš„åŸå§‹ç…§ç‰‡******

## ******å¯¹ç½‘ç»œæ‘„åƒå¤´å›¾åƒè¿è¡Œæ£€æµ‹å™¨******

******è¦åœ¨ç½‘ç»œæ‘„åƒå¤´æ•æ‰çš„å›¾åƒä¸Šè¿è¡Œæ£€æµ‹å™¨ï¼Œè¯·è¿è¡Œä»¥ä¸‹ä»£ç ã€‚è¿™æ˜¯ Google Colab ä¸ºç›¸æœºæ•æ‰æä¾›çš„ä»£ç ç‰‡æ®µï¼Œé™¤äº†æœ€åä¸¤è¡Œï¼Œå®ƒä»¬åƒæˆ‘ä»¬åœ¨ä¸Šé¢çš„å‘½ä»¤ä¸­æ‰€åšçš„é‚£æ ·å¯¹ä¿å­˜çš„å›¾åƒè¿è¡Œæ£€æµ‹å™¨ã€‚******

******![](img/872d3ab359117b0b1308ada1b0fc1242.png)******

********æ£€æµ‹ç½‘ç»œæ‘„åƒå¤´ä¸Šçš„å›¾åƒ********

## ******å¯¹è§†é¢‘è¿è¡Œæ£€æµ‹å™¨******

******ä¸Šä¼ ä¸€æ®µè§†é¢‘åˆ°ä½ çš„ google drive è¿›è¡Œæµ‹è¯•ã€‚******

******ä½¿ç”¨æ­¤å‘½ä»¤å¯¹è§†é¢‘è¿è¡Œæ‚¨çš„è‡ªå®šä¹‰æ£€æµ‹å™¨ã€‚(é˜ˆå€¼æ ‡å¿—è®¾ç½®å¯¹è±¡æ£€æµ‹æ‰€éœ€çš„æœ€ä½ç²¾åº¦)******

```
****!./darknet detector demo data/obj.data cfg/yolov4-custom.cfg /mydrive/yolov4/training/yolov4-custom_best.weights -dont_show /mydrive/mask_test_videos/test1.mp4 -thresh 0.5 -i 0 -out_filename /mydrive/mask_test_videos/results1.avi****
```

******![](img/5a2dd8bec0917cacbff1f2a10c3b4a70.png)******

******æ¥è‡ª [Pexels](https://www.pexels.com/photo/woman-pushing-a-shopping-cart-full-of-toilet-papers-4318387/?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels) çš„ [Pavel Danilyuk](https://www.pexels.com/@pavel-danilyuk?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels) åŸåˆ›è§†é¢‘******

******![](img/b939a6533b07fe9aad3883827dc176dd.png)******

******æ¥è‡ª [Pexels](https://www.pexels.com/photo/people-showing-how-to-wear-face-mask-while-the-man-is-being-funny-3960181/?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels) çš„ [cottonbro](https://www.pexels.com/@cottonbro?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels) åŸåˆ›è§†é¢‘******

## ******åœ¨å®æ—¶ç½‘ç»œæ‘„åƒå¤´ä¸Šè¿è¡Œæ£€æµ‹å™¨******

******é¦–å…ˆï¼Œå¯¼å…¥ä¾èµ–é¡¹ï¼Œå®šä¹‰åŠ©æ‰‹å‡½æ•°ï¼ŒåŠ è½½è‡ªå®šä¹‰çš„ YOLOv4 æ–‡ä»¶ï¼Œç„¶ååœ¨ç½‘ç»œæ‘„åƒå¤´ä¸Šè¿è¡Œæ£€æµ‹å™¨ã€‚******

******è¿è¡Œä¸‹é¢çš„ä»£ç ã€‚(**æ³¨**:å°†ç¬¬ 22 è¡Œçš„è‡ªå®šä¹‰æ–‡ä»¶è°ƒæ•´ä¸ºæ‚¨çš„æ–‡ä»¶)******

******![](img/cb032c8bbe4a039dccf2cec8312a5900.png)******

********å®æ—¶ç½‘ç»œæ‘„åƒå¤´æ£€æµ‹********

********æ³¨æ„:**æˆ‘ä¸ºæ©æ¨¡æ£€æµ‹æ”¶é›†çš„æ•°æ®é›†ä¸»è¦åŒ…å«ç‰¹å†™å›¾åƒã€‚ä½ å¯ä»¥åœ¨ç½‘ä¸Šæœç´¢æ›´å¤šçš„é•¿é•œå¤´å›¾ç‰‡ã€‚æœ‰å¾ˆå¤šç½‘ç«™å¯ä»¥ä¸‹è½½æœ‰æ ‡ç­¾å’Œæ— æ ‡ç­¾çš„æ•°æ®é›†ã€‚æˆ‘åœ¨æ•°æ®é›†æ¥æºä¸‹é¢ç»™å‡ºäº†ä¸€äº›é“¾æ¥ã€‚æˆ‘ä¹Ÿç»™å‡ºäº†ä¸€äº›æ©è†œæ•°æ®é›†çš„é“¾æ¥ã€‚å…¶ä¸­ä¸€äº›æœ‰è¶…è¿‡ 10ï¼Œ000 å¼ å›¾ç‰‡ã€‚******

******è™½ç„¶æˆ‘ä»¬å¯ä»¥å¯¹æˆ‘ä»¬çš„è®­ç»ƒé…ç½®æ–‡ä»¶è¿›è¡ŒæŸäº›è°ƒæ•´å’Œæ›´æ”¹ï¼Œæˆ–è€…é€šè¿‡å¢å¼ºä¸ºæ¯ç§ç±»å‹çš„å¯¹è±¡ç±»å‘æ•°æ®é›†æ·»åŠ æ›´å¤šå›¾åƒï¼Œä½†æˆ‘ä»¬å¿…é¡»å°å¿ƒï¼Œä»¥å…å¯¼è‡´è¿‡åº¦æ‹Ÿåˆï¼Œä»è€Œå½±å“æ¨¡å‹çš„å‡†ç¡®æ€§ã€‚******

******å¯¹äºåˆå­¦è€…ï¼Œä½ å¯ä»¥ç®€å•åœ°ä½¿ç”¨æˆ‘ä¸Šä¼ åˆ°æˆ‘çš„GitHub **ä¸Šçš„é…ç½®æ–‡ä»¶å¼€å§‹ã€‚**æˆ‘è¿˜ä¸Šä¼ äº†æˆ‘çš„å±è”½å›¾åƒæ•°æ®é›†ä»¥åŠ YOLO æ ¼å¼çš„æ ‡ç­¾æ–‡æœ¬æ–‡ä»¶ï¼Œè™½ç„¶è¿™å¯èƒ½ä¸æ˜¯æœ€å¥½çš„ï¼Œä½†ä¼šç»™ä½ ä¸€ä¸ªå¦‚ä½•ä½¿ç”¨ YOLO è®­ç»ƒä½ è‡ªå·±çš„å®šåˆ¶æ¢æµ‹å™¨æ¨¡å‹çš„è‰¯å¥½å¼€ç«¯ã€‚ä½ å¯ä»¥æ‰¾åˆ°ä¸€ä¸ªè´¨é‡æ›´å¥½çš„å¸¦æ ‡ç­¾çš„æ•°æ®é›†æˆ–è€…ä¸€ä¸ªä¸å¸¦æ ‡ç­¾çš„æ•°æ®é›†ï¼Œä»¥åè‡ªå·±æ ‡æ³¨ã€‚******

# ******æˆ‘çš„ GitHub******

******æˆ‘å·²ç»åœ¨ä¸‹é¢çš„ GitHub é“¾æ¥ä¸Šä¸Šä¼ äº†æˆ‘çš„è‡ªå®šä¹‰ mask æ•°æ®é›†å’Œè®­ç»ƒè‡ªå®šä¹‰ YOLOv4 æ£€æµ‹å™¨æ‰€éœ€çš„æ‰€æœ‰å…¶ä»–æ–‡ä»¶ã€‚******

******[](https://github.com/techzizou/yolov4-custom_Training) [## techzizou/yolov 4-è‡ªå®šä¹‰ _ åŸ¹è®­

### è¯¥å­˜å‚¨åº“ä¸­çš„ yolov4 æ–‡ä»¶å¤¹åŒ…å«æ‰€éœ€çš„ 4 ä¸ªè‡ªå®šä¹‰æ–‡ä»¶ã€‚(å³â€¦

github.com](https://github.com/techzizou/yolov4-custom_Training) 

# æˆ‘çš„æ ‡æ³¨æ•°æ®é›†(obj.zip)

[](https://www.kaggle.com/techzizou/labeled-mask-dataset-yolo-darknet) [## å¸¦æ ‡ç­¾çš„æ©è†œæ•°æ®é›†(YOLO æš—ç½‘)

### YOLO æ ¼å¼æ³¨é‡Š

www.kaggle.com](https://www.kaggle.com/techzizou/labeled-mask-dataset-yolo-darknet) 

# æˆ‘çš„ Colab ç¬”è®°æœ¬

[](https://colab.research.google.com/drive/1zqRb08ljHvIIMR4fgAXeNy1kUtjDU85B?usp=sharing) [## è°·æ­Œè”åˆå®éªŒå®¤

YOLOv4 å®šåˆ¶åŸ¹è®­æ•™ç¨‹](https://colab.research.google.com/drive/1zqRb08ljHvIIMR4fgAXeNy1kUtjDU85B?usp=sharing) 

# å¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« æœ‰å¸®åŠ©ï¼Œè¯·è®¢é˜…æˆ‘çš„ YouTube é¢‘é“ï¼Œå¹¶è€ƒè™‘åœ¨ YouTube æˆ–ğŸ––åª’ä½“ä¸Šæ”¯æŒæˆ‘

[](https://www.youtube.com/techzizou) [## æ³°å…‹é½ç¥–

### åˆ›å»ºäººå·¥æ™ºèƒ½ã€æœºå™¨å­¦ä¹ ã€æ·±åº¦å­¦ä¹ ã€è®¡ç®—æœºè§†è§‰ã€ç‰©ä½“æ£€æµ‹ã€å›¾åƒç­‰æ–¹é¢çš„è§†é¢‘æ•™ç¨‹

www.youtube.com](https://www.youtube.com/techzizou) 

# ä¿¡ç”¨

## å‚è€ƒ

*   [é˜¿åˆ—å…‹è°¢ AB GitHub](https://github.com/AlexeyAB/darknet)
*   [pjreddie Github](https://github.com/pjreddie/darknet)
*   [ä»£ç  Github](https://github.com/theAIGuysCode/YOLOv4-Cloud-Tutorial)
*   [çº¸è´¨ YOLOv4](https://arxiv.org/abs/2004.10934)
*   [pjreddie ç«™ç‚¹](https://pjreddie.com/darknet/yolo/)

## æ•°æ®é›†æº

æ‚¨å¯ä»¥ä»ä¸‹é¢æåˆ°çš„ç½‘ç«™ä¸‹è½½è®¸å¤šå¯¹è±¡çš„æ•°æ®é›†ã€‚è¿™äº›ç½‘ç«™è¿˜åŒ…å«è®¸å¤šç§ç±»çš„å¯¹è±¡çš„å›¾åƒä»¥åŠå®ƒä»¬çš„å¤šç§æ ¼å¼çš„æ³¨é‡Š/æ ‡ç­¾ï¼Œä¾‹å¦‚ YOLO _ é»‘æš—ç½‘æ–‡æœ¬æ–‡ä»¶å’Œå¸•æ–¯å¡ _VOC XML æ–‡ä»¶ã€‚

*   [é€šè¿‡è°·æ­Œæ‰“å¼€å›¾åƒæ•°æ®é›†](https://storage.googleapis.com/openimages/web/index.html)
*   [Kaggle æ•°æ®é›†](https://www.kaggle.com/datasets)
*   [Roboflow å…¬å…±æ•°æ®é›†](https://public.roboflow.com/)
*   [å¯è§†åŒ–æ•°æ®æ•°æ®é›†](https://www.visualdata.io/discovery)

## å±è”½æ•°æ®é›†æº

æˆ‘å°†è¿™ 3 ä¸ªæ•°æ®é›†ç”¨äºæˆ‘çš„æ ‡è®°æ•°æ®é›†:

*   [èˆ¬è‹¥ Github](https://github.com/prajnasb/observations)
*   [çº¦ç‘Ÿå¤«Â·å°¼å°”æ£®Â·ç½—åšå¼—æ´›](https://public.roboflow.com/object-detection/mask-wearing)
*   [X-å¼ æ´‹ Github](https://github.com/X-zhangyang/Real-World-Masked-Face-Dataset)

æ›´å¤šæ©è†œæ•°æ®é›†

*   Prasoonkottarathil Kaggle(20000 å¼ å›¾ç‰‡)
*   Ashishjangra27 Kaggle (12000 å¼ å›¾ç‰‡)
*   [Andrewmvd Kaggle](https://www.kaggle.com/andrewmvd/face-mask-detection)

## è§†é¢‘æº

*   [https://www.pexels.com/](https://www.pexels.com/)

# æˆ‘åœ¨ YouTube ä¸Šçš„è§†é¢‘ï¼

## åˆ«å¿˜äº†ç•™ä¸‹ğŸ‘

## ç¥æ‚¨æ„‰å¿«ï¼ï¼ï¼âœŒ

## âš¡â™•Â·ç‰¹å¥‡ä½Â·â™•âš¡

![](img/265e36124d8063ab6b38b85f071c4a20.png)

æ¥è‡ª[åƒç´ ](https://www.pexels.com/photo/a-young-woman-wearing-a-face-mask-4873251/?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels)çš„[å‰æ–¹æ— ç‰©](https://www.pexels.com/@ian-panelo?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels)çš„åŸå§‹è§†é¢‘******