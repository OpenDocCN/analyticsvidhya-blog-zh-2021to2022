<html>
<head>
<title>SQS, EMR, KINESIS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SQS，EMR，KINESIS</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/sqs-emr-kinesis-755dac335062?source=collection_archive---------18-----------------------#2021-01-13">https://medium.com/analytics-vidhya/sqs-emr-kinesis-755dac335062?source=collection_archive---------18-----------------------#2021-01-13</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div class="er es ie"><img src="../Images/13240178d7ae9684eb4f7a40628f0650.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*8MB1OZdlFdEIb_LIHdW49g.png"/></div></figure><h1 id="a545" class="il im hh bd in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji bi translated"><strong class="ak"> SQS </strong></h1><p id="581a" class="pw-post-body-paragraph jj jk hh jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg ha bi translated">为了理解SQS，让我们考虑一个场景。</p><p id="cd90" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">假设你正在主持一个电视节目，来自世界各地的数百万人应该同时投票。传统上，您需要部署一个web服务器来处理每秒的所有消息(投票),并且必须预先配置最大的预期工作负载。</p><p id="c608" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">我知道这不是一件很难做的工作，但是如果流量变得太大，服务器无法处理，服务器崩溃，或者说，你没有得到你预期的那么多选民，从而最终为基础设施支付了过多的费用。</p><p id="7e03" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">您需要排队机制来处理这种情况，它可以吸收每秒10条消息或每秒1000万条消息，并具有灵活的定价模型。</p><p id="3e99" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">进入SQS！！</p><p id="b8b4" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">SQS或简单队列服务是AWS中第一个可用的服务，它允许您在等待计算机处理消息时访问可用于存储消息的消息队列。该队列完全由AWS管理，可帮助您在任何数量的软件组件之间发送、存储和接收消息，而不会丢失消息或要求其他服务始终可用。AWS SQS可以在Amazon控制台、命令行界面和SDK等工具的帮助下启动。</p><p id="cd34" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">AWS SQS有助于在任何地区发送无限数量的消息。消息有效负载由256KB的文本组成，可以是任何格式，除非您使用扩展的客户端库。如果文本的大小超过了Java编程的扩展客户端库可以使用的大小。</p><p id="d2e7" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">以下是使用亚马逊简单队列服务的热门公司:</p><ul class=""><li id="9025" class="km kn hh jl b jm kh jq ki ju ko jy kp kc kq kg kr ks kt ku bi translated">德国宝马汽车公司(Bavarian Motor Works)</li><li id="34da" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated">美国国家航空航天局</li><li id="8af0" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated">大写一</li><li id="627a" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated">红色巴士</li></ul><p id="ddef" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated"><strong class="jl hi">创建并读取SQS队列</strong></p><p id="9127" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">打开https://console.aws.amazon.com/sqs/<a class="ae la" href="https://console.aws.amazon.com/sqs/" rel="noopener ugc nofollow" target="_blank">的亚马逊SQS控制台</a>，点击<strong class="jl hi">创建队列。</strong></p><p id="23ea" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">您最终会看到一个创建新队列页面。您可以创建标准队列或先进先出(FIFO)队列。标准队列是默认队列，但是如果您想要创建fifo队列，那么您可以选择fifo队列，记住，要创建fifo队列，队列名称必须以<em class="lb">结尾。先进先出</em></p><p id="9e85" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">这两种队列类型有很大的不同，在选择其中一种时需要小心。创建队列类型后，您不能更改它。</p><figure class="lc ld le lf fd ii er es paragraph-image"><div class="er es ie"><img src="../Images/90bb66a1dc105aaf0af56824657a1cc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*XSlVICGRxtOFvpIY_vHKaw.png"/></div></figure><p id="ff9f" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">接下来，您需要定义一些关键属性来创建队列。</p><p id="4e5c" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">可见性超时—从队列接收的消息对其他接收组件不可见的时间长度。</p><p id="5bff" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">邮件保留期——邮件在亚马逊SQS队列中保留或不被删除的时间。</p><p id="e9d7" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">传递延迟—在将消息添加到队列后，您可以引入一个延迟，在一定时间内，任何组件都无法选取该特定消息。</p><p id="c1d9" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">最大消息大小—消息有效负载由256KB的文本组成，可以是任何格式。</p><p id="9714" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">接收消息等待时间—组件在返回空响应之前等待消息的时间。</p><figure class="lc ld le lf fd ii er es paragraph-image"><div class="er es ie"><img src="../Images/d4e92d9b3a47f60c72d4f4c7e8993279.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*xC8P2Q3f-g3mQ8NtuKU6EA.png"/></div></figure><p id="3425" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">您可以根据需要更改访问策略，但对于本演示，我们将继续使用默认策略。</p><figure class="lc ld le lf fd ii er es paragraph-image"><div class="er es ie"><img src="../Images/dfc7b17d3bdf47399dfae564b73de4d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*2-TfjtavJjhY-yWUSpZdAw.png"/></div></figure><p id="bd3b" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">让一切保持原样，最后，点击<strong class="jl hi">创建队列</strong></p><figure class="lc ld le lf fd ii er es paragraph-image"><div class="er es ie"><img src="../Images/530f73b4750f334d72ac2dc6b2fb434a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*XEh50q14CBW1qX2Jvk0ejQ.png"/></div></figure><p id="71b3" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">从仪表板中，您可以看到队列已经创建。</p><p id="94cf" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">现在我们已经有了一个队列，点击右上角的<strong class="jl hi">发送和接收消息</strong>，开始发送消息。</p><figure class="lc ld le lf fd ii er es paragraph-image"><div class="er es ie"><img src="../Images/9e49bbd7238d554c712d5736d4859a22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*QJ9WIT0sz8h7JRZoi03Hmg.png"/></div></figure><p id="95d6" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">在消息正文部分下键入消息。如果需要，添加延迟时间并编辑其他属性。</p><p id="7984" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">点击<strong class="jl hi">发送消息</strong></p><figure class="lc ld le lf fd ii er es paragraph-image"><div class="er es ie"><img src="../Images/fbc140ea1bd231cda28e1abdcdd50130.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*mm4FdcIXCkFMtSzEbyyz1Q.png"/></div></figure><p id="6246" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">现在，这条消息将被发送到您创建的队列中，一个消息ID将像这样在您的屏幕上弹出。</p><figure class="lc ld le lf fd ii er es paragraph-image"><div class="er es lg"><img src="../Images/b690ce4c3a5d6b60ac183dddf65bdb34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1180/format:webp/1*WdgA2tbQflDdAwSg9eSpKg.png"/></div></figure><p id="3136" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">要查看消息，向下滚动一点可以点击消息的投票。</p><p id="5f24" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">亚马逊SQS开始轮询服务器，寻找队列中的消息。<strong class="jl hi">接收消息</strong>部分右侧的进度条显示轮询持续时间。</p><figure class="lc ld le lf fd ii er es paragraph-image"><div class="er es ie"><img src="../Images/5f874240c1526cd9e42bf7e9f9c28984.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*Oyg30WYYjEvvA_pi_5gmkg.png"/></div></figure><p id="2d80" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">一旦轮询进度达到100%，您可以在接收消息部分查看您的消息。</p><figure class="lc ld le lf fd ii er es paragraph-image"><div class="er es ie"><img src="../Images/b9f5d85d588f7fcdd5e28643348a231d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*FbepPzYTvA8Eb6qWYu1nwA.png"/></div></figure><p id="fffc" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">点击消息ID查看消息正文<em class="lb">和</em>。</p><figure class="lc ld le lf fd ii er es paragraph-image"><div class="er es lh"><img src="../Images/bac51de86e0268f5cd6ec7426e1159e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:772/format:webp/1*ihcWVlmqHBWxqBo9RYuA0w.png"/></div></figure><p id="6972" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">您也可以通过切换到<em class="lb">详细信息</em>选项卡来查看消息详细信息。</p><figure class="lc ld le lf fd ii er es paragraph-image"><div class="er es li"><img src="../Images/e783d3e08df8b8ecf8747a31bb5dc5bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:770/format:webp/1*6meo4iIwPaiveqweyl7F-A.png"/></div></figure><h1 id="81f2" class="il im hh bd in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji bi translated"><strong class="ak"> EMR </strong></h1><p id="4d2b" class="pw-post-body-paragraph jj jk hh jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg ha bi translated">无论分析的术语是什么，在需要分析大数据的任何时候运行集群基础架构都是对资源的浪费。除非你有亚马逊电子病历。</p><p id="bc67" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">Amazon EMR(Amazon Elastic MapReduce)提供了一个托管的Apache Hadoop框架和其他用于大数据和数据分析的框架，这些框架将数据的计算分布在多个Amazon EC2实例上，允许开发人员处理大量的非结构化数据。</p><p id="0df8" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">为大数据计算任务配置和调配现场服务器既耗时又昂贵。因此，AWS所做的是将Hadoop框架的所有基础设施封装到一个集成环境中，以便您可以在几分钟内启动大型集群，并根据您的需求处理您的数据。</p><p id="9901" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">AWS EMR易于使用，因为用户可以开始将数据上传到S3桶。然后，用户可以在几分钟内配置并启动群集。</p><p id="70f7" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">Amazon EMR可用于构建各种应用程序，例如它为TensorFLow、Apache Spark MLib等可扩展的机器学习算法提供内置的机器学习工具</p><p id="d8d7" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">使用EMR笔记本，您将获得一个基于开源Jupyter的托管分析环境。</p><h1 id="4ffb" class="il im hh bd in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji bi translated"><strong class="ak">驱动力</strong></h1><p id="95aa" class="pw-post-body-paragraph jj jk hh jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg ha bi translated">Amazon kinesis是一项Amazon Web服务，它提供了一个实时、全面管理和可扩展的平台，可以轻松地从移动客户端、网站点击流、社交媒体源和各种事件等来源收集、处理和传输每秒数千兆字节的数据，如视频、音频、应用程序日志。以便您可以获得及时的见解，并对新信息做出快速反应。<em class="lb">网飞</em>，使用Kinesis监控其应用程序之间的所有通信，使其能够检测并快速解决任何技术问题。</p><p id="75c1" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">它有不同的子模块，</p><p id="efa7" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">Kinesis消防软管</p><p id="d2c9" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">运动学分析</p><p id="ca4c" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">Kinesis流</p><p id="6c44" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">亚马逊Kinesis Firehose使您能够将流数据加载到亚马逊Kinesis analytics、亚马逊S3、亚马逊红移和亚马逊弹性搜索服务中。Amazon Kinesis Analytics使您能够在流数据上编写标准的SQL查询。Amazon Kinesis Streams使您能够构建定制的应用程序来处理或分析特殊需求的流数据。</p><p id="59b3" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">有了amazon kinesis，你可以将数据传递给AWS上的任何其他服务，也许还可以将它用作发布-订阅系统，因为它非常容易上手，无需提供任何东西就可以推送数据。</p><p id="2ed9" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">Amazon Kinesis用于各种目的，如欺诈检测、live leader boards和应用程序监控，甚至来自嵌入式传感器、消费电器和电视机顶盒等物联网设备的流数据也可以使用Amazon Kinesis进行处理。</p><p id="eeb5" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated"><strong class="jl hi"> <em class="lb">欢迎来到AWS的大数据世界！！</em> </strong></p><p id="7108" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">如果你觉得这篇文章有帮助，请为它鼓掌</p><p id="18ac" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated"><em class="lb">谢谢！</em></p></div></div>    
</body>
</html>