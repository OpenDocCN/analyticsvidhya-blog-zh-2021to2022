<html>
<head>
<title>Airbnb data exploration, analysis and feature engineering</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Airbnb数据探索、分析和特征工程</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/airbnb-data-exploration-analysis-and-feature-engineering-edbb47bf115?source=collection_archive---------6-----------------------#2021-02-26">https://medium.com/analytics-vidhya/airbnb-data-exploration-analysis-and-feature-engineering-edbb47bf115?source=collection_archive---------6-----------------------#2021-02-26</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/07950eff3fa0d17ece2ace6b8e503e58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JQQU6SNYRdmpEEhgD6v8EQ.png"/></div></div></figure><p id="ab23" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">本文旨在开发一个基础来对Airbnb提供的数据进行分析。它演示了如何将废弃的数据公式化为有助于模型预测列表价格的特征。Airbnb，Inc .是一家美国度假租赁在线市场公司。Airbnb维护并托管着一个市场，消费者可以通过其网站或应用程序访问该市场。</p><p id="05bb" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这里是对<strong class="ir hi"> GitHub </strong>资源库的引用，该资源库提供了对Python笔记本和逐步文档的访问，以设置项目:<br/>【https://github.com/rafayullah/Airbnb】T4</p><h1 id="74fd" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">1.数据采集</h1><p id="dd6c" class="pw-post-body-paragraph ip iq hh ir b is km iu iv iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm ha bi translated"><a class="ae jn" href="http://insideairbnb.com/get-the-data.html" rel="noopener ugc nofollow" target="_blank">平台</a>托管Airbnb房源的更新数据。来自任何期望位置的数据可用于该项目，然而，该分析是基于波士顿的数据进行的。也可以使用来自多个位置的数据，并且可以使用pandas合并这些数据。</p><p id="eb6c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">请遵循GitHub <a class="ae jn" href="https://github.com/rafayullah/Airbnb" rel="noopener ugc nofollow" target="_blank">资源库</a>上提供的分步指南，获取如何下载该项目的数据的详细信息。</p><h1 id="4287" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">2.数据预处理</h1><p id="1f5f" class="pw-post-body-paragraph ip iq hh ir b is km iu iv iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm ha bi translated">为了有效地利用数据，必须应用相关的数据预处理技术。<br/>作为预处理的一部分，执行了以下操作:</p><ul class=""><li id="cd3a" class="kr ks hh ir b is it iw ix ja kt je ku ji kv jm kw kx ky kz bi translated">将日期转换为熊猫日期时间格式</li><li id="220c" class="kr ks hh ir b is la iw lb ja lc je ld ji le jm kw kx ky kz bi translated">从价格中移除货币符号并将其转换为连续数据类型Float，将有助于模型预测连续值</li><li id="1f19" class="kr ks hh ir b is la iw lb ja lc je ld ji le jm kw kx ky kz bi translated">删除一些功能的百分比符号，如接受率，将其转换为整数</li><li id="3e07" class="kr ks hh ir b is la iw lb ja lc je ld ji le jm kw kx ky kz bi translated">去除异常值，这一步骤主要是为了确保数据中出现的异常不会在我们的统计和建模中重复出现:</li></ul><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lf"><img src="../Images/9340eb534678afa179758176d5e1751a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TNlRWIgRbR0maVHQeduQFw.png"/></div></div><figcaption class="lk ll et er es lm ln bd b be z dx translated">该函数移除高于0.999和低于0.001的分位数，这确保不存在边界情况，如标价为0美元的虚假广告或价格值异常高的广告。对每种房间类型都执行此步骤。</figcaption></figure><h1 id="be48" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated"><strong class="ak"> 3。特征工程</strong></h1><p id="76f0" class="pw-post-body-paragraph ip iq hh ir b is km iu iv iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm ha bi translated">为了进一步增强功能集，需要解析一些列，例如，可以进一步处理和解析“host_verifications”和“市容”列，以用作有效的信息源。作为示例，以下是包含默认报废值的便利设施和主机验证栏:</p><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lo"><img src="../Images/5826fa9967de446757d4c97d5cf462ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pyIfQQtx3cC-Ug0fAJkN9w.png"/></div></div></figure><p id="6842" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在使用(get_unique_features和get_list_as_features)函数执行相关预处理后，我们检索到以下结果:</p><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lp"><img src="../Images/bc5b3eca3d7492a347c9b353a3ba7036.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IVpk6IAqwzSE1Wn4RD722g.png"/></div></div><figcaption class="lk ll et er es lm ln bd b be z dx translated">便利设施被解析为功能</figcaption></figure><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lq"><img src="../Images/b7add06723465ed14405c77a41eccb10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*shjbNa2rniBfWhzYGCpitw.png"/></div></div><figcaption class="lk ll et er es lm ln bd b be z dx translated">主机验证被解析为功能</figcaption></figure><p id="d65b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">此外，像主机验证功能一样，数据包含一些进一步描述主机的其他功能。一个这样的字段是“host_since”，这是广告张贴者加入平台的日期。通过计算主机在平台上的天数，我们可以增强功能。当我们执行评估时，让我们进一步了解它对模型的影响。</p><figure class="lg lh li lj fd ii er es paragraph-image"><div class="er es lr"><img src="../Images/6ab3ef817807e59734555e29097a229f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1020/format:webp/1*NbMvZcw3Zk1WhMY6anHs1Q.png"/></div><figcaption class="lk ll et er es lm ln bd b be z dx translated">主机在平台上的存在天数</figcaption></figure><h1 id="bf59" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">4.统计分析</h1><p id="2aee" class="pw-post-body-paragraph ip iq hh ir b is km iu iv iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm ha bi translated"><strong class="ir hi">以下是2020年全年的上市频率分布:</strong></p><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ls"><img src="../Images/c270c387a7f4d221aee5e44381b8dafb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ILwVQA8aPYnPVwa5u8QDtg.png"/></div></div></figure><p id="fb22" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">图中显示了全年挂牌的平均价格。它有一个每周发布在平台上的广告数量的计算平均值。</p><p id="9c49" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">现在让我们看看在一段时间内发布的列表数量和它们的平均价格之间是否存在相关性:</strong></p><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lt"><img src="../Images/71919407a51a25b1ee5fe6861f420450.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VB12pjGBzyvYxlackljHWQ.png"/></div></div><figcaption class="lk ll et er es lm ln bd b be z dx translated">计算数据集中每周的平均价格和列表总数</figcaption></figure><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lu"><img src="../Images/4e133041b60c2cc528f781c359b262b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JezvYdc0-a3FKFYrG7wvkw.png"/></div></div></figure><p id="4cee" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">图显示了列表数量和平均价格之间的相关性。随着列表数量的增加，列表的平均价格也相应增加。</p><p id="648b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">继续，波士顿是一个大城市，让我们想象一下波士顿不同社区对挂牌价格的影响:</strong></p><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lv"><img src="../Images/d3302e53675f1f79a88629ac592fff45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ol8sQSSPkjj-EJkbdQoC7g.png"/></div></div><figcaption class="lk ll et er es lm ln bd b be z dx translated">该数字代表整个住宅/公寓、私人房间、合住房间和邻近地区酒店房间的平均标价。平均而言，整个住宅/公寓的最高要价，许多社区没有合租和酒店房间的清单。</figcaption></figure><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lw"><img src="../Images/e7b3e9865550f9d5101c31433cb6b58a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3Vfm_d-NFvV6u3YjyCtH8Q.png"/></div></div><figcaption class="lk ll et er es lm ln bd b be z dx translated">就像不同房间类型的平均价格一样，上面的图表解释了不同社区的房源价格的平均偏差。这意味着在西罗克斯伯里附近，挂牌价波动最大。同样，海德公园的平均差异也是所有列表中最低的。</figcaption></figure><h1 id="ea4a" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">5.模特培训</h1><p id="3d59" class="pw-post-body-paragraph ip iq hh ir b is km iu iv iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm ha bi translated">在预处理、特征工程和将数据编码成各自的格式之后，我们像任何其他回归问题一样在训练和验证集中分割数据。</p><p id="6c63" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">出于这个项目的目的，我们使用XGBoost作为我们的模型。请注意，这个实验的目的不是为了达到更高的精确度，而是为问题建立一个管道和批判性思维。这些模型可以用不同的参数或模型替换:</p><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lx"><img src="../Images/fbfec31c4162c546c8870cf4adbf7e83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q9RsIvcs8wd9IqgyxQymxQ.png"/></div></div></figure><h1 id="8b30" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">6.模型评估</h1><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ly"><img src="../Images/9f90daec81db9750b6ce797a2938cf25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Rfyr3wTpgq_QW1-SuLyfoA.png"/></div></div><figcaption class="lk ll et er es lm ln bd b be z dx translated">训练集的模型性能(实际=蓝色，预测=橙色)</figcaption></figure><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lz"><img src="../Images/10e07f4f4dfd1881671739729e9c016f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JVmLU242VPa_yX5MQwUcMw.png"/></div></div><figcaption class="lk ll et er es lm ln bd b be z dx translated">验证集上的模型性能(实际=蓝色，预测=橙色)</figcaption></figure><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ma"><img src="../Images/b380a64ed57f1c6d76c6b53900b43a73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ouWoP9VmVwiBqOAoTvUuIQ.png"/></div></div><figcaption class="lk ll et er es lm ln bd b be z dx translated">功能重要性(查看GitHub笔记本上的完整图片)</figcaption></figure><p id="6d7b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">facebook、jumio、government_id等功能。可以清楚地看到，我们之前的推导有助于模型开发。</p><p id="b4d6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">注意:我们之前解析的功能集“便利设施”在这个模型中没有使用，但是您也可以尝试添加它。</p><h1 id="e535" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">7.未来模型改进</h1><p id="e9a8" class="pw-post-body-paragraph ip iq hh ir b is km iu iv iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm ha bi translated"><strong class="ir hi">情感分析</strong></p><p id="f11b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Airbnb数据还包括平台上呈现的列表的评论，在这个项目中，我已经包括了执行情感分析的方法。这可以进一步添加以提高模型性能。我使用Spacy的文本blob的目的是可以很容易地被取代。</p><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mb"><img src="../Images/fbfc3aab95ebd667ed8448dcae507915.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o5lb1n7gNjQ8sxhCWbT2wA.png"/></div></div><figcaption class="lk ll et er es lm ln bd b be z dx translated">Spacy也犯了错误，就像在第二张唱片中，由于单词“base”的存在，它使用了负极性。但总的来说，性能是可以接受的</figcaption></figure><p id="969c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">感谢您阅读文章，请随意使用为您的实验提供的repo。</p><div class="mc md ez fb me mf"><a href="https://github.com/rafayullah/Airbnb" rel="noopener  ugc nofollow" target="_blank"><div class="mg ab dw"><div class="mh ab mi cl cj mj"><h2 class="bd hi fi z dy mk ea eb ml ed ef hg bi translated">rafayullah/Airbnb</h2><div class="mm l"><h3 class="bd b fi z dy mk ea eb ml ed ef dx translated">Airbnb，Inc .是一家美国度假租赁在线市场公司。Airbnb维护并托管一个市场…</h3></div><div class="mn l"><p class="bd b fp z dy mk ea eb ml ed ef dx translated">github.com</p></div></div><div class="mo l"><div class="mp l mq mr ms mo mt in mf"/></div></div></a></div></div></div>    
</body>
</html>