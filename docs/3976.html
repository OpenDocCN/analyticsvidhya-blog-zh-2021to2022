<html>
<head>
<title>Also-View Recommendation System with Graph Theory</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">基于图论的同视推荐系统</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/also-view-recommendation-system-with-graph-theory-e2f098455519?source=collection_archive---------12-----------------------#2021-08-14">https://medium.com/analytics-vidhya/also-view-recommendation-system-with-graph-theory-e2f098455519?source=collection_archive---------12-----------------------#2021-08-14</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="c36d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">用图论建立推荐系统的一种有趣方法</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jc"><img src="../Images/dad7302b04390b16708cbbd3d65fddd0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*LgZwJuxV3uYPC3g7"/></div></div><figcaption class="jo jp et er es jq jr bd b be z dx translated">Benjamin Lizardo 在<a class="ae js" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="2078" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在实践中，大多数时候很难收集用户对特定项目的兴趣分数，有时我们可能没有额外的信息来构建推荐系统，如产品规格或用户的人口统计信息。例如，当我们需要为网页建立推荐模型时，我们只有用户的cookie id和他们访问的页面。我们可以使用聚类方法来建立一个基本的项目-项目推荐系统。</p><p id="9348" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为了构建一个也是视图的推荐系统，<strong class="ig hi">项目到项目推荐系统</strong>，我们可以使用聚类来实现该系统。有各种方法来构建基于聚类的推荐系统。在本例中，我们将使用网络分析基于movielen数据集对项目-项目图进行分区。</p></div><div class="ab cl jt ju go jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="ha hb hc hd he"><h2 id="8e8b" class="ka kb hh bd kc kd ke kf kg kh ki kj kk ip kl km kn it ko kp kq ix kr ks kt ku bi translated">资料组</h2><p id="dca4" class="pw-post-body-paragraph ie if hh ig b ih kv ij ik il kw in io ip kx ir is it ky iv iw ix kz iz ja jb ha bi translated">在本例中，我们将使用movielens数据集(ml-100k)。</p><p id="1eb9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">链接:<a class="ae js" href="https://grouplens.org/datasets/movielens/" rel="noopener ugc nofollow" target="_blank">https://grouplens.org/datasets/movielens/</a></p><h2 id="7e9c" class="ka kb hh bd kc kd ke kf kg kh ki kj kk ip kl km kn it ko kp kq ix kr ks kt ku bi translated"><strong class="ak"> GitHub </strong></h2><p id="ae4f" class="pw-post-body-paragraph ie if hh ig b ih kv ij ik il kw in io ip kx ir is it ky iv iw ix kz iz ja jb ha bi translated">Github链接:<a class="ae js" href="https://github.com/chiang9/Recommendation_system_pyspark/blob/main/network_analysis/network_analysis.ipynb" rel="noopener ugc nofollow" target="_blank">https://github . com/Chiang 9/re commendation _ system _ py spark/blob/main/network _ analysis/network _ analysis . ipynb</a></p></div><div class="ab cl jt ju go jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="ha hb hc hd he"><h1 id="abce" class="la kb hh bd kc lb lc ld kg le lf lg kk lh li lj kn lk ll lm kq ln lo lp kt lq bi translated">构建图表</h1><p id="275d" class="pw-post-body-paragraph ie if hh ig b ih kv ij ik il kw in io ip kx ir is it ky iv iw ix kz iz ja jb ha bi translated">在开始网络分析之前，我们首先需要从movielen数据集定义网络。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es lr"><img src="../Images/98acf76180332f6b649591639547ba40.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*qCTX3yQGAqlsvExanyFcWA.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx translated">图一。movielen样本数据</figcaption></figure><p id="1220" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为了建立物料到物料的网络，我们使用以下方法。</p><ol class=""><li id="0d93" class="ls lt hh ig b ih ii il im ip lu it lv ix lw jb lx ly lz ma bi translated">如果用户对项目评分，则在项目-用户之间建立优势</li><li id="603c" class="ls lt hh ig b ih mb il mc ip md it me ix mf jb lx ly lz ma bi translated">复制项目节点并连接到相应的用户</li><li id="927c" class="ls lt hh ig b ih mb il mc ip md it me ix mf jb lx ly lz ma bi translated">如果用户对两个项目都进行评分，则在两个项目之间建立边缘</li><li id="8df8" class="ls lt hh ig b ih mb il mc ip md it me ix mf jb lx ly lz ma bi translated">(可选)使用等级值计算边的权重</li><li id="c785" class="ls lt hh ig b ih mb il mc ip md it me ix mf jb lx ly lz ma bi translated">丢弃用户节点</li></ol><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es mg"><img src="../Images/9fed3ef2175c2515027394486f04f545.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1bgtb9a01YQTFyfWU1_h9Q.jpeg"/></div></div><figcaption class="jo jp et er es jq jr bd b be z dx translated">图二。构建图表</figcaption></figure><p id="f01c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">从上面的例子中，用户1评价项目{A，B，C}，我们在{(AB)，(BC)，(AC)}之间建立边。用户2评价项目{A，B}，我们在{(AB)}之间建立边。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es mh"><img src="../Images/f9f7bdfcd701fa4f240fb634f6ebb7e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F0NBkCsES9D7EwCx4iiuvA.jpeg"/></div></div><figcaption class="jo jp et er es jq jr bd b be z dx translated">图3。构建图表</figcaption></figure><p id="2c81" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在我们的示例中，我们将边的权重指定为对同一对项目进行评级的用户数量。</p><pre class="jd je jf jg fd mi mj mk ml aw mm bi"><span id="ba43" class="ka kb hh mj b fi mn mo l mp mq">Weight = {<br/>(A,B): 2,<br/>(A,C): 1,<br/>(B,C): 1<br/>}</span></pre></div><div class="ab cl jt ju go jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="ha hb hc hd he"><h1 id="da12" class="la kb hh bd kc lb lc ld kg le lf lg kk lh li lj kn lk ll lm kq ln lo lp kt lq bi translated">入门指南</h1><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="mr ms l"/></div></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es mt"><img src="../Images/4a46f80608e0a24b27f876e5b4370667.png" data-original-src="https://miro.medium.com/v2/resize:fit:802/format:webp/1*JeGWnC30JSpCTjD-xQNA0w.png"/></div></figure><p id="a0a5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为了构建项目-项目网络图，我们首先通过<strong class="ig hi"> userid </strong>对数据进行分组，并为相应的用户生成项目列表。接下来，我们通过生成itemid列表的组合来构建边。在本练习中，我们将边权重设置为对同一对进行评级的用户数量。</p><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="mr ms l"/></div></figure><pre class="jd je jf jg fd mi mj mk ml aw mm bi"><span id="1472" class="ka kb hh mj b fi mn mo l mp mq">174005<br/>[(1, 6, 2), (1, 9, 20), (1, 12, 24), (1, 13, 5), (1, 14, 11)]</span></pre><p id="7f8d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">接下来，我们使用<strong class="ig hi"> networkx构建图表。</strong></p><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="mr ms l"/></div></figure><pre class="jd je jf jg fd mi mj mk ml aw mm bi"><span id="2696" class="ka kb hh mj b fi mn mo l mp mq">Total number of graph nodes: 1172<br/>Total number of graph edges: 174005<br/>Average node degree: 296.94<br/>Number of communities: 4</span></pre><p id="4bd8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在，我们可以在集群中看到所有电影的类别。</p><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="mr ms l"/></div></figure><pre class="jd je jf jg fd mi mj mk ml aw mm bi"><span id="32de" class="ka kb hh mj b fi mn mo l mp mq">[['Animation', "Children's", 'Comedy'],<br/> ['Drama'],<br/> ['Drama', 'Thriller'],<br/> ['Action', 'Adventure', 'Romance', 'Sci-Fi', 'War'],<br/> ['Crime', 'Drama', 'Romance', 'Thriller'],<br/> ['Drama'],<br/> ['Action', 'Adventure', 'Sci-Fi'],<br/> ['Drama'],<br/> ['Action', 'Sci-Fi', 'Thriller'],<br/> ['Comedy', 'Sci-Fi'],<br/> ['Comedy', 'Romance'],<br/> ['Documentary'],<br/> ['Action', 'Adventure', 'Drama', 'Romance', 'Sci-Fi', 'War'],<br/> ['Action', 'Adventure', 'Comedy', 'Romance'],<br/> ['Action', 'Adventure'],<br/> ['Action', 'Sci-Fi', 'Thriller', 'War'],<br/> ['Action', 'Adventure', 'Romance', 'Sci-Fi', 'War'],<br/> ['Action', 'Sci-Fi', 'Thriller'],<br/> ['Drama'],<br/> ['Comedy', 'Romance'],<br/> ['Comedy', 'Sci-Fi'],<br/> ['Comedy', 'Romance'],<br/>....<br/>]</span></pre><p id="ead9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">第一个集群主要包含<strong class="ig hi">动作片、剧情片</strong>和<strong class="ig hi">冒险片</strong>。</p></div><div class="ab cl jt ju go jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="ha hb hc hd he"><h1 id="43bb" class="la kb hh bd kc lb lc ld kg le lf lg kk lh li lj kn lk ll lm kq ln lo lp kt lq bi translated">结论</h1><p id="9a2e" class="pw-post-body-paragraph ie if hh ig b ih kv ij ik il kw in io ip kx ir is it ky iv iw ix kz iz ja jb ha bi translated">使用图论的基于聚类的推荐可能不是构建推荐系统的完美解决方案，但它能够在降低数据集的复杂性方面提供一个良好的开端，并且可以作为一种特征工程技术嵌入到其他推荐系统应用中。</p><p id="0fd0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">感谢您的阅读，祝您有美好的一天。</p></div></div>    
</body>
</html>