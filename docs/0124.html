<html>
<head>
<title>Generating synthetic dataset for object detection</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">生成用于对象检测的合成数据集</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/generating-synthetic-dataset-for-object-detection-cbf6a17fa47d?source=collection_archive---------7-----------------------#2021-01-05">https://medium.com/analytics-vidhya/generating-synthetic-dataset-for-object-detection-cbf6a17fa47d?source=collection_archive---------7-----------------------#2021-01-05</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="f346" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">使用OpenCV生成文本本地化数据集，用于训练对象检测模型(更快的R-CNN)并在真实数据集上评估该模型</p></div><div class="ab cl jc jd go je" role="separator"><span class="jf bw bk jg jh ji"/><span class="jf bw bk jg jh ji"/><span class="jf bw bk jg jh"/></div><div class="ha hb hc hd he"><p id="f927" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">数据目前是深度学习的主要限制因素。好的数据来之不易。收集和标记数据是艰苦的体力劳动。这是昂贵的，耗时的和困难的。</p><blockquote class="jj jk jl"><p id="31d5" class="ie if jm ig b ih ii ij ik il im in io jn iq ir is jo iu iv iw jp iy iz ja jb ha bi translated">不是谁的算法最好谁就赢了。而是谁拥有最多的数据</p><p id="974e" class="ie if jm ig b ih ii ij ik il im in io jn iq ir is jo iu iv iw jp iy iz ja jb ha bi translated">吴恩达</p></blockquote><p id="9bbd" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这个问题的一个“次优”解决方案是以编程方式生成合成数据。假数据无疑不如真实数据。然而，在缺乏或缺乏真实数据的情况下，这是最好的选择。</p><h2 id="dd10" class="jq jr hh bd js jt ju jv jw jx jy jz ka ip kb kc kd it ke kf kg ix kh ki kj kk bi translated">介绍</h2><p id="e7c6" class="pw-post-body-paragraph ie if hh ig b ih kl ij ik il km in io ip kn ir is it ko iv iw ix kp iz ja jb ha bi translated">在本文中，我将使用detectron2构建一个对象检测模型，用于检测招牌上的英语和阿拉伯语文本。典型地，为了建立多类对象检测模型，我们每类需要大约300幅训练图像。通过批量下载图像并手动标记来创建这样的数据集将需要大约6个小时的人工工作。这可能会给我们最好的结果。出于实验目的，我决定不采用这种方法。相反，我以编程方式创建了一个合成数据集。</p><p id="2ec0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">合成数据集包括矩形或圆形的“告示牌”，带有一些英语或阿拉伯语文本，随机放置在背景图像上。文本的边界框坐标也可用于每个图像。</p><figure class="kr ks kt ku fd kv er es paragraph-image"><div class="er es kq"><img src="../Images/4919e14674b513d94b6ffb42f6d96f99.png" data-original-src="https://miro.medium.com/v2/resize:fit:634/format:webp/1*vdHd2REho6zJ8hL1FMi0JQ.png"/></div></figure><h2 id="574f" class="jq jr hh bd js jt ju jv jw jx jy jz ka ip kb kc kd it ke kf kg ix kh ki kj kk bi translated"><em class="ky">方法:</em></h2><ol class=""><li id="f685" class="kz la hh ig b ih kl il km ip lb it lc ix ld jb le lf lg lh bi translated">为阿拉伯语和英语文本创建包含图像和边界框坐标的合成数据集。</li><li id="347f" class="kz la hh ig b ih li il lj ip lk it ll ix lm jb le lf lg lh bi translated">在合成数据集上训练更快的RCNN模型</li><li id="acad" class="kz la hh ig b ih li il lj ip lk it ll ix lm jb le lf lg lh bi translated">收集一些英语和阿拉伯语标牌的真实例子，并对模型进行评估</li></ol><h2 id="7416" class="jq jr hh bd js jt ju jv jw jx jy jz ka ip kb kc kd it ke kf kg ix kh ki kj kk bi translated">合成数据集</h2><p id="6aec" class="pw-post-body-paragraph ie if hh ig b ih kl ij ik il km in io ip kn ir is it ko iv iw ix kp iz ja jb ha bi translated">创建数据集涉及的步骤:</p><ol class=""><li id="ac78" class="kz la hh ig b ih ii il im ip ln it lo ix lp jb le lf lg lh bi translated">选择招牌形状</li><li id="397a" class="kz la hh ig b ih li il lj ip lk it ll ix lm jb le lf lg lh bi translated">选择一个阿拉伯语和英语短语—随机选择1-4个单词，组成一个短语</li><li id="bf8c" class="kz la hh ig b ih li il lj ip lk it ll ix lm jb le lf lg lh bi translated">创建标志牌—选择标志牌上文本的字体和位置</li><li id="8d1f" class="kz la hh ig b ih li il lj ip lk it ll ix lm jb le lf lg lh bi translated">选择纹理—在招牌上覆盖纹理</li><li id="d3b3" class="kz la hh ig b ih li il lj ip lk it ll ix lm jb le lf lg lh bi translated">选择背景图像</li><li id="5d8e" class="kz la hh ig b ih li il lj ip lk it ll ix lm jb le lf lg lh bi translated">选择缩放、旋转、将图像放在背景上</li></ol><figure class="kr ks kt ku fd kv er es paragraph-image"><div class="er es lq"><img src="../Images/d9c37b82f186962824b7726eddcc8599.png" data-original-src="https://miro.medium.com/v2/resize:fit:878/format:webp/1*zpnoUg55_02WsOs55IrY8A.png"/></div></figure><figure class="kr ks kt ku fd kv er es paragraph-image"><div class="er es lr"><img src="../Images/d0d823996d8ad6525b6e5a555c2d8fc9.png" data-original-src="https://miro.medium.com/v2/resize:fit:874/format:webp/1*9sdqjjGChTcI2sJ7FiDgyg.png"/></div><figcaption class="ls lt et er es lu lv bd b be z dx translated">虚假图像</figcaption></figure><h2 id="297a" class="jq jr hh bd js jt ju jv jw jx jy jz ka ip kb kc kd it ke kf kg ix kh ki kj kk bi translated">训练更快的R-CNN</h2><p id="2ecf" class="pw-post-body-paragraph ie if hh ig b ih kl ij ik il km in io ip kn ir is it ko iv iw ix kp iz ja jb ha bi translated">脸书的detectron2软件包可用于快速训练和评估对象检测模型。查看<a class="ae lw" href="https://github.com/kvsnoufal/signboard_text_detection" rel="noopener ugc nofollow" target="_blank"> github </a>上的培训脚本，了解完整实施。</p><h2 id="0011" class="jq jr hh bd js jt ju jv jw jx jy jz ka ip kb kc kd it ke kf kg ix kh ki kj kk bi translated"><strong class="ak">评测</strong></h2><p id="45e1" class="pw-post-body-paragraph ie if hh ig b ih kl ij ik il km in io ip kn ir is it ko iv iw ix kp iz ja jb ha bi translated">在一些真实图像上评估模型:</p><figure class="kr ks kt ku fd kv er es paragraph-image"><div class="er es lx"><img src="../Images/d5b9916449ad2c5f97c0090751cd3eba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1156/format:webp/1*Kqs1ctJl7zwdAkJHBHLkCQ.png"/></div><figcaption class="ls lt et er es lu lv bd b be z dx translated">真实数据上的快速R-CNN评估</figcaption></figure><figure class="kr ks kt ku fd kv er es paragraph-image"><div class="er es ly"><img src="../Images/f16493845237e739bc9d84dc5566dff2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1158/format:webp/1*fm-7XNOW_jdq6dl8NJjv9Q.png"/></div><figcaption class="ls lt et er es lu lv bd b be z dx translated">真实数据上的快速R-CNN评估</figcaption></figure><p id="6ee9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">对于这个小评估来说，这似乎做得相当不错。</p><p id="d254" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">尽管合成数据如此明显地粗糙、仓促拼凑并且明显是假的，该模型仍然设法从中学习基本的文本本地化。它能够检测我们测试的真实图像中的文本，并正确地对它们进行分类。</p><blockquote class="jj jk jl"><p id="d662" class="ie if jm ig b ih ii ij ik il im in io jn iq ir is jo iu iv iw jp iy iz ja jb ha bi translated">请注意，我没有遵循任何科学方法来确保这些结果的无偏性或统计相关性。这不是一个学术研究，只是一个轶事。通常，合成数据用于增加和平衡真实生活数据集，而不是取代它们。</p></blockquote><p id="15c4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我的<a class="ae lw" href="https://github.com/kvsnoufal/signboard_text_detection" rel="noopener ugc nofollow" target="_blank"> github </a>上有完整的代码。</p><h2 id="8be0" class="jq jr hh bd js jt ju jv jw jx jy jz ka ip kb kc kd it ke kf kg ix kh ki kj kk bi translated"><strong class="ak">巨人的肩膀:</strong></h2><ol class=""><li id="4116" class="kz la hh ig b ih kl il km ip lb it lc ix ld jb le lf lg lh bi translated">https://www.youtube.com/watch?v=pnntrewH0xg与YOLO<a class="ae lw" href="https://www.youtube.com/watch?v=pnntrewH0xg" rel="noopener ugc nofollow" target="_blank">的扑克牌检测</a></li><li id="ce01" class="kz la hh ig b ih li il lj ip lk it ll ix lm jb le lf lg lh bi translated">探测器2:<a class="ae lw" href="https://github.com/facebookresearch/detectron2" rel="noopener ugc nofollow" target="_blank">https://github.com/facebookresearch/detectron2</a></li><li id="6b42" class="kz la hh ig b ih li il lj ip lk it ll ix lm jb le lf lg lh bi translated"><a class="ae lw" href="https://towardsdatascience.com/object-detection-in-6-steps-using-detectron2-705b92575578" rel="noopener" target="_blank">https://towards data science . com/object-detection-in-6-steps-using-detector 2-705 b 92575578</a></li></ol></div><div class="ab cl jc jd go je" role="separator"><span class="jf bw bk jg jh ji"/><span class="jf bw bk jg jh ji"/><span class="jf bw bk jg jh"/></div><div class="ha hb hc hd he"><h2 id="bf38" class="jq jr hh bd js jt ju jv jw jx jy jz ka ip kb kc kd it ke kf kg ix kh ki kj kk bi translated"><strong class="ak">关于作者</strong></h2><blockquote class="jj jk jl"><p id="5d99" class="ie if jm ig b ih ii ij ik il im in io jn iq ir is jo iu iv iw jp iy iz ja jb ha bi translated"><em class="hh">我在阿联酋迪拜控股公司工作，是一名数据科学家。你可以在kvsnoufal@gmail.com联系我或者在https://www.linkedin.com/in/kvsnoufal/联系我</em></p></blockquote></div></div>    
</body>
</html>