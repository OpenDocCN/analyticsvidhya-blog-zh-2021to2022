<html>
<head>
<title>Different metrics to evaluate the performance of a Machine Learning model</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">评估机器学习模型性能的不同指标</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/different-metrics-to-evaluate-the-performance-of-a-machine-learning-model-90acec9e8726?source=collection_archive---------6-----------------------#2021-03-14">https://medium.com/analytics-vidhya/different-metrics-to-evaluate-the-performance-of-a-machine-learning-model-90acec9e8726?source=collection_archive---------6-----------------------#2021-03-14</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/009a3c037b693033e47c815e7b1fbc97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XO3sOjsr7wZT6TrgFAdwmw.jpeg"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">由www.freepik.com的T2设计的弗里皮克设计的</figcaption></figure><p id="2e1c" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">在本文中，我们将了解性能指标的含义，机器学习模型的各种性能指标是什么，我们还将讨论它们的优点和缺点。</p><p id="a81a" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">为了理解性能指标的含义，我想举一个游泳比赛的例子。在这里，所有的参赛者都要游过游泳池的长度，以尽快到达终点。因此，我们可以说，游泳运动员的成绩衡量标准是他/她到达终点所用的时间，时间越短，运动员的成绩越好。但是，如果我们谈论一场90分钟长的足球比赛，那么时间就是制约因素，而不是性能指标。足球比赛中的表现指标是进球数量，越高越好。现在，你可以看到指标是如何根据情况变化的。同样，对于机器学习中不同的问题陈述，我们有不同的性能指标。那么机器学习中的性能度量是什么意思呢？嗯，性能指标是模型在看不见的数据集上表现如何的度量。通常，在将整个数据集分别以80:20的比例分成训练和测试数据集之后，测量性能，即数据集的80%用于训练，其余20%用于测试。</p><p id="6f54" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">选择正确的指标与选择正确的机器学习算法同等重要，这样即使在部署后，模型的性能也不会下降。因此，为了选择正确的指标，我们需要知道每个指标的优缺点以及何时使用什么指标。首先，我们将把重点放在分类任务上，然后我们将看看哪个指标适合于回归任务。</p><blockquote class="jt ju jv"><p id="41d9" class="iv iw jw ix b iy iz ja jb jc jd je jf jx jh ji jj jy jl jm jn jz jp jq jr js ha bi translated">我们将了解以下指标:</p><p id="15df" class="iv iw jw ix b iy iz ja jb jc jd je jf jx jh ji jj jy jl jm jn jz jp jq jr js ha bi translated">准确(性)</p><p id="2595" class="iv iw jw ix b iy iz ja jb jc jd je jf jx jh ji jj jy jl jm jn jz jp jq jr js ha bi translated">混淆矩阵</p><p id="274d" class="iv iw jw ix b iy iz ja jb jc jd je jf jx jh ji jj jy jl jm jn jz jp jq jr js ha bi translated">精确度、召回率和F1分数</p><p id="db2f" class="iv iw jw ix b iy iz ja jb jc jd je jf jx jh ji jj jy jl jm jn jz jp jq jr js ha bi translated">ROC和AUC</p><p id="6d3e" class="iv iw jw ix b iy iz ja jb jc jd je jf jx jh ji jj jy jl jm jn jz jp jq jr js ha bi translated">原木损失</p><p id="ad61" class="iv iw jw ix b iy iz ja jb jc jd je jf jx jh ji jj jy jl jm jn jz jp jq jr js ha bi translated">r或决定系数</p><p id="ad1d" class="iv iw jw ix b iy iz ja jb jc jd je jf jx jh ji jj jy jl jm jn jz jp jq jr js ha bi translated">误差的中值绝对偏差</p><p id="7910" class="iv iw jw ix b iy iz ja jb jc jd je jf jx jh ji jj jy jl jm jn jz jp jq jr js ha bi translated">误差分布</p></blockquote><h1 id="741d" class="ka kb hh bd it kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated"><strong class="ak">用于分类任务的指标！</strong></h1><p id="9695" class="pw-post-body-paragraph iv iw hh ix b iy kx ja jb jc ky je jf jg kz ji jj jk la jm jn jo lb jq jr js ha bi translated">分类问题可以用两种方法解决。首先通过使用类别标签，其次通过使用概率分数。</p><p id="6cca" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">考虑具有肯定和否定类别的二元分类。</p><h1 id="d32b" class="ka kb hh bd it kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">1.准确(性)</h1><p id="8e42" class="pw-post-body-paragraph iv iw hh ix b iy kx ja jb jc ky je jf jg kz ji jj jk la jm jn jo lb jq jr js ha bi translated">它被定义为正确分类的点的总数与测试数据集中的点的总数的比率。</p><p id="a831" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">它总是介于0和1(包括0和1)之间，0是最差的精度，1是最好的精度。</p><p id="dbe1" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">再次考虑足球比赛，假设一名球员试图在提供10次机会的情况下尽可能多地得分。如果球员设法打进10个球中的6个，那么准确率就是6/10，即60%。</p><p id="9b20" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">类似地，为了确定机器学习模型的准确性，假设我在测试数据集中有100个点，其中60个点属于正面类，40个点属于负面类。现在模型预测53点为正点，35点为负点。在通过模型将所有正确分类的点相加之后，我们得到总共88个正确分类的点，这意味着我们的模型的准确度是88%。</p><p id="4e1b" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated"><strong class="ix hi">优势:</strong></p><p id="6883" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">这是最容易理解的指标之一。</p><p id="f26f" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated"><strong class="ix hi">弊端:</strong></p><p id="7112" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">1)不平衡的数据集</p><p id="c7e8" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">在测试数据集中的100个点中，有95个点属于正面类，只有5个点属于负面类。假设我有一个哑模型，它只预测点在一个正类中。在这里，我们可以看到，即使是一个哑模型也可以获得95%的准确率，这显然是不明智的。因此，当我们有一个不平衡的数据集时，我们不应该使用准确性作为衡量标准。</p><p id="38d0" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">2)准确性不能用概率得分。</p><p id="d985" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">假设我们有两个模型进行比较，这两个模型返回属于特定类别的点的概率分数，那么准确度仅给出该点所属的类别及其属于该类别的概率。</p><p id="c98d" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">例如，真实类别标签为正，模型1给出该点属于正类别的概率为0.9，而模型2给出的概率为0.6。现在，如果我们使用准确性作为性能的衡量标准，那么两个模型都会将该点分类为积极类，但是从概率得分来看，很明显模型1比模型2好。</p><p id="1355" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">因此，如果模型返回属于特定类的点的概率分数，则不要使用精度度量。</p><h1 id="43c9" class="ka kb hh bd it kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">2)混淆矩阵</h1><p id="e496" class="pw-post-body-paragraph iv iw hh ix b iy kx ja jb jc ky je jf jg kz ji jj jk la jm jn jo lb jq jr js ha bi translated">在我们继续之前，请记住这些缩写:</p><p id="3e64" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">I) TP:真阳性</p><p id="bb30" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">II) FP:假阳性</p><p id="01d3" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">III) FN:假阴性</p><p id="d3bf" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">IV) TN:真阴性</p><p id="67af" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">V) TPR:真阳性率</p><p id="b30f" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">㈥TNR:实际负利率</p><p id="0410" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">㈦FPR:假阳性率</p><p id="b6de" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">VIII) FNR:假阴性率</p><p id="4673" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">我们将再次考虑二元分类任务，其中我们有两种可能性，即0(负类)和1(正类)。</p><p id="4f49" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">所以我们创建了一个大小为2x2的矩阵。混淆矩阵的局限性在于它不能处理概率分数。</p><figure class="ld le lf lg fd ii er es paragraph-image"><div class="er es lc"><img src="../Images/7711978cdbc72b82b6ed7d394783d028.png" data-original-src="https://miro.medium.com/v2/resize:fit:1380/format:webp/1*hBaXZRdufq0lODayyPfn2w.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated">混淆矩阵</figcaption></figure><p id="af85" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">给定xᵢ's和Yᵢ's，该模型预测yᵢ's属于其中一个类别标签。</p><figure class="ld le lf lg fd ii er es paragraph-image"><div class="er es lh"><img src="../Images/cf9210fc2fbb7665f3d43272c2e24597.png" data-original-src="https://miro.medium.com/v2/resize:fit:126/format:webp/1*acRv3R-HAsRxF1KHel0Nmg.png"/></div></figure><p id="27b7" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">矩阵:</p><figure class="ld le lf lg fd ii er es paragraph-image"><div class="er es li"><img src="../Images/a3b8fb9cba844868c6d5ad2a01fe04c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:92/format:webp/1*ZruIcBmFM_-3Uj4IKwd6jg.png"/></div></figure><p id="a37f" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">对于多类分类(“c”类数)，我们有cxc混淆矩阵。</p><p id="03a5" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">如果模型是合理的，则主对角线值应该很高，理想情况下非对角线值应该为零。</p><p id="79e0" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">对于二进制分类，该矩阵的每个单元被赋予一个名称:</p><p id="3e94" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">在这里，我们大多数人都被术语搞糊涂了，所以这里有一个简单的技巧来记住它。我们把TN看成两个不同的部分。第二部分(N)暗示“模型预测的标签是什么”,第一部分(T)验证该预测。因此，在这种情况下，模型预测了负类标签，并且它实际上为真，这意味着它被正确分类。</p><p id="777a" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">FP也被称为<strong class="ix hi">1型误差</strong>，FN也被称为<strong class="ix hi">2型误差</strong>。</p><p id="2c41" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">在理解4个比率之前，先介绍几个术语是很重要的。</p><p id="9ec2" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">FN和TP之和称为“<strong class="ix hi">总阳性数(P) </strong></p><p id="1844" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">TN和FP之和称为“<strong class="ix hi">底片总数(N) </strong></p><p id="0aed" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">n(总点数)= P + N。</p><p id="799e" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">a) <strong class="ix hi">真阳性率</strong> = TP/P</p><p id="efdd" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">b) <strong class="ix hi">真阴性率(TNR) </strong> = TN/N</p><p id="25df" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">c) <strong class="ix hi">假阳性率(FPR) </strong> = FP/N</p><p id="a531" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">d) <strong class="ix hi">假阴性率</strong> = FN/P</p><p id="c4fa" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">让我们以具有1000个点的不平衡测试数据集为例，其中900个点属于负类，只有100个点属于正类。在构造混淆矩阵时，它具有:</p><p id="986a" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">现在让我们看看前面讨论的4个比率，这是一个合理的模型。</p><p id="51b7" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">TPR = 94/100 = 94%</p><p id="f964" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">TNR = 850/900 = 94.44%</p><p id="2931" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">FPR = 50/900 = 5.55%</p><p id="e5f8" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">FNR = 6/100 = 6%</p><p id="b67f" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">现在让我们再次看看这4个比率，但是对于一个哑模型，它预测每个点都是负类。</p><p id="6af3" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">TPR = 0/100 = 0%</p><p id="f3b0" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">TNR = 900/900 = 100%</p><p id="bdbc" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">FPR = 0/900 = 0%</p><p id="60d0" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">FNR = 100/100 = 100%</p><p id="d77c" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">理想情况下，我们希望TPR和TNR是高比率，FPR，FNR是低比率，但从这种情况下，我们看到有猫腻。因此，与准确性不同，混淆矩阵和这4个比率可以帮助我们了解我们的模型的性能，即使数据集不平衡。</p><p id="f948" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">现在你一定在想，不要只看一个数字，你必须分析4个不同的比率，你可能会想，哪一个对你来说重要，什么时候重要。让我告诉你，这是非常具体的领域。</p><p id="b4ef" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">让我们以一个医疗应用为例，该模型诊断一个人是否患有癌症。鉴于此人患有癌症，模型应将其归类为TP，因此TPR必须非常高。假设此人患有癌症，模型将其分类为FN，因此FNR必须接近零(理想情况下为0)。假设这个人没有癌症，而模型预测他/她患有癌症，那么FPR将会很高。这是可以的，因为这个人可以进行进一步的有力测试，以确定他/她没有癌症。因此，在这种情况下，模型不能错过癌症患者，因此FNR成为一个非常重要的比率。</p><h1 id="a23b" class="ka kb hh bd it kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">3)精确度、召回率和F1分数</h1><figure class="ld le lf lg fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lj"><img src="../Images/82da9a3474270b5cdff9e75bec2e9592.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RbaGzAt21ZYTzz7GarooZA.jpeg"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated"><strong class="bd it">由弗里皮克</strong><a class="ae iu" href="http://www.freepik/" rel="noopener ugc nofollow" target="_blank">www.freepik.com</a>设计</figcaption></figure><p id="dd76" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">精确度和召回率主要用于信息检索，它们只关心正面的类别标签。例如，谷歌搜索有大量的信息，但根据用户的查询只显示相关信息。</p><p id="bda5" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated"><strong class="ix hi">精度</strong> <strong class="ix hi"> = TP / (TP + FP) </strong></p><p id="1e25" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">精度也叫<strong class="ix hi">正预测值</strong>。</p><p id="d650" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">它意味着在模型预测为正的所有点中，有多少百分比实际上是正的。应该一直很高。它介于0和1之间。</p><p id="a8c9" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated"><strong class="ix hi">回忆= TPR = TP / (TP + FN) = TP / P </strong></p><p id="0cc9" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">它意味着在实际上属于正类的所有点中，有多少百分比的模型被检测为正类。应该一直很高。它介于0和1之间。</p><p id="e8f0" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">根据问题陈述使用精确或召回。让我给你举个例子:</p><figure class="ld le lf lg fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lk"><img src="../Images/21a4b124523fbcb89d70d78beb08439a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*YtbaT136NQcVACK_"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">斯蒂芬·菲利普斯-Hostreviews.co.uk在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="d448" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">a)假设您正在处理一个垃圾邮件检测问题，其中错误地对一封电子邮件进行了分类，即如果该电子邮件不是垃圾邮件，但模型将其分类为垃圾邮件，那么这将会给您带来麻烦，因为这对公司来说是非常昂贵的。这里应该敏锐地观察假阳性，因为它有更大的影响，所以精确度在这里变得很重要。</p><p id="c0e3" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">b)假设您正在处理一个癌症检测问题，其中无法预测癌症患者的癌症将会危及患者的生命。这里应该敏锐地观察到假阴性，因为它有更大的影响，所以在这种情况下回忆变得很重要。</p><p id="88f8" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">当FP和FN的影响同等重要时，有一种方法可以将精确度和召回率结合到一个称为F1-Score的度量中。</p><figure class="ld le lf lg fd ii er es paragraph-image"><div class="er es ll"><img src="../Images/00f5b9e0733f513fe8119857281f10a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:572/format:webp/1*XjlJrSmHrSnTAUM7xCYpCg.png"/></div></figure><p id="7523" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">现在你可能想知道这个指标是从哪里来的。让我告诉你，它只是精度和回忆的平均值，取它的倒数。如果我用更数学的方式来说，它是精确和回忆的调和平均值。</p><figure class="ld le lf lg fd ii er es paragraph-image"><div class="er es lm"><img src="../Images/e6d8f0fbd04d22694f0978526b821f6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:942/format:webp/1*d2uYPRY2E42Ck-KLfE_vQQ.png"/></div></figure><p id="a064" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">如果精确度和召回率都很高，f1-得分很高。它也位于0和1之间。这种度量标准经常在Kaggle比赛中使用。</p><p id="173a" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">F_β是一个更一般化的分数，可以根据β值进行调整。</p><figure class="ld le lf lg fd ii er es paragraph-image"><div class="er es ln"><img src="../Images/ce54cd1a1585275d1bc8fcfbd1d408cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:678/format:webp/1*sQt_orzuMw8si1A-4xr6iw.png"/></div></figure><p id="ce45" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">有三种情况:</p><p id="42a3" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">a)当FN和FP影响相等时，选择β = 1。所以这就变成了F1-Score。</p><p id="3def" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">b)当FN的影响更大时，选择β= 0.5(0到1之间的任何值，通常选择0.5)。所以这就变成了F0.5分。</p><p id="66e9" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">c)当FP的影响较大时，选择β = 1。所以这就成了F2分。</p><h1 id="6030" class="ka kb hh bd it kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">4) ROC和AUC</h1><p id="57df" class="pw-post-body-paragraph iv iw hh ix b iy kx ja jb jc ky je jf jg kz ji jj jk la jm jn jo lb jq jr js ha bi translated">接收器工作特性曲线(ROC)在第二次世界大战期间由电子和无线电工程师设计，用于预测他们的导弹工作情况。机器学习从物理、统计、电子和许多其他领域获取所有这些好的概念来解决现实世界的问题。这主要用于二进制分类，然而，有一个不常用的多类分类的扩展。因此，对于二元分类，该模型预测一些分数，如在0到1范围内的概率分数。分数越高，它属于积极类的机会就越高。AUC只不过是曲线下的<strong class="ix hi">区域，其范围也在0和1之间。</strong></p><figure class="ld le lf lg fd ii er es paragraph-image"><div class="er es lo"><img src="../Images/a1cd0c79b05220d1fa2bcaee6565f710.png" data-original-src="https://miro.medium.com/v2/resize:fit:818/format:webp/1*7wENrjoX_Dc-JVVKcgFsFg.jpeg"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated">比较两种机器学习模型</figcaption></figure><p id="11e7" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">从上图可以清楚地看出，具有ROC-1曲线的模型1比具有ROC-2曲线的模型2好得多。</p><p id="b7e7" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">让我们看看窗帘背后的魔力。首先以降序对预测得分进行排序，并选择与该排序列表中的模型的第一预测得分相同的阈值(τ),并将查询点分类到两个类别之一(肯定或否定)。计算τ₁.的FPR和TPR对所有n个点重复该过程，以获得n个不同的FPR和TPR。在获得FPR和TPR的所有“n”个值之后，将其绘制在TPR对FPR图上，以获得一条曲线，该曲线被称为接收器工作曲线。前面我们已经看到TPR和FPR值都在0和1之间，因此对角线下的面积正好是0.5个单位。ROC应该比这条对角线高得多，这样模型才是合理的模型。如果模型是随机模型，即它随机预测类别标签，那么在这种情况下，ROC将是一条直的对角线。</p><p id="05ac" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated"><strong class="ix hi">AUC属性:</strong></p><p id="ae13" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">a)对于不平衡的数据，AUC可能很高。</p><p id="5283" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">b) AUC不依赖于模型的预测得分，而是依赖于模型的排序。</p><p id="b542" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">c)随机模型的= 0.5单位。</p><p id="7372" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">d)如果AUC &lt; 0.5，这意味着该模型比随机模型更差。当建模中出现错误时，可能会发生这种情况。一个简单的解决方法是交换预测的类别标签，以获得大于0.5的更好的AUC值。</p><h1 id="1b58" class="ka kb hh bd it kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">5)原木损失</h1><p id="cceb" class="pw-post-body-paragraph iv iw hh ix b iy kx ja jb jc ky je jf jg kz ji jj jk la jm jn jo lb jq jr js ha bi translated">这是第一个使用我们目前所看到的实际概率得分的指标。</p><p id="8f6a" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">对于测试数据集中“n”个点的二元分类，对数损失由下式给出</p><figure class="ld le lf lg fd ii er es paragraph-image"><div class="er es lp"><img src="../Images/2b6531fb5f3162f8433dc0d8b8913c61.png" data-original-src="https://miro.medium.com/v2/resize:fit:658/format:webp/1*tSAk3IJ9UfHeVqIXKjk0kg.png"/></div></figure><p id="1284" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">在这里，pᵢ只不过是模型的预测得分，也就是它属于一个正类的概率。我们希望日志损失尽可能小。它位于0到无穷大之间。</p><p id="ff4f" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">yᵢ是真正的阶级标签。</p><p id="a8b5" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">让我们举一个例子，两个点属于正类，模型分别给出0.9和0.6的分数。现在根据上面的公式，对概率分数中的小偏差的对数损失进行惩罚，即对于0.9，对数损失是0.0457(非常小且好)，而对于0.6，对数损失是0.22(不小)。</p><p id="c724" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">这可以很容易地扩展到多级对数损失，在这种情况下，模型预测的概率不是两个，而是“c”个，因为这是一个c级分类问题。由于测井曲线损失值的范围在0到无穷大之间，其可解释性会降低。如果模型返回概率分数，那么它是确定其性能的最有力的度量之一。</p><h1 id="afe6" class="ka kb hh bd it kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">回归任务的度量！</h1><h1 id="da17" class="ka kb hh bd it kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">6) R或决定系数</h1><p id="e1bc" class="pw-post-body-paragraph iv iw hh ix b iy kx ja jb jc ky je jf jg kz ji jj jk la jm jn jo lb jq jr js ha bi translated">到目前为止，我们只看到了分类模型的指标，现在让我们来看看回归模型给定一个查询点yᵢ. Xi该模型预测一个实数我们对每个点都有一个误差，即实际值和预测值之间的差异。算术地</p><figure class="ld le lf lg fd ii er es paragraph-image"><div class="er es lq"><img src="../Images/5b4ab8d877e4b7781d9b103878a7491a.png" data-original-src="https://miro.medium.com/v2/resize:fit:174/format:webp/1*T-8NNYEHPo9LQHg86Z9dmA.png"/></div></figure><p id="5edd" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">在我介绍R之前，让我们先了解几个与之相关的术语，以便更好地理解它。</p><p id="dad5" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated"><strong class="ix hi"> a)总平方和(SS)ₜ </strong>:</p><figure class="ld le lf lg fd ii er es paragraph-image"><div class="er es lr"><img src="../Images/56a514739f17a9d598d5c85ab417fe44.png" data-original-src="https://miro.medium.com/v2/resize:fit:366/format:webp/1*NZ8xy4STBK0o1bX7Kushhw.png"/></div></figure><p id="07c6" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">其中，yₐ是数据集中yᵢ's的平均值。</p><p id="7472" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">最简单的回归模型是所有查询点的预测平均值。</p><p id="fbf0" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">所以(SS)ₜ是使用简单均值模型的误差平方和。</p><p id="591b" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated"><strong class="ix hi"> b)残差的平方和(SS)ᵣₑₛ </strong>:</p><p id="c735" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">在哪里</p><figure class="ld le lf lg fd ii er es paragraph-image"><div class="er es ls"><img src="../Images/6644fa0f7c78c475996fb928f37d1aad.png" data-original-src="https://miro.medium.com/v2/resize:fit:340/format:webp/1*B-8dUTjAKixrXSQH3rxwTw.png"/></div></figure><p id="9158" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">现在</p><figure class="ld le lf lg fd ii er es paragraph-image"><div class="er es lt"><img src="../Images/bb1d956f4f0d8b048f3fb914ba731b28.png" data-original-src="https://miro.medium.com/v2/resize:fit:370/format:webp/1*TXcV9pYycmSuvoVrTsFzdw.png"/></div></figure><p id="9645" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">现在让我们看看对于R来说什么是最好的和最坏的情况:</p><p id="1efb" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated"><strong class="ix hi">案例1) </strong> (SS)ᵣₑₛ = 0</p><p id="53d3" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">这意味着误差总和为0，R等于1。这是R的最佳可能值。</p><p id="405d" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated"><strong class="ix hi">案例二)</strong> (SS)ᵣₑₛ &lt; (SS)ₜ</p><p id="0723" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">在这种情况下，R将介于0和1之间。这是我们遇到的典型案例。</p><p id="3c8a" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated"><strong class="ix hi">案例3) </strong> (SS)ᵣₑₛ = (SS)ₜ</p><p id="bc6e" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">这将使R的值等于0。因此，在这种情况下，该模型与上面讨论的简单均值模型相同。</p><p id="dabb" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated"><strong class="ix hi">案例四)</strong> (SS)ᵣₑₛ &gt; (SS)ₜ</p><p id="9c27" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">在这种情况下，R将是负数，这意味着该模型比简单的均值模型更差。</p><p id="ac22" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated"><strong class="ix hi">缺点:</strong>由于SS)ᵣₑₛ是使用yᵢ's的平均值计算的，如果其中一个yᵢ's是异常值，那么它将极大地影响r值。这个缺点通过一种我们接下来将理解为1)误差的中值绝对偏差的度量来克服。</p><h1 id="be80" class="ka kb hh bd it kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">7)误差的中值绝对偏差</h1><p id="721f" class="pw-post-body-paragraph iv iw hh ix b iy kx ja jb jc ky je jf jg kz ji jj jk la jm jn jo lb jq jr js ha bi translated">因为我们知道，即使是一个孤立点也会严重影响均值和标准差，而且我们只关心回归问题的误差。记住这些事情，使用中位数和中位数绝对偏差(MAD)的概念。顾名思义，它是误差的中位数绝对偏差。</p><p id="5ff4" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">Median(eᵢ)是误差的中心值，类似于平均值，MAD类似于标准差。这些对异常值是稳健的。如果我们得到的这两个值很小，我们可以说这个模型表现很好。</p><h1 id="277f" class="ka kb hh bd it kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">8)误差分布</h1><p id="8ee6" class="pw-post-body-paragraph iv iw hh ix b iy kx ja jb jc ky je jf jg kz ji jj jk la jm jn jo lb jq jr js ha bi translated">除了到目前为止看到的回归模型的指标，我们还可以绘制误差的PDF和CDF，以查看误差的大小百分比，这有助于我们分析模型的性能。这也使得很容易看到两个不同的模型在同一数据集上的表现，即我们可以通过查看图/曲线图很容易地比较两个模型。</p><h1 id="1b04" class="ka kb hh bd it kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">参考</h1><ol class=""><li id="77af" class="lu lv hh ix b iy kx jc ky jg lw jk lx jo ly js lz ma mb mc bi translated"><a class="ae iu" href="https://towardsdatascience.com/20-popular-machine-learning-metrics-part-1-classification-regression-evaluation-metrics-1ca3e282a2ce" rel="noopener" target="_blank">https://towards data science . com/20-popular-machine-learning-metrics-part-1-class ification-regression-evaluation-metrics-1 ca 3 e 282 a2 ce</a></li><li id="4683" class="lu lv hh ix b iy md jc me jg mf jk mg jo mh js lz ma mb mc bi translated"><a class="ae iu" href="https://www.analyticsvidhya.com/blog/2019/08/11-important-model-evaluation-error-metrics/" rel="noopener ugc nofollow" target="_blank">https://www . analyticsvidhya . com/blog/2019/08/11-重要-模型-评估-错误-度量/ </a></li><li id="44de" class="lu lv hh ix b iy md jc me jg mf jk mg jo mh js lz ma mb mc bi translated"><a class="ae iu" href="https://www.kdnuggets.com/2018/06/right-metric-evaluating-machine-learning-models-2.html" rel="noopener ugc nofollow" target="_blank">https://www . kdnugges . com/2018/06/right-metric-evaluating-machine-learning-models-2 . html</a></li><li id="b28c" class="lu lv hh ix b iy md jc me jg mf jk mg jo mh js lz ma mb mc bi translated"><a class="ae iu" href="https://www.tutorialspoint.com/machine_learning_with_python/machine_learning_algorithms_performance_metrics.htm" rel="noopener ugc nofollow" target="_blank">https://www . tutorialspoint . com/machine _ learning _ with _ python/machine _ learning _ algorithms _ performance _ metrics . htm</a></li><li id="a964" class="lu lv hh ix b iy md jc me jg mf jk mg jo mh js lz ma mb mc bi translated"><a class="ae iu" rel="noopener" href="/@MohammedS/performance-metrics-for-classification-problems-in-machine-learning-part-i-b085d432082b">https://medium . com/@ MohammedS/performance-metrics-for-class ification-problems-in-machine-learning-part-I-b085d 432082 b</a></li><li id="22c4" class="lu lv hh ix b iy md jc me jg mf jk mg jo mh js lz ma mb mc bi translated"><a class="ae iu" href="https://en.wikipedia.org/wiki/Precision_and_recall" rel="noopener ugc nofollow" target="_blank">https://en.wikipedia.org/wiki/Precision_and_recall</a></li><li id="3a3f" class="lu lv hh ix b iy md jc me jg mf jk mg jo mh js lz ma mb mc bi translated"><a class="ae iu" href="https://machinelearningmastery.com/tour-of-evaluation-metrics-for-imbalanced-classification/" rel="noopener ugc nofollow" target="_blank">https://machine learning mastery . com/tour-of-evaluation-metrics-for-unbalanced-class ification/</a></li><li id="e38e" class="lu lv hh ix b iy md jc me jg mf jk mg jo mh js lz ma mb mc bi translated"><a class="ae iu" href="https://towardsdatascience.com/metrics-to-evaluate-your-machine-learning-algorithm-f10ba6e38234" rel="noopener" target="_blank">https://towards data science . com/metrics-to-evaluate-your-machine-learning-algorithm-f10ba 6e 38234</a></li><li id="b365" class="lu lv hh ix b iy md jc me jg mf jk mg jo mh js lz ma mb mc bi translated"><a class="ae iu" href="https://en.wikipedia.org/wiki/Receiver_operating_characteristic" rel="noopener ugc nofollow" target="_blank">https://en . Wikipedia . org/wiki/Receiver _ operating _ character istic</a></li></ol><p id="82a7" class="pw-post-body-paragraph iv iw hh ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ha bi translated">如果你学到了新的东西或者喜欢读这篇文章，不要忘记鼓掌和分享。</p></div></div>    
</body>
</html>