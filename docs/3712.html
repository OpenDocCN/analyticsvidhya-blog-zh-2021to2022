<html>
<head>
<title>Spotify Music Data Analysis: Part 4</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Spotify音乐数据分析:第4部分</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/spotify-music-data-analysis-part-4-4016e2954795?source=collection_archive---------3-----------------------#2021-07-19">https://medium.com/analytics-vidhya/spotify-music-data-analysis-part-4-4016e2954795?source=collection_archive---------3-----------------------#2021-07-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="5c63" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph">了解你自己系列—</h2><div class=""/><div class=""><h2 id="5e0e" class="pw-subtitle-paragraph io hr hi bd b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf dx translated">聚类分析</h2></div><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/9f2efbc757a2e226e2583c7240ab09f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hSZyoMEx9o3T-BTL"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx translated">由<a class="ae jw" href="https://unsplash.com/@bamin?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Pierre Bamin </a>在<a class="ae jw" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="db24" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">在本系列的前几篇文章中，我介绍了如何收集Spotify数据集，根据需求对其进行预处理，并执行全面的数据分析。</p><p id="3132" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">在本系列的这一部分中，我将对数据集执行聚类分析。聚类分析是一种探索性分析，有助于识别数据中的结构。聚类是一种无监督的机器学习算法，用于将相似的数据点分组在一起。</p><p id="5cac" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">本文使用的代码来自我的<a class="ae jw" href="https://github.com/pragyy/my-music-analysis" rel="noopener ugc nofollow" target="_blank"> GitHub </a>中的笔记本<strong class="jz hs"><em class="kt">Clustering _ analysis . ipynb</em></strong>。</p></div><div class="ab cl ku kv gp kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="hb hc hd he hf"><h1 id="ccf1" class="lb lc hi bd ld le lf lg lh li lj lk ll ix lm iy ln ja lo jb lp jd lq je lr ls bi translated">目录</h1><ol class=""><li id="269b" class="lt lu hi jz b ka lv kd lw kg lx kk ly ko lz ks ma mb mc md bi translated">导入数据集</li><li id="7a15" class="lt lu hi jz b ka me kd mf kg mg kk mh ko mi ks ma mb mc md bi translated">标准化变量</li><li id="1a51" class="lt lu hi jz b ka me kd mf kg mg kk mh ko mi ks ma mb mc md bi translated">降维</li><li id="623f" class="lt lu hi jz b ka me kd mf kg mg kk mh ko mi ks ma mb mc md bi translated">k均值</li><li id="23a7" class="lt lu hi jz b ka me kd mf kg mg kk mh ko mi ks ma mb mc md bi translated">凝聚聚类</li><li id="6080" class="lt lu hi jz b ka me kd mf kg mg kk mh ko mi ks ma mb mc md bi translated">其他算法。。。</li><li id="cdc3" class="lt lu hi jz b ka me kd mf kg mg kk mh ko mi ks ma mb mc md bi translated">集群配置文件</li><li id="b1df" class="lt lu hi jz b ka me kd mf kg mg kk mh ko mi ks ma mb mc md bi translated">结论</li><li id="5a35" class="lt lu hi jz b ka me kd mf kg mg kk mh ko mi ks ma mb mc md bi translated">链接到本系列的其他部分</li></ol></div><div class="ab cl ku kv gp kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="hb hc hd he hf"><h1 id="ff32" class="lb lc hi bd ld le lf lg lh li lj lk ll ix lm iy ln ja lo jb lp jd lq je lr ls bi translated">导入数据集</h1><p id="ac15" class="pw-post-body-paragraph jx jy hi jz b ka lv is kc kd lw iv kf kg mj ki kj kk mk km kn ko ml kq kr ks hb bi translated">首要的事情是加载数据集</p><p id="eb3d" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">然后下一步是提取所需的列。数据集包含歌曲特征和其他细节，例如时间、日期等。因此，为了执行聚类分析，我将提取歌曲的特征。然后我会根据这些特征对歌曲进行聚类。</p><figure class="jh ji jj jk fd jl"><div class="bz dy l di"><div class="mm mn l"/></div></figure><p id="977b" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">切片数据集包括特征— <em class="kt">可跳舞性、能量、响度、语速、声学、乐器和活性</em>。</p></div><div class="ab cl ku kv gp kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="hb hc hd he hf"><h1 id="c07e" class="lb lc hi bd ld le lf lg lh li lj lk ll ix lm iy ln ja lo jb lp jd lq je lr ls bi translated">标准化变量</h1><p id="378d" class="pw-post-body-paragraph jx jy hi jz b ka lv is kc kd lw iv kf kg mj ki kj kk mk km kn ko ml kq kr ks hb bi translated">一些变量在0到1的范围内，然而，一些是负的，一些高达60和70或超过100。因此，具有属于这种范围极限的值将影响结果，因为聚类算法依赖于测量不同数据点之间的距离。例如，如果其中一个变量的测量范围比其他变量大得多，那么无论何时我们计算两点之间的距离，结果都会受到该变量的过度影响。</p><figure class="jh ji jj jk fd jl"><div class="bz dy l di"><div class="mm mn l"/></div></figure></div><div class="ab cl ku kv gp kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="hb hc hd he hf"><h1 id="d4de" class="lb lc hi bd ld le lf lg lh li lj lk ll ix lm iy ln ja lo jb lp jd lq je lr ls bi translated">降维</h1><p id="adf5" class="pw-post-body-paragraph jx jy hi jz b ka lv is kc kd lw iv kf kg mj ki kj kk mk km kn ko ml kq kr ks hb bi translated">数据集包含7个变量。因此绘制它是不可行的，所以我将数据集的特征或维度减少到2或3，因为它可以使用2D或3D图形可视化。</p><p id="f1c3" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">可以借助<code class="du mo mp mq mr b">TSNE</code>(t-分布式随机邻居嵌入)来实现。它是一种在低维空间中表示高维数据以可视化数据点的工具。</p><figure class="jh ji jj jk fd jl"><div class="bz dy l di"><div class="mm mn l"/></div></figure><p id="dd9e" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">现在，在<code class="du mo mp mq mr b">scatterplot</code>的帮助下，我们可以轻松地在二维空间中绘制我们的数据点</p><figure class="jh ji jj jk fd jl"><div class="bz dy l di"><div class="mm mn l"/></div><figcaption class="js jt et er es ju jv bd b be z dx translated">散点图</figcaption></figure></div><div class="ab cl ku kv gp kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="hb hc hd he hf"><h1 id="da45" class="lb lc hi bd ld le lf lg lh li lj lk ll ix lm iy ln ja lo jb lp jd lq je lr ls bi translated">k均值</h1><p id="a6ff" class="pw-post-body-paragraph jx jy hi jz b ka lv is kc kd lw iv kf kg mj ki kj kk mk km kn ko ml kq kr ks hb bi translated">K-means是一种用于聚类数据点的迭代聚类算法。在实现算法之前，知道需要执行的正确迭代次数是很重要的。借助于肘形法可以确定最佳数量。</p><p id="8304" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">肘方法将计算从1到10的不同聚类数的WCSS。WCSS(聚类平方和内)是点和聚类之间距离的平方和。</p><figure class="jh ji jj jk fd jl"><div class="bz dy l di"><div class="mm mn l"/></div></figure><p id="4702" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">一旦我们将所有的WCSS值绘制出来，图形看起来就像一个肘部。</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es ms"><img src="../Images/3ff0b80f7e88df198f8b93a1e2761d03.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NYByvtLksZuAnP0_GMh7WQ.png"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx translated">肘形图</figcaption></figure><p id="98af" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">根据上图，可以确定最佳的聚类数是6。</p><p id="e84d" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">现在训练数据集，将它们聚类到各自的组中。</p><figure class="jh ji jj jk fd jl"><div class="bz dy l di"><div class="mm mn l"/></div></figure><p id="a6a5" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">这些星团看起来像下面这样—</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es mt"><img src="../Images/fa5e5def7dc5ff18e0d0f22884467306.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sX0kJyOMYEJ-xwvmT2alOw.png"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx translated">k均值聚类</figcaption></figure></div><div class="ab cl ku kv gp kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="hb hc hd he hf"><h1 id="6620" class="lb lc hi bd ld le lf lg lh li lj lk ll ix lm iy ln ja lo jb lp jd lq je lr ls bi translated">凝聚聚类</h1><p id="3dbc" class="pw-post-body-paragraph jx jy hi jz b ka lv is kc kd lw iv kf kg mj ki kj kk mk km kn ko ml kq kr ks hb bi translated">在上面的视觉中，我可以说许多点被错误地分组了。所以我也会尝试其他的聚类算法。</p><p id="6bf2" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">所以我会进行凝聚聚类，看看这个算法表现好不好。</p><figure class="jh ji jj jk fd jl"><div class="bz dy l di"><div class="mm mn l"/></div></figure><p id="ad20" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">上面的代码产生了下面的集群—</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es mu"><img src="../Images/9261471f258be0b1e3f59c5d931f4f36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bmFhjnFz9fcRg0Ls3UiMUA.png"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx translated">凝聚聚类</figcaption></figure><p id="3bc6" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">以上聚类比<em class="kt"> k-means </em>要好很多。</p></div><div class="ab cl ku kv gp kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="hb hc hd he hf"><h1 id="c55f" class="lb lc hi bd ld le lf lg lh li lj lk ll ix lm iy ln ja lo jb lp jd lq je lr ls bi translated">其他算法…</h1><p id="0886" class="pw-post-body-paragraph jx jy hi jz b ka lv is kc kd lw iv kf kg mj ki kj kk mk km kn ko ml kq kr ks hb bi translated">为了确定，如果数据点被正确地聚类，我将执行更多的聚类算法来检查。</p><p id="a7c3" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">执行算法来检查数据集聚类——相似性传播聚类、BIRCH、DBSCAN和小批量k均值。</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es mv"><img src="../Images/44038df9df0f3368a71402b7617cba15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ld5FRhdLjBVeuZRC9FfU-A.png"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx translated">相似传播聚类</figcaption></figure><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es mw"><img src="../Images/259f5b62d9c28318eaae241791dce0b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CAWQ3A6o0GmKpOjB86jPTA.png"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx translated">桦树</figcaption></figure><p id="ddfa" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">无论我执行哪种算法，都只能产生一个集群。因此，对于我们的数据集，上述算法表现不佳。</p></div><div class="ab cl ku kv gp kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="hb hc hd he hf"><h1 id="58d1" class="lb lc hi bd ld le lf lg lh li lj lk ll ix lm iy ln ja lo jb lp jd lq je lr ls bi translated">集群配置文件</h1><p id="7326" class="pw-post-body-paragraph jx jy hi jz b ka lv is kc kd lw iv kf kg mj ki kj kk mk km kn ko ml kq kr ks hb bi translated">进行聚类的主要原因是为了确定我听的不同类型的歌曲。从上面的分析，我可以说我听了6组歌曲。</p><p id="f40b" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">每个聚类的音乐特征的平均值如下所示</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es mx"><img src="../Images/7452edadc80bf12ba8e548331dfad91d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nIVumUeToF_FmyQjGbJ4FA.png"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx translated">集群配置文件</figcaption></figure><p id="2739" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">集群描述如下—</p><ol class=""><li id="d301" class="lt lu hi jz b ka kb kd ke kg my kk mz ko na ks ma mb mc md bi translated"><strong class="jz hs">集群0: </strong>集群0包含具有更多节拍(平庸节拍/分钟)和较少声学和乐器的有活力的歌曲。而且这些歌都有点伤感，歌词灰暗。<em class="kt">(节拍+阴郁)。</em></li><li id="c79c" class="lt lu hi jz b ka me kd mf kg mg kk mh ko mi ks ma mb mc md bi translated">集群1: 集群1包括具有更多节拍和较少声学和语音的充满活力的歌曲。而且这些歌都有点伤感，歌词灰暗。<em class="kt"> (Beats +阴郁)。然而，集群0的唯一区别是乐器。除了节拍和能量，这首歌还有很多乐器的声音。</em></li><li id="2420" class="lt lu hi jz b ka me kd mf kg mg kk mh ko mi ks ma mb mc md bi translated"><strong class="jz hs">聚类2: </strong>根据特征，聚类2包含高节拍(一般节拍/分钟)的活力歌曲，音响和乐器较少。而且，这些歌都有欢快的歌词。<em class="kt"> (Beats + happy)。</em></li><li id="fec5" class="lt lu hi jz b ka me kd mf kg mg kk mh ko mi ks ma mb mc md bi translated"><strong class="jz hs">聚类3: </strong>从特征上看，聚类3包含了高节拍、较少音响和乐器的活力歌曲。而且，这些歌曲的歌词都是中性的。<em class="kt">(节拍+中性)。</em></li><li id="9628" class="lt lu hi jz b ka me kd mf kg mg kk mh ko mi ks ma mb mc md bi translated"><strong class="jz hs">集群4: </strong>集群4包含具有高节拍且较少音响和乐器的充满活力的歌曲。而且，这些歌曲的歌词都是中性的。<em class="kt"> (Beats + happy)。</em></li><li id="a3e5" class="lt lu hi jz b ka me kd mf kg mg kk mh ko mi ks ma mb mc md bi translated"><strong class="jz hs">聚类5: </strong>根据特征，聚类5包含节拍较少、音响和乐器较多的低能量歌曲。而且，这些歌都有悲伤的歌词。<em class="kt">(声学+悲伤)。</em></li></ol></div><div class="ab cl ku kv gp kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="hb hc hd he hf"><h1 id="d8eb" class="lb lc hi bd ld le lf lg lh li lj lk ll ix lm iy ln ja lo jb lp jd lq je lr ls bi translated">结论</h1><p id="09c9" class="pw-post-body-paragraph jx jy hi jz b ka lv is kc kd lw iv kf kg mj ki kj kk mk km kn ko ml kq kr ks hb bi translated">在这个博客中，歌曲根据它们的量化值被分成不同的类别。</p></div><div class="ab cl ku kv gp kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="hb hc hd he hf"><h1 id="2899" class="lb lc hi bd ld le lf lg lh li lj lk ll ix lm iy ln ja lo jb lp jd lq je lr ls bi translated">链接到本系列的其他部分</h1><ul class=""><li id="77ef" class="lt lu hi jz b ka lv kd lw kg lx kk ly ko lz ks nb mb mc md bi translated"><a class="ae jw" rel="noopener" href="/@vermapragya/spotify-music-data-analysis-part-1-c8457bfc53a"> Spotify音乐数据分析第1部分:数据收集</a></li><li id="8e0d" class="lt lu hi jz b ka me kd mf kg mg kk mh ko mi ks nb mb mc md bi translated"><a class="ae jw" rel="noopener" href="/@vermapragya/spotify-music-data-analysis-part-2-3a69ae0f7f01"> Spotify音乐数据分析第二部分:数据清洗&amp;预处理</a></li><li id="02aa" class="lt lu hi jz b ka me kd mf kg mg kk mh ko mi ks nb mb mc md bi translated"><a class="ae jw" rel="noopener" href="/@vermapragya/spotify-music-data-analysis-part-3-9097829df16e"> Spotify音乐数据分析第3部分:数据可视化</a></li><li id="cdfd" class="lt lu hi jz b ka me kd mf kg mg kk mh ko mi ks nb mb mc md bi translated">Spotify音乐数据分析第4部分:聚类分析</li></ul></div></div>    
</body>
</html>