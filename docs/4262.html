<html>
<head>
<title>Jetbrain DataSpell — Using Jupyter Notebooks inside the IDE</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Jetbrain DataSpell —在ide中使用Jupyter笔记本</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/jetbrain-dataspell-using-jupyter-notebooks-inside-the-ide-2698f85ff98c?source=collection_archive---------4-----------------------#2021-09-13">https://medium.com/analytics-vidhya/jetbrain-dataspell-using-jupyter-notebooks-inside-the-ide-2698f85ff98c?source=collection_archive---------4-----------------------#2021-09-13</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/cc06f0fa609bfee95550c3ca921d95c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nu2eL-MqNWxKokLe1_f6EQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">DataSpell——面向数据人员的新IDE</figcaption></figure><p id="72f5" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在我的上一篇文章中，我介绍了Jetbrains的新IDE DataSpell。我介绍了如何使用IDE直接连接和查询数据库，而不需要单独的SQL编辑器。现在，几天后，经过专业的使用，我可以说，我一次都不需要打开我的SQL编辑器。上一篇文章可以在这里阅读:</p><div class="js jt ez fb ju jv"><a rel="noopener follow" target="_blank" href="/@palien2887/jetbrains-dataspell-a-brand-new-awesome-ide-for-data-scientists-7ec5ba2c66b5"><div class="jw ab dw"><div class="jx ab jy cl cj jz"><h2 class="bd hj fi z dy ka ea eb kb ed ef hh bi translated">jetbrains DataSpell——面向数据科学家的全新集成开发环境</h2><div class="kc l"><h3 class="bd b fi z dy ka ea eb kb ed ef dx translated">最近，JetBrains，深受喜爱的PyCharm和IntelliJ IDEA以及其他各种产品的制造商，已经…</h3></div><div class="kd l"><p class="bd b fp z dy ka ea eb kb ed ef dx translated">medium.com</p></div></div><div class="ke l"><div class="kf l kg kh ki ke kj io jv"/></div></div></a></div><p id="e657" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">另一个让我兴奋的功能是内置的Jupyter笔记本和连接。这很容易开始，只需点击文件&gt;添加Jupyter连接，如下图所示，这将打开一个对话框，允许您启动一个新的连接，连接到现有的本地连接，甚至连接到Jupyter服务器。一个提示，在启动一个新的本地连接之前，确保你已经连接到你想要使用的工作目录，它会自动在那个目录中启动新的连接。</p><figure class="kl km kn ko fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kk"><img src="../Images/81034bb99dc844df0183bd0818e3a3be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I5BWRJj7bqzu95M4U_1E5A.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">开始新的Jupyter连接</figcaption></figure><p id="7392" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">下一步，添加一个Jupyter笔记本，也在文件菜单中。这将在ide中打开一个新的笔记本，不需要外部控制台窗口或浏览器窗口(如果需要，终端也可以在IDE中使用)。</p><p id="f46b" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">为了测试功能，我想做一些基本的典型用法，并探索我们在第一篇文章中连接的数据集。笔记本中的这个连接是使用google的两个包来处理的，您需要使用下面的代码行来安装这两个包(您可以在内置终端中完成):</p><pre class="kl km kn ko fd kp kq kr ks aw kt bi"><span id="8e48" class="ku kv hi kq b fi kw kx l ky kz">pip install — upgrade ‘google-cloud-bigquery[bqstorage,pandas]’</span></pre><p id="13d2" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">安装完成后，您可以设置您的身份验证以连接到bigquery数据库(如果您还没有想要使用的项目和文件，请参阅下面文章中的如何创建项目和下载文件)。</p><div class="js jt ez fb ju jv"><a rel="noopener follow" target="_blank" href="/@palien2887/connecting-to-the-google-public-covid-19-datasets-with-bigquery-and-dbeaver-d4a340051bc8"><div class="jw ab dw"><div class="jx ab jy cl cj jz"><h2 class="bd hj fi z dy ka ea eb kb ed ef hh bi translated">使用BigQuery和DBeaver连接到Google公共新冠肺炎数据集</h2><div class="kc l"><h3 class="bd b fi z dy ka ea eb kb ed ef dx translated">如何通过BigQuery使用Google BigQuery公共数据集并将其连接到DBeaver</h3></div><div class="kd l"><p class="bd b fp z dy ka ea eb kb ed ef dx translated">medium.com</p></div></div><div class="ke l"><div class="la l kg kh ki ke kj io jv"/></div></div></a></div><p id="926b" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">当您准备好项目和该项目的密钥文件后，下面的代码将验证连接，然后运行一个查询来检查它是否在这个特定的数据库上工作。注意，您必须输入密钥文件的路径。</p><pre class="kl km kn ko fd kp kq kr ks aw kt bi"><span id="9371" class="ku kv hi kq b fi kw kx l ky kz">from google.cloud import bigquery<br/>from google.oauth2 import service_account<br/><br/>key_path = "&lt;ENTER PATH TO KEYFILE HERE&gt;"<br/><br/>credentials = service_account\<br/>    .Credentials\<br/>    .from_service_account_file(key_path,<br/>                               scopes=["https://www.googleapis.com/auth/cloud-platform"],)<br/><br/>bqclient = bigquery.Client(credentials=credentials, project=credentials.project_id,)<br/><br/>## Download query results:<br/>query = """<br/>SELECT<br/>date, country_name, subregion1_name, subregion2_name,<br/>new_confirmed, new_deceased,<br/>new_recovered, new_tested, cumulative_confirmed,<br/>cumulative_deceased, cumulative_recovered,cumulative_tested<br/>FROM `bigquery-public-data.covid19_open_data.covid19_open_data`<br/>WHERE country_name = 'Australia'<br/>AND subregion1_name IN ('Victoria','New South Wales')<br/>Limit 10;<br/>"""<br/><br/>dataframe = (<br/>    bqclient.query(query)<br/>    .result()<br/>    .to_dataframe(<br/>        create_bqstorage_client=True,<br/>    )<br/>)<br/><br/>dataframe</span></pre><p id="c71f" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">数据帧在编辑器中打印出来，但是在IDE中有一个链接可以在它自己的选项卡中打开，如下面的屏幕截图所示。</p><figure class="kl km kn ko fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lb"><img src="../Images/187df06462fde7326dbf417c5cedc94f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t8GrPBlVf46Xxrc2vnZu6Q.png"/></div></div></figure><p id="e1e9" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">现在我们有了连接，我们可以使用它直接将我们想要的任何查询拉入笔记本中的数据帧。</p><p id="2006" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">接下来，我想看看IDE中的一些基本可视化效果，为了简单起见，我决定使用Seaborn绘图包使用以下代码按日期绘制新南威尔士州和维多利亚州的新确诊病例(注意，前面使用的查询提供了此数据，只需删除“限制10”):</p><pre class="kl km kn ko fd kp kq kr ks aw kt bi"><span id="1584" class="ku kv hi kq b fi kw kx l ky kz">import matplotlib.pyplot as plt<br/>import seaborn as sns<br/><br/>sns.set(rc={'figure.figsize':(14, 6)})<br/>dataframe_ts = dataframe.copy()<br/><br/>fig1 = sns.lineplot(data=dataframe_ts, x='date', y='new_confirmed', hue='subregion1_name')<br/>fig1.set(xlabel='Date',ylabel='New Confirmed Cases')<br/>fig1.legend(title=None)</span></pre><p id="1a9b" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这在编辑器中输出了下面的图像，有点难以阅读，但对于默认设置来说还不错，而且一切都工作得天衣无缝。</p><figure class="kl km kn ko fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lc"><img src="../Images/300ff117190763bbba52957ed4f185ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vMiTaoec5UIVxdyrvQ9LhQ.png"/></div></div></figure><p id="ddda" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj">结论:</strong></p><p id="43da" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">因此，在我开始对这个数据集进行全面分析之前，我将在这里结束这篇文章，谈谈我对在DataSpell中使用Jupyter笔记本的想法，包括以下几点:</p><ul class=""><li id="2709" class="ld le hi iw b ix iy jb jc jf lf jj lg jn lh jr li lj lk ll bi translated">在ide中设置连接和笔记本既简单又无缝</li><li id="7b7a" class="ld le hi iw b ix lm jb ln jf lo jj lp jn lq jr li lj lk ll bi translated">笔记本的功能与在浏览器中使用它是一样的</li><li id="35c6" class="ld le hi iw b ix lm jb ln jf lo jj lp jn lq jr li lj lk ll bi translated">您可以获得所有现成的DataSpell编辑功能，包括自动填充、代码建议、自动导入</li><li id="ef7c" class="ld le hi iw b ix lm jb ln jf lo jj lp jn lq jr li lj lk ll bi translated">在内置终端中安装软件包非常有用</li><li id="1e4f" class="ld le hi iw b ix lm jb ln jf lo jj lp jn lq jr li lj lk ll bi translated">情节就像笔记本预期的那样工作</li></ul></div></div>    
</body>
</html>