<html>
<head>
<title>Binary Classification vs Hypothesis Testing explained using real life Covid-19 use-cases</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用真实生活中的新冠肺炎用例解释二元分类与假设检验</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/binary-classification-vs-hypothesis-testing-explained-using-real-life-covid-19-use-cases-a017a728650d?source=collection_archive---------2-----------------------#2021-07-12">https://medium.com/analytics-vidhya/binary-classification-vs-hypothesis-testing-explained-using-real-life-covid-19-use-cases-a017a728650d?source=collection_archive---------2-----------------------#2021-07-12</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/423c61d2534ac7f94f3f6940d40dbf1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KJFvV9apBelonVXXYT1Cew.jpeg"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">做出二元选择的人。</figcaption></figure><p id="e91f" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">二元分类通常用于机器学习中的预测任务，而假设检验在统计学中以执行推理任务而闻名。这两项任务都涉及到二元决策。但是它们被用来解决非常不同的问题。在每种情况下，输入数据和算法也有很大不同。然而，由于这两个任务最终都是关于做出二元决策，所以它们共享了相当多的评估指标，尽管它们的术语不同。在这篇博客中，我将使用最近与新冠肺炎相关的用例来解释这两种技术，并试图揭示这两种理论之间的异同。</p><blockquote class="jr js jt"><p id="8a44" class="it iu ju iv b iw ix iy iz ja jb jc jd jv jf jg jh jw jj jk jl jx jn jo jp jq ha bi translated"><strong class="iv hi">二元分类</strong></p></blockquote><p id="7f90" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">目标</strong>:给定一个<strong class="iv hi"> n </strong>维特征向量(<strong class="iv hi"> <em class="ju"> x </em> </strong>)，将其归入两类中的一类(C1或C2)。<br/> <strong class="iv hi">举例</strong> —假设有人建立了一个模型，它可以接受用户的血液参数来预测一个人是否感染了covid。这类似于实验室中流行的RT-聚合酶链式反应测试。</p><figure class="jz ka kb kc fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es jy"><img src="../Images/aa9658c4e78ca4bbece4af6c15ca13ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iK1MKzE_TBCnH7w5MZGzOQ.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated"><strong class="bd kd">分类任务:</strong>covid 19预测的样本数据集</figcaption></figure><p id="489e" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">模型建立</strong>:有太多的选择可以用来建立这个模型，比如逻辑回归、决策树、神经网络等等。</p><p id="d8c5" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">预测:</strong>我们将一个人血液的特征<strong class="iv hi"> (x) </strong>传递给模型(<strong class="iv hi"> f(x) </strong>，它生成输出1或0。</p><p id="dd67" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">评估</strong>:假设类“Covid正”用整数1表示。并且类“Covid负”由整数0表示。在预测过程中，我们的模型会产生两种误差—</p><p id="f209" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">a) <strong class="iv hi">假阳性</strong>:将一个人归类为covid阳性，但他不是。</p><p id="9655" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">b) <strong class="iv hi">假阴性:</strong>将一个人归类为covid阴性，但他实际上是阳性。</p><figure class="jz ka kb kc fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ke"><img src="../Images/9079d3f375603c15c814e66633ead01b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*at8_AWKCIcn2cfW_mehr1Q.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated"><strong class="bd kd">二元分类:</strong>混淆矩阵和一些重要的度量</figcaption></figure><p id="a831" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">c) <strong class="iv hi">敏感度或召回率或真阳性率</strong>:这是一种非常流行的方法，用来评估我们的模型在捕捉数据集中所有实际阳性方面有多好。</p><p id="1db4" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">d) <strong class="iv hi">特异性或真阴性率</strong>:这是数据集中真阴性和实际阴性之间的比率。假阳性率为1-特异性。</p><p id="9004" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">e) <strong class="iv hi">精确度或预测阳性率:</strong>这也是一个非常流行的指标，它是预测阳性中真实阳性的比例。</p><p id="b07c" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">对于不平衡的数据集，一个单一的指标是不够好的。因此，通常使用(<strong class="iv hi">精度&amp;召回</strong>或(<strong class="iv hi">灵敏度&amp;特异性</strong>)的组合来描述分类模型的性能。</p><p id="7bbf" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">让我们来了解RT-聚合酶链式反应测试的这些指标基础现实生活表现。根据<a class="ae kf" href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC7227531/" rel="noopener ugc nofollow" target="_blank">的论文</a>，下面是一辆RT-聚合酶链式反应测试的性能:</p><figure class="jz ka kb kc fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kg"><img src="../Images/771c14a1a236770a266f1050974127ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zRkgeI_TZLVbX49Ow3Io0Q.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated"><strong class="bd kd"> RT-PCR测试性能指标</strong></figcaption></figure><p id="37f0" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">这些指标可以被不同的人以不同的方式解读—</p><p id="4a8a" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">个人</strong>——如果我在RT-聚合酶链式反应测试中检测为阳性，结果为<strong class="iv hi">假阳性</strong>的概率为<strong class="iv hi">11.1%</strong>(100%–88.90%)<strong class="iv hi"/>。另一方面，如果我检测为阴性，那么我在现实中可能感染<strong class="iv hi"> covid </strong>的概率只有<strong class="iv hi">1.6%</strong>(100%—98.4%)<strong class="iv hi"/>。</p><p id="1d5c" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">政府</strong> —在我所在地区的所有阳性病例中，RT-PCR检测能够检测出<strong class="iv hi"> 84.2% </strong>的病例，但会漏掉<strong class="iv hi"> 15.8 % </strong> (100% — 84.2%)的covid阳性病例。也可以做出类似的但不太有用的解释来检测阴性病例。</p><p id="e510" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">因此，我们可以看到每个指标都有自己的目的和解释。此外，还有其他指标，如准确性、ROC-AUC、F1评分，我们在此不做讨论。</p></div><div class="ab cl kh ki go kj" role="separator"><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km"/></div><div class="ha hb hc hd he"><blockquote class="jr js jt"><p id="5128" class="it iu ju iv b iw ix iy iz ja jb jc jd jv jf jg jh jw jj jk jl jx jn jo jp jq ha bi translated"><strong class="iv hi">假设检验</strong></p></blockquote><p id="c158" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">目的:</strong>粗略地说，给定两个假设，我们需要证明给定观察到的实验数据，哪个假设似乎更有可能。第一个假设被称为“零假设(H0)”，第二个被称为“替代假设(H1)”。这里，我们得到的不是人或物体层面的特征，而是每个假设下的一系列观察结果。</p><figure class="jz ka kb kc fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ko"><img src="../Images/d3ff90cb247f9254f0b2a017113262b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eChmvDsjn4-lBkm8p0uHSw.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated"><strong class="bd kd">假设检验</strong>:样本数据集，其中的值可以是布尔值，如0/ 1或连续浮点数。</figcaption></figure><p id="ab90" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">示例</strong> —如果我们正在评估covid疫苗在治疗新冠肺炎方面是否有效，那么H0意味着无效，H1意味着有效。我们寻求拒绝无效假设。</p><p id="7111" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">算法</strong>:假设检验的两种流行检验是Z检验(用于比例度量)和T检验(用于连续度量)。为了检验疫苗的有效性，我们可以使用两个样本的比例检验(Z-检验)。</p><p id="a2fc" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">推论:</strong>如果得到的z值(或p值)小于临界值(或α值)，那么我们拒绝H0，否则我们拒绝H0失败。不能拒绝H0并不意味着H0是真实的。可能发生的情况是，实验没有足够的力量(样本大小)来拒绝H0。</p><p id="e079" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">评价:</strong>我们在这里也可以犯两种错误。</p><p id="3f2c" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">a) <strong class="iv hi">第一类错误</strong>:如果我们最终拒绝了零假设(H0)，而事实上它是真的。这类似于分类中的假阳性。</p><p id="fbf3" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">b) <strong class="iv hi">第二类错误</strong>:如果我们最终没有拒绝零假设(H0)，而事实上它是假的。这类似于分类中的假阴性。</p><figure class="jz ka kb kc fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kp"><img src="../Images/5c24f4aa1699125a0fcbe1f756a96a7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jr4d8os0FCEAlP8is6VPsg.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">假设检验的性能度量</figcaption></figure><p id="94bf" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">c) <strong class="iv hi"> Alpha </strong> : Alpha是我们错误拒绝H0的概率。上图中的橙色区域。1-α与分类中的“特异性”相同。通常，该值设置为5%。</p><p id="3ea9" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">d)<strong class="iv hi">β</strong>:β是当H0为假时，我们没有拒绝它的概率。图中的紫色区域反映了β。</p><p id="435b" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">e) <strong class="iv hi">功效:</strong>定义为1-β相当于分类中的灵敏度。它表示正确拒绝零假设的概率。白色条纹区域代表权力。通常我们选择样本大小，使功效至少为80%。</p><p id="8148" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">让我们用Moderna的疫苗功效结果的<strong class="iv hi">真实例子</strong>来理解这些术语。</p><figure class="jz ka kb kc fd ii er es paragraph-image"><div class="er es kq"><img src="../Images/dc7d088b41d905a11eec2cf57a1acb2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:940/format:webp/1*xDS38fg9WsAKaOjiTw75oA.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated">现代mRNA -1273疫苗的临床试验结果</figcaption></figure><p id="e7bc" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">根据这份<a class="ae kf" href="https://www.nejm.org/doi/full/10.1056/NEJMoa2035389" rel="noopener ugc nofollow" target="_blank">报告</a>，科学家们想要测量mRNA -1273疫苗的效力。为此，他们给14550人注射了两剂疫苗，给14598人注射了两剂安慰剂。几天后，他们观察有多少人感染了新冠肺炎病毒。上表包含了结果。</p><pre class="jz ka kb kc fd kr ks kt ku aw kv bi"><span id="8da9" class="kw kx hh ks b fi ky kz l la lb">p_placebo    = (185+30) / 14598 = 0.014728045<br/>p_mRNA-1273  = (11 +0)  / 14550 = 0.000756014</span><span id="5ce7" class="kw kx hh ks b fi lc kz l la lb">Efficacy = delta% = (p_placebo - p_mRNA-1273)/p_placebo ~ 94 %</span><span id="ab07" class="kw kx hh ks b fi lc kz l la lb">Note: Confidence Interval and P-value computation for delta% is a bit involved procedure and hence not shown in this blog. </span></pre><p id="a428" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">上图的低p值(或假阳性率)表明94%的疗效是显著的。换句话说，第一类错误的概率是&lt; 0.001. Interested reader can check out this stack overflow <a class="ae kf" href="https://stats.stackexchange.com/questions/64652/calculating-standard-deviation-associated-with-percentage-change/64658#64658" rel="noopener ugc nofollow" target="_blank">链接</a>来理解delta %度量的p值和CI计算。</p></div><div class="ab cl kh ki go kj" role="separator"><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km"/></div><div class="ha hb hc hd he"><blockquote class="jr js jt"><p id="c87e" class="it iu ju iv b iw ix iy iz ja jb jc jd jv jf jg jh jw jj jk jl jx jn jo jp jq ha bi translated"><strong class="iv hi">总结和结论</strong></p></blockquote><figure class="jz ka kb kc fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ld"><img src="../Images/c729c576f46bc9b0877bd69665ad4b08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NsvMKh3Gf3BfoJuiaVhNuQ.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">分类和假设检验的并列比较</figcaption></figure><p id="5365" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">上表提供了一个比较总结，可以帮助我们理解这两个非常流行的技术之间的关系。希望这篇文章能澄清一些在文献中分别阅读这两个主题时可能产生的疑问。</p><p id="75a9" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">开放式问题【请将您的想法写在评论中】</strong></p><ol class=""><li id="10f9" class="le lf hh iv b iw ix ja jb je lg ji lh jm li jq lj lk ll lm bi translated">假设检验中有没有类似于<strong class="iv hi"> <em class="ju">准确度</em> </strong>的度量？</li><li id="b32e" class="le lf hh iv b iw ln ja lo je lp ji lq jm lr jq lj lk ll lm bi translated">假设检验中有没有类似于<strong class="iv hi"> <em class="ju"> ROC-AUC </em> </strong>的度量？</li></ol><p id="1e0c" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">参考文献</strong> —</p><ol class=""><li id="38fa" class="le lf hh iv b iw ix ja jb je lg ji lh jm li jq lj lk ll lm bi translated"><a class="ae kf" href="https://www.sciencedirect.com/science/article/pii/S2666389920301562#:~:text=In%20this%20aspect%2C%20hypothesis%20testing,known%20binary%20answers%20in%20data" rel="noopener ugc nofollow" target="_blank">https://www . science direct . com/science/article/pii/s 2666389920301562 #:~:text = In % 20 this % 20 aspect % 2C % 20 hypothesis % 20 testing，known % 20 binary % 20 answers % 20 In % 20 data</a>。</li><li id="8493" class="le lf hh iv b iw ln ja lo je lp ji lq jm lr jq lj lk ll lm bi translated"><a class="ae kf" rel="noopener" href="/swlh/how-to-remember-all-these-classification-concepts-forever-761c065be33">https://medium . com/swlh/how-to-remember-all-these-classification-concepts-forever-761 c 065 be 33</a></li></ol></div></div>    
</body>
</html>