<html>
<head>
<title>Machine Learning on Containers!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">容器上的机器学习！</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/machine-learning-on-containers-a27ec5288526?source=collection_archive---------32-----------------------#2021-05-27">https://medium.com/analytics-vidhya/machine-learning-on-containers-a27ec5288526?source=collection_archive---------32-----------------------#2021-05-27</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="4c1e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">集装箱中的机器学习是一个很好的用例，它非常重要，因为世界正在迅速转向集装箱化技术。</p><p id="5130" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在这篇博客中，我将讨论如何在容器上运行简单的机器学习代码。在开始这一切之前，让我们看看关于机器学习和docker的一些观点。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jc"><img src="../Images/750636517d45b6f349ee062a27c80c9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hrQR5njSy6GAWJ45Vus1Hg.jpeg"/></div></div></figure><h2 id="5232" class="jo jp hh bd jq jr js jt ju jv jw jx jy ip jz ka kb it kc kd ke ix kf kg kh ki bi translated"><strong class="ak">什么是机器学习？</strong></h2><p id="8757" class="pw-post-body-paragraph ie if hh ig b ih kj ij ik il kk in io ip kl ir is it km iv iw ix kn iz ja jb ha bi translated">根据谷歌的说法，如果你搜索“机器学习”，它会给出以下结果-</p><blockquote class="ko kp kq"><p id="e4bf" class="ie if kr ig b ih ii ij ik il im in io ks iq ir is kt iu iv iw ku iy iz ja jb ha bi translated"><strong class="ig hi">“机器学习</strong>是一种自动建立分析模型的数据分析方法。它是人工<strong class="ig hi">智能</strong>的一个分支，基于系统可以从数据中学习、识别模式并在最少人工干预的情况下做出决策的理念</p></blockquote><p id="d7a1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">好吧，对于那些不知道它是什么的人，我来简化一下上面的陈述，举个例子。</p><p id="621c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">想想几个月大的婴儿，他有头脑，但他什么都不知道。假设他和父母一起出门，看见了一只黑猫。看到猫后，他问他的父母，这是什么？他们回答说:“这是一只猫”。然后在一段距离他看到一只白猫，再次问父母，这是什么？父母会再次回答:猫。现在，当婴儿看到猫时，他的大脑会储存猫的形象，并给猫贴上标签。现在，当他在未来看到猫时，他的脑海里会回想起猫这个标签。所以，男孩会知道这是一只猫。</p><p id="3de5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果你看清楚了，这就是机器学习的工作原理。在机器学习中，头脑是模式/模型，父母是提供经验和训练的数据，模型经过训练后，它可以用置信度得分进行预测。</p><p id="3720" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在，再读一遍上面引用的语句，你一定会明白，它想说什么。</p><p id="dcf7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为了简单起见，我使用了一个非常基本的ML模型，但是在以后的博客中，我还将实现高级模型。</p><p id="6285" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">所以，我创建了一个模型，根据多年的经验来预测工资。它基于简单的线性回归。并将其作为. py可执行文件。</p><p id="2756" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">更多关于车型和代号:<a class="ae kv" href="https://github.com/rishiagrawal2609/simple-salary-predictor" rel="noopener ugc nofollow" target="_blank">这里</a><a class="ae kv" href="https://github.com/rishiagrawal2609/simple-salary-predictor" rel="noopener ugc nofollow" target="_blank">https://github.com/rishiagrawal2609/simple-salary-predictor</a>。</p><h2 id="7820" class="jo jp hh bd jq jr js jt ju jv jw jx jy ip jz ka kb it kc kd ke ix kf kg kh ki bi translated"><strong class="ak">什么是容器？</strong></h2><p id="5bb0" class="pw-post-body-paragraph ie if hh ig b ih kj ij ik il kk in io ip kl ir is it km iv iw ix kn iz ja jb ha bi translated">容器只不过是作为进程启动的缩小版操作系统。通常，如果您已经安装了操作系统，您会注意到操作系统的安装过程需要很长时间，即大约20-30分钟(取决于操作系统和硬件的风格)。如果你在测试/ QC部门，你必须安装许多操作系统和删除，想想浪费的时间。今天，世界是关于你有多快，你的产品有多敏捷。为了解决这个问题，集装箱化应运而生。它们的速度非常快，不到一秒钟就能启动操作系统。有许多工具可以使用容器，但是我将使用Docker来启动我的容器。</p><p id="b42e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们将使用Centos:实用的最新图像。要下载，请使用命令:</p><pre class="jd je jf jg fd kw kx ky kz aw la bi"><span id="24a0" class="jo jp hh kx b fi lb lc l ld le"># docker pull centos</span></pre><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es lf"><img src="../Images/a420ccf2a46623d7c5907a3d00a10e98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Nx0pTpxgsT3wyBY-h8IXcQ.png"/></div></div><figcaption class="lg lh et er es li lj bd b be z dx translated">下载Centos图像</figcaption></figure><p id="0adc" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">该命令将下载我们将要使用的Centos映像。</p><h2 id="ef90" class="jo jp hh bd jq jr js jt ju jv jw jx jy ip jz ka kb it kc kd ke ix kf kg kh ki bi translated"><strong class="ak">系统需求/我的系统:</strong></h2><p id="def8" class="pw-post-body-paragraph ie if hh ig b ih kj ij ik il kk in io ip kl ir is it km iv iw ix kn iz ja jb ha bi translated">为了这篇博客，我在VMware上使用新安装的RHEL 8，我已经在它上面安装了docker。我使用Windows终端远程登录到我的虚拟机。所有的ML文件都已经创建好了，可以在我的GitHub中<a class="ae kv" href="https://github.com/rishiagrawal2609/simple-salary-predictor" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es lk"><img src="../Images/e666520f741bfcfecd131a1f1a3c95a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hPs0qBtdLgWn4L_oOiMvsw.png"/></div></div><figcaption class="lg lh et er es li lj bd b be z dx translated">通过windows终端进行SSH登录</figcaption></figure><h1 id="9df3" class="ll jp hh bd jq lm ln lo ju lp lq lr jy ls lt lu kb lv lw lx ke ly lz ma kh mb bi translated">让我们看看如何在容器上制作ML:</h1><p id="a72f" class="pw-post-body-paragraph ie if hh ig b ih kj ij ik il kk in io ip kl ir is it km iv iw ix kn iz ja jb ha bi translated">我将逐步展示如何设置可以运行机器学习代码的容器:</p><p id="d9d8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">步骤1: </strong>启动名为mlcontainer的centos容器(您可以给出任何名称)。命令执行相同的操作:</p><pre class="jd je jf jg fd kw kx ky kz aw la bi"><span id="46f1" class="jo jp hh kx b fi lb lc l ld le"># docker run -it --name mlcontainer centos</span></pre><p id="ba04" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这将启动容器。如何验证？查看从<code class="du mc md me kx b">[root@localhost ~]#</code>到<code class="du mc md me kx b">root@c8f9067..</code>的提示变化(在您的情况下会有所不同)。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es mf"><img src="../Images/fd89f22c5e55c316e2432a2ccbf412e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qsz7jj1qS1yuMnR8Pw9OZg.png"/></div></div><figcaption class="lg lh et er es li lj bd b be z dx translated">发射容器</figcaption></figure><p id="1b92" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">步骤2 </strong>:安装所有需要的软件，即git、python3、vim、net-tools</p><pre class="jd je jf jg fd kw kx ky kz aw la bi"><span id="6c84" class="jo jp hh kx b fi lb lc l ld le"># yum install vim python3 git net-tools -y</span></pre><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es mg"><img src="../Images/3657751f5eba1442a9d61b91382f20c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_TlrEeXRjEgi2pCs7uycqQ.png"/></div></div><figcaption class="lg lh et er es li lj bd b be z dx translated">会是这个样子。</figcaption></figure><p id="957b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">第三步</strong>:安装机器学习需要的重要库，如numpy、pandas、scikit-learn、joblib</p><pre class="jd je jf jg fd kw kx ky kz aw la bi"><span id="cdd8" class="jo jp hh kx b fi lb lc l ld le"># pip3 install numpy pandas joblib scikit-learn</span></pre><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es mh"><img src="../Images/151f976ed296de308568556bf554b214.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VBCYqEhV0gipw4x6wMA2ng.png"/></div></div><figcaption class="lg lh et er es li lj bd b be z dx translated">pip安装命令</figcaption></figure><p id="4963" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这将完成运行ML程序的所有要求。</p><p id="2914" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">第四步:复制/创建程序文件并复制数据。在这里，我已经创建了程序，并添加为GitHub repo。我们将在这里使用回购协议。在容器内运行以下命令。</p><pre class="jd je jf jg fd kw kx ky kz aw la bi"><span id="610d" class="jo jp hh kx b fi lb lc l ld le"># git clone <a class="ae kv" href="https://github.com/rishiagrawal2609/simple-salary-predictor.git" rel="noopener ugc nofollow" target="_blank">https://github.com/rishiagrawal2609/simple-salary-predictor.git</a></span></pre><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es mi"><img src="../Images/25168c5104ddaf95a610f31a00c55663.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WJqQSSlKUYEWcPBOfP37mA.png"/></div></div></figure><p id="7c87" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">导航到文件夹并列出所有文件，所有文件的描述见README.md。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es mj"><img src="../Images/c0aefb980c98a1c3bdcfe9bfdf0da856.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*osWZk1im0r3kRP4j-fcIRA.png"/></div></div></figure><p id="4818" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">让我们看看salarypredictor.py里面有什么</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es mk"><img src="../Images/385e68a212b47428f90b6ac8deb3bbc3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UoRLbVBK9p6Qf7jBG3uVIw.png"/></div></div><figcaption class="lg lh et er es li lj bd b be z dx translated">salarypredictor.py代码</figcaption></figure><p id="80a9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这段代码将训练模型，然后要求用户输入多年的经验。并输出预测工资。</p><pre class="jd je jf jg fd kw kx ky kz aw la bi"><span id="817c" class="jo jp hh kx b fi lb lc l ld le"># python3 salarypredictor.py</span></pre><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es ml"><img src="../Images/39dbc97d66e16d854c6bf6ae385fbbf3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KZDl2ZUHP9l9Ph2URASM6A.png"/></div></div><figcaption class="lg lh et er es li lj bd b be z dx translated">运行salarypredictor.py</figcaption></figure><p id="23be" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">注意:这是一个非常小的数据集，这就是为什么它只需要几秒钟来训练。当数据集很大时，模型训练将花费大量时间。</p><p id="1324" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为了解决这个问题，我使用joblib库保存了权重，并使用保存的权重重新生成模型，然后用它来预测工资。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es mm"><img src="../Images/35cdda3e359852a19658e4f5a3f73c03.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YxFBrOGaMtRsXbssw_V6HA.png"/></div></div><figcaption class="lg lh et er es li lj bd b be z dx translated">salpred.py</figcaption></figure><pre class="jd je jf jg fd kw kx ky kz aw la bi"><span id="951b" class="jo jp hh kx b fi lb lc l ld le"># python3 salpred.py</span></pre><p id="9d1a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">请注意这一条，因为我们将在以后的博客中更多地使用它。</p><p id="0b61" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">结论:</p><p id="dbda" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们可以创建特定的容器来执行机器学习任务，我们可以用它来创建后端。在即将到来的博客中会有更多的介绍。</p><p id="c28b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这个博客到此为止。特别感谢<strong class="ig hi"> <em class="kr">维马尔·达加先生</em> </strong>教授我们正确的概念，以便我们能够实施和展示它。</p><p id="db45" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">感谢所有世卫组织到目前为止阅读这篇博客的人。</p></div></div>    
</body>
</html>