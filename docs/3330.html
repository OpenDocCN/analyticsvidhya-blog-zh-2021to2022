<html>
<head>
<title>Personal Protective Equipment (PPE) detection powered by Deepstream and NVIDIA Jetson Xavier NX</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">由Deepstream和NVIDIA Jetson Xavier NX支持的个人防护设备(PPE)检测</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/personal-protective-equipment-ppe-detection-powered-by-deepstream-and-nvidia-jetson-xavier-nx-b03be5a106ae?source=collection_archive---------5-----------------------#2021-06-25">https://medium.com/analytics-vidhya/personal-protective-equipment-ppe-detection-powered-by-deepstream-and-nvidia-jetson-xavier-nx-b03be5a106ae?source=collection_archive---------5-----------------------#2021-06-25</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/a14ccb1f903b85c96972229a6ff5c6b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3o1W0x8Enmmn8rtKzY8PvA.jpeg"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">Jetson Xavier NX开发套件</figcaption></figure><p id="fce2" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">建筑业每年报告的致命伤害事故数量最多。即使在进行了彻底的风险评估并在工作环境中实施了充分的控制措施后，工人仍然可能面临危险带来的健康和安全风险，这就是个人防护设备如此重要的原因。</p><figure class="js jt ju jv fd ii er es paragraph-image"><div class="er es jr"><img src="../Images/452aa340697e3ba83b7cc1c6d4829fbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*KjXO6lecK4UVTXs5.jpg"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated">PPE施工中使用的主要工具</figcaption></figure><p id="c423" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">该项目的主要目标是实时识别工人服装中的一些强制性安全元素，如头盔、反光背心、面罩、耳机等。</p></div><div class="ab cl jw jx go jy" role="separator"><span class="jz bw bk ka kb kc"/><span class="jz bw bk ka kb kc"/><span class="jz bw bk ka kb"/></div><div class="ha hb hc hd he"><h1 id="4d47" class="kd ke hh bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">介绍</h1><p id="c80e" class="pw-post-body-paragraph it iu hh iv b iw lb iy iz ja lc jc jd je ld jg jh ji le jk jl jm lf jo jp jq ha bi translated">PPE检测应用由智能视频分析管道组成，由Deepstream和NVIDIA Jetson Xavier NX提供支持</p><p id="3932" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">这个项目是一个概念验证，试图使用计算机视觉监控建筑工地上工人的安全，并使用NVIDIA Deepstream加速，可以通过监控摄像头和机载Jetson平台完成。</p><p id="9ccd" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">这个项目检测这7类物体-头，头盔，面具，耳机，胸部，背心和人</p><figure class="js jt ju jv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lg"><img src="../Images/bbe5c8c46771ec137fc102bb86965656.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*63NfHsTXl1z9ohZ8mBOP7g.png"/></div></div></figure><h1 id="a5a0" class="kd ke hh bd kf kg lh ki kj kk li km kn ko lj kq kr ks lk ku kv kw ll ky kz la bi translated">Deepstream设置</h1><p id="f10d" class="pw-post-body-paragraph it iu hh iv b iw lb iy iz ja lc jc jd je ld jg jh ji le jk jl jm lf jo jp jq ha bi translated">这篇文章假设你有一个功能齐全的Jetson设备。如果没有，可以参考这里的文档<a class="ae lm" href="https://docs.nvidia.com/jetson/jetpack/install-jetpack/index.html" rel="noopener ugc nofollow" target="_blank">。</a></p><h1 id="d85c" class="kd ke hh bd kf kg lh ki kj kk li km kn ko lj kq kr ks lk ku kv kw ll ky kz la bi translated">1.安装系统依赖项</h1><pre class="js jt ju jv fd ln lo lp lq aw lr bi"><span id="13d7" class="ls ke hh lo b fi lt lu l lv lw">sudo apt install \<br/>libssl1.0.0 \<br/>libgstreamer1.0-0 \<br/>gstreamer1.0-tools \<br/>gstreamer1.0-plugins-good \<br/>gstreamer1.0-plugins-bad \<br/>gstreamer1.0-plugins-ugly \<br/>gstreamer1.0-libav \<br/>libgstrtspserver-1.0-0 \<br/>libjansson4=2.11-1</span></pre><h1 id="d8fa" class="kd ke hh bd kf kg lh ki kj kk li km kn ko lj kq kr ks lk ku kv kw ll ky kz la bi translated">2.安装Deepstream</h1><p id="0fe3" class="pw-post-body-paragraph it iu hh iv b iw lb iy iz ja lc jc jd je ld jg jh ji le jk jl jm lf jo jp jq ha bi translated">将DeepStream 5.0.1 Jetson Debian包<code class="du lx ly lz lo b">deepstream-5.1_5.1.0-1_arm64.deb</code>下载到Jetson设备上。然后输入命令:</p><pre class="js jt ju jv fd ln lo lp lq aw lr bi"><span id="028c" class="ls ke hh lo b fi lt lu l lv lw">sudo apt-get install ./deepstream-5.1_5.1.0-1_arm64.deb</span></pre><h1 id="9dbc" class="kd ke hh bd kf kg lh ki kj kk li km kn ko lj kq kr ks lk ku kv kw ll ky kz la bi translated">运行应用程序</h1><h1 id="b196" class="kd ke hh bd kf kg lh ki kj kk li km kn ko lj kq kr ks lk ku kv kw ll ky kz la bi translated">1.克隆存储库</h1><p id="9166" class="pw-post-body-paragraph it iu hh iv b iw lb iy iz ja lc jc jd je ld jg jh ji le jk jl jm lf jo jp jq ha bi translated">这是一个简单的步骤，但是，如果您不熟悉git或git-lfs，我建议浏览一下这些步骤。</p><p id="80ee" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">首先，安装git和git-lfs</p><pre class="js jt ju jv fd ln lo lp lq aw lr bi"><span id="5c2f" class="ls ke hh lo b fi lt lu l lv lw">sudo apt install git git-lfs</span></pre><p id="8e3a" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">接下来，克隆存储库</p><pre class="js jt ju jv fd ln lo lp lq aw lr bi"><span id="1ed2" class="ls ke hh lo b fi lt lu l lv lw"># Using HTTPS<br/>git clone <a class="ae lm" href="https://github.com/FalconMadhab/PPE-Deepstream.git" rel="noopener ugc nofollow" target="_blank">https://github.com/FalconMadhab/PPE-Deepstream.git</a></span><span id="2301" class="ls ke hh lo b fi ma lu l lv lw">#Using SSh<br/>git@github.com:FalconMadhab/PPE-Deepstream.git</span></pre><h1 id="aa3d" class="kd ke hh bd kf kg lh ki kj kk li km kn ko lj kq kr ks lk ku kv kw ll ky kz la bi translated">2.重量:<a class="ae lm" href="https://drive.google.com/file/d/1y-XouaZKwFPY07-3plXhQ8WJUwg-_VZ2/view?usp=sharing" rel="noopener ugc nofollow" target="_blank">此处</a></h1><p id="9fba" class="pw-post-body-paragraph it iu hh iv b iw lb iy iz ja lc jc jd je ld jg jh ji le jk jl jm lf jo jp jq ha bi translated">从上面的链接下载重量文件并移动到这个文件夹</p><h1 id="1c52" class="kd ke hh bd kf kg lh ki kj kk li km kn ko lj kq kr ks lk ku kv kw ll ky kz la bi translated">3.编制</h1><ul class=""><li id="e1da" class="mb mc hh iv b iw lb ja lc je md ji me jm mf jq mg mh mi mj bi translated">x86平台</li></ul><pre class="js jt ju jv fd ln lo lp lq aw lr bi"><span id="1d7c" class="ls ke hh lo b fi lt lu l lv lw">CUDA_VER=11.1 make -C nvdsinfer_custom_impl_Yolo</span></pre><ul class=""><li id="ebef" class="mb mc hh iv b iw ix ja jb je mk ji ml jm mm jq mg mh mi mj bi translated">杰特森平台</li></ul><pre class="js jt ju jv fd ln lo lp lq aw lr bi"><span id="8fd7" class="ls ke hh lo b fi lt lu l lv lw">CUDA_VER=10.2 make -C nvdsinfer_custom_impl_Yolo</span></pre><p id="dad1" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">这是一次性的步骤，只有在修改源代码时才需要这样做。</p><h1 id="d263" class="kd ke hh bd kf kg lh ki kj kk li km kn ko lj kq kr ks lk ku kv kw ll ky kz la bi translated">了解和编辑deepstream_app_config</h1><p id="0fff" class="pw-post-body-paragraph it iu hh iv b iw lb iy iz ja lc jc jd je ld jg jh ji le jk jl jm lf jo jp jq ha bi translated">要理解和编辑deepstream_app_config.txt文件，请阅读<a class="ae lm" href="https://docs.nvidia.com/metropolis/deepstream/dev-guide/text/DS_ref_app_deepstream.html#configuration-groups" rel="noopener ugc nofollow" target="_blank"> DeepStream SDK开发指南—配置组</a></p><ul class=""><li id="c4ef" class="mb mc hh iv b iw ix ja jb je mk ji ml jm mm jq mg mh mi mj bi translated">编辑来源</li></ul><p id="480d" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">1个源的示例:</p><pre class="js jt ju jv fd ln lo lp lq aw lr bi"><span id="3603" class="ls ke hh lo b fi lt lu l lv lw">[source0]<br/>enable=1<br/># 1=Camera (V4L2), 2=URI, 3=MultiURI, 4=RTSP, 5=Camera (CSI; Jetson only)<br/>type=3<br/># Stream URL<br/>uri=file:///home/user/Videos/input.mp4 or &lt;rtsp url&gt;<br/># Number of sources copy (if &gt; 1, you need edit rows/columns in tiled-display section and batch-size in streammux section and config_infer_primary.txt; need type=3 for more than 1 source)<br/>num-sources=1<br/>gpu-id=0<br/>cudadec-memtype=0</span></pre><p id="d64e" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">两个源的示例:</p><pre class="js jt ju jv fd ln lo lp lq aw lr bi"><span id="2ac2" class="ls ke hh lo b fi lt lu l lv lw">[source0]<br/>enable=1<br/>type=3<br/>uri=file:///home/user/Videos/input.mp4 or &lt;rtsp url&gt;<br/>num-sources=1<br/>gpu-id=0<br/>cudadec-memtype=0</span><span id="0ed2" class="ls ke hh lo b fi ma lu l lv lw">[source1]<br/>enable=1<br/>type=3<br/>uri=file:///home/user/Videos/input.mp4 or &lt;rtsp url&gt;<br/>num-sources=1<br/>gpu-id=0<br/>cudadec-memtype=0</span></pre><p id="4f8b" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">现在，通过运行以下命令来运行应用程序:</p><pre class="js jt ju jv fd ln lo lp lq aw lr bi"><span id="0a77" class="ls ke hh lo b fi lt lu l lv lw">deepstream-app -c deepstream_app_config.txt</span></pre><h1 id="25b9" class="kd ke hh bd kf kg lh ki kj kk li km kn ko lj kq kr ks lk ku kv kw ll ky kz la bi translated">应用程序的视频演示</h1><figure class="js jt ju jv fd ii"><div class="bz dy l di"><div class="mn mo l"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated">推论_结果_杰特森</figcaption></figure><h1 id="19ca" class="kd ke hh bd kf kg lh ki kj kk li km kn ko lj kq kr ks lk ku kv kw ll ky kz la bi translated">参考文献</h1><ul class=""><li id="db66" class="mb mc hh iv b iw lb ja lc je md ji me jm mf jq mg mh mi mj bi translated">大众-PPE数据集+论文:<a class="ae lm" href="http://aimir.isti.cnr.it/vw-ppe" rel="noopener ugc nofollow" target="_blank">http://aimir.isti.cnr.it/vw-ppe</a></li><li id="026f" class="mb mc hh iv b iw mp ja mq je mr ji ms jm mt jq mg mh mi mj bi translated">彩色头盔数据集:<a class="ae lm" href="https://github.com/wujixiu/helmet-detection" rel="noopener ugc nofollow" target="_blank">https://github.com/wujixiu/helmet-detection</a></li><li id="de60" class="mb mc hh iv b iw mp ja mq je mr ji ms jm mt jq mg mh mi mj bi translated">暗网知识库(仅用于培训):【https://github.com/AlexeyAB/darknet T2】</li><li id="37ad" class="mb mc hh iv b iw mp ja mq je mr ji ms jm mt jq mg mh mi mj bi translated">YOLOv4 Tensorflow实现(测试):【https://github.com/hunglc007/tensorflow-yolov4-tflite T4】</li><li id="9972" class="mb mc hh iv b iw mp ja mq je mr ji ms jm mt jq mg mh mi mj bi translated">Hermes-使用NVIDIA Jetson和Ryze泰洛进行野火检测:<a class="ae lm" href="https://towardsdatascience.com/hermes-wildfire-detection-using-nvidia-jetson-and-ryze-tello-8da123f05c64" rel="noopener" target="_blank">https://towards data science . com/Hermes-wild fire-Detection-using-NVIDIA-Jetson-and-Ryze-tello-8da 123 f 05 c 64</a></li><li id="5aa5" class="mb mc hh iv b iw mp ja mq je mr ji ms jm mt jq mg mh mi mj bi translated">用于检测的Youtube视频:<a class="ae lm" href="https://www.youtube.com/watch?v=lfoTLeFooR4&amp;t=265s" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=lfoTLeFooR4&amp;t = 265s</a></li></ul></div></div>    
</body>
</html>