<html>
<head>
<title>Large Scale Object Detection &amp; Tracking with YOLOv5 Package</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用YOLOv5软件包进行大规模目标检测和跟踪</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/large-scale-object-detection-tracking-with-yolov5-package-31e715d84121?source=collection_archive---------4-----------------------#2021-05-29">https://medium.com/analytics-vidhya/large-scale-object-detection-tracking-with-yolov5-package-31e715d84121?source=collection_archive---------4-----------------------#2021-05-29</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="a407" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">只有'<a class="ae jc" href="https://pypi.org/project/yolov5/" rel="noopener ugc nofollow" target="_blank"> pip安装yolov5 </a>'远离你…</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/dd0f535366b97c1c72e4ec3e5743989c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*K7AB3_dXJMzA8uktBxTZ7Q.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">就这么简单。</figcaption></figure><ul class=""><li id="263d" class="jp jq hh ig b ih ii il im ip jr it js ix jt jb ju jv jw jx bi translated">你在Windows/Linux下安装最新的YOLO物体探测器有困难吗？</li><li id="759c" class="jp jq hh ig b ih jy il jz ip ka it kb ix kc jb ju jv jw jx bi translated">在使用定制的YOLOv5模型进行训练/推理时，您是否会遇到错误？</li><li id="cb0e" class="jp jq hh ig b ih jy il jz ip ka it kb ix kc jb ju jv jw jx bi translated">你在寻找一个只有几行代码的实时物体跟踪器吗？</li><li id="62bd" class="jp jq hh ig b ih jy il jz ip ka it kb ix kc jb ju jv jw jx bi translated">要不要一键进行大规模(无人机监控/卫星影像/广域监控)物体检测？</li></ul><blockquote class="kd"><p id="593d" class="ke kf hh bd kg kh ki kj kk kl km jb dx translated">继续阅读这篇文章，你将能够在几秒钟内解决所有这些问题..</p></blockquote></div><div class="ab cl kn ko go kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ha hb hc hd he"><h2 id="3c2d" class="ku kv hh bd kw kx ky kz la lb lc ld le ip lf lg lh it li lj lk ix ll lm ln lo bi translated"><a class="ae jc" href="https://pypi.org/project/yolov5/" rel="noopener ugc nofollow" target="_blank"> YOLOv5 </a>物体探测器</h2><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="er es lp"><img src="../Images/537f2278c780c3a793da1cff4d7a5e9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TnpzQ4Ap1P5fDg5atOBT5w.png"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx translated"><a class="ae jc" href="https://ultralytics.com/yolov5" rel="noopener ugc nofollow" target="_blank">https://ultralytics.com/yolov5</a></figcaption></figure><p id="9696" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">YOLOv5 是有史以来最快最精确的YOLO，你可以用它来解决任何你需要的物体探测问题。</p><p id="c4e1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">安装很简单:在Windows/Linux终端中运行<a class="ae jc" href="https://pypi.org/project/yolov5/" rel="noopener ugc nofollow" target="_blank"> <strong class="ig hi"> pip安装yolov5 </strong> </a> <strong class="ig hi"> </strong>即可。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="er es lu"><img src="../Images/a909e2e4096aea75211e059ce3717793.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MnMPnc7zZR0Ua-_evfFiRg.jpeg"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx translated"><a class="ae jc" href="https://ultralytics.com/yolov5" rel="noopener ugc nofollow" target="_blank">https://ultralytics.com/yolov5</a></figcaption></figure><h2 id="f244" class="ku kv hh bd kw kx ky kz la lb lc ld le ip lf lg lh it li lj lk ix ll lm ln lo bi translated">基本用法</h2><pre class="je jf jg jh fd lv lw lx ly aw lz bi"><span id="b74f" class="ku kv hh lw b fi ma mb l mc md">import yolov5</span><span id="378c" class="ku kv hh lw b fi me mb l mc md"># model<br/>model = yolov5.load('yolov5s')</span><span id="1fd1" class="ku kv hh lw b fi me mb l mc md"># image<br/>img = 'https://github.com/ultralytics/yolov5/raw/master/data/images/zidane.jpg'</span><span id="ccbb" class="ku kv hh lw b fi me mb l mc md"># inference<br/>results = model(img)</span><span id="0e71" class="ku kv hh lw b fi me mb l mc md"># inference with larger input size<br/>results = model(img, size=1280)</span><span id="f762" class="ku kv hh lw b fi me mb l mc md"># inference with test time augmentation<br/>results = model(img, augment=True)</span><span id="9853" class="ku kv hh lw b fi me mb l mc md"># show results<br/>results.show()</span><span id="e985" class="ku kv hh lw b fi me mb l mc md"># save results<br/>results.save(save_dir='results/')</span></pre><h2 id="8ee2" class="ku kv hh bd kw kx ky kz la lb lc ld le ip lf lg lh it li lj lk ix ll lm ln lo bi translated">培养</h2><p id="c9f4" class="pw-post-body-paragraph ie if hh ig b ih mf ij ik il mg in io ip mh ir is it mi iv iw ix mj iz ja jb ha bi translated">运行以下命令对您的数据进行微调。YOLOv5s/m/l/x在单个V100上的训练时间是2/4/6/8天(快多个GPU倍)。使用您的GPU允许的最大<code class="du mk ml mm lw b">--batch-size</code>(针对8 GB设备显示的批量大小)。详细信息请参考:<a class="ae jc" href="https://pypi.org/project/yolov5/" rel="noopener ugc nofollow" target="_blank">https://pypi.org/project/yolov5/</a></p><pre class="je jf jg jh fd lv lw lx ly aw lz bi"><span id="7fe1" class="ku kv hh lw b fi ma mb l mc md">$ yolov5 train --data coco.yaml --cfg --weights 'yolov5s6.pt' --batch-size 16</span></pre><h2 id="e973" class="ku kv hh bd kw kx ky kz la lb lc ld le ip lf lg lh it li lj lk ix ll lm ln lo bi translated">推理</h2><p id="07ff" class="pw-post-body-paragraph ie if hh ig b ih mf ij ik il mg in io ip mh ir is it mi iv iw ix mj iz ja jb ha bi translated">yolov5 detect命令在各种来源上运行推理，从<a class="ae jc" href="https://github.com/ultralytics/yolov5/releases" rel="noopener ugc nofollow" target="_blank">最新的yolov5版本</a>自动下载模型并将结果保存到<code class="du mk ml mm lw b">runs/detect</code>。详细信息请参考:<a class="ae jc" href="https://pypi.org/project/yolov5/" rel="noopener ugc nofollow" target="_blank">https://pypi.org/project/yolov5/</a></p><pre class="je jf jg jh fd lv lw lx ly aw lz bi"><span id="b82e" class="ku kv hh lw b fi ma mb l mc md">$ yolov5 detect --source 0  # webcam<br/>                         file.jpg  # image<br/>                         file.mp4  # video<br/>                         path/  # directory<br/>                         path/*.jpg  # glob</span></pre><h2 id="2af4" class="ku kv hh bd kw kx ky kz la lb lc ld le ip lf lg lh it li lj lk ix ll lm ln lo bi translated">使用YOLOv5 进行最先进的<a class="ae jc" href="https://github.com/tryolabs/norfair/tree/master/demos/yolov5" rel="noopener ugc nofollow" target="_blank">目标跟踪</a></h2><p id="d962" class="pw-post-body-paragraph ie if hh ig b ih mf ij ik il mg in io ip mh ir is it mi iv iw ix mj iz ja jb ha bi translated">您可以用几行代码创建一个实时自定义多对象跟踪器，下面是一个简单的例子:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mn mo l"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">最先进的YOLOv5物体跟踪器，只有几行代码。</figcaption></figure><p id="72ff" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这是输出结果:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="er es lu"><img src="../Images/cacdb202fc6bdced8d5df856545dba2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*bJnFui_aE4FaFEYZ2nWHbw.gif"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">YOLOv5对象跟踪演示。</figcaption></figure><p id="1ae9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在这个colab笔记本中你可以找到一个YOLOv5物体追踪器。它可以从任何YouTube视频中执行高精度的行人和汽车跟踪！<a class="ae jc" href="https://github.com/tryolabs/norfair/blob/master/demos/yolov5/yolov5demo.py" rel="noopener ugc nofollow" target="_blank">参考这里获得完整的YOLOv5跟踪码</a>。</p><p id="7b03" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae jc" href="https://github.com/obss/sahi/blob/main/demo/inference_for_yolov5.ipynb" rel="noopener ugc nofollow" target="_blank"> <strong class="ig hi">大规模物体检测用YOLOv5 </strong> </a></p><p id="5339" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果您正在处理巨大的卫星图像或广域监控图像，则无法使用标准输入大小进行推断。下面是<a class="ae jc" href="https://github.com/obss/sahi/blob/main/demo/inference_for_yolov5.ipynb" rel="noopener ugc nofollow" target="_blank"> SAHI </a>包及其<a class="ae jc" href="https://github.com/obss/sahi/blob/main/resources/sliced_inference.gif" rel="noopener ugc nofollow" target="_blank"> <em class="mp">切片推理</em> </a>特性:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="er es mq"><img src="../Images/b5b8b1a34899fb31b475c9adcff8f0f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*5VGHuTkeQlQVxELUAtwIfQ.gif"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx translated"><a class="ae jc" rel="noopener" href="/codable/sahi-a-vision-library-for-performing-sliced-inference-on-large-images-small-objects-c8b086af3b80">来自SAHI的切片推论。</a></figcaption></figure><p id="daad" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae jc" href="https://github.com/obss/sahi/blob/main/demo/inference_for_yolov5.ipynb" rel="noopener ugc nofollow" target="_blank">在本演示笔记本</a>中，您可以看到如何用YOLOv5用几行代码执行大规模切片推理！</p><p id="b091" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">或者您可以从CLI执行YOLOv5分片推理:</p><pre class="je jf jg jh fd lv lw lx ly aw lz bi"><span id="cfa7" class="ku kv hh lw b fi ma mb l mc md">python scripts/predict.py --model_type yolov5 --source image/file/or/folder --model_path path/to/model</span></pre><p id="3ab2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">有关CLI参数<a class="ae jc" href="https://github.com/obss/sahi/blob/main/docs/SCRIPTS.md" rel="noopener ugc nofollow" target="_blank">的详细信息，请参考此处</a>。</p><h2 id="2c34" class="ku kv hh bd kw kx ky kz la lb lc ld le ip lf lg lh it li lj lk ix ll lm ln lo bi translated">结论</h2><p id="6504" class="pw-post-body-paragraph ie if hh ig b ih mf ij ik il mg in io ip mh ir is it mi iv iw ix mj iz ja jb ha bi translated">在这篇文章中，我们介绍了:</p><ul class=""><li id="0423" class="jp jq hh ig b ih ii il im ip jr it js ix jt jb ju jv jw jx bi translated">安装YOLOv5的最简单方法</li><li id="4ada" class="jp jq hh ig b ih jy il jz ip ka it kb ix kc jb ju jv jw jx bi translated">最简单的<a class="ae jc" href="https://github.com/fcakyon/yolov5-pip#scripts" rel="noopener ugc nofollow" target="_blank"> YOLOv5训练/推理方式</a></li><li id="4b82" class="jp jq hh ig b ih jy il jz ip ka it kb ix kc jb ju jv jw jx bi translated">最简单的方法<a class="ae jc" href="https://github.com/tryolabs/norfair/blob/master/demos/yolov5/yolov5_demo.ipynb" rel="noopener ugc nofollow" target="_blank"> YOLOv5物体跟踪</a></li><li id="2051" class="jp jq hh ig b ih jy il jz ip ka it kb ix kc jb ju jv jw jx bi translated">最简单的方法<a class="ae jc" href="https://github.com/obss/sahi/blob/main/demo/inference_for_yolov5.ipynb" rel="noopener ugc nofollow" target="_blank"> YOLOv5切片推理</a></li></ul><p id="eb94" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果你在任何一步有困难，请随时提问！</p></div></div>    
</body>
</html>