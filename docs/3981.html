<html>
<head>
<title>Simple Scrapping Data Twitter (Series Twitter Data)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">简单报废数据Twitter(系列Twitter数据)</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/simple-scrapping-data-twitter-part-1-series-twitter-data-7a096c906103?source=collection_archive---------3-----------------------#2021-08-15">https://medium.com/analytics-vidhya/simple-scrapping-data-twitter-part-1-series-twitter-data-7a096c906103?source=collection_archive---------3-----------------------#2021-08-15</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><figure class="hg hh ez fb hi hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es hf"><img src="../Images/eb58d1185b07f08715a8aa03825c0023.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ytpoz6yDT6cumb9pW3OL3A.jpeg"/></div></div></figure><div class=""/><p id="422f" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Twitter是一种免费的社交网络微博服务，允许注册会员发布简短的帖子，称为tweets。Twitter成员可以通过用户多个平台和设备广播推文并关注其他用户的推文。你可以通过网络或移动设备访问Twitter。为了尽可能广泛地分享Twitter上的信息，我们还通过API为公司、开发者和用户提供对Twitter数据的编程访问。</p><p id="cab9" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">要访问Twitter，首先我们必须具备:</p><p id="8152" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">1.API密钥</p><p id="2d1a" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">2.Api密钥</p><p id="9cf7" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">3.访问令牌</p><p id="4096" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">4.访问令牌秘密</p><p id="1232" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">你可以在这里看到。</p><p id="699e" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><a class="ae jn" href="http://For get the access token you can look in here. https://developer.twitter.com/en/docs/twitter-api/getting-started/getting-access-to-the-twitter-api" rel="noopener ugc nofollow" target="_blank">https://developer . Twitter . com/en/docs/Twitter-API/getting-started/getting-access-to-the-Twitter-API</a></p><p id="e445" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">让我们开始编码</p><p id="6fc0" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir ht"> 1。设置环境</strong></p><p id="fa71" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">打开代码脚本或笔记本代码。我们可以用笔记本。让我们在谷歌合作实验室访问笔记本。</p><p id="8aad" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">【https://colab.research.google.com/ T4】</p><p id="1380" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">和新笔记本，直到您准备好</p><figure class="jp jq jr js fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es jo"><img src="../Images/44f3aa750a1c7af450b3540f7683b3b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4LaUbF1JGmTaQBW4ngLtaw.png"/></div></div></figure><p id="1305" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">2.安装和导入库</p><p id="135a" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">将在这次报废中使用的库是广告库。所以在此之前，请在您的计算机上安装该库。</p><p id="7058" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在笔记本代码中:</p><pre class="jp jq jr js fd jt ju jv jw aw jx bi"><span id="8e0b" class="jy jz hs ju b fi ka kb l kc kd">!pip install advertools</span></pre><p id="f16d" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在cmd/终端代码中:</p><pre class="jp jq jr js fd jt ju jv jw aw jx bi"><span id="588b" class="jy jz hs ju b fi ka kb l kc kd">pip install advertools</span></pre><p id="5bdd" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">因此，导入您的库:</p><pre class="jp jq jr js fd jt ju jv jw aw jx bi"><span id="b189" class="jy jz hs ju b fi ka kb l kc kd">Import pandas as pd</span><span id="8773" class="jy jz hs ju b fi ke kb l kc kd">Import numpy as np</span><span id="7e5d" class="jy jz hs ju b fi ke kb l kc kd">import advertools as adv</span></pre><p id="5c30" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">3.设置令牌访问Twitter</p><pre class="jp jq jr js fd jt ju jv jw aw jx bi"><span id="c58e" class="jy jz hs ju b fi ka kb l kc kd">auth_params = {</span><span id="400e" class="jy jz hs ju b fi ke kb l kc kd">'app_key': "xxxxxxxxxxxxxxxxxxxxxxx",</span><span id="e2f9" class="jy jz hs ju b fi ke kb l kc kd">'app_secret': "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx" ,</span><span id="b624" class="jy jz hs ju b fi ke kb l kc kd">'oauth_token': "xxxxxxxxxxxxxxxxx-xxxxxxxxxxxxxxxxxxxxxx",</span><span id="e265" class="jy jz hs ju b fi ke kb l kc kd">'oauth_token_secret':"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",</span><span id="47dc" class="jy jz hs ju b fi ke kb l kc kd">}</span><span id="1683" class="jy jz hs ju b fi ke kb l kc kd">adv.twitter.set_auth_params(**auth_params)</span></pre><p id="7627" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如果你想这么容易得到API，你可以使用我的API。</p><div class="hg hh ez fb hi kf"><a href="https://drive.google.com/file/d/19RPjWjbW-3ztVEelKAtc5RZzgWmXmNej/view?usp=sharing" rel="noopener  ugc nofollow" target="_blank"><div class="kg ab dw"><div class="kh ab ki cl cj kj"><h2 class="bd ht fi z dy kk ea eb kl ed ef hr bi translated">认识Google Drive -一个存放所有文件的地方</h2><div class="km l"><h3 class="bd b fi z dy kk ea eb kl ed ef dx translated">Google Drive是一种免费的文件备份方式，可以从任何手机、平板电脑或电脑上轻松访问。开始…</h3></div><div class="kn l"><p class="bd b fp z dy kk ea eb kl ed ef dx translated">drive.google.com</p></div></div><div class="ko l"><div class="kp l kq kr ks ko kt ho kf"/></div></div></a></div><p id="6baa" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">本文中要得到的数据是:</p><p id="4493" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">1.从搜索关键字获取数据</p><p id="d8de" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这个方法可以得到关于关键字的所有数据。例如，如果你搜索“复仇者”，结果是包含“复仇者主题”的推文，所以你可以得到推文数据</p><figure class="jp jq jr js fd hj er es paragraph-image"><div class="er es ku"><img src="../Images/35cdb51fb2816bfbf4b5fc79f72a92c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:820/format:webp/1*IYiOYbmz94nHBN8R_RDiKA.png"/></div></figure><p id="572e" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">所以放手一搏:</p><pre class="jp jq jr js fd jt ju jv jw aw jx bi"><span id="2aea" class="jy jz hs ju b fi ka kb l kc kd">input_keyword = "avengers"<br/>count_data = 200</span><span id="65d5" class="jy jz hs ju b fi ke kb l kc kd">df = adv.twitter.search(q = input_keyword, geocode=None, lang=None, locale=None, result_type=None, count=count_data, until=None, since_id=None, max_id=None, include_entities=None, tweet_mode=None)</span></pre><p id="4526" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">您可以自定义刮刀的参数。所以我们可以详细解释每一个参数，因为这对你来说非常重要。</p><p id="24dd" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir ht"> q =是报废的主要参数关键字</strong></p><p id="3494" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">(str必选)最多500个字符的UTF-8、URL编码的搜索查询，包括运算符。查询还可能受到复杂性的限制。</p><p id="6284" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">关键字的多种值。</p><figure class="jp jq jr js fd hj er es paragraph-image"><div class="er es kv"><img src="../Images/6f3d5bfbdb5db32ef3283d199df9cd78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1054/format:webp/1*v81QX_tCV9jBQG8cQgMnqw.png"/></div></figure><ul class=""><li id="94bd" class="kw kx hs ir b is it iw ix ja ky je kz ji la jm lb lc ld le bi translated"><strong class="ir ht"> geocode </strong> — (lat long dist —可选)返回位于给定纬度/经度的给定半径内的用户的推文。位置优先从地理标记API获取，但会退回到他们的Twitter个人资料。参数值由“纬度、经度、半径”指定，其中半径单位必须指定为“英里”(miles)或“公里”(km)。请注意，不能通过API使用near运算符对任意位置进行地理编码；但是，您可以使用此地理编码参数直接搜索附近的地理编码。使用“半径”修改器时，最多会考虑1000个不同的“子区域”。</li><li id="84c3" class="kw kx hs ir b is lf iw lg ja lh je li ji lj jm lb lc ld le bi translated"><strong class="ir ht">lang</strong>——(str-可选)将推文限制在给定的语言，由ISO 639-1代码给出。语言检测是最大努力。</li><li id="ce34" class="kw kx hs ir b is lf iw lg ja lh je li ji lj jm lb lc ld le bi translated"><strong class="ir ht">地区</strong> — (str —可选)指定您发送的查询的语言(目前只有ja有效)。这是为特定于语言的用户设计的，默认设置在大多数情况下都适用。</li><li id="07e3" class="kw kx hs ir b is lf iw lg ja lh je li ji lj jm lb lc ld le bi translated"><strong class="ir ht"> result_type </strong> — (str —可选)可选。指定您希望接收哪种类型的搜索结果。当前默认为“混合”有效值包括:*混合:在响应中包括流行和实时结果。* recent:仅返回响应中最近的结果* popular:仅返回响应中最受欢迎的结果。</li><li id="254c" class="kw kx hs ir b is lf iw lg ja lh je li ji lj jm lb lc ld le bi translated"><strong class="ir ht"> count </strong> — (int —可选)指定要检索的结果数。</li><li id="0934" class="kw kx hs ir b is lf iw lg ja lh je li ji lj jm lb lc ld le bi translated"><strong class="ir ht">直到</strong> —(日期—可选)返回在给定日期之前创建的推文。日期格式应为YYYY-MM-DD。请记住，搜索索引有7天的限制。换句话说，超过一周的日期将找不到推文。</li><li id="c364" class="kw kx hs ir b is lf iw lg ja lh je li ji lj jm lb lc ld le bi translated"><strong class="ir ht"> since_id </strong> — (int —可选)返回id大于(即比)指定ID更新的结果。通过API访问的Tweets数量是有限制的。如果Tweets的限制发生在since_id之后，则since_id将被强制为最早的可用id。</li><li id="e3ef" class="kw kx hs ir b is lf iw lg ja lh je li ji lj jm lb lc ld le bi translated"><strong class="ir ht"> max_id </strong> — (int —可选)返回id小于(即早于)或等于指定ID的结果。</li><li id="f899" class="kw kx hs ir b is lf iw lg ja lh je li ji lj jm lb lc ld le bi translated"><strong class="ir ht">include _ entities</strong>—(bool—可选)当设置为False时，将不包括实体节点。</li><li id="6938" class="kw kx hs ir b is lf iw lg ja lh je li ji lj jm lb lc ld le bi translated"><strong class="ir ht"> tweet_mode </strong> — (str —可选)有效的请求值是compat和extended，分别为包含超过140个字符的tweet提供兼容模式和扩展模式</li></ul><p id="df77" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">因此，毕竟，尝试显示报废的数据</p><pre class="jp jq jr js fd jt ju jv jw aw jx bi"><span id="e78f" class="jy jz hs ju b fi ka kb l kc kd">print(df.shape)</span><span id="4362" class="jy jz hs ju b fi ke kb l kc kd">print(df.head)</span></pre><figure class="jp jq jr js fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lk"><img src="../Images/9312aaf415f79c619125ca5d273237e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9FSif5H9lqSCh4oMI8hQ6g.png"/></div></div></figure><p id="f9f5" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">数据列是1条tweet数据的79列表示信息，以及我们得到的200条tweet数据的200行表示。</p><p id="e351" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">非常感谢</p><p id="4c11" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">来源:</p><p id="72d2" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><a class="ae jn" href="https://whatis.techtarget.com/definition/Twitter" rel="noopener ugc nofollow" target="_blank">https://whatis.techtarget.com/definition/Twitter</a></p><p id="ae81" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><a class="ae jn" href="https://advertools.readthedocs.io/en/master/advertools.twitter.html" rel="noopener ugc nofollow" target="_blank">https://广告工具. readthedocs . io/en/master/广告工具. twitter.html </a></p><p id="da8a" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">【https://developer.twitter.com/ T4】</p></div></div>    
</body>
</html>