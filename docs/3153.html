<html>
<head>
<title>#02TheNotSoToughML | Tricks to ‘Fit a line’</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated"># 02TheNotSoToughML |适合一条线的技巧</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/thenotsotoughml-tricks-to-fit-a-line-af982eeac01a?source=collection_archive---------5-----------------------#2021-06-12">https://medium.com/analytics-vidhya/thenotsotoughml-tricks-to-fit-a-line-af982eeac01a?source=collection_archive---------5-----------------------#2021-06-12</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><blockquote class="ie if ig"><p id="1ca2" class="ih ii ij ik b il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf ha bi translated">“音乐理论和实践是复杂的课题。但是当我们想到音乐时，我们想到的不是乐谱和音阶，而是歌曲和旋律。然后我就在想，机器学习也是这样吗？真的只是一堆公式和代码，还是背后有旋律？”路易斯·塞拉诺</p></blockquote><h1 id="d730" class="jg jh hh bd ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd bi translated">#(标签)是怎么回事？</h1><p id="1e3d" class="pw-post-body-paragraph ih ii hh ik b il ke in io ip kf ir is kg kh iv iw ki kj iz ja kk kl jd je jf ha bi translated">就在不久前，我开始了一个新的系列，致力于它所说的——一个系列，我通过解释算法/概念背后的直觉，而不是直接给出数学，来消除人们可能对算法/概念的一些差距。这只是试图让你明白<strong class="ik hi"> ML并不强硬。更多的是直觉——通过算法证明。</strong></p><p id="7f01" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">在<a class="ae km" href="https://anaa-vs.medium.com/thenotsotoughml-fit-a-line-what-do-we-even-mean-f05f55f3c1ee" rel="noopener">系列的第一篇</a>文章中，我们经历了— <em class="ij">当我们说“拟合一条线”时，换句话说，线性回归是什么意思。它解释了算法背后的直觉，以及我们希望通过将这条线拟合到我们的数据上来实现什么。</em></p><p id="55b2" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">我们离开了我们在第一篇文章中一起编织的故事，对下面的问题:</p><p id="7832" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated"><strong class="ik hi"> <em class="ij">问:我们如何调整线性回归模型中的权重和偏差？</em>T11】</strong></p><p id="fe9b" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">这就是我们将在本文中探讨的内容。</p><p id="2222" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">如果你还没有读过第一部，那完全没问题。我相信自由意志，所以继续吧，如果你已经先打开了这一个，读一读，然后如果你想回去的话！</p><h1 id="514b" class="jg jh hh bd ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd bi translated">这里所说的“招数”会有什么结果？</h1><p id="77de" class="pw-post-body-paragraph ih ii hh ik b il ke in io ip kf ir is kg kh iv iw ki kj iz ja kk kl jd je jf ha bi translated">在上一篇<a class="ae km" href="https://anaa-vs.medium.com/thenotsotoughml-fit-a-line-what-do-we-even-mean-f05f55f3c1ee" rel="noopener">文章</a>中，我们的结论是<strong class="ik hi">“拟合一条线”意味着得到一条尽可能接近我们的数据点的线。</strong></p><p id="c272" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">我们是否希望这条线尽可能靠近每一个点，以及这是否可能，我们稍后会谈到。</p><p id="e2e8" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">我们也明白这样一条线可以这样表达，对于我们的<em class="ij">房价预测问题</em>:</p><p id="9a5f" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">p^=先生+ b</p><p id="9569" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">其中p^ =预测价格，m:每个房间的价格，r:房间数量，b:房屋的基础价格</p><p id="0c84" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">我们称每间房价格(m)的倍数为特征房间数(r)的<strong class="ik hi">【权重】</strong>，称房屋的基价为等式中的<strong class="ik hi">【偏差】</strong>。</p><p id="1033" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">如果你想回忆这个例子，再看一遍这篇文章，你就会明白了:)</p><p id="a8bc" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated"><em class="ij">我们意识到，当我们调整等式中的权重和偏差时，即使是很小的数字，预测结果也更接近实际数据点。</em></p><p id="9848" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">这就是我们在这篇文章中试图解决的问题</p><ul class=""><li id="6f02" class="kn ko hh ik b il im ip iq kg kp ki kq kk kr jf ks kt ku kv bi translated">有什么技巧可以让我们找到这些权重和偏差吗？</li><li id="f418" class="kn ko hh ik b il kw ip kx kg ky ki kz kk la jf ks kt ku kv bi translated"><strong class="ik hi">这些技巧将如何帮助算法知道，改变多少权重和偏差，以及在哪个方向？</strong></li><li id="2f8e" class="kn ko hh ik b il kw ip kx kg ky ki kz kk la jf ks kt ku kv bi translated"><strong class="ik hi">如果有多种花样，我们选择哪一种？</strong></li></ul><p id="af84" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">简而言之，<em class="ij">我们将回答这个问题:</em></p><p id="f405" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated"><strong class="ik hi">“我们如何调整权重和偏差？”</strong></p><p id="b073" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">那我们准备好了吗？</p><figure class="lc ld le lf fd lg er es paragraph-image"><div class="er es lb"><img src="../Images/69e7f871e71f0e21b75be671afe69a70.png" data-original-src="https://miro.medium.com/v2/resize:fit:352/format:webp/1*dxlNJCXC_1NS-3tp7mFwfA.png"/></div></figure><h1 id="22ca" class="jg jh hh bd ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd bi translated">但是首先，重量和偏差——这些是如何改变界限的？</h1><p id="fd2b" class="pw-post-body-paragraph ih ii hh ik b il ke in io ip kf ir is kg kh iv iw ki kj iz ja kk kl jd je jf ha bi translated">让我们给我们的“重量”术语取一个新名字——“斜率”(这也是有原因的)。</p><p id="8a4c" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">现在，回想一下上面的等式有两个部分-</p><ol class=""><li id="74ca" class="kn ko hh ik b il im ip iq kg kp ki kq kk kr jf lj kt ku kv bi translated">倾斜</li><li id="b39f" class="kn ko hh ik b il kw ip kx kg ky ki kz kk la jf lj kt ku kv bi translated">y轴截距(或偏差)</li></ol><p id="20df" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">当我们使用这两个指标画线时，我们会得到这样的结果:</p><figure class="lc ld le lf fd lg er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es lk"><img src="../Images/77137455071007abf32571d2466ea283.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LPzauyBw3VGaxkuB2dEcSA.png"/></div></div><figcaption class="lp lq et er es lr ls bd b be z dx translated">一条y = 0.5x + 2的线看起来像什么的例子。</figcaption></figure><p id="ef84" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">斜率告诉我们直线有多陡(因此得名“斜率”)，y轴截距告诉我们直线的位置。前者由上升除以行程给出，后者是直线与y轴的交叉点。</p><h2 id="e4c4" class="lt jh hh bd ji lu lv lw jm lx ly lz jq kg ma mb ju ki mc md jy kk me mf kc mg bi translated">那么，方程y = 0.5x + 2是什么意思呢？</h2><p id="314b" class="pw-post-body-paragraph ih ii hh ik b il ke in io ip kf ir is kg kh iv iw ki kj iz ja kk kl jd je jf ha bi translated"><em class="ij">当我们说斜率为0.5时，这意味着当我们沿着这条线行走时，我们向右移动的每一个单位，都是向上移动0.5个单位。</em>如果我们完全不向上移动，斜率可以为零，如果我们向下移动，斜率可以为负。</p><p id="b793" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">如果我们画一条与上图中的线平行的线，这条线每向右移动一个单位也会上升0.5个单位。</p><p id="d34c" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">这就是y截距的用武之地。y轴截距告诉我们直线与y轴相交的位置。这条线在高度2处与x轴相交，这就是y轴截距。</p><p id="41f9" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">换句话说，直线的斜率告诉我们直线指向的<strong class="ik hi">方向</strong>，y轴截距告诉我们直线的<strong class="ik hi">位置</strong>。</p><figure class="lc ld le lf fd lg er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es mh"><img src="../Images/96b409b7036c029699c4cac8417befd2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jwZyxrStoHtPJUnpjG4Nvg.png"/></div></div><figcaption class="lp lq et er es lr ls bd b be z dx translated">当我们分别改变斜率和偏差时会发生什么。</figcaption></figure><p id="cfb8" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">简单吗？</p><p id="8104" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">现在让我们记住我们的房价预测问题，上面的变化分别是斜率(我们每间房的价格)和基价(房屋的基价)的变化。</p><p id="a4bf" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">如果我们在上面的图中再添加一些细节，我们会得到这样的结果-</p><figure class="lc ld le lf fd lg er es paragraph-image"><div class="er es mi"><img src="../Images/2a9f70c08b47853d260a67f9c5373c09.png" data-original-src="https://miro.medium.com/v2/resize:fit:726/format:webp/1*aI8Necr5826Js8ITjF9zSw.png"/></div></figure><ul class=""><li id="41d2" class="kn ko hh ik b il im ip iq kg kp ki kq kk kr jf ks kt ku kv bi translated">如果我们<strong class="ik hi">增加一条线的斜率</strong>，这条线将<strong class="ik hi">逆时针旋转。</strong></li><li id="7c92" class="kn ko hh ik b il kw ip kx kg ky ki kz kk la jf ks kt ku kv bi translated">如果我们<strong class="ik hi">减小直线的斜率</strong>，直线将<strong class="ik hi">顺时针旋转。</strong></li></ul><p id="dca9" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">这些旋转是在线和y轴的交点上。</p><figure class="lc ld le lf fd lg er es paragraph-image"><div class="er es mj"><img src="../Images/ca87db482971063dc8ebcc42d4e31734.png" data-original-src="https://miro.medium.com/v2/resize:fit:654/format:webp/1*yScQszrgUGVt_lescHz0oQ.png"/></div></figure><ul class=""><li id="d803" class="kn ko hh ik b il im ip iq kg kp ki kq kk kr jf ks kt ku kv bi translated">如果我们<strong class="ik hi">增加一条线的y轴截距</strong>，这条线将<strong class="ik hi">向上平移</strong>。</li><li id="11fc" class="kn ko hh ik b il kw ip kx kg ky ki kz kk la jf ks kt ku kv bi translated">如果我们<strong class="ik hi">减小一条线的y轴截距</strong>，这条线将<strong class="ik hi">向下平移</strong>。</li></ul><p id="2ae5" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">现在我们已经清楚了所有的要素——斜率、y轴截距和直线方程，是时候玩些小把戏了？是啊！</p><p id="a797" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">终于！</p><h1 id="41d5" class="jg jh hh bd ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd bi translated">移动一条线靠近一组点的简单技巧，一次一个点</h1><p id="0b4e" class="pw-post-body-paragraph ih ii hh ik b il ke in io ip kf ir is kg kh iv iw ki kj iz ja kk kl jd je jf ha bi translated">这很简单，通过下图可以更好地理解:</p><figure class="lc ld le lf fd lg er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es mk"><img src="../Images/d58619ff7a60581a03d8276e45ab7520.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4vi0AtnW-9hxHRKpxeC06w.png"/></div></div><figcaption class="lp lq et er es lr ls bd b be z dx translated">我们希望算法如何响应单个点的不同情况</figcaption></figure><p id="cd37" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">记住，从我们的房价预测方程来看，y是我们的房价，x是房间数。因此，每个数据点将是某个坐标(r，p)。</p><p id="5f4f" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">如果我们必须为这个简单的魔术写一个伪代码-</p><p id="8733" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">我们有，</p><p id="16fa" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">输入:</p><ul class=""><li id="aa25" class="kn ko hh ik b il im ip iq kg kp ki kq kk kr jf ks kt ku kv bi translated">斜率为m，y轴截距为b，方程为p̂=mr+b.的直线</li><li id="9fe3" class="kn ko hh ik b il kw ip kx kg ky ki kz kk la jf ks kt ku kv bi translated">坐标为(r，p)的点。</li></ul><p id="f928" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">输出:</p><ul class=""><li id="0071" class="kn ko hh ik b il im ip iq kg kp ki kq kk kr jf ks kt ku kv bi translated">一条带有方程p̂=m'r+b的线，它更接近这个点(这里“m”上面的符号是一个“散列”)。</li></ul><p id="6502" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">我们如何实现这个简单的技巧？</p><p id="3479" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">挑选两个非常小的随机数，称它们为η1和η2 ('eta ')。</p><p id="15c5" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">情况1:如果点在线的上方，y轴的右侧，我们逆时针旋转线并向上平移。</p><ul class=""><li id="b34b" class="kn ko hh ik b il im ip iq kg kp ki kq kk kr jf ks kt ku kv bi translated">将η1加到斜率m上，得到m'+η1</li><li id="e64b" class="kn ko hh ik b il kw ip kx kg ky ki kz kk la jf ks kt ku kv bi translated">将η2加到y轴截距b上，得到b'+η2</li></ul><p id="6f58" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">情况2:如果点在线的上方，y轴的左侧，我们顺时针旋转线并向上平移。</p><ul class=""><li id="9553" class="kn ko hh ik b il im ip iq kg kp ki kq kk kr jf ks kt ku kv bi translated">将η1减去斜率m，得到m'-η1</li><li id="6671" class="kn ko hh ik b il kw ip kx kg ky ki kz kk la jf ks kt ku kv bi translated">将η2加到y轴截距b上，得到b'+η2</li></ul><p id="95fc" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">情况3:如果点在线的下面，y轴的右边，我们顺时针旋转线并向下平移。</p><ul class=""><li id="98c4" class="kn ko hh ik b il im ip iq kg kp ki kq kk kr jf ks kt ku kv bi translated">将η1减去斜率m，得到m'-η1</li><li id="609c" class="kn ko hh ik b il kw ip kx kg ky ki kz kk la jf ks kt ku kv bi translated">将η2减去y轴截距b，得到b'-η2</li></ul><p id="558b" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">情况4:如果点在线的下方，y轴的左侧，我们逆时针旋转线，并将其向下平移。</p><ul class=""><li id="3e0a" class="kn ko hh ik b il im ip iq kg kp ki kq kk kr jf ks kt ku kv bi translated">将η1加到斜率m上，得到m'+η1</li><li id="6313" class="kn ko hh ik b il kw ip kx kg ky ki kz kk la jf ks kt ku kv bi translated">将η2减去y轴截距b，得到b'-η2</li></ul><p id="6c93" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">返回:带有p̂=m'r+b'.方程的直线</p><p id="438f" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">所以，</p><ul class=""><li id="3878" class="kn ko hh ik b il im ip iq kg kp ki kq kk kr jf ks kt ku kv bi translated"><em class="ij">如果模型给我们的房价比实际价格低太多，</em> <strong class="ik hi"> <em class="ij">在每间房的价格和房子的基价上加</em> </strong> <em class="ij">一个小的随机数字。</em></li><li id="4979" class="kn ko hh ik b il kw ip kx kg ky ki kz kk la jf ks kt ku kv bi translated"><em class="ij">如果模型给我们的房价高于实际价格，</em> <strong class="ik hi"> <em class="ij">从每间房的价格和房屋的基价中减去</em> </strong> <em class="ij">一个小的随机数字。</em></li></ul><p id="f95c" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">但是，这个技巧也有问题。比如？</p><ul class=""><li id="69ec" class="kn ko hh ik b il im ip iq kg kp ki kq kk kr jf ks kt ku kv bi translated">我们能为η1和η2选择更好的值吗？</li><li id="2a35" class="kn ko hh ik b il kw ip kx kg ky ki kz kk la jf ks kt ku kv bi translated">我们能不能把4个案子压缩成2个，或者1个？</li></ul><p id="ab80" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">这就是我们下一个技巧派上用场的地方！</p><h1 id="f4cb" class="jg jh hh bd ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd bi translated">将我们的线移近其中一个点的方块技巧</h1><p id="1b62" class="pw-post-body-paragraph ih ii hh ik b il ke in io ip kf ir is kg kh iv iw ki kj iz ja kk kl jd je jf ha bi translated">正方形技巧将通过找到具有正确符号(+或-)的值来添加到斜率和y截距，从而使直线始终向该点移动，从而将这四种情况合并为一种情况。</p><p id="abc1" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">在这个简单的技巧中，请注意:</p><ul class=""><li id="38b1" class="kn ko hh ik b il im ip iq kg kp ki kq kk kr jf ks kt ku kv bi translated">当点在线上时，我们在y轴截距上增加一点。当它低于这条线时，我们减去一点点。</li><li id="df51" class="kn ko hh ik b il kw ip kx kg ky ki kz kk la jf ks kt ku kv bi translated">如果一个点在线上，p-p̂值(价格和预测价格之间的差异)为正。如果低于该线，则该值为负。</li></ul><figure class="lc ld le lf fd lg er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es ml"><img src="../Images/d8b19c1007fd58cc1670ff974b589b80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Iv4I_0olo61mjcob53eagA.png"/></div></div></figure><p id="a0bf" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">将这两点合二为一，我们得出结论，如果我们将p-p̂差加到y轴截距上，则直线将始终向该点移动，因为当该点在线上时，该值为正，当该点在线下时，该值为负。</p><p id="ecb4" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">但是在ML中，当我们做出调整时，我们总是小心翼翼，小步前进。在这里，我们将引入另一个术语——学习率。</p><p id="e546" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated"><strong class="ik hi">学习率</strong></p><p id="31c9" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">我们在训练模型前挑选的一个很小的数字。这个数字将帮助我们通过训练确保我们的模型变化非常小。</p><p id="c470" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">学习率将由η表示，即希腊字母<em class="ij"> eta </em>。</p><p id="ba52" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">既然学习率很小，那么η(p-p̂).值也很小这是我们添加到y轴截距的值，目的是将直线向点的方向移动。</p><p id="3d91" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">向斜坡走来。它类似于我们对y截距所做的，只是稍微复杂一点。</p><ul class=""><li id="05fa" class="kn ko hh ik b il im ip iq kg kp ki kq kk kr jf ks kt ku kv bi translated">在这个简单的技巧中，当点在例1或例4中时(在线的上方和垂直轴的右侧，或者在线的下方和垂直轴的左侧)，我们逆时针旋转线。否则(情况2或3)，我们顺时针旋转它。</li><li id="f65e" class="kn ko hh ik b il kw ip kx kg ky ki kz kk la jf ks kt ku kv bi translated">如果一个点(r，p)在纵轴的右边，那么r为正。如果点在垂直轴的左边，那么r是负的。注意，在这个例子中，r永远不会是负的，因为它是房间的数量。然而，在一般的例子中，特征可以是负的。</li></ul><figure class="lc ld le lf fd lg er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es mm"><img src="../Images/0b22a7edaa3bcc52364d12f32147964c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aJWVbVP7S1LbJKMGajzckA.png"/></div></div></figure><p id="7f16" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">考虑价值r(p-p̂).当r和p-p̂都为正或都为负时，该值为正。这正是场景1和场景4中的情况。类似地，r(p-p̂)在情况2和3中是负的。</p><p id="d479" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">因为我们希望这个值很小，所以我们再次将它乘以学习率，并得出结论，将ηr(p-p̂添加到斜率将总是沿着点的方向移动直线。</p><p id="9a1e" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">如果我们必须为方块魔术写一个伪代码-</p><p id="d5c5" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">输入:</p><ul class=""><li id="1b19" class="kn ko hh ik b il im ip iq kg kp ki kq kk kr jf ks kt ku kv bi translated">斜率为m，y轴截距为b，方程为p̂=mr + b的直线</li><li id="90e8" class="kn ko hh ik b il kw ip kx kg ky ki kz kk la jf ks kt ku kv bi translated">坐标为(r，p)的点。</li><li id="577a" class="kn ko hh ik b il kw ip kx kg ky ki kz kk la jf ks kt ku kv bi translated">小正值n(学习率)。</li></ul><p id="cde7" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">输出:</p><ul class=""><li id="b398" class="kn ko hh ik b il im ip iq kg kp ki kq kk kr jf ks kt ku kv bi translated">方程为p̂ = m'r + b '的直线。这才是重点。</li></ul><p id="2b68" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated"><strong class="ik hi">我们如何实现方块戏法？</strong></p><ul class=""><li id="19ec" class="kn ko hh ik b il im ip iq kg kp ki kq kk kr jf ks kt ku kv bi translated">将η(p-(p))̂加到y轴截距b上，得到b' = b+η(p-(p))̂(这是直线的平移)。</li><li id="5e2f" class="kn ko hh ik b il kw ip kx kg ky ki kz kk la jf ks kt ku kv bi translated">将ηr(p-(p))̂加到斜率m上，得到m' = m+ηr(p-(p))̂((这样旋转直线)。</li></ul><p id="9dd2" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">返回:方程为p的直线̂ = m'r + b '</p><h1 id="4138" class="jg jh hh bd ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd bi translated">最后一个技巧——绝对技巧，另一个有用的技巧是将线移近点</h1><p id="b91c" class="pw-post-body-paragraph ih ii hh ik b il ke in io ip kf ir is kg kh iv iw ki kj iz ja kk kl jd je jf ha bi translated">方块戏法非常有效，但还有另一个有用的戏法——绝对戏法<em class="ij"/>，介于简单戏法和方块戏法之间。</p><p id="f014" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">在平方技巧中，我们使用了两个量p-p̂(价格——预测价格)和r(房间数量)来帮助我们将四种情况减少到一种。</p><p id="d5e7" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">在绝对值中，我们只使用r来帮助我们将四种情况减少到两种。</p><p id="0d26" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">简言之，</p><p id="4f1a" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">如果该点在线上(即，如果p&gt;p̂)).</p><ul class=""><li id="67fe" class="kn ko hh ik b il im ip iq kg kp ki kq kk kr jf ks kt ku kv bi translated">将η加到y轴截距b上，得到b' = b+η(这将直线向上平移)。</li><li id="5fc6" class="kn ko hh ik b il kw ip kx kg ky ki kz kk la jf ks kt ku kv bi translated">将ηr与斜率m相加，得出m' = m+ηr(如果点在y轴的右侧，则逆时针旋转直线，如果点在y轴的左侧，则顺时针旋转直线)。</li></ul><p id="89f5" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">如果点在线的下面(即，如果p &lt; p̂).</p><ul class=""><li id="d749" class="kn ko hh ik b il im ip iq kg kp ki kq kk kr jf ks kt ku kv bi translated">Subtract η to the y-intercept b. Obtain b’ = b-η (this translates the line down).</li><li id="927f" class="kn ko hh ik b il kw ip kx kg ky ki kz kk la jf ks kt ku kv bi translated">Subtract ηr to the slope m. Obtain m’ = m-ηr (this rotates the line clockwise if the point is to the right of the y-axis, and counterclockwise if it is to the left of the y-axis).</li></ul><h1 id="2d41" class="jg jh hh bd ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd bi translated">What do we do next?</h1><p id="dea3" class="pw-post-body-paragraph ih ii hh ik b il ke in io ip kf ir is kg kh iv iw ki kj iz ja kk kl jd je jf ha bi translated"><em class="ij">我们运行平方/绝对技巧(简单的技巧只是为了说明)多次，使线更接近点，简单！</em></p><p id="87c6" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">每当我们使用“多次运行”这个表达时，我们实际上是指在一个循环中运行某个东西，在ML中——循环中的每次迭代被称为一个“<strong class="ik hi">时期</strong>”。</p><p id="f82b" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">“时期”的这个数字是在模型运行的开始或之前设置的。</p><p id="809e" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">因此，我们的线性回归模型现在将以这种方式运行:</p><ul class=""><li id="57f1" class="kn ko hh ik b il im ip iq kg kp ki kq kk kr jf ks kt ku kv bi translated">从斜率和y轴截距的随机值开始</li><li id="6970" class="kn ko hh ik b il kw ip kx kg ky ki kz kk la jf ks kt ku kv bi translated">重复多次(历元):</li></ul><ol class=""><li id="1ddf" class="kn ko hh ik b il im ip iq kg kp ki kq kk kr jf lj kt ku kv bi translated">选择一个随机数据点</li><li id="57af" class="kn ko hh ik b il kw ip kx kg ky ki kz kk la jf lj kt ku kv bi translated">使用绝对值或平方技巧更新斜率和y轴截距。</li></ol><p id="a578" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">这将给你你的线性回归算法！</p><h1 id="73cd" class="jg jh hh bd ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd bi translated">在数据集上做一些测试怎么样？</h1><p id="d36a" class="pw-post-body-paragraph ih ii hh ik b il ke in io ip kf ir is kg kh iv iw ki kj iz ja kk kl jd je jf ha bi translated">嗯，我有一个现成的数据集(来自《T4》一书——参见文章倒数第二节)，我可以测试算法在每个时期后如何移动或转向。</p><p id="a4cc" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">我们使用了上面的技巧来公式化和识别直线(我们的线性回归算法)，经过1000个纪元后，我们可以看到直线是如何旋转和平移的，正如我们上面所理解的那样。</p><figure class="lc ld le lf fd lg er es paragraph-image"><div class="er es mn"><img src="../Images/0926c50ad9b03458d753c62a88f75097.png" data-original-src="https://miro.medium.com/v2/resize:fit:920/format:webp/1*SbVhwmFU5Lp_Gkiss-r9dw.png"/></div></figure><p id="bb2b" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">我相信你也一定对在数据集上测试它感兴趣，但是我建议你真的把这本书拿到手——它真的很棒！(不，我不会为此得到报酬，相信我。)</p><h1 id="bca4" class="jg jh hh bd ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd bi translated">为什么我们要在这里结束？</h1><p id="2de8" class="pw-post-body-paragraph ih ii hh ik b il ke in io ip kf ir is kg kh iv iw ki kj iz ja kk kl jd je jf ha bi translated">嗯，因为我认为这是一个公平的点，让我们消化，吸收，甚至思考我们为下一篇文章留下的问题。</p><h2 id="e712" class="lt jh hh bd ji lu lv lw jm lx ly lz jq kg ma mb ju ki mc md jy kk me mf kc mg bi translated">此时我们想到的问题是什么？</h2><p id="e6ea" class="pw-post-body-paragraph ih ii hh ik b il ke in io ip kf ir is kg kh iv iw ki kj iz ja kk kl jd je jf ha bi translated">我希望，你正在思考这样的问题:</p><ul class=""><li id="deed" class="kn ko hh ik b il im ip iq kg kp ki kq kk kr jf ks kt ku kv bi translated">我们应该调整多少权重？</li><li id="0d68" class="kn ko hh ik b il kw ip kx kg ky ki kz kk la jf ks kt ku kv bi translated">我们应该重复这个过程多少次？</li><li id="1e11" class="kn ko hh ik b il kw ip kx kg ky ki kz kk la jf ks kt ku kv bi translated">我怎么知道这个模型有效呢？</li></ul><p id="de19" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">为了更好地研究这些问题，我们将更深入地探讨一些概念，比如，<strong class="ik hi">误差、最小化该误差以及非常著名的梯度下降。</strong></p><p id="dfe3" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">别走开，我很快会回来的！</p></div><div class="ab cl mo mp go mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ha hb hc hd he"><p id="3958" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">这篇文章(以及更多后续文章)受到了我正在阅读的新书的启发——Luis Serrano的<em class="ij"> Grokking Machine Learning </em>。这本书还没有发行，但是我提前买了一本，我认为这是一个明智的选择。相信我，他们的书/材料绝对值得任何想要了解算法和模型如何工作背后的真实想法的人阅读。</p><p id="7aa3" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">我将在六月底写一篇书评，但是如果你已经对这本书感兴趣，你可以在这里浏览它的内容。</p></div><div class="ab cl mo mp go mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ha hb hc hd he"><p id="4694" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">如果你想在LinkedIn上与我联系，请随时给我发短信或请求<a class="ae km" href="http://www.linkedin.com/in/anaa-vs" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><p id="86ac" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">当然，你也可以在这里留下你的评论！我也很乐意回答任何问题。</p><p id="8833" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is kg iu iv iw ki iy iz ja kk jc jd je jf ha bi translated">直到下一次，继续唱，唱，唱。最重要的是，不断学习:)</p></div></div>    
</body>
</html>