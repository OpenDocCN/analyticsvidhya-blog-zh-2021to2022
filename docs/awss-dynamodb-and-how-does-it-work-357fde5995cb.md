# AWS 的 DynamoDB 以及它是如何工作的？

> 原文：<https://medium.com/analytics-vidhya/awss-dynamodb-and-how-does-it-work-357fde5995cb?source=collection_archive---------20----------------------->

![](img/07ebfda6c168c9c24ec8736985c58dc7.png)

图片由[Williams 创作](https://pixabay.com/users/williamscreativity-17210051/?utm_source=link-attribution&utm_medium=referral&utm_campaign=image&utm_content=5469737)来自 [Pixabay](https://pixabay.com/?utm_source=link-attribution&utm_medium=referral&utm_campaign=image&utm_content=5469737)

每个开发人员，无论是前端、后端还是全栈，都必须以某种方式使用数据库。前端开发人员不需要知道数据库中使用的概念，只需要知道访问所需数据并将其添加到前端的方式。他们需要能够快速启动并运行的东西，以便开始测试他们的解决方案。AWS 的 DynamoDB 就是这样一个工具。

DynamoDB 不仅对前端开发人员来说是一个很好的工具，对所有使用数据库的人来说也是如此，从前端开发人员到数据库管理员，从非 IT 专业人员到 IT 顾问。DynamoDB 拥有无服务器架构和完全托管的服务等特性，可以完成所有繁重的工作，让您完全专注于自己的业务逻辑。除了所有这些品质之外，AWS 还提供每月 25GB 的 DynamoDB 数据库存储空间，并且永远免费，如果你是一名学生或者只是想摆弄这个工具的人，这将是一个惊喜。许多世界知名的组织都在使用 DynamoDB，如 Lyft、Airbnb、丰田、网飞、耐克和三星，dynamo db 是一个很好的工具。在这篇博客中，我将探索 DynamoDB 即服务，它是如何工作的，以及在开始使用它之前需要知道的一些重要概念。

# **什么是 DynamoDB，它能提供什么？**

DynamoDB 是亚马逊完全托管的 NoSQL 键值无服务器数据库服务。与其他数据库相比，DynamoDB 提供了许多优势，其中一个最令人惊叹的优点是，该服务能够根据需要进行伸缩，并且不需要从用户端提供硬件。

据亚马逊称，DynamoDB

*   大规模提供个位数毫秒级性能。
*   通过自动复制在该地区的多个 AWS 可用性区域中可用。
*   提供内置的安全性、备份和恢复。
*   非常耐用。
*   能够每天处理 10 万亿次请求，每秒处理 2000 万次请求。
*   能够提供任何规模的低延迟数据访问。
*   提供传输和静态加密。
*   被许多世界知名的组织使用，如 lyft、Airbnb、三星、丰田、耐克、网飞等，作为 Web、移动、物联网、游戏等应用的数据库。

所有这些品质都是非凡的，但是包含了大量的技术信息，对于数据库世界的新手来说，这些信息可能没有多大意义。在接下来的部分中，我将以简单明了的方式解释这些品质和能力。DynamoDB 最重要的特性之一是它以键值对的形式存储数据。让我们深入研究一下。

# **什么是键值数据库？**

如果你是一个程序员，你一定很清楚键值对的概念。这个概念在几乎每一种编程语言中都被大量使用。例如，JavaScript 对象以键值对的形式存储数据。下面显示了利用键值概念的 JavaScript 对象的实现。

```
let myObject = {
  name: 'Prashant',
  platform: 'Medium'
};
```

键-值数据库与编程中的键-值概念没有什么不同，只是数据库附带了额外的与数据库相关的特性和支持。键值概念的实现可能因供应商或数据库而异。由于键-值的概念已经使用了相当长的时间，不同的供应商根据不同的需求创造了不同的风格。

DynamoDB 在存储的每条记录中都使用了键-值的概念，通过键来存储和检索。在使用 DynamoDB 时，最重要的两个术语(除了键和值)是条目和属性。项目是一组属性，而属性是不能再细分的数据元素。

例如，在一个名为*用户的表中，属性*将是*用户名、密码、电子邮件、电话号码、性别、年龄*、*等*，当分组时，它将成为一个项目。如果您必须以 JavaScript 对象的形式编写这些信息，那么它应该是这样的:

```
Let item = {
    username: 'Prashant',
    password: 'password',
    email: 'email@email.com',
    mobile: 0000000000,
    gender: 'male',
    age: 23
}
```

这里的对象是一个 ***项*** (因为对象是其属性的集合)，里面所有的键值对都是 ***属性*** 。您可以将一条信息记录视为一个项目。因此，一个表包含一个或多个项目，一个项目包含一个或多个属性。为了与 SQL 进行比较，您可以说 DynamoDB 项类似于 SQL 表的行(也称为*元组*),项的属性类似于列的属性，也称为*属性*。SQL 和 DynamoDB 的重要区别在于，在 SQL 中，您需要定义模式，而在 DynamoDB 中，作为一个 NoSQL 数据库，您不需要有固定的模式。你可以在这个[链接](https://db-engines.com/en/system/Amazon+DynamoDB%3bMySQL)上找到更多关于差异的信息。

# **存储和检索数据**

您一定想知道如何从表中检索这些信息。如果您熟悉 SQL 数据库，那么您应该知道，如果需要检索某个特定的记录，则使用主键或任何其他唯一键来执行检索，如果需要检索一组记录，则使用 SELECT 语句。DynamoDB 使用了与此不同的东西，但并不完全如此。创建表时，DynamoDB 要求您至少选择一个属性作为主键。

在 DynamoDB 中，主键可以有两种不同的类型。*分区键*和*分区键和排序键的组合*。分区键是 DynamoDB 内部哈希函数中用来确定特定数据的物理存储位置的东西。这都是在内部完成的，我们作为服务的消费者，不需要关心它。当存储多个具有相同分区键的记录时，使用分区键和排序键的组合(也称为组合键)。DynamoDB 会将具有相同分区键的项存储在一起。因此，分区键和排序键的组合将有助于从其他项目中识别出一个项目。下面是一个例子。

```
# item 1
[ 
 "roomId" : 'xyz',        
 "messageId" : '123',     
 "from" : "userA",
 "date" : "20 Feb 2021"
]#item 2
[ 
 "roomId" : 'xyz',        
 "messageId" : '124',     
 "from" : "userB",
 "date" : "20 Feb 2021"
]#item 3
[ 
 "roomId" : 'xyz',        
 "messageId" : '125',     
 "from" : "userC",
 "date" : "20 Feb 2021"
]
```

在本例中，“roomId”是分区键，“messageId”是排序键。这里“roomId”是帮助系统识别聊天室的数据元素，每个聊天室都有其唯一的“roomId”。“messageId”有助于识别聊天室中的特定消息。

这个主键的工作方式类似于 SQL，但是查询结构不同，因为 DynamoDB 使用 Restful HTTP API 来查询数据库中的数据。为了检索多个记录，在 DynamoDB 的 Restful HTTP API 中有一个等同于 SELECT 语句的语句可以使用。使用这个 API 需要熟悉 AWS CLI 或 AWS SDKs，这超出了本博客的范围。要了解更多关于使用 API、CLI 和更多方式使用 DynamoDB 的信息，请点击这里的。这就把我们带到了下一个 DynamoDB 质量，以便更深入地研究，即托管服务。

# **DynamoDB 作为托管数据库即服务**

这种品质包含了 DynamoDB 的所有其他品质，但也包括了许多本博客中不会涉及的概念，因为它们更多的是一个通用的数据库概念，而不是 DynamoDB 特有的东西，并且有许多特定的资源可以详细解释这些概念。说了这么多，我们继续。

在托管服务中，消费者直接消费服务，而无需参与或关心与特定服务的管理或维护相关的任何任务。我知道这个定义很奇怪，但这是我能想到的最简单的解释。假设您的公司日常运营需要一个数据库，通常您会调配服务器(本地或云上)、安装数据库软件和补丁程序。您还需要维护这些服务器、它们的底层操作系统以及您刚刚安装在它们上面的软件。有了托管服务，您无需担心所有这些事情。您只需要启动 DynamoDB 服务，提供您需要的容量，并为附加功能选择几个复选框。AWS 管理和维护您的服务高效运行所需的所有底层硬件和软件。DynamoDB 的大部分品质和优势来自于它是一个完全托管的服务，通常分布在以下几点。

*   ***自动伸缩*** DynamoDB 自动伸缩你的数据库来维持服务的性能。DynamoDB 要求您在创建表时选择服务容量的两个选项之一。您可以选择按需选项，根据吞吐量从一开始就扩大或缩小容量，也可以在开始时调配最小容量，然后选择自动扩展，从该最小容量开始扩大或缩小容量。在后一种情况下，即使处于空闲状态，您调配的最小容量也将始终处于分配和运行状态。DynamoDB 的自动扩展功能在不影响性能和不停机的情况下进行扩展。
*   ***可用性和容错性*** 数据被 ***复制到多个可用性区域*** ，以提供高可用性和 ***耐久性*** 。这也有助于将流量分散到多个服务器上，最终在任何规模下保持一致的 ***个位数毫秒级性能*** 。
*   ***传输中和静态加密*** DynamoDB 不仅在传输过程中加密数据，而且在物理硬件上存储和静态加密数据，这有助于降低复杂性和计算消耗。
*   ***按需备份和时间点恢复*** DynamoDB 提供全表的按需完整备份，用于长期保留。此功能允许用户创建数 TB 数据的备份，而不会对性能产生任何影响，停机时间也可以忽略不计。这些备份经过加密、编目，可以轻松检索，并且除非明确告知，否则不会被删除。如果启用时间点恢复，将在过去 35 天内维护 DynamoDB 表的常规增量备份，并且可以恢复到过去 35 天内的任何时间点。这有助于保护数据免受意外的删除和写入操作。

# DynamoDB 的其他特性和功能

1.  它提供身份和访问控制。
2.  它支持 ACID 事务。
3.  它提供生存时间，当项目过期时，它会自动从表中删除项目，以帮助降低成本和优化存储使用。
4.  它提供了创建全局表的能力，以保持表和数据与多个区域同步。
5.  以及作为 AWS 产品带来的所有其他好处，即与其他 AWS 产品和服务的完全集成。

好了，伙计们。这个博客到此为止。我希望我能够为您提供足够的信息来开始使用 DynamoDB。要了解更多信息，你可以随时访问 AWS [网站](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Introduction.html)上的官方文档，在那里你会找到关于我在这篇博客中所涉及的一切的深入解释以及更多内容。

如果你在这个博客中发现任何错误，请在下面留下你的评论。我很感谢你花时间阅读我的博客。非常感谢。另一个博客见。干杯。