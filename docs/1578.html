<html>
<head>
<title>Exploratory Data Analysis (EDA) in Python on Suicide Rates</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中关于自杀率的探索性数据分析(EDA)</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/exploratory-data-analysis-eda-in-python-on-suicide-rates-33da65855add?source=collection_archive---------7-----------------------#2021-03-08">https://medium.com/analytics-vidhya/exploratory-data-analysis-eda-in-python-on-suicide-rates-33da65855add?source=collection_archive---------7-----------------------#2021-03-08</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/0c637e9a224dcbba908eafa73db4d313.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TQB4N5lPQLv4OgUtE1HB9A.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">由婉儿·梅在帆布上创作</figcaption></figure><h1 id="b622" class="it iu hh bd iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq bi translated"><strong class="ak">简介</strong></h1><p id="1e3a" class="pw-post-body-paragraph jr js hh jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ha bi translated">在美国，自杀是一个必须解决和分析的健康问题。尽管美国富裕繁荣，但根据世界卫生组织的数据，其自杀率仍约为每10万人中有10至11人。根据我的经验，我遇到了许多患有抑郁症和其他心理健康问题的朋友和家人。除此之外，过去一年的疫情给人们造成了很大的压力。因此，对于我的第一个EDA，我决定研究自杀率，并试图找出当面临自杀想法时，哪一组和哪一部分人口具有更高的风险。</p><h1 id="8447" class="it iu hh bd iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq bi translated">第1部分:清理数据集</h1><figure class="kq kr ks kt fd ii er es paragraph-image"><div class="er es kp"><img src="../Images/4675504100c3f23a2b4b2581b2dbcb20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1194/format:webp/1*z4yq7CCIOE7z8oRaSOAFuw.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated">导入数据集</figcaption></figure><p id="2248" class="pw-post-body-paragraph jr js hh jt b ju ku jw jx jy kv ka kb kc kw ke kf kg kx ki kj kk ky km kn ko ha bi translated">我找到了一个完美而简单的数据集供我在Kaggle上使用。这是从1985年到2016年自杀率的概述。虽然只有12列，但是仍然需要清理数据集。下面是该数据集前5行的快速演示。</p><figure class="kq kr ks kt fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kz"><img src="../Images/376e87eb12605d8166ca84ce46e592ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5MTB_v7zX8-f_yi9eLGWMA.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">显示数据集的前5行</figcaption></figure><p id="5637" class="pw-post-body-paragraph jr js hh jt b ju ku jw jx jy kv ka kb kc kw ke kf kg kx ki kj kk ky km kn ko ha bi translated">在成功导入数据集之后，我必须清理这个数据集，使它更加有组织和直观。为此，我首先检查数据集的属性，然后我发现由于语法的原因，列的一些名称可能是一个问题。因此，我更改了两个列名。然后，我删除了我不会在这个EDA中使用的列。之后，我删除了重复的行和缺少值的行。</p><div class="kq kr ks kt fd ab cb"><figure class="la ii lb lc ld le lf paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><img src="../Images/53d2b8988697e05c9c555548c5532692.png" data-original-src="https://miro.medium.com/v2/resize:fit:852/format:webp/1*0vq864h1aOWFxiLHnKpSQQ.png"/></div></figure><figure class="la ii lg lc ld le lf paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><img src="../Images/abf6afae72ed397c820b59884fd1dd25.png" data-original-src="https://miro.medium.com/v2/resize:fit:548/format:webp/1*XhUsNl6yQEd6V1ji42lzng.png"/></div></figure><figure class="la ii lh lc ld le lf paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><img src="../Images/5f741e8620c9fdbfe21793e045a535d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:604/format:webp/1*7mRhF65XpN23WOSW5m7Mkw.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx li di lj lk translated">清理数据集(左1)，清理前后(右2和右1)</figcaption></figure></div><p id="5dba" class="pw-post-body-paragraph jr js hh jt b ju ku jw jx jy kv ka kb kc kw ke kf kg kx ki kj kk ky km kn ko ha bi translated">接下来，我使用“describe”方法来查找列的计数、唯一值、上限值、频率、平均值、标准差、最小值、25%百分点、50%百分点、75%百分点和最大值(如果有的话)。NaN表示该统计分析不能在该列上操作。</p><figure class="kq kr ks kt fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ll"><img src="../Images/c7b09bf5e617ada720325e904e0f9b74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7aUMR-w6XabpQocvFqxGCg.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">“描述”法</figcaption></figure><p id="aece" class="pw-post-body-paragraph jr js hh jt b ju ku jw jx jy kv ka kb kc kw ke kf kg kx ki kj kk ky km kn ko ha bi translated">然而,“describe”方法并没有告诉我们哪个值是异常值，因此，我找到了一些可以指示异常值的函数。在那之后，我创建了一个新的特性，将基于自杀率统计分析的值分为“异常值”和“正常值”。</p><div class="kq kr ks kt fd ab cb"><figure class="la ii lm lc ld le lf paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><img src="../Images/46c8a99d12cfb7400d9bb43ab2317fa1.png" data-original-src="https://miro.medium.com/v2/resize:fit:938/format:webp/1*e-HwpJwqHSGNsW2NkuGt4g.png"/></div></figure><figure class="la ii ln lc ld le lf paragraph-image"><img src="../Images/e367d2854057b2ec397d861e3d86f2bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1014/format:webp/1*MHBGRP_Ymkv6LNeGAXhAEw.png"/><figcaption class="ip iq et er es ir is bd b be z dx lo di lp lk translated">我发现的异常值函数和我创建的新列“异常值”</figcaption></figure></div><p id="14c8" class="pw-post-body-paragraph jr js hh jt b ju ku jw jx jy kv ka kb kc kw ke kf kg kx ki kj kk ky km kn ko ha bi translated">这是包含异常值和排除异常值的直方图的比较。差别不大，但粉色图表更详细，我们可以看到大多数国家和州的自杀率低于5，仍有大约4200个国家和州的自杀率在5到10之间。而在蓝色图表中，我们只能粗略地假设大多数国家和州的自杀率都低于50。但是我们不知道这些数据是如何分布的。</p><div class="kq kr ks kt fd ab cb"><figure class="la ii lq lc ld le lf paragraph-image"><img src="../Images/3a135df9d2f974e29f5c82a7c06a83c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1044/format:webp/1*VUUfZIgFDCbls0KNo9-NYw.png"/></figure><figure class="la ii lr lc ld le lf paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><img src="../Images/adde612925d75924501d4f7783f577e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:944/format:webp/1*MO4QPgOhxQVaQq8tR6M1ig.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx ls di lt lk translated">有异常值(蓝色)，无异常值(粉色)</figcaption></figure></div><h1 id="fbfb" class="it iu hh bd iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq bi translated">第2部分:分析数据集</h1><p id="9f2f" class="pw-post-body-paragraph jr js hh jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ha bi translated">在测试了一些图表后，我决定做一组人均GDP的箱线图和分布图，另一组是每年自杀的数量。在人均GDP中，我们可以看到收入低于25，000美元的人有很高的自杀风险。在每年自杀数量的集合中，我们可以从分布中看到每年自杀数量有所增加。2000年后，自杀率有所上升。在分布图中，有一个条形图显示了每年的自杀人数。对于每个条形组，都有细条形表示当年自杀的年龄组。到目前为止，我们还不知道年龄是否在这里起了很大的作用，但从2000年到2010年，不同年龄组的自杀人数相似。</p><figure class="kq kr ks kt fd ii er es paragraph-image"><div class="er es lu"><img src="../Images/8feb41e7a5ff332f7195d59ab542c200.png" data-original-src="https://miro.medium.com/v2/resize:fit:850/format:webp/1*yp8mcjRn4VtLJ8-aeSW77w.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated">箱线图和正态分布</figcaption></figure><p id="4436" class="pw-post-body-paragraph jr js hh jt b ju ku jw jx jy kv ka kb kc kw ke kf kg kx ki kj kk ky km kn ko ha bi translated">在我们进行更详细的分析之前，我想检查是否所有的国家和州都有相同数量的值。下图显示了某些国家和州缺少某些年份和某些年龄的数据。因此，由于数据集不完整，会有一些误差。</p><figure class="kq kr ks kt fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lv"><img src="../Images/ad7f00650fea5a8b613380048621981c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v-2G9YP5ZeaiL023oP6PFg.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">每个国家和州的唯一值数量</figcaption></figure><p id="d63c" class="pw-post-body-paragraph jr js hh jt b ju ku jw jx jy kv ka kb kc kw ke kf kg kx ki kj kk ky km kn ko ha bi translated">接下来，我制作了一个热图，展示了具有数值的列之间的相关性。蓝色表示正相关，而红色表示负相关。例如，自杀人数和人口有很强的正相关性。这个热图帮助我确定应该分析哪些列。因为深蓝色和深红色表明这两个变量可能相关。</p><figure class="kq kr ks kt fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lw"><img src="../Images/3227a138e1bfd85083f6e039d88878dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K9ic720cYCXNTFWneCOz7g.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">显示不同列之间相关性的热图</figcaption></figure><p id="9079" class="pw-post-body-paragraph jr js hh jt b ju ku jw jx jy kv ka kb kc kw ke kf kg kx ki kj kk ky km kn ko ha bi translated">例如，人均国内生产总值和每10万人的自杀率有很强的负相关性。这意味着当自杀率上升时，人均GDP下降。下面的散点图证明了这一点。我们可以看到，那里的大部分数值都放在GDP高、自杀率低的地方，或者相反。</p><figure class="kq kr ks kt fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lx"><img src="../Images/5a768b3a8dda72a993ce25dd52e42a49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xuONAlUuh7eOEeR4Zwy9YQ.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">自杀率与人均国内生产总值</figcaption></figure><p id="22e5" class="pw-post-body-paragraph jr js hh jt b ju ku jw jx jy kv ka kb kc kw ke kf kg kx ki kj kk ky km kn ko ha bi translated">除了使用原始值，我还使用了自杀率的p值均值，并试图再次检查相关性。该图的p值约为3.02，这意味着它具有统计学意义。因此，自杀率和国内生产总值之间有很强的负相关关系。</p><figure class="kq kr ks kt fd ii er es paragraph-image"><div class="er es ly"><img src="../Images/d5a133415ee03d73fcf0adf535088f8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1232/format:webp/1*k9y1fqhIl4n5W2M8CMpprw.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated">自杀率与人均国内生产总值的p值平均值</figcaption></figure><p id="fd1d" class="pw-post-body-paragraph jr js hh jt b ju ku jw jx jy kv ka kb kc kw ke kf kg kx ki kj kk ky km kn ko ha bi translated">接下来，我决定看看自杀率和人口之间的相关性。这两列之间似乎存在微弱的负相关。然而，这不是我所期望的。我的假设是人口的增长会导致自杀率的上升。因此我决定分析这两个因素之间的关系。在下面的散点图中，显示了负相关。但是，也有一些值与相关性相反。因此，我们可以说，自杀率和人口并没有那么大的相互影响。</p><figure class="kq kr ks kt fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lz"><img src="../Images/5970b05c5e1f8266f5ba7be421e7308d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tPOl16TokJxE78uDCJbB2Q.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">评论上有个错别字，应该是自杀率和人口。</figcaption></figure><p id="e41f" class="pw-post-body-paragraph jr js hh jt b ju ku jw jx jy kv ka kb kc kw ke kf kg kx ki kj kk ky km kn ko ha bi translated">在检查了相关性之后，我认为对于其余的列，我可以相信热图提供的分析。因此，在下面的分析中，我将比较分类值和自杀率。</p><p id="4c4f" class="pw-post-body-paragraph jr js hh jt b ju ku jw jx jy kv ka kb kc kw ke kf kg kx ki kj kk ky km kn ko ha bi translated">因为我早些时候提到一些国家和州缺少一些数据。因此，我决定比较各国历年的平均自杀率。下图显示，越发达的国家自杀率越高。从图表上看，一些排名靠前的国家包括澳大利亚、韩国和西班牙。</p><figure class="kq kr ks kt fd ii er es paragraph-image"><div class="er es ma"><img src="../Images/0eccbc9ed327e42634d498cf9d24673f.png" data-original-src="https://miro.medium.com/v2/resize:fit:998/format:webp/1*7pGChSI9II8uJqCdODoPOg.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated">每个国家平均自杀率</figcaption></figure><p id="d46e" class="pw-post-body-paragraph jr js hh jt b ju ku jw jx jy kv ka kb kc kw ke kf kg kx ki kj kk ky km kn ko ha bi translated">之后，我想看看性别是如何影响自杀率的。令人惊讶的是，男性比女性有更高的自杀风险。</p><figure class="kq kr ks kt fd ii er es paragraph-image"><div class="er es mb"><img src="../Images/8fafec643907ff8b88dee402e297a646.png" data-original-src="https://miro.medium.com/v2/resize:fit:1242/format:webp/1*h__o-4RPf3fTEUS2nQDhfA.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated">男女自杀率的平均值</figcaption></figure><p id="c8c3" class="pw-post-body-paragraph jr js hh jt b ju ku jw jx jy kv ka kb kc kw ke kf kg kx ki kj kk ky km kn ko ha bi translated">接下来，我绘制了每一代人的平均自杀率。我决定把Z世代和千禧一代排除在外，因为这个数据集主要关注2010年之前的几代人。所以，可能没有足够的千年一代和z一代的数据。集中于前几代，我们看到G.I一代有最高的自杀率。G.I一代是指在1900年至1927年间出生的人。接下来是沉默的一代和婴儿潮一代，然后是x一代。因此，我们看到年龄越大的人自杀的风险越高。</p><figure class="kq kr ks kt fd ii er es paragraph-image"><div class="er es mc"><img src="../Images/c0b4169db2116ce71750089d5ec9956d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1270/format:webp/1*bO5QY5LTgCG6N-AvAuTPXA.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated">每一代自杀率的平均值</figcaption></figure><p id="d730" class="pw-post-body-paragraph jr js hh jt b ju ku jw jx jy kv ka kb kc kw ke kf kg kx ki kj kk ky km kn ko ha bi translated">下面的图表显示了每个年龄组的平均自杀率，也支持这一说法。</p><figure class="kq kr ks kt fd ii er es paragraph-image"><div class="er es md"><img src="../Images/29c6d4509d5312846f32b16d3af3b5e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1272/format:webp/1*j3NKUQ4XpMKIjq3rWN8sMg.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated">各年龄组自杀率的平均值</figcaption></figure><figure class="kq kr ks kt fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es me"><img src="../Images/fdbcabb337e01804198397cee5d830c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MaKDdu0XCb02HP3qQuHqIQ.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">显示不同世代自杀率分布的树状图</figcaption></figure><h1 id="cae5" class="it iu hh bd iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq bi translated">结论</h1><p id="fc32" class="pw-post-body-paragraph jr js hh jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ha bi translated">总之，在过去的几十年中，以下人群有更大的自杀风险:低收入人群、生活在发达国家的人、男性和老一辈人。</p><p id="b9c3" class="pw-post-body-paragraph jr js hh jt b ju ku jw jx jy kv ka kb kc kw ke kf kg kx ki kj kk ky km kn ko ha bi translated">谢谢你阅读我的博客！</p></div></div>    
</body>
</html>