<html>
<head>
<title>[5 min read] Metrics to measure the performance of your classification ML models</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">[5分钟阅读]衡量您的分类ML模型性能的指标</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/5-min-read-metrics-to-measure-the-performance-of-your-classification-ml-models-ca5eb33c266c?source=collection_archive---------25-----------------------#2021-03-14">https://medium.com/analytics-vidhya/5-min-read-metrics-to-measure-the-performance-of-your-classification-ml-models-ca5eb33c266c?source=collection_archive---------25-----------------------#2021-03-14</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/bcadc419ae12a74de7bb3f532665b522.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g9x71-cqZ5im3EaFxwyf9Q.jpeg"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">资料来源:ntaskmanager</figcaption></figure><p id="b608" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">‘如果你不能衡量它，你就不能管理它’。</p><p id="2c82" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">虽然有许多指标可用于评估分类ML模型，但在本文中，我将重点关注我见过的使用最频繁的指标。</p><h1 id="4e70" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated"><strong class="ak">混乱矩阵</strong></h1><p id="8d22" class="pw-post-body-paragraph it iu hh iv b iw kq iy iz ja kr jc jd je ks jg jh ji kt jk jl jm ku jo jp jq ha bi translated">混淆矩阵，也称为误差矩阵，通常用于描述分类模型相对于已知值的测试数据集的性能。</p><p id="db1b" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">它可以形象地描述如下:</p><figure class="kw kx ky kz fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kv"><img src="../Images/248a74387bc67b3d40b182070e15023e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JlnEcZRg6a5Ckat5GIdiAw.jpeg"/></div></div></figure><p id="682c" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">为了更清楚起见，让我们快速阐述几个术语:</p><p id="1dda" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">真正(TP) </strong>:当数据点的<em class="jr">实际类</em>为<em class="jr">真</em>且<em class="jr">预测值</em>也为<em class="jr">真</em>时。</p><p id="e022" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">真阴性(TN) </strong>:当数据点的<em class="jr">实际类</em>为<em class="jr">假</em>且<em class="jr">预测值</em>也为<em class="jr">假</em>时。</p><p id="1013" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">假阳性(FP) </strong>:当数据点的<em class="jr">实际类</em>为<em class="jr">假</em>，而<em class="jr">预测值</em>为<em class="jr">真</em>时。所以模型错误地认为它是正的。</p><p id="f594" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">假阴性(FN) </strong>:当数据点的<em class="jr">实际类</em>为<em class="jr">真</em>，而<em class="jr">预测值</em>为<em class="jr">假</em>时。所以这个模型错误地认为它是负的。</p><p id="3604" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">混淆矩阵定义模型的准确性如下:</p><figure class="kw kx ky kz fd ii er es paragraph-image"><div class="er es la"><img src="../Images/e06e879b0f8e25a692490a7804f1481a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1102/format:webp/1*MjN2bcNulQYxtiRrT9Uf-A.jpeg"/></div></figure><p id="85a7" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">因此，如果我们有一个具有以下误差矩阵值的模型:</p><figure class="kw kx ky kz fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lb"><img src="../Images/6f1de6ec4df323a1691312c809fc65b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MQgI2_i_3UHHKU2Wj6z5Xw.jpeg"/></div></div></figure><p id="c462" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">那么模型的精度将是121/216或0.56。混淆矩阵构成了许多其他指标的基础。</p><h1 id="06e4" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated"><strong class="ak"> F1得分</strong></h1><p id="1509" class="pw-post-body-paragraph it iu hh iv b iw kq iy iz ja kr jc jd je ks jg jh ji kt jk jl jm ku jo jp jq ha bi translated">在我们讨论F1分数的公式之前，让我们先定义几个术语:</p><p id="4852" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi"> a)精度:</strong>它是模型得到的所有阳性与模型预测的所有阳性总数的比率。</p><figure class="kw kx ky kz fd ii er es paragraph-image"><div class="er es lc"><img src="../Images/278c64419149bcc4eaa3118604388d47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1110/format:webp/1*3KQuUVW1n3zwQPosyWKqtg.jpeg"/></div></figure><p id="bdd9" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi"> b)召回率或敏感度:</strong>它是模型得到的所有阳性结果与数据集中实际阳性结果总数的比率。</p><figure class="kw kx ky kz fd ii er es paragraph-image"><div class="er es ld"><img src="../Images/3dd317a87f9d1a82fbd36998e452da8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1118/format:webp/1*dIygo3cfPPHf6aCZdAWGiA.jpeg"/></div></figure><p id="dd8c" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi"> c)特异性或真阴性率:</strong>它实际上是回忆的倒数，是模型得到的所有阴性与数据集中实际阴性总数的比率。</p><figure class="kw kx ky kz fd ii er es paragraph-image"><div class="er es le"><img src="../Images/a28b5d7d9fb398b41b7211982da099a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1114/format:webp/1*S4u8xs7wgCHJlhEXfbP2_g.jpeg"/></div></figure><p id="b40e" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">根据您的业务需求，可以根据指标调整关注点。例如，如果你正在进行一场营销活动，你可能更关注确保你接触到所有可能的候选人，而不是预测有多精确。因此，该模型将被调整为具有更高的<em class="jr">召回</em>值。或者，如果你专注于一个用例，在这个用例中，你使用模型来识别一个病人是否患有癌症，你希望对此非常确定，因此模型被调整为<em class="jr">精度</em>。</p><p id="6a00" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">现在我们已经了解了每个术语的含义，让我们来定义总体F1得分指标:</p><figure class="kw kx ky kz fd ii er es paragraph-image"><div class="er es lf"><img src="../Images/ee03ed23d894dfba49267310b83bf393.png" data-original-src="https://miro.medium.com/v2/resize:fit:1144/format:webp/1*il1oBeobmHitG1FSf_qbFw.jpeg"/></div></figure><p id="102e" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">简单地说，它是精确和回忆的调和平均值。你会问，为什么调和意味着什么？由于F1分数是一个复合指标，它被定义为调和平均值，因此即使Precision或Recall的底层值很小，它也会被标记出来(因为F1分数更接近于较小的值，而不是较大的值)。算术平均值就不是这样了。</p><h1 id="522f" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated"><strong class="ak">曲线下面积</strong></h1><p id="dd9b" class="pw-post-body-paragraph it iu hh iv b iw kq iy iz ja kr jc jd je ks jg jh ji kt jk jl jm ku jo jp jq ha bi translated">这里我们需要定义另一个术语:</p><figure class="kw kx ky kz fd ii er es paragraph-image"><div class="er es lg"><img src="../Images/71f6b3dbcef1c6d65bb194a277756f4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1286/format:webp/1*3QsufsbV0EVrTnyOWh02Qg.jpeg"/></div></figure><p id="3ab6" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">假阳性率对应于模型错误分类为阳性的阴性数据点相对于数据集中所有阴性数据点的比率。它构成了AUC图中的一个轴。</p><p id="dfa5" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><em class="jr">模型的AUC </em>(曲线下面积)是真阳性率对假阳性率的图，表示分类模型将随机选择的阳性数据点排列为高于随机选择的阴性数据点的概率。</p><figure class="kw kx ky kz fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lh"><img src="../Images/a63cb0dc5bdbce6c6e741862a8b54831.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d27RsQrM2Ma1eqLfhxsoHQ.jpeg"/></div></div></figure><p id="c10a" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">AUC(曲线下面积)的范围在0和1之间，当然该值越高，模型的性能越好。</p><h1 id="20ec" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">其他值得注意的指标</h1><p id="1c0a" class="pw-post-body-paragraph it iu hh iv b iw kq iy iz ja kr jc jd je ks jg jh ji kt jk jl jm ku jo jp jq ha bi translated">其他值得一提的指标是:</p><p id="3161" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">a) <strong class="iv hi">对数损失:</strong>这是一种结合了概率置信度思想的准确度测量，概率置信度由二进制类别的以下表达式给出:</p><figure class="kw kx ky kz fd ii er es paragraph-image"><div class="ab fe cl li"><img src="../Images/510dd1fe0ccc5c7d7fd8f898395f1b89.png" data-original-src="https://miro.medium.com/v2/format:webp/0*Uig_BbP8Pe1vd0q4.png"/></div></figure><p id="01d6" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">b) <strong class="iv hi">平均绝对误差:</strong>实际值与预测值之差的平均值，表示为</p><figure class="kw kx ky kz fd ii er es paragraph-image"><div class="er es lj"><img src="../Images/e7c675ba7ea741b6e608beb7fe723da4.png" data-original-src="https://miro.medium.com/v2/resize:fit:332/format:webp/1*PO3hbCQk7KjmcJz_MjPXlw.jpeg"/></div></figure><p id="bdaa" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">c) <strong class="iv hi">均方误差:</strong>是实际值与预测值之差的平方的平均值。与平均绝对误差度量相比，它提供了更好的梯度可视性。其表示为:</p><figure class="kw kx ky kz fd ii er es paragraph-image"><div class="er es lj"><img src="../Images/afc99a05c5b3ec5a4abedef2fa321b90.png" data-original-src="https://miro.medium.com/v2/resize:fit:332/format:webp/1*DOrlvheK9ixK1Wz2kiPIaA.jpeg"/></div></figure><p id="91cc" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">虽然上面的列表并不详尽，但它有望让您对可能用于分类模型的一些指标有所了解。</p><p id="c408" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">为了完整起见，我还列出了一些用于其他类型的ML模型的指标:</p><p id="3ee2" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">a) <strong class="iv hi">回归模型:</strong> MSPE、MSAE、R平方、调整R平方等。</p><p id="9755" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">b) <strong class="iv hi">无监督模型:</strong> Rand指数，互信息等。</p><p id="8c57" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">我的意图是把这篇文章的阅读时间控制在5分钟以内，所以现在就关闭它。但是请写下你的意见或疑问。希望你觉得这篇文章有用。愿你预测的积极总是成真:)。</p></div></div>    
</body>
</html>