<html>
<head>
<title>Customer Segmentation using RFM Analysis</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用RFM分析进行客户细分</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/customer-segmentation-using-rfm-analysis-7efe079f0dac?source=collection_archive---------10-----------------------#2021-05-18">https://medium.com/analytics-vidhya/customer-segmentation-using-rfm-analysis-7efe079f0dac?source=collection_archive---------10-----------------------#2021-05-18</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/0a6b3e6964767262ebd59a5d67dcc522.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yFjo0RD9u81XZ-7zwYLMzA.jpeg"/></div></div></figure><p id="c8a9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi jo translated">客户细分是根据共同特征将客户划分为不同群体或细分市场的过程。这有助于锁定每一组客户，提高他们对业务的贡献，甚至为他们提供更好的客户体验。企业利用这一点来瞄准对其业务贡献较小的客户，并通过提供优惠或折扣来提高他们的贡献。</p><p id="4ca5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你不再从购物网站上买东西。然后开始发送优惠或折扣券。这将让你回到他们的业务中，并让你留在那里，因为你以更低的价格获得同样的产品。</p><p id="73c3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在本文中，我们将介绍一个项目，在这个项目中，我们使用<strong class="is hj"> RFM分析</strong>使用销售数据集对客户进行细分。RFM分析扩展为近期、频率和货币分析。它考虑了顾客的新近性(他/她购买的时间)、顾客的频率(他/她从该商店/企业购买的频率)和金钱(他/她为企业贡献了多少钱)。这三个因素有助于我们将客户分为以下几类。</p><figure class="jy jz ka kb fd ij er es paragraph-image"><div class="er es jx"><img src="../Images/80ebb3b08bf8950681034443de48785b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1036/format:webp/1*JTlTFfjWNQZPPV-nV9jsaw.png"/></div><figcaption class="kc kd et er es ke kf bd b be z dx translated">细分客户的类别和RFM值</figcaption></figure><h1 id="553e" class="kg kh hi bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">准备笔记本</h1><p id="ba1e" class="pw-post-body-paragraph iq ir hi is b it le iv iw ix lf iz ja jb lg jd je jf lh jh ji jj li jl jm jn hb bi translated">在这次活动中，我将使用Jupyter笔记本。启动一个Jupyter notebook实例并导入以下python库。</p><figure class="jy jz ka kb fd ij"><div class="bz dy l di"><div class="lj lk l"/></div><figcaption class="kc kd et er es ke kf bd b be z dx translated">用于RFM分析的Python导入</figcaption></figure><h1 id="7d55" class="kg kh hi bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">资料组</h1><p id="9fe7" class="pw-post-body-paragraph iq ir hi is b it le iv iw ix lf iz ja jb lg jd je jf lh jh ji jj li jl jm jn hb bi translated">这里使用的数据集是作为<a class="ae ll" href="https://www.greatlearning.in/academy/learn-for-free/courses/marketing-and-retail-analytics" rel="noopener ugc nofollow" target="_blank">营销和零售分析</a>课程<a class="ae ll" href="https://www.greatlearning.in/" rel="noopener ugc nofollow" target="_blank">大学习</a>的一部分获得的销售数据集。将数据集保存在根文件夹中，并使用Pandas将它读入内存。对于此数据集，编码设置为“unicode_escape”。</p><figure class="jy jz ka kb fd ij"><div class="bz dy l di"><div class="lj lk l"/></div></figure><figure class="jy jz ka kb fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lm"><img src="../Images/141129910c7e9d3b140d9ff5dc9106a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AnpNYPvUZaNeYlDDnayLrQ.png"/></div></div><figcaption class="kc kd et er es ke kf bd b be z dx translated">数据集概述</figcaption></figure><p id="2d85" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">了解数据集</strong></p><p id="4ea4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们花一点时间来了解数据集，了解每一列的含义。</p><p id="0ae2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">发票号:</strong>一般用于备查的票据号。</p><p id="e1a6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">库存代码:</strong>用于识别每个库存项目。</p><p id="9d20" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">描述:</strong>库存项目或产品的描述。</p><p id="e88c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">数量:</strong>客户购买产品的数量。</p><p id="ca96" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">发票日期:</strong>购买日期。</p><p id="d5c7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">单价:</strong>产品的单位价格。</p><p id="602f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">客户ID: </strong>客户的唯一ID。用于识别每个客户。</p><p id="e3ec" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">国家:</strong>在全球业务中，这用于标识销售发生在哪个国家。</p><p id="44dc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在上面的列中，我们感兴趣的列是Quantity和UnitPrice(都用于计算货币价值)、InvoiceDate(用于计算最近)和CustomerID(用于通过计算每个客户的数量来计算频率)。</p><h1 id="a98d" class="kg kh hi bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">清理数据</h1><p id="6394" class="pw-post-body-paragraph iq ir hi is b it le iv iw ix lf iz ja jb lg jd je jf lh jh ji jj li jl jm jn hb bi translated">通常，真实世界的销售数据集将近乎完美，因为每条信息都将由用户正确输入，并且不能跳过。但是在这里，数据集中很少有丢失的值。</p><figure class="jy jz ka kb fd ij"><div class="bz dy l di"><div class="lj lk l"/></div><figcaption class="kc kd et er es ke kf bd b be z dx translated">显示我们感兴趣的每一列中缺失值的数量</figcaption></figure><figure class="jy jz ka kb fd ij er es paragraph-image"><div class="er es ln"><img src="../Images/66c1f044ca0e51549b2b438129960f33.png" data-original-src="https://miro.medium.com/v2/resize:fit:358/format:webp/1*x8AJeZPUrOJg5CdtFmuRFA.png"/></div><figcaption class="kc kd et er es ke kf bd b be z dx translated">数据集中空值的数量</figcaption></figure><p id="b220" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这种情况下，我们通常会尝试使用平均值或通过回归预测来填充该列。这里，客户ID是唯一无法预测的缺失值。因此，唯一的选择是删除它们。</p><figure class="jy jz ka kb fd ij"><div class="bz dy l di"><div class="lj lk l"/></div></figure><p id="b09f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">发票日期的格式是MM-DD-YYYY，但是有一些异常值是MM-DD-YY格式。为了一致性和便于计算，将所有格式改为MM-DD-YYYY。这将在后面用于R分数计算。</p><figure class="jy jz ka kb fd ij"><div class="bz dy l di"><div class="lj lk l"/></div></figure><h1 id="0037" class="kg kh hi bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">数据探索</h1><p id="2018" class="pw-post-body-paragraph iq ir hi is b it le iv iw ix lf iz ja jb lg jd je jf lh jh ji jj li jl jm jn hb bi translated">对数据进行描述性和探索性分析，并生成可视化结果。这有助于更好地理解数据，并在需要时生成报告。</p><figure class="jy jz ka kb fd ij"><div class="bz dy l di"><div class="lj lk l"/></div></figure><figure class="jy jz ka kb fd ij er es paragraph-image"><div class="er es lo"><img src="../Images/833dfd1b3ef93b6578d45c4b4de907f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:692/format:webp/1*t1IRNJ-a6E-cCUexPhxyvw.png"/></div><figcaption class="kc kd et er es ke kf bd b be z dx translated">数据集的基本概述</figcaption></figure><figure class="jy jz ka kb fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lp"><img src="../Images/40c8b89475ad58c6212eddf708ee6a39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mjyKt9Wv0zXb2Pvn6S2b3Q.png"/></div></div><figcaption class="kc kd et er es ke kf bd b be z dx translated">国别销售分析</figcaption></figure><h1 id="2b1e" class="kg kh hi bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">新近性、频率和货币分数计算</h1><p id="0695" class="pw-post-body-paragraph iq ir hi is b it le iv iw ix lf iz ja jb lg jd je jf lh jh ji jj li jl jm jn hb bi translated">现在让我们继续计算RFM分数。RFM得分范围在1-5之间，每个顾客根据其个人R、F和M得分进行分类。导言部分的表格也显示了同样的情况。</p><p id="3544" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最近值(R) =当前日期-发票日期<br/>频率值(F) =每个客户ID的计数(客户id)<br/>货币值(M) =单价*数量</p><p id="f05e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了将值转换成分数，将这些值分入5个箱中。</p><p id="a2e3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">较高的R分值意味着客户最近没有从该企业购买，而较高的频率分值和货币分值意味着客户非常频繁，并且为该企业贡献了大量的金钱。</p><figure class="jy jz ka kb fd ij"><div class="bz dy l di"><div class="lj lk l"/></div></figure><p id="62ab" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">使用生成的R、F和M值，将所有值以及客户id和它们各自的国家放在一个新的数据帧中。在后面的部分中，我们将把它保存为。csv文件，可进一步用于执行分析或供企业使用。</p><figure class="jy jz ka kb fd ij"><div class="bz dy l di"><div class="lj lk l"/></div></figure><figure class="jy jz ka kb fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lq"><img src="../Images/65a3eedf6b6a051c2530a1eb22519874.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0_74YZXTNjmyS773RP-lNw.png"/></div></div><figcaption class="kc kd et er es ke kf bd b be z dx translated">RFM分析的最终结果</figcaption></figure><h2 id="ff8f" class="lr kh hi bd ki ls lt lu km lv lw lx kq jb ly lz ku jf ma mb ky jj mc md lc me bi translated">分段计数</h2><p id="dcf6" class="pw-post-body-paragraph iq ir hi is b it le iv iw ix lf iz ja jb lg jd je jf lh jh ji jj li jl jm jn hb bi translated">让我们创建一个数据帧来存储数据段名称及其总数。这有助于以后的分析。</p><figure class="jy jz ka kb fd ij"><div class="bz dy l di"><div class="lj lk l"/></div></figure><figure class="jy jz ka kb fd ij er es paragraph-image"><div class="er es mf"><img src="../Images/8878d7bacb4cbb4fd3fd291c33b69f24.png" data-original-src="https://miro.medium.com/v2/resize:fit:524/format:webp/1*s0wq7VaNqrmdhBtd63usiw.png"/></div><figcaption class="kc kd et er es ke kf bd b be z dx translated">段计数数据帧</figcaption></figure><p id="07a6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们对上面的数据集进行可视化，以便更好地理解它。</p><figure class="jy jz ka kb fd ij"><div class="bz dy l di"><div class="lj lk l"/></div></figure><p id="281f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">上述代码生成了以下可视化效果。X轴表示细分市场名称，Y轴表示数量，下图更好地展示了哪类客户更多，哪类客户更少。</p><figure class="jy jz ka kb fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mg"><img src="../Images/13bbdf035764d3d98f77ecbfb615cd6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*svlGP6WLbHmAeL_N-UWoTw.png"/></div></div><figcaption class="kc kd et er es ke kf bd b be z dx translated">段计数数据帧的可视化</figcaption></figure><h2 id="b44c" class="lr kh hi bd ki ls lt lu km lv lw lx kq jb ly lz ku jf ma mb ky jj mc md lc me bi translated">每个客户群的地理位置计数</h2><p id="7083" class="pw-post-body-paragraph iq ir hi is b it le iv iw ix lf iz ja jb lg jd je jf lh jh ji jj li jl jm jn hb bi translated">由于这一特定业务遍布许多国家，让我们按地理位置统计每个客户群。这有助于组织了解每个业务地点的绩效。</p><figure class="jy jz ka kb fd ij"><div class="bz dy l di"><div class="lj lk l"/></div></figure><p id="0da7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">上述代码生成了以下数据框，其中客户细分为行，地理位置为列。每个条目代表特定位置的特定类别的计数。</p><figure class="jy jz ka kb fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mh"><img src="../Images/d19d361ffcd5ab449d8ed87ab1b8c932.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OcIfFQXg6mhe22olyxOQrA.png"/></div></div><figcaption class="kc kd et er es ke kf bd b be z dx translated">客户细分的地理计数</figcaption></figure><h1 id="2c15" class="kg kh hi bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">保存和最终确定</h1><p id="8da5" class="pw-post-body-paragraph iq ir hi is b it le iv iw ix lf iz ja jb lg jd je jf lh jh ji jj li jl jm jn hb bi translated">随着RFM分析流程的完成，让我们保存上面生成的所有数据集，以供将来参考和业务使用。将保存以下三个CSV文件。</p><ul class=""><li id="316b" class="mi mj hi is b it iu ix iy jb mk jf ml jj mm jn mn mo mp mq bi translated">RFM.csv —包括客户id、RFM分数和价值以及他们的国家。</li><li id="4702" class="mi mj hi is b it mr ix ms jb mt jf mu jj mv jn mn mo mp mq bi translated">segment_count.csv —每个细分市场中的客户数量。</li><li id="8bd2" class="mi mj hi is b it mr ix ms jb mt jf mu jj mv jn mn mo mp mq bi translated">Region_count.csv —每个细分市场中的区域客户计数。</li></ul><figure class="jy jz ka kb fd ij"><div class="bz dy l di"><div class="lj lk l"/></div></figure><p id="06b7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">感谢您的阅读！</p></div><div class="ab cl mw mx gp my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="hb hc hd he hf"><h1 id="528a" class="kg kh hi bd ki kj nd kl km kn ne kp kq kr nf kt ku kv ng kx ky kz nh lb lc ld bi translated">有用的链接</h1><p id="fde8" class="pw-post-body-paragraph iq ir hi is b it le iv iw ix lf iz ja jb lg jd je jf lh jh ji jj li jl jm jn hb bi translated">在GitHub上找到这个项目:<a class="ae ll" href="https://github.com/vishnu-u/Customer-Segmentation-using-RFM-Analytics" rel="noopener ugc nofollow" target="_blank">https://GitHub . com/Vishnu-u/Customer-Segmentation-using-RFM-Analytics</a></p><p id="bcb8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">更多地了解我:https://bit.ly/vishnu-u</p><p id="6e8f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在LinkedIn上找我:【https://www.linkedin.com/in/vishnuu0399/ T2】</p></div></div>    
</body>
</html>