<html>
<head>
<title>Build apps for ML models with Gradio</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Gradio为ML模型构建应用程序</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/build-apps-for-ml-models-with-gradio-6350e567f83c?source=collection_archive---------2-----------------------#2022-02-06">https://medium.com/analytics-vidhya/build-apps-for-ml-models-with-gradio-6350e567f83c?source=collection_archive---------2-----------------------#2022-02-06</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="83a6" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">使用Gradio构建一个应用程序来分析您的消费者评论。</h2></div><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es iw"><img src="../Images/8150c3c2d63bdb5c96b2125581984262.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qx3oJBvvN_DWuhTYnRx8-Q.jpeg"/></div></div></figure><figure class="ix iy iz ja fd jb er es paragraph-image"><div class="er es ji"><img src="../Images/bc74cb599e88c777859f13deab268088.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*b8xloz70b5LV5d7dvQAYjQ.gif"/></div></figure><p id="f3d5" class="pw-post-body-paragraph jj jk hh jl b jm jn ii jo jp jq il jr js jt ju jv jw jx jy jz ka kb kc kd ke ha bi translated">有一大堆消费者评论，却不知道该怎么办？</p><p id="bbf8" class="pw-post-body-paragraph jj jk hh jl b jm jn ii jo jp jq il jr js jt ju jv jw jx jy jz ka kb kc kd ke ha bi translated">难道你不喜欢快速分析你的消费者评论并从中产生见解，并与他人分享应用程序吗？</p><p id="3c01" class="pw-post-body-paragraph jj jk hh jl b jm jn ii jo jp jq il jr js jt ju jv jw jx jy jz ka kb kc kd ke ha bi translated">有了Gradio，你可以用五行代码自己完成。</p><p id="7b27" class="pw-post-body-paragraph jj jk hh jl b jm jn ii jo jp jq il jr js jt ju jv jw jx jy jz ka kb kc kd ke ha bi translated">让我们开始工作吧。</p><p id="a560" class="pw-post-body-paragraph jj jk hh jl b jm jn ii jo jp jq il jr js jt ju jv jw jx jy jz ka kb kc kd ke ha bi translated">在这个练习中，我们将使用情感分析和自定义分类，并使用Gradio作为交互式应用程序快速部署。</p><p id="9d1d" class="pw-post-body-paragraph jj jk hh jl b jm jn ii jo jp jq il jr js jt ju jv jw jx jy jz ka kb kc kd ke ha bi translated">你可以在这里找到我关于建立这个机器学习模型的详细文章</p><div class="kf kg ez fb kh ki"><a href="https://malakagunawardena.medium.com/practical-analysis-of-consumer-reviews-part-i-a575c05d7c64" rel="noopener follow" target="_blank"><div class="kj ab dw"><div class="kk ab kl cl cj km"><h2 class="bd hi fi z dy kn ea eb ko ed ef hg bi translated">消费者评论的实践分析——第一部分</h2><div class="kp l"><h3 class="bd b fi z dy kn ea eb ko ed ef dx translated">消费者评论的文本分析|超越情感分析</h3></div><div class="kq l"><p class="bd b fp z dy kn ea eb ko ed ef dx translated">malakagunawardena.medium.com</p></div></div><div class="kr l"><div class="ks l kt ku kv kr kw jg ki"/></div></div></a></div><p id="b9e3" class="pw-post-body-paragraph jj jk hh jl b jm jn ii jo jp jq il jr js jt ju jv jw jx jy jz ka kb kc kd ke ha bi translated">让我们从变形金刚中快速加载预先训练好的情感模型</p><pre class="ix iy iz ja fd kx ky kz la aw lb bi"><span id="74f6" class="lc ld hh ky b fi le lf l lg lh">from transformers import pipeline<br/>sentiment=pipeline("sentiment-analysis")</span></pre><p id="50a1" class="pw-post-body-paragraph jj jk hh jl b jm jn ii jo jp jq il jr js jt ju jv jw jx jy jz ka kb kc kd ke ha bi translated">下一步是创建名为<em class="li">“方面”</em>的评分函数，使用自定义分类器进行预测，输入为文本，五个输出为情感以及适合度、价格和材料的分数。</p><pre class="ix iy iz ja fd kx ky kz la aw lb bi"><span id="ec92" class="lc ld hh ky b fi le lf l lg lh">def aspects(sentense):<br/>    sentense=[sentense]<br/>    sentimentdata=sentiment(sentense)<br/>    fit_score=process.default_scorer(sentense,fit)<br/>    mat_score=process.default_scorer(sentense,material)<br/>    price_score=process.default_scorer(sentense,price)<br/>    sentimentlabel=sentimentdata[0].get("label")<br/>    sentprobability=sentimentdata[0].get("score")<br/>       <br/>    return  sentimentlabel,sentprobability,fit_score,price_score,mat_score</span></pre><p id="2250" class="pw-post-body-paragraph jj jk hh jl b jm jn ii jo jp jq il jr js jt ju jv jw jx jy jz ka kb kc kd ke ha bi translated">现在我们带来格拉迪欧</p><p id="d4a1" class="pw-post-body-paragraph jj jk hh jl b jm jn ii jo jp jq il jr js jt ju jv jw jx jy jz ka kb kc kd ke ha bi translated">Gradio是操作机器学习模型的简单而强大的框架。</p><div class="kf kg ez fb kh ki"><a href="https://gradio.app/" rel="noopener  ugc nofollow" target="_blank"><div class="kj ab dw"><div class="kk ab kl cl cj km"><h2 class="bd hi fi z dy kn ea eb ko ed ef hg bi translated">格拉迪欧</h2><div class="kp l"><h3 class="bd b fi z dy kn ea eb ko ed ef dx translated">🎉我们要加入拥抱脸！在这里阅读我们的公告。🤗Docs构建并分享令人愉快的机器学习应用程序…</h3></div><div class="kq l"><p class="bd b fp z dy kn ea eb ko ed ef dx translated">gradio.app</p></div></div><div class="kr l"><div class="lj l kt ku kv kr kw jg ki"/></div></div></a></div><p id="d989" class="pw-post-body-paragraph jj jk hh jl b jm jn ii jo jp jq il jr js jt ju jv jw jx jy jz ka kb kc kd ke ha bi translated">让我们安装和导入Gradio到我们的笔记本电脑</p><pre class="ix iy iz ja fd kx ky kz la aw lb bi"><span id="a3d0" class="lc ld hh ky b fi le lf l lg lh">!pip install gradio<br/>import gradio as gr</span></pre><p id="a8c2" class="pw-post-body-paragraph jj jk hh jl b jm jn ii jo jp jq il jr js jt ju jv jw jx jy jz ka kb kc kd ke ha bi translated">Gradio的主要方法是创建一个界面和启动界面。</p><p id="2af0" class="pw-post-body-paragraph jj jk hh jl b jm jn ii jo jp jq il jr js jt ju jv jw jx jy jz ka kb kc kd ke ha bi translated">让我们用python函数(评分函数)输入、输出和可选参数(如标题、实况(提交前更新输出)、示例输入创建接口，以提供更好的UX。</p><p id="b128" class="pw-post-body-paragraph jj jk hh jl b jm jn ii jo jp jq il jr js jt ju jv jw jx jy jz ka kb kc kd ke ha bi translated">一个输入:消费者评论</p><p id="4ede" class="pw-post-body-paragraph jj jk hh jl b jm jn ii jo jp jq il jr js jt ju jv jw jx jy jz ka kb kc kd ke ha bi translated">五个输出:情感标签、情感、契合度相关评分、价格相关评分、材料相关评分。</p><pre class="ix iy iz ja fd kx ky kz la aw lb bi"><span id="5f35" class="lc ld hh ky b fi le lf l lg lh">interface=gr.Interface(fn=aspects,inputs=gr.inputs.Textbox(lines=10,placeholder="please insert your text"),<br/>examples=[<br/>          ["this product and not fitting well to my body and feel scratchy"],<br/>        ["this fabric is super cool and feel very comfortable "]<br/>       <br/>    ],<br/>    title="Review Analyzer",<br/>                       outputs=[gr.outputs.Textbox(type="auto", label="Sentiment"),<br/>                                gr.outputs.Textbox(type="auto", label="Sentiment score"),<br/>                                gr.outputs.Textbox(type="auto", label="Fit related score"),<br/>                                gr.outputs.Textbox(type="auto", label="Price related score"),<br/>                                gr.outputs.Textbox(type="auto", label="Material related score")],live=True)</span><span id="f980" class="lc ld hh ky b fi lk lf l lg lh">interface.launch()</span></pre><p id="fcec" class="pw-post-body-paragraph jj jk hh jl b jm jn ii jo jp jq il jr js jt ju jv jw jx jy jz ka kb kc kd ke ha bi translated">您可以看到您的应用程序在本地主机上运行…</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es ll"><img src="../Images/6fb2211a7a9b4892add1a6dd46ad10aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mbKBT1eyTo8KaSJKLKTkOw.png"/></div></div></figure><p id="06b7" class="pw-post-body-paragraph jj jk hh jl b jm jn ii jo jp jq il jr js jt ju jv jw jx jy jz ka kb kc kd ke ha bi translated">让我们用https://huggingface.co/spaces的<a class="ae lm" href="https://huggingface.co/spaces" rel="noopener ugc nofollow" target="_blank">快速部署这个</a></p><p id="e040" class="pw-post-body-paragraph jj jk hh jl b jm jn ii jo jp jq il jr js jt ju jv jw jx jy jz ka kb kc kd ke ha bi translated">您可以手动创建app文件和requirement.txt文件，如下所示</p><pre class="ix iy iz ja fd kx ky kz la aw lb bi"><span id="080f" class="lc ld hh ky b fi le lf l lg lh">import gradio as gr<br/>from transformers import pipeline</span><span id="6038" class="lc ld hh ky b fi lk lf l lg lh">def aspects2(sentense):<br/> fit = ['fit','fitting','small','too','tight','large','lose','confortable','stretchy','tailored','strappy']</span><span id="09c8" class="lc ld hh ky b fi lk lf l lg lh">price =['expensive','price','cheep','bucks','buy','sell','purchase','too','price','cost','amount','buks']</span><span id="1720" class="lc ld hh ky b fi lk lf l lg lh">material=['strech','material','fabric','composition','feel','premium']</span><span id="ecc1" class="lc ld hh ky b fi lk lf l lg lh"> sentense=[sentense]<br/> sentimentdata=sentiment(sentense)<br/> fit_score=process.default_scorer(sentense,fit)<br/> mat_score=process.default_scorer(sentense,material)<br/> price_score=process.default_scorer(sentense,price)<br/> sentimentlabel=sentimentdata[0].get(“label”)<br/> sentprobability=sentimentdata[0].get(“score”)<br/> <br/>return        sentimentlabel,sentprobability,fit_score,price_score,mat_score</span></pre><p id="ef59" class="pw-post-body-paragraph jj jk hh jl b jm jn ii jo jp jq il jr js jt ju jv jw jx jy jz ka kb kc kd ke ha bi translated">requirement.txt</p><pre class="ix iy iz ja fd kx ky kz la aw lb bi"><span id="43f9" class="lc ld hh ky b fi le lf l lg lh">1torch<br/>2transformers<br/>3fuzzywuzzy</span></pre><p id="0658" class="pw-post-body-paragraph jj jk hh jl b jm jn ii jo jp jq il jr js jt ju jv jw jx jy jz ka kb kc kd ke ha bi translated">你可以复制你的应用程序的网址并与任何人分享。</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="ln lo l"/></div></figure><p id="4c6b" class="pw-post-body-paragraph jj jk hh jl b jm jn ii jo jp jq il jr js jt ju jv jw jx jy jz ka kb kc kd ke ha bi translated">有用的链接</p><div class="kf kg ez fb kh ki"><a href="https://gradio.app/docs/" rel="noopener  ugc nofollow" target="_blank"><div class="kj ab dw"><div class="kk ab kl cl cj km"><h2 class="bd hi fi z dy kn ea eb ko ed ef hg bi translated">Gradio文档</h2><div class="kp l"><h3 class="bd b fi z dy kn ea eb ko ed ef dx translated">🎉我们要加入拥抱脸！在这里阅读我们的公告。🤗如果您刚刚开始使用Gradio，请参阅…</h3></div><div class="kq l"><p class="bd b fp z dy kn ea eb ko ed ef dx translated">gradio.app</p></div></div><div class="kr l"><div class="lp l kt ku kv kr kw jg ki"/></div></div></a></div></div></div>    
</body>
</html>