<html>
<head>
<title>A Guide to Hypothesis Testing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">假设检验指南</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/a-guide-to-hypothesis-testing-aa5c3d29e989?source=collection_archive---------22-----------------------#2021-03-23">https://medium.com/analytics-vidhya/a-guide-to-hypothesis-testing-aa5c3d29e989?source=collection_archive---------22-----------------------#2021-03-23</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/2f27bd042953c3e8681093e345b87e33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k4BEdsAyocB9XspceEpdCQ.png"/></div></div></figure><p id="2bd9" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi jn translated">假设测试是一种从我们可获得的大量数据中获得洞察力的方法。它包括使用样本数据对给定人群的陈述进行评估。想象一个法庭案件，律师需要证明他的委托人是无辜的。这就是我们所说的零假设，一个在一开始就做出的假设。现在我们在那里工作。下一步，律师将收集他在犯罪时的行踪、不在场证明等数据，并将其作为证明其委托人清白的证据。假设被告被证明有罪，那么我们的无效假设就被驳回了。万一他被证明是无辜的，我们的无效假设就会被接受。另一个重要术语是替代假设，它本质上与我们的零假设相反。在我们举的例子中，另一个假设被认为是正确的。</p><p id="08ce" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这个博客将涵盖在哪里使用下面的测试，它们的数学表达式以及在Python中的实现。</p><ul class=""><li id="78bf" class="jw jx hh ir b is it iw ix ja jy je jz ji ka jm kb kc kd ke bi translated">单样本比例检验</li><li id="43b7" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated">卡方检验(独立性和拟合优度)</li><li id="d396" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated">T检验(一个样本、两个样本和配对T检验)</li><li id="484d" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated">相关性检验</li><li id="3ac0" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated">z检验</li></ul><p id="e173" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们将零假设称为H0，替代假设称为H1。</p><p id="fe5e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">假设我们的委托人是无辜的，但缺乏证据导致他被监禁。这种错误的指控是第一类错误或假阴性的一个例子。这种情况可能会造成极大的误导，并产生有害的后果。同样，让一个罪犯自由意味着我们接受了H1，因为缺乏证据支持H0(没有足够的证据支持被告无罪)，即使H0是真实的。这意味着第二类错误。我们可以使用一些技术来决定零假设是真的还是替代假设，我们将在这个博客中讨论。</p><p id="5574" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">考虑一个样本数据集。它由各种特征和一个输出变量组成，该变量将人们分为糖尿病患者和非糖尿病患者。</p><figure class="kl km kn ko fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kk"><img src="../Images/a3a949534e55dddb8f1763095368c010.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8IRcS6uHq61lSqoWfCwZwg.png"/></div></div></figure><p id="744f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">让我们从零假设开始，即与没有患病的人相比，被检测出患有糖尿病的人数没有差异。与这一假设相反，我们的H1将是这两个值之间存在差异。这里需要注意的是，我们只考虑一个分类变量，即结果。在这种情况下，<strong class="ir hi">一个样本比例测试</strong>将是正确的选择。在这个检验的帮助下，我们必须找到另一个假设为真的可能性，假设零假设为真。显著性值或P值小于或等于0.5意味着零假设不成立，必须拒绝，从而接受替代假设。另一方面，P值&gt; 0.05意味着接受零假设。</p><p id="621d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">必须根据所涉及的特征的类型和数量来决定要执行的测试。</p><p id="aefa" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在两个分类特征的情况下，使用<strong class="ir hi">卡方检验</strong>。当我们有两个分类变量并希望找到它们之间的关联时，就使用它。根据年龄组(H0)，发现患有糖尿病的人数与未患糖尿病的人数之间没有差异。H1说这些价值观之间是有区别的。就像在一个样本比例测试的情况下，高于或低于0.5的P值会产生类似的结果。高于0.05的P值意味着零假设为真(无差异)，否则零假设将被拒绝(P值低于或等于0.05；H1接受了)。</p><p id="d8e6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">例如:独立性的卡方检验。考虑以下基于性别和他们最喜欢的颜色的班级学生的数据。</p><figure class="kl km kn ko fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kp"><img src="../Images/e9e1f47f5846453fe6dc0e1dc1eb2f4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ihMU_ixyuWHM9YYV1-t6cw.png"/></div></div></figure><p id="9244" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">H0:性别和喜欢的颜色没有关系。</p><p id="7911" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">H1:它们是有联系的。</p><p id="d8bd" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">自由度:</p><p id="872a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">df=(行-1)(列-1)=(2–1)*(3–1)= 2</p><p id="f119" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">检查卡方表，α值=0.05，df=2，我们得到临界卡方值为5.99。</p><p id="f1f7" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">判定规则:如果卡方&gt;临界值，即5.99，则拒绝</p><p id="bb84" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">计算卡方，</p><figure class="kl km kn ko fd ii er es paragraph-image"><div class="er es kq"><img src="../Images/2b1b53e47064b61636160b84e0791ecf.png" data-original-src="https://miro.medium.com/v2/resize:fit:646/format:webp/1*3yHy-27Az14ksMZKTZI_8w.png"/></div></figure><p id="4b7b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们得到期望值(fe)为:</p><figure class="kl km kn ko fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kr"><img src="../Images/a2a6999aa1e357d3a9a5e15d1dfd2d08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FUplAE2MaTb-sqJLiWjHnQ.png"/></div></div></figure><figure class="kl km kn ko fd ii er es paragraph-image"><div class="er es ks"><img src="../Images/e80199f0b42cadf8b60b8d251a7df963.png" data-original-src="https://miro.medium.com/v2/resize:fit:1026/format:webp/1*FXXmAFpPA5pG9o8TxvH7Iw.png"/></div></figure><p id="20c6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi">=276.39</p><p id="4728" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">当卡方&gt;临界值，即5.99时，我们拒绝零假设。因此，性别和最喜欢的颜色之间存在联系。同样，我们也可以对拟合优度进行卡方检验，以检查未知分布的总体是否符合已知分布。</p><figure class="kl km kn ko fd ii"><div class="bz dy l di"><div class="kt ku l"/></div></figure><p id="4673" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> T检验</strong>在涉及一个连续数值时很有用，例如在零假设H0的情况下:样本均值和总体均值之间没有差异。这里我们也可以用类似的方式解释我们的显著性值，如前所述。t检验比较两组的平均值，并根据一些证据进行验证。在单样本T检验中，比较样本组和总体组的平均值，而双样本T检验比较两个独立组的平均值。配对T检验用于比较同一组内的样本。T检验用于比较两组的平均值，ANOVA(方差分析)可用于三组或更多组。我们将在随后的博客中详细介绍它。</p><p id="f44b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">单一样本T检验</p><figure class="kl km kn ko fd ii er es paragraph-image"><div class="er es kv"><img src="../Images/20f8be7ff775f6ebabd70e8de7925688.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/format:webp/1*1sfNFBSaSnBWMvr0ykB8UA.png"/></div></figure><p id="d54b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">μ0 =总体均值的建议常数<br/> x =样本均值<br/> n =样本大小</p><p id="03e2" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">s =样本标准偏差<br/> sx =平均值的估计标准误差(<em class="kw"> s </em> /sqrt( <em class="kw"> n </em>))</p><p id="0ba4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">双样本T检验</p><figure class="kl km kn ko fd ii er es paragraph-image"><div class="er es kx"><img src="../Images/70f71281c61b1655a52325e531e1a4ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1028/format:webp/1*mQsMXg1WRsDfnqC_2WmAiQ.png"/></div></figure><p id="e60f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">示例1:</p><figure class="kl km kn ko fd ii"><div class="bz dy l di"><div class="kt ku l"/></div><figcaption class="ky kz et er es la lb bd b be z dx translated">单一样本T检验</figcaption></figure><p id="6a43" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">示例2:</p><figure class="kl km kn ko fd ii"><div class="bz dy l di"><div class="kt ku l"/></div><figcaption class="ky kz et er es la lb bd b be z dx translated">单一样本T检验</figcaption></figure><figure class="kl km kn ko fd ii"><div class="bz dy l di"><div class="kt ku l"/></div><figcaption class="ky kz et er es la lb bd b be z dx translated">双样本T检验</figcaption></figure><figure class="kl km kn ko fd ii"><div class="bz dy l di"><div class="kt ku l"/></div><figcaption class="ky kz et er es la lb bd b be z dx translated">配对T检验</figcaption></figure><p id="2227" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">对于两个连续的特征，一个<strong class="ir hi">相关性测试</strong>是理想的。它常用于特征选择。例如:H0:-随着身体质量指数的增加，胰岛素水平也增加。相比之下，H1将是:随着身体质量指数增加，胰岛素水平不增加(保持不变或下降)。</p><figure class="kl km kn ko fd ii"><div class="bz dy l di"><div class="kt ku l"/></div></figure><p id="9d4e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> Z检验</strong> -类似于T检验，用于比较总体均值，但样本量更大。17%的人在上一年看过一部戏剧。为了验证这一点，对90人进行了调查，结果发现其中22人在去年看过一部戏剧。检验所给数字是否正确的说法。(zc=1.96)</p><p id="a486" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">α或显著性水平或p值=0.05</p><p id="33e8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">假设百分比=p=17%=0.17</p><p id="f7d9" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">接受调查的总人数(样本量)=n=90</p><p id="405d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">看戏的人=x=22</p><p id="eee2" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">比例p:</p><figure class="kl km kn ko fd ii er es paragraph-image"><div class="er es lc"><img src="../Images/fde523279f762a0159c175b05edea7cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:166/format:webp/1*CUgdV-usyfHM4d-vbwuoKQ.png"/></div></figure><p id="faf4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi">=22/90=0.244</p><p id="93a6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">零假设H0: p=0.17</p><p id="4b00" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">替代假设H1: p ≠ 0.17</p><p id="fb14" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">计算z统计值:</p><figure class="kl km kn ko fd ii er es paragraph-image"><div class="er es ld"><img src="../Images/aa6bea99034193dd15d0771eb212fe2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:500/format:webp/1*IlQwHS6BKfnrDljGa36VdQ.png"/></div></figure><p id="56ee" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">=(0.244–0.17)/sqrt((0.17 * 0.83))/90)</p><p id="02cb" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi">=1.87</p><p id="dc44" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">决策规则:如果Z &gt; Zc(关键Z分数)，则拒绝</p><p id="9ce7" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">由于1.87不大于1.96，无法拒绝零假设。</p><p id="50c8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">因此，我们可以说给定的数字是正确的。</p><p id="b735" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在我们的样本中，去年观看戏剧的人数比例为0.244。我们计算的z统计值为1.87，小于临界值1.96，显著性水平α = 0.05。因此，我们不拒绝零假设，并得出结论，前一年参加戏剧演出的人的患病率为0.17。</p></div></div>    
</body>
</html>