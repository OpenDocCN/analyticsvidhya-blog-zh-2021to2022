<html>
<head>
<title>5 Easy Steps to Implement ChartJS in A React Environment</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在React环境中实现ChartJS的5个简单步骤</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/5-easy-steps-to-implement-chartjs-in-a-react-environment-62a0a0ec23a9?source=collection_archive---------7-----------------------#2021-02-16">https://medium.com/analytics-vidhya/5-easy-steps-to-implement-chartjs-in-a-react-environment-62a0a0ec23a9?source=collection_archive---------7-----------------------#2021-02-16</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/ce59f3206b1c4158ee04ed6400add3aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3fgtvcjQxFbQkBmUy4g5lQ.jpeg"/></div></div></figure><p id="1a26" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在处理比较数据时，我最喜欢使用的JavaScript库之一无疑是ChartJS。它是动态的、直观的，最重要的是易于实现。</p><p id="513a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">ChartJS是一个用于数据可视化的免费开源JavaScvript库。它支持八种图表类型，并在HTML5画布中呈现。</p><p id="575c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我最近在一个有趣的锻炼应用程序中使用了ChartJS，用户可以记录和跟踪他们的体重、身体质量指数和每种体型的重复次数。如果没有图表，这些数据会显得枯燥和令人疲惫。但是有了ChartJS，它给人一种很棒的视觉效果和梦幻般的色彩。</p><figure class="jo jp jq jr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es jn"><img src="../Images/e5b7c200a6197ae10d5414e483210706.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6tVArPKSCOe6m8ZTFqEJww.png"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx translated">绘制每个身体部位类别完成的重复次数的圆环图</figcaption></figure><p id="fd31" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">让我向您介绍我的设置过程，并演示ChartJS的一些基本用法。</p><p id="2ef6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">请注意，我将使用React钩子在基于ReactJS的前端运行这个库。如果你正在寻找如何通过普通的JavaScript集成ChartJS，那么<a class="ae jw" href="https://www.chartjs.org/docs/latest/" rel="noopener ugc nofollow" target="_blank"> ChartJS docs </a>做得很好。</p><h1 id="e114" class="jx jy hh bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">设置:</h1><ol class=""><li id="52dc" class="kv kw hh ir b is kx iw ky ja kz je la ji lb jm lc ld le lf bi translated">与所有JavaScript库一样，您必须首先安装它。</li></ol><p id="92ba" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在你的项目文件夹中运行<code class="du lg lh li lj b">npm install react-chartjs-2 chart.js</code>。</p><p id="f2b3" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如果你使用的是纱线，运行:<code class="du lg lh li lj b">yarn add react-chartjs-2 chart.js</code></p><p id="d3dd" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">2.将库导入到计划显示图表的组件中。</p><p id="91c6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><code class="du lg lh li lj b">import { Line } from 'react-chartjs-2</code></p><p id="2dac" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">请记住，<code class="du lg lh li lj b">{ Line }</code>指的是您希望导入的图表类型。Line将导入折线图，而导入<code class="du lg lh li lj b">{ Pie, Doughnut, Bar }</code>将分别导入饼图、圆环图和条形图。如果您希望在同一个组件中使用不同类型的图表，您可以在一行中导入多种类型的图表，如上所述。我在下面提供了ChartJS支持的八种不同类型的图表列表。</p><ul class=""><li id="dc4a" class="kv kw hh ir b is it iw ix ja lk je ll ji lm jm ln ld le lf bi translated"><a class="ae jw" href="https://www.chartjs.org/docs/latest/charts/line.html" rel="noopener ugc nofollow" target="_blank">线</a></li><li id="a984" class="kv kw hh ir b is lo iw lp ja lq je lr ji ls jm ln ld le lf bi translated"><a class="ae jw" href="https://www.chartjs.org/docs/latest/charts/bar.html" rel="noopener ugc nofollow" target="_blank">栏</a></li><li id="d637" class="kv kw hh ir b is lo iw lp ja lq je lr ji ls jm ln ld le lf bi translated"><a class="ae jw" href="https://www.chartjs.org/docs/latest/charts/radar.html" rel="noopener ugc nofollow" target="_blank">雷达</a></li><li id="cfdb" class="kv kw hh ir b is lo iw lp ja lq je lr ji ls jm ln ld le lf bi translated"><a class="ae jw" href="https://www.chartjs.org/docs/latest/charts/doughnut.html" rel="noopener ugc nofollow" target="_blank">甜甜圈和馅饼</a></li><li id="d80d" class="kv kw hh ir b is lo iw lp ja lq je lr ji ls jm ln ld le lf bi translated"><a class="ae jw" href="https://www.chartjs.org/docs/latest/charts/polar.html" rel="noopener ugc nofollow" target="_blank">极地区域</a></li><li id="71bd" class="kv kw hh ir b is lo iw lp ja lq je lr ji ls jm ln ld le lf bi translated"><a class="ae jw" href="https://www.chartjs.org/docs/latest/charts/bubble.html" rel="noopener ugc nofollow" target="_blank">气泡</a></li><li id="f8ed" class="kv kw hh ir b is lo iw lp ja lq je lr ji ls jm ln ld le lf bi translated"><a class="ae jw" href="https://www.chartjs.org/docs/latest/charts/scatter.html" rel="noopener ugc nofollow" target="_blank">散布</a></li></ul><p id="b6f6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">3.在组件中创建一个函数，该函数将概述您的图表设置及其将显示的数据。我使用钩子来保存我的图表数据的状态。</p><pre class="jo jp jq jr fd lt lj lu lv aw lw bi"><span id="d88a" class="lx jy hh lj b fi ly lz l ma mb">function chart(){<br/>    setChartData(<br/>        {<br/>            labels: dates,<br/>            datasets: [<br/>                {<br/>                    label: 'Weight (lbs)',<br/>                    data: weights,<br/>                    fill: false,<br/>                    lineTension: 0,<br/>                    backgroundColor: "#2085d8",<br/>                    borderColor: "#2085d8",<br/>                    borderCapStyle: "butt",<br/>                    borderDash: [],<br/>                    borderDashOffset: 0.0,<br/>                    borderJoinStyle: "miter",<br/>                    pointBorderColor: "#2085d8",<br/>                    pointBackgroundColor: "#FFF",<br/>                    pointBorderWidth: 1,<br/>                    pointHoverRadius: 5,<br/>                    pointHoverBackgroundColor: "#2f3640",<br/>                    pointHoverBorderColor: "#2085d8",<br/>                    pointHoverBorderWidth: 2,<br/>                    pointRadius: 1,<br/>                    pointHitRadius: 10,<br/>               }    <br/>          ]    <br/>    })   <br/>}</span></pre><p id="d5d4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">上面有很多东西。<em class="mc">我知道</em>。但是让我们把它分成两个简单的部分:<code class="du lg lh li lj b">labels</code>，这是你的x轴，和<code class="du lg lh li lj b">datasets</code>，你的y轴。</p><p id="01b9" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在上面的例子中，x轴表示日期，y轴表示重量。你想把所有你想在y轴上显示的<em class="mc">数据</em>放在<code class="du lg lh li lj b">data</code>下。我的实际数据(日期和体重)是从我在应用程序的其他地方设置的变量中提取的。这使我的图表在数据变化和更新时保持动态。您可以参考下面的示例，以获得更清晰的硬编码示例:</p><pre class="jo jp jq jr fd lt lj lu lv aw lw bi"><span id="ac94" class="lx jy hh lj b fi ly lz l ma mb">function chart(){<br/>    setChartData(<br/>        {<br/>            labels: [<br/>                "2020-12-12", <br/>                "2020-12-13", <br/>                "2020-12-14", <br/>                "2020-12-16", <br/>                "2020-12-17",                    // dates<br/>                "2020-12-18", <br/>                "2020-12-27", <br/>                "2020-12-29", <br/>                "2021-01-02"<br/>            ],<br/>            datasets: [<br/>                {<br/>                    label: 'Weight (lbs)',<br/>                    data: [<br/>                        196, <br/>                        196, <br/>                        197, <br/>                        198, <br/>                        195,                     // weights<br/>                        196, <br/>                        203, <br/>                        200, <br/>                        201<br/>                    ],<br/>                    fill: false,<br/>                    lineTension: 0,<br/>                    backgroundColor: "#2085d8",<br/>                    borderColor: "#2085d8",<br/>                    borderCapStyle: "butt",<br/>                    borderDash: [],<br/>                    borderDashOffset: 0.0,<br/>                    borderJoinStyle: "miter",<br/>                    pointBorderColor: "#2085d8",<br/>                    pointBackgroundColor: "#FFF",<br/>                    pointBorderWidth: 1,<br/>                    pointHoverRadius: 5,<br/>                    pointHoverBackgroundColor: "#2f3640",<br/>                    pointHoverBorderColor: "#2085d8",<br/>                    pointHoverBorderWidth: 2,<br/>                    pointRadius: 1,<br/>                    pointHitRadius: 10,<br/>               }    <br/>          ]    <br/>    })   <br/>}</span></pre><p id="5efc" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">从这里开始，让我们剖析一下 <code class="du lg lh li lj b">datasets</code>中<em class="mc">所发生的一切。<code class="du lg lh li lj b">label</code>非常简单明了，因为它是你的钥匙/图例的标签——无论你的系列代表什么。如上所述，<code class="du lg lh li lj b">data</code>是您的线将要绘制和跟踪的实际数据点。<code class="du lg lh li lj b">fill</code>指是否要填充线下的空间。我选择了<code class="du lg lh li lj b">false</code>，这意味着我只想要这条线。</em></p><p id="8a02" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在，超过这一点的一切，包括填充，真的归结为个人喜好。因此，我将在这里留下一个更详细术语表的链接:<a class="ae jw" href="https://www.chartjs.org/docs/latest/charts/line.html" rel="noopener ugc nofollow" target="_blank"> ChartJS —折线图</a>。每种类型的图表都有自己的数据集配置，所以请务必参考正确的相应图表文档(在上面我的图表列表中已经提供了每个图表文档的直接链接)。</p><p id="ffd8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">4.增加一些生活和色彩。在我的折线图示例中，我只处理一行。如果您正在处理比较数据，并希望为每个数据集分配不同的颜色，该怎么办？</p><p id="472b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">加上<code class="du lg lh li lj b">backgroundColor</code>就行了。在我上面的折线图示例中，我只分配了一个<code class="du lg lh li lj b">backgroundColor: #2085d8</code>，但是为了创建我的圆环图示例，我插入了以下内容:</p><pre class="jo jp jq jr fd lt lj lu lv aw lw bi"><span id="397f" class="lx jy hh lj b fi ly lz l ma mb">function chart(){<br/>    setChartData({<br/>        labels: ["Abs", "Chest", "Arms", "Cardio", "Legs"],<br/>        datasets: [<br/>            {<br/>                label: [<br/>                    "Orange", <br/>                    "Blue", <br/>                    "Green", <br/>                    "Yellow", <br/>                    "Purple"<br/>                ],<br/>                data: reps,<br/>                lineTension: 0.1,<br/>                backgroundColor: [<br/>                    "#ff9936", <br/>                    "#2085d8", <br/>                    "#acff52",     <br/>                    "#fff000", <br/>                    "#9e36ff"<br/>                ],<br/>                borderColor: [<br/>                    "#ff9936", <br/>                    "#2085d8", <br/>                    "#acff52", <br/>                    "#fff000", <br/>                    "#9e36ff"<br/>                ],<br/>                borderCapStyle: "butt",<br/>                borderDash: [],<br/>                borderDashOffset: 0.0,<br/>                borderJoinStyle: "miter",<br/>                pointBorderColor: "#2085d8",<br/>                pointBackgroundColor: "#FFF",<br/>                 pointBorderWidth: 1,<br/>                pointHoverRadius: 5,<br/>                pointHoverBackgroundColor: "#2f3640",<br/>                pointHoverBorderColor: "#2085d8",<br/>                pointHoverBorderWidth: 2,<br/>                pointRadius: 1,<br/>                pointHitRadius: 10,<br/>            }<br/>        ]<br/>    })<br/>}</span></pre><p id="96d6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">您选择包含的颜色数量不必与数据集的数量相匹配。如果没有足够的数据集，ChartJS将按顺序使用颜色，并在最后省略颜色。</p><p id="e221" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">5.最后，在我的<code class="du lg lh li lj b">return</code>语句中，我输入我的图表组件<code class="du lg lh li lj b">&lt;Line /&gt;</code>来呈现我刚刚在上面的函数中创建的图表(通过chartData保存在state中)。这个部件是ChartJS在引擎盖下为我做的。所以根据你制作的图表的类型来调用它(如果你在制作条形图，使用<code class="du lg lh li lj b">&lt;Bar /&gt;</code>，等等)。在这个图表组件中，我所要做的就是1)调用我的chartData，2)设置您可能想要修改的任何额外的<code class="du lg lh li lj b">options</code>。y轴和y轴的标签也将放在这里。</p><pre class="jo jp jq jr fd lt lj lu lv aw lw bi"><span id="00a3" class="lx jy hh lj b fi ly lz l ma mb">return (<br/>    &lt;div className="chart"&gt;<br/>        &lt;Line<br/>            data = {chartData}<br/>            options = {{<br/>                responsive: true,<br/>                title: { text: "DAILY WEIGHT TREND", display:true },<br/>                scales: {<br/>                    yAxes: [{<br/>                        scaleLabel: {<br/>                            display: true,<br/>                            labelString: 'Weight(lbs)'<br/>                        }<br/>                    }],<br/>                    xAxes: [{<br/>                        scaleLabel: {<br/>                            display: true,<br/>                            labelString: 'Dates'<br/>                        }<br/>                    }]<br/>                }        <br/>            }}<br/>        /&gt;<br/>    &lt;/div&gt;<br/>);</span></pre><p id="c142" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">给你。</p><figure class="jo jp jq jr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es md"><img src="../Images/c51b7f2995b43afbde61806938d7e89d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_fsLevSzQyXge3rYtTm7Fw.png"/></div></div></figure><p id="849f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">您可以摆弄您的输入数据，并观察图形更新。每当我的体重或日期变量发生变化时，我就利用<code class="du lg lh li lj b">useEffect</code>自动重新渲染我的图形，但这部分是完全可选的。</p><p id="276b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">祝贺你的第一个漂亮的折线图！这都是通过五个基本步骤完成的。不算太坏，对吧？</p></div></div>    
</body>
</html>