<html>
<head>
<title>Speed UP Your Pandas Computation 10X — Read Files Faster!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将您的熊猫计算速度提高10倍—更快地读取文件！</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/speed-up-your-pandas-computation-10x-read-files-faster-58c43a2122a1?source=collection_archive---------20-----------------------#2021-03-07">https://medium.com/analytics-vidhya/speed-up-your-pandas-computation-10x-read-files-faster-58c43a2122a1?source=collection_archive---------20-----------------------#2021-03-07</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><h1 id="7bec" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">当你的数百万条数据记录被熊猫读取时被卡住了？</h1><p id="7029" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">我们都经历过并面临这个问题。</p><p id="2dc3" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">最近，我有一个价值数百万行的数据集，通常，通过一行普通代码读取数据需要35-40分钟</p><blockquote class="kf kg kh"><p id="8bed" class="jc jd ki je b jf ka jh ji jj kb jl jm kj kc jp jq kk kd jt ju kl ke jx jy jz ha bi translated"><strong class="je hi">df = PD . read _ CSV(' All _ data . CSV ')</strong></p></blockquote><p id="2664" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">感谢互联网提供了免费的在线资源！</p><ol class=""><li id="c347" class="km kn hh je b jf ka jj kb jn ko jr kp jv kq jz kr ks kt ku bi translated">Stackoverflow</li><li id="90c9" class="km kn hh je b jf kv jj kw jn kx jr ky jv kz jz kr ks kt ku bi translated">油管（国外视频网站）</li><li id="3c75" class="km kn hh je b jf kv jj kw jn kx jr ky jv kz jz kr ks kt ku bi translated">中号和更多。</li></ol><figure class="lb lc ld le fd lf er es paragraph-image"><div class="er es la"><img src="../Images/537ce48b3dc9ae50bc7421d20286eaaa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*AktsBJs30JGK1E2B9Bdfhw.png"/></div><figcaption class="li lj et er es lk ll bd b be z dx translated">来源:谷歌图片。</figcaption></figure><p id="c45a" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">我在read_csv()库中遇到了一个非常有趣的参数，它可以帮助您成块地阅读，并且显然可以将您的处理速度提高10倍。</p><h1 id="420c" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">代码:</h1><blockquote class="kf kg kh"><p id="b6c0" class="jc jd ki je b jf ka jh ji jj kb jl jm kj kc jp jq kk kd jt ju kl ke jx jy jz ha bi translated"><strong class="je hi">chunk size = 100000<br/>list _ =[]<br/>对于pd.read_csv("All_data.csv "，chunksize=chunksize): <br/> list_。append(chunk)<br/>df = PD . concat(list _，axis=0) </strong></p></blockquote><p id="9cab" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">假设您希望惰性地遍历一个(可能非常大的)文件，而不是将整个文件读入内存，如下所示:</p><p id="3daf" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">通过指定一个<code class="du lm ln lo lp b">chunksize</code>到<code class="du lm ln lo lp b">read_csv</code>，返回值将是一个<code class="du lm ln lo lp b">TextFileReader.</code>类型的可迭代对象</p><p id="ba2b" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">我敢打赌，这一小块代码将创造奇迹，并肯定会加快你的进程10倍</p><figure class="lb lc ld le fd lf er es paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="er es lq"><img src="../Images/b67fc1c5cdc4b7124ef6349d17c15c05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JMvf08SjYMNAAcHRAjYm0g.jpeg"/></div></div><figcaption class="li lj et er es lk ll bd b be z dx translated">资料来源:联合国人类住区规划署</figcaption></figure><p id="d9de" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">来源:</p><ol class=""><li id="da00" class="km kn hh je b jf ka jj kb jn ko jr kp jv kq jz kr ks kt ku bi translated"><a class="ae lv" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/io.html#io-chunking" rel="noopener ugc nofollow" target="_blank">熊猫文档</a></li><li id="2c63" class="km kn hh je b jf kv jj kw jn kx jr ky jv kz jz kr ks kt ku bi translated"><a class="ae lv" href="https://stackoverflow.com/questions/25962114/how-do-i-read-a-large-csv-file-with-pandas" rel="noopener ugc nofollow" target="_blank">堆栈溢出</a></li><li id="613d" class="km kn hh je b jf kv jj kw jn kx jr ky jv kz jz kr ks kt ku bi translated"><a class="ae lv" href="https://www.kaggle.com/getting-started/203415" rel="noopener ugc nofollow" target="_blank">卡格尔</a></li></ol><p id="166b" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">如果这对你的下一个项目有用，请在下面评论，直到那时，</p><p id="a983" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">编码快乐！</p></div></div>    
</body>
</html>