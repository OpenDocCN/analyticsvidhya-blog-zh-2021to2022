<html>
<head>
<title>MLOPS-building a deep learning project from end to end (part-2)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">m lops-构建端到端的深度学习项目(第二部分)</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/mlops-building-a-deep-learning-project-from-end-to-end-part-2-d335eaf8ffcb?source=collection_archive---------11-----------------------#2021-04-22">https://medium.com/analytics-vidhya/mlops-building-a-deep-learning-project-from-end-to-end-part-2-d335eaf8ffcb?source=collection_archive---------11-----------------------#2021-04-22</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex ie if ig ih er es paragraph-image"><div class="ab fe cl ii"><img src="../Images/78a4cee950fbe3c9a8a8918cc5f6f94c.png" data-original-src="https://miro.medium.com/v2/format:webp/0*kS7N0vIWlhcF2vXF.png"/></div><figcaption class="il im et er es in io bd b be z dx translated">信用——valohai.com</figcaption></figure><p id="4ad8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi jn translated">在前面的部分中，我们已经完成了管道的构建，并使用DVC来执行它们。现在，我们将转向部署部分，在此之前，我们需要一个web应用程序，用户可以通过它进行交互。为了创建web应用程序，我们将需要HTML，CSS和js的头部到我的GitHub repo内的web应用程序，你会发现相同的“静态”，“模板”和“上传”目录。</p><p id="82b8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">内容</p><ol class=""><li id="1766" class="jw jx hh ir b is it iw ix ja jy je jz ji ka jm kb kc kd ke bi translated">使用flask创建web应用程序</li><li id="6fef" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated">使用GitHub操作在Heroku上部署应用程序</li></ol></div><div class="ab cl kk kl go km" role="separator"><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp"/></div><div class="ha hb hc hd he"><h2 id="78e0" class="kr ks hh bd kt ku kv kw kx ky kz la lb ja lc ld le je lf lg lh ji li lj lk ll bi translated">1.使用flask创建web应用程序</h2><p id="8341" class="pw-post-body-paragraph ip iq hh ir b is lm iu iv iw ln iy iz ja lo jc jd je lp jg jh ji lq jk jl jm ha bi translated">现在，我们将使用flask创建一个API，以便它可以通过web应用程序接收输入并返回正确的预测。关于建筑，请参考以下规范。</p><pre class="lr ls lt lu fd lv lw lx ly aw lz bi"><span id="89a4" class="kr ks hh lw b fi ma mb l mc md">import os<br/>os.environ["CUDA_VISIBLE_DEVICES"]="-1" <br/>from flask import Flask,render_template,url_for,request<br/>from werkzeug.utils import secure_filename<br/>from keras.models import load_model<br/>#from keras.preprocessing.image import image<br/>import numpy as np<br/>import os<br/>from tensorflow.compat.v1 import ConfigProto<br/>from tensorflow.compat.v1 import InteractiveSession<br/>#from tensorflow.keras.preprocessing import image<br/>from PIL import Image<br/>import cv2</span><span id="859b" class="kr ks hh lw b fi me mb l mc md">app = Flask(__name__)<br/>app.config['upimg'] = os.path.join('uploads')</span><span id="a467" class="kr ks hh lw b fi me mb l mc md">model1 = load_model("saved_models/trained.h5")</span><span id="4b86" class="kr ks hh lw b fi me mb l mc md">def img_predict(pat,model):<br/>    <br/>    load_img = cv2.imread(pat)<br/>    load_img = cv2.resize(np.float32(load_img),(225,225))<br/>    imgg = np.array(load_img)<br/>    #load_img = image.load_img(pat,target_size=(140,140))<br/>    #imgg = image.img_to_array(load_img)<br/>    imgg = np.expand_dims(imgg, axis = 0)<br/>    pred = model.predict(imgg)<br/>    #pred = pred[0]<br/>    pred = np.argmax(pred)<br/>    return str(pred)</span><span id="8423" class="kr ks hh lw b fi me mb l mc md"><a class="ae mf" href="http://twitter.com/app" rel="noopener ugc nofollow" target="_blank">@app</a>.route("/")<br/>def home():<br/>    return render_template('new.html')</span><span id="eb9d" class="kr ks hh lw b fi me mb l mc md"><a class="ae mf" href="http://twitter.com/app" rel="noopener ugc nofollow" target="_blank">@app</a>.route("/predict", methods = ['POST', 'GET'] )<br/>def predict():<br/>    if request.method == 'POST':<br/>        fil = request.files['file']<br/>        bas_path = os.path.dirname(__file__)<br/>        fil_path = os.path.join('webapps','uploads',secure_filename(fil.filename))<br/>        <br/>        if not os.path.exists('uploads'):<br/>            os.mkdir('webapps/uploads')<br/>        <br/>        fil.save(fil_path)<br/>        <br/>       <br/>        preds = img_predict(fil_path, model1)<br/>        <br/>        if preds == '0':<br/>            opp = 'Its Bulbasaur!'<br/>        <br/>        elif preds == '1':<br/>           opp = 'Its Charmander!'<br/>        <br/>        else:<br/>            opp = 'Its Squirtle!'<br/>        <br/>        return opp<br/>    return None<br/>    <br/>    <br/>if __name__ =='__main__':<br/>    app.run(debug = True)</span></pre><p id="0760" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">一旦你运行这个，你会得到下图所示的链接</p><figure class="lr ls lt lu fd ih er es paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="er es mg"><img src="../Images/eab6ddc2499eb8c5e66d11e7eabd1d6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xY0An9P3OE5SgNpg-kgsOQ.png"/></div></div><figcaption class="il im et er es in io bd b be z dx translated">1.0-运行flask应用程序后</figcaption></figure><p id="fa35" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">复制URL并将其粘贴到任何浏览器中，然后按“enter”键，您将被重定向到如下所示的页面。</p><figure class="lr ls lt lu fd ih er es paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="er es ml"><img src="../Images/a79a26df8d0b6efd7850704c675bfdf1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g2wje5Yy8Wh0zbt82uLvQw.png"/></div></div><figcaption class="il im et er es in io bd b be z dx translated">1.2-转到flask URL后</figcaption></figure><p id="d1ac" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在我们的web应用程序运行在我们的本地系统上，我们需要使用GitHub操作将它部署在Heroku中，这将在下一部分中进行。</p><h2 id="e9ea" class="kr ks hh bd kt ku kv kw kx ky kz la lb ja lc ld le je lf lg lh ji li lj lk ll bi translated">2.使用GitHub操作在Heroku上部署应用程序</h2><p id="31ae" class="pw-post-body-paragraph ip iq hh ir b is lm iu iv iw ln iy iz ja lo jc jd je lp jg jh ji lq jk jl jm ha bi translated">出于部署目的，我们需要另一个配置文件，因此运行以下命令。</p><pre class="lr ls lt lu fd lv lw lx ly aw lz bi"><span id="bfde" class="kr ks hh lw b fi ma mb l mc md">mkdir .github\workflows<br/>type null &gt;&gt; .github\workflows\ci-cd.yaml</span></pre><p id="ccbc" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">因为我使用的是windows操作系统，所以我对Linux使用了“type null ”,对Linux使用了“touch ”,对路径也使用了“/”。<br/>在“ci-cd.yaml”文件中粘贴如下所示的配置。</p><pre class="lr ls lt lu fd lv lw lx ly aw lz bi"><span id="2fb0" class="kr ks hh lw b fi ma mb l mc md">name: Python-DL-MLOPS</span><span id="84ec" class="kr ks hh lw b fi me mb l mc md">on:<br/>  push:<br/>    branches:<br/>    - main<br/>  pull_request:<br/>    branches:<br/>    - main</span><span id="6ac5" class="kr ks hh lw b fi me mb l mc md">jobs:<br/>  build:</span><span id="6938" class="kr ks hh lw b fi me mb l mc md">runs-on: ubuntu-latest</span><span id="b67d" class="kr ks hh lw b fi me mb l mc md">steps:<br/>    - uses: actions/checkout@v2<br/>      with:<br/>        fetch-depth: 0<br/>    - name: Set up Python 3.7<br/>      uses: actions/setup-python@v2<br/>      with:<br/>        python-version: 3.7<br/>    - name: Install dependencies<br/>      run: |<br/>        python -m pip install --upgrade pip<br/>       <br/>        if [ -f requirements.txt ]; then pip install -r requirements.txt; fi</span><span id="450a" class="kr ks hh lw b fi me mb l mc md">#- name: Deploy to Heroku<br/>#      env:<br/>#        HEROKU_API_TOKEN: ${{ secrets.HEROKU_API_TOKEN }}<br/>#        HEROKU_APP_NAME: ${{ secrets.HEROKU_APP_NAME }}<br/>#      if: github.ref == 'refs/heads/main' &amp;&amp; job.status == #'success'<br/>#      run: |<br/>#        git remote add heroku #<a class="ae mf" href="https://heroku:$HEROKU_API_TOKEN@git.heroku.com/$HEROKU_APP_NAME.git" rel="noopener ugc nofollow" target="_blank">https://heroku:$HEROKU_API_TOKEN@git.heroku.com/$HEROKU_APP_NAME.git</a><br/>#        git push heroku HEAD:main -f</span></pre><p id="ab70" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在上面的文件中，<br/> 1。名称:是部署<br/> 2的名称。推、拉:是推/拉所有文件的分支<br/> 3。jobs，build:是部署管道中的状态。运行:它将使用的操作系统<br/> 5。步骤:部署管道<br/> 6中涉及的步骤。use，with:它还需要哪些依赖项以及另一个<br/> 7。名称:管道<br/> 8内单个步骤的名称。运行:执行什么命令<br/> 9。env:Heroku的环境凭证/令牌</p><p id="51bc" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在只需通过以下方式将更改推送到Github repo</p><pre class="lr ls lt lu fd lv lw lx ly aw lz bi"><span id="fd5d" class="kr ks hh lw b fi ma mb l mc md">git add. &amp;&amp; git commit -m "commit msg" &amp;&amp; git push origin main</span></pre><p id="f359" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">接下来，到你的github repo，你会注意到一个像这样的黄点</p><figure class="lr ls lt lu fd ih er es paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="er es mm"><img src="../Images/a3d4022c7eb7c5372365f617923aff81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p8jPVv0CmUwxZzZ-d0vkkw.png"/></div></div><figcaption class="il im et er es in io bd b be z dx translated">1.3- github操作</figcaption></figure><p id="bcaa" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">它只是显示部署依赖项正在安装。然后单击上面的“操作”选项卡。</p><p id="aa84" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">单击后，您将看到以下页面，</p><figure class="lr ls lt lu fd ih er es paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="er es mn"><img src="../Images/915215072fb4de66ea1c479c5efee6aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xDtDCp12f_zwVAdCvFcmeA.jpeg"/></div></div><figcaption class="il im et er es in io bd b be z dx translated">1.4-运行工作流</figcaption></figure><p id="6fe0" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">观察黄点，它显示了运行工作流已经进行了多少次推送。每当新的变更被推送到repo时，部署管道就会被执行。<br/>这就是为什么术语‘CD’持续部署的原因。<br/>点击上面的工作流程，您会看到以下内容</p><figure class="lr ls lt lu fd ih er es paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="er es mo"><img src="../Images/8ba414a0405b4267040121ab3f18b01a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9-MXGrC0GjWIROUTZrq2jA.png"/></div></div><figcaption class="il im et er es in io bd b be z dx translated">1.5-独立管道执行</figcaption></figure><p id="9ca2" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在正在进行的构建中，执行“ci-cd.yaml”中提到的所有配置和阶段。<br/>构建成功完成后，您将看到以下内容</p><figure class="lr ls lt lu fd ih er es paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="er es mp"><img src="../Images/170d1db89342bd5a3a83ea0c9e170e2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QXp459VctjMapNwWdLhVHA.png"/></div></div><figcaption class="il im et er es in io bd b be z dx translated">1.6-构建成功</figcaption></figure><p id="cbcf" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">2.2在Heroku中创建新应用程序</p><p id="8c0b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">到目前为止，我们已经建立并执行了管道中的各个阶段，但还剩下最后一部分，即在heroku上的部署，所以让我们开始吧。</p><p id="a317" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">转到<a class="ae mf" href="https://dashboard.heroku.com/apps" rel="noopener ugc nofollow" target="_blank"> URL </a>，如果您没有登录，请在此处登录，否则如果您是新用户，它会要求您创建一个新帐户。之后，您将进入如下所示的控制面板</p><figure class="lr ls lt lu fd ih er es paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="er es mn"><img src="../Images/7f271b70daa4b466d56d38b431b8f0ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fUU_e_8xprof9s9IWo-37g.png"/></div></div><figcaption class="il im et er es in io bd b be z dx translated">1.7-Hreoku仪表板</figcaption></figure><p id="0276" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们必须创建一个新的应用程序，点击右上角的新按钮，如上所示。</p><p id="952b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">它会要求你为你的应用程序输入任何名称，所以键入你喜欢的任何名称，然后按“创建应用程序”。</p><figure class="lr ls lt lu fd ih er es paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="er es mn"><img src="../Images/bf58bd094807fde84ce88b1b2d040cd1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_96hrp2MANaj7VIu8lQdbw.png"/></div></div><figcaption class="il im et er es in io bd b be z dx translated">1.8-创建应用程序</figcaption></figure><p id="0904" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">然后向下滚动，如果你已经用Heroku认证了GitHub，你将可以选择搜索你的repo并与之连接。</p><blockquote class="mq mr ms"><p id="417f" class="ip iq mt ir b is it iu iv iw ix iy iz mu jb jc jd mv jf jg jh mw jj jk jl jm ha bi translated">注意:如果你还没有向heroku授权github，首先它会要求你这样做，点击链接并输入你的github证书，然后按“认证”。</p></blockquote><figure class="lr ls lt lu fd ih er es paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="er es mn"><img src="../Images/85181843690fa24cff8de576bb92cbb2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L853zZzIzU9NVCnvhdYLkw.png"/></div></div><figcaption class="il im et er es in io bd b be z dx translated">1.9-与Github repo连接</figcaption></figure><p id="cd08" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">键入您要连接的repo的名称，然后按“连接”。</p><p id="a8c0" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">连接后向下滚动，您将看到“自动部署”，确保您在主分支上，并勾选“部署前等待配置项通过”</p><figure class="lr ls lt lu fd ih er es paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="er es mx"><img src="../Images/f8b37f22403660d8d0ab60467072bd68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TwG_8ubXwYI086XAtepiOg.png"/></div></div><figcaption class="il im et er es in io bd b be z dx translated">2.0-自动部署</figcaption></figure><p id="873a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">继续下一步复制你给的应用程序的名称，并返回到repo导航到如下所示的设置</p><figure class="lr ls lt lu fd ih er es paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="er es my"><img src="../Images/e3f562890640ffb8188f5a994944dd7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nvRsdB_m4QHuJLRA2OwhRw.png"/></div></div><figcaption class="il im et er es in io bd b be z dx translated">2.1-设置</figcaption></figure><p id="6fb8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">向下滚动一点，你会看到一个“秘密”选项，点击它</p><figure class="lr ls lt lu fd ih er es paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="er es mz"><img src="../Images/d795b9cb30a3893d4275a2cab0c34bb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aBoA_fIc47YPObYFsDaaIg.png"/></div></div><figcaption class="il im et er es in io bd b be z dx translated">2.2-秘密</figcaption></figure><p id="a784" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">点击后，你会看到如图所示，然后选择“新的存储库密码”。</p><figure class="lr ls lt lu fd ih er es paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="er es mn"><img src="../Images/424f3fc9adb8e112df032cc91cc3e742.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5BUJBMYDEcgJ9NWdSK3R1Q.png"/></div></div><figcaption class="il im et er es in io bd b be z dx translated">2.3-行动秘密</figcaption></figure><figure class="lr ls lt lu fd ih er es paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="er es na"><img src="../Images/2cbe16680db267ce48e898978a0ccfa0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g44oFVmXNcTbiw6h-BzOOA.png"/></div></div><figcaption class="il im et er es in io bd b be z dx translated">2.4-输入数值</figcaption></figure><p id="3a49" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如上图所示，输入名称“HEROKU_APP_NAME ”,在值中粘贴HEROKU应用名称，然后单击“添加密码”。</p><p id="c5ce" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">前往Heroku页面，然后导航至个人资料-&gt;帐户设置-&gt;应用程序-&gt;创建授权。看下面的图片，然后照着做。</p><figure class="lr ls lt lu fd ih er es paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="er es mn"><img src="../Images/cd8db79d7693e0810773098db36766cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v_FnAYdeymykPE0rf5FQKw.png"/></div></div><figcaption class="il im et er es in io bd b be z dx translated">2.5-账户设置</figcaption></figure><figure class="lr ls lt lu fd ih er es paragraph-image"><div class="er es nb"><img src="../Images/09988abe2ee48b6a286d985c8c8ed287.png" data-original-src="https://miro.medium.com/v2/resize:fit:1340/format:webp/1*mIy2iyi861N1yE6F4_h1Fw.png"/></div><figcaption class="il im et er es in io bd b be z dx translated">2.6-应用</figcaption></figure><figure class="lr ls lt lu fd ih er es paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="er es mn"><img src="../Images/5c08cdbc4caf87b1f9d2da5c58f20dd3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AyfFlhoewmb76ttgzd_A1g.png"/></div></div><figcaption class="il im et er es in io bd b be z dx translated">2.7-创建授权</figcaption></figure><p id="f1f6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在描述部分输入任何信息，然后按“创建”。</p><figure class="lr ls lt lu fd ih er es paragraph-image"><div class="er es nc"><img src="../Images/87b07990ec929700014707eb2bfba34a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1296/format:webp/1*nIw7URtfPJ4iXBWqI_F6xw.png"/></div><figcaption class="il im et er es in io bd b be z dx translated">2.8-复制令牌</figcaption></figure><p id="cdb3" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">复制令牌并返回GitHub repo，按照图2.1到2.4中所示的相同步骤操作。在名称部分输入“HEROKU_API_TOKEN ”,在值部分粘贴复制的HEROKU令牌。</p><blockquote class="mq mr ms"><p id="c5a5" class="ip iq mt ir b is it iu iv iw ix iy iz mu jb jc jd mv jf jg jh mw jj jk jl jm ha bi translated">注意:将生成的将因人而异。</p></blockquote><p id="12b4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">走向最后一步我们需要做的就是取消Heroku部署最后阶段的注释，并将更改推回到Github repo。</p><figure class="lr ls lt lu fd ih er es paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="er es nd"><img src="../Images/6cafee972cce167cad413e0f25c45075.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BzxxSZZ-KbPwlUeFPXIvSA.png"/></div></div><figcaption class="il im et er es in io bd b be z dx translated">2.9-删除注释</figcaption></figure><p id="783e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在此之前，我们需要创建一个“Procfile ”,这样Heroku就可以理解在terminal/cmd中运行哪个应用程序。</p><pre class="lr ls lt lu fd lv lw lx ly aw lz bi"><span id="21e2" class="kr ks hh lw b fi ma mb l mc md">type nul &gt;&gt; Procfile</span></pre><p id="4678" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在Procfile中粘贴以下代码片段</p><pre class="lr ls lt lu fd lv lw lx ly aw lz bi"><span id="dbdb" class="kr ks hh lw b fi ma mb l mc md">web: gunicorn app:app</span></pre><p id="5402" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在，通过以下方式将变更推送到回购</p><pre class="lr ls lt lu fd lv lw lx ly aw lz bi"><span id="d0f0" class="kr ks hh lw b fi ma mb l mc md">git add . &amp;&amp; git commit -m "your commit message" &amp;&amp; git push origin main</span></pre><p id="8fbc" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如果一切顺利，你会看到</p><figure class="lr ls lt lu fd ih er es paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="er es mn"><img src="../Images/925b628cb8171fb3baeedbf442ad53eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LXq2Ks1uELvHQexcKUQ5ig.png"/></div></div><figcaption class="il im et er es in io bd b be z dx translated">3.0-在Heroku部署后</figcaption></figure><blockquote class="mq mr ms"><p id="bb6c" class="ip iq mt ir b is it iu iv iw ix iy iz mu jb jc jd mv jf jg jh mw jj jk jl jm ha bi translated">注意:在推送时，请确保临时删除“data”和“data_set”文件夹，就像您使用它推送一样，您的应用程序的slug大小将超过500Mb，您的部署将失败。</p></blockquote><p id="0ba8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">朝着网址前进</p><pre class="lr ls lt lu fd lv lw lx ly aw lz bi"><span id="1e29" class="kr ks hh lw b fi ma mb l mc md"><a class="ae mf" href="https://dl-mlops.herokuapp.com/" rel="noopener ugc nofollow" target="_blank">https://app-name.herokuapp.com/</a></span></pre><p id="2b47" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在这里，用您自己的Heroku应用名称替换URL中的“应用名称”。<br/>一旦你点击那个网址，你会看到我们的网络应用如下。</p><figure class="lr ls lt lu fd ih er es paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="er es ne"><img src="../Images/48e7c359ada09b2c24123125e1863f41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X4uWtstw1-UmWLY1tLuv7A.png"/></div></div><figcaption class="il im et er es in io bd b be z dx translated">3.1-网络应用程序</figcaption></figure><p id="cd31" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">最后，我们完成了！这是一个稍微长一点的过程，但基本上是这样实现的。大多数行业更喜欢这些管道，因为它提高了效率，有助于跟踪我们的数据和变化。</p><p id="f923" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我只是展示了一个使用DVC实现它的简单方法，但它有更多的功能，可以根据项目的类型进行合并。根据项目的复杂性，每个项目都有不同的架构，您可以相应地使用各种其他工具。</p><p id="08f4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这只是如何开始使用DVC的MlOps，你也可以使用其他替代方案，如MLflow和云平台，如AWS、GCP、Azure。但是我认为DVC是一个非常强大的地方，也是一个开始MlOps的好地方。</p><p id="289b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如果你错过了第一部分，请点击这里查看第一部分的完整源代码，这是我的<a class="ae mf" href="https://github.com/patrickn699/DL-MLOPS.git" rel="noopener ugc nofollow" target="_blank"> GitHub </a>。另外，如果你有任何疑问，你可以通过<a class="ae mf" href="https://www.linkedin.com/in/prathmesh-patil-b151051a3" rel="noopener ugc nofollow" target="_blank"> Linkedin </a>联系我。<br/>我真心希望您喜欢这篇文章，它有助于您开始使用MLOps！</p></div></div>    
</body>
</html>