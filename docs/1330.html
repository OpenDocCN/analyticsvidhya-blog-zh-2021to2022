<html>
<head>
<title>How to prove that your cat is fat (with statistics and python)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何证明你的猫很胖(用统计学和python)</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/how-to-prove-that-your-cat-is-fat-with-statistics-and-python-88ff7d8cda68?source=collection_archive---------33-----------------------#2021-02-23">https://medium.com/analytics-vidhya/how-to-prove-that-your-cat-is-fat-with-statistics-and-python-88ff7d8cda68?source=collection_archive---------33-----------------------#2021-02-23</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/ff8f757d271c5c0dff2b4deab5e0984b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*mgCn6Sh0cE1Br-2h.png"/></div></div></figure><p id="61cf" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">你有一只非常非常胖非常懒的猫，叫博格拉。他太懒了，经常在饭碗里睡着。你一直对他大喊大叫，让他不要吃那么多金枪鱼，但是他根本不理会你，也不知道他有多胖。所以你决定用统计证据来教训他。你称了他的体重，天哪，他已经有6公斤了。</p><p id="5f5d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">你在网上查查怎么统计证明你的猫太胖。他们写道，你必须收集更多的“数据”，为此，你需要知道其他一些猫的体重。所以你开始通过给其他猫的父母打电话来收集信息。您编写了一个小python脚本，其中使用了“pandas”库来将成对的猫名和它们的体重转换成类似行列的结构:</p><pre class="jn jo jp jq fd jr js jt ju aw jv bi"><span id="d548" class="jw jx hh js b fi jy jz l ka kb">#Import pandas library<br/>import pandas as pd<br/><br/># initialize list of lists<br/>height_data = [['tom', 3.0], ['pumpkin', 3.51], ['bonk', 4.2], ['thunder', 5.5], ['oreo', 4.73], ['nya', 5], ['kitkat', 4.55], ['bubbles', 4.9], ['sparkle', 6.29], ['pebbles', 3.72]]<br/> # Create the pandas DataFrame<br/>df_weight = pd.DataFrame(height_data, columns = ['Name', 'Weight(kg)'])<br/> # print dataframe.<br/>df_weight</span></pre><figure class="jn jo jp jq fd ii er es paragraph-image"><div class="er es kc"><img src="../Images/405727ee8dc7724d215b0f50fe496fd3.png" data-original-src="https://miro.medium.com/v2/resize:fit:788/format:webp/0*I6ZINm5PUe_0Qowu.png"/></div></figure><p id="b624" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在，您认为需要将数据放入名为'<strong class="ir hi">直方图</strong>'的某种类型的图形中。要制作直方图，你需要理解<strong class="ir hi">桶</strong>或<strong class="ir hi">桶</strong>的概念。箱就像一个组。例如，当你想到一个人的年龄时，如果这个人在13岁以下，你就叫他kid如果他在13到19岁之间，你称他为青少年，如果他超过19岁，你通常称他为成年人。这里，0-12岁、13-19岁和19岁以上的年龄范围可以被认为是区间。</p><p id="cb74" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">为了制作你朋友的猫的重量直方图，你决定制作5个箱子。最轻的猫是汤姆，3斤，最重的是闪闪，6.29斤。所以所有的猫都“分布”在这个3到6.29公斤的范围内。如果您想在这个(6.29–3)或3.29千克的范围内制作5个相等的箱子，每个箱子的重量大约为(3.29/5)或0.658千克。因此，3公斤的汤姆将在第一个箱子里。南瓜(3.51 kg)也在这个范围内，因为第一个bin的范围从3到3.658 kg。第二个箱子将从3.658到(3.658+0.658)或4.316公斤，你可以看到，第三只猫Bonk，4.20公斤，将在第二个箱子中。用同样的方法，你把所有这些猫放进箱子里，数一数每个箱子里有多少只猫。你看，箱子1，2，3，4和5包含2，2，3，2和1只猫。你可以写一个小的python脚本来完成整个过程。</p><pre class="jn jo jp jq fd jr js jt ju aw jv bi"><span id="d08c" class="jw jx hh js b fi jy jz l ka kb">import seaborn as sns<br/>sns.histplot(data=df_weight, x="Weight(kg)", bins=5)<br/>#sns.histplot(data=df_weight, x="Weight(kg)", bins='auto')  automatically decides How many bins you need</span></pre><figure class="jn jo jp jq fd ii er es paragraph-image"><div class="er es kd"><img src="../Images/9a3ff1ada2df101472df1d87dd087617.png" data-original-src="https://miro.medium.com/v2/resize:fit:772/format:webp/0*QUWYz9QTbRLwqIyj.png"/></div></figure><p id="59e6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">你看，大多数猫(在这种情况下，3只猫)的体重在第三个箱子中，其范围为4.316至(4.316+0.658)或4.974千克。</p><p id="3d90" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">外面有更多的猫，不是吗？可能有体重不足3公斤的猫等等。如果你能从你掌握的数据来假设其他猫胖的概率，那就太好了。这里，一只猫的重量是一个“<strong class="ir hi">随机变量</strong>，所有猫的重量是“<strong class="ir hi">样本空间</strong>”。随机变量的所有可能值(在这种情况下，是猫的重量)和猫的所有可能重量，特定结果出现的频率(例如，一只重6 kg的猫)可以用“<strong class="ir hi">分布</strong>来表示。现在让我们试着写几行代码来看看数据集的分布。</p><pre class="jn jo jp jq fd jr js jt ju aw jv bi"><span id="a86b" class="jw jx hh js b fi jy jz l ka kb">sns.FacetGrid(df_weight, size=6) \<br/>  .map(sns.kdeplot, "Weight(kg)") \<br/>  .add_legend()</span></pre><figure class="jn jo jp jq fd ii er es paragraph-image"><div class="er es ke"><img src="../Images/5cd9f40e894115f5fbf59d9c28bebe05.png" data-original-src="https://miro.medium.com/v2/resize:fit:874/format:webp/0*iiWXtcxwUb9OQLLn.png"/></div></figure><p id="c92b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">从这张图中，你可以清楚地看到曲线的最高点在4到5公斤附近，这意味着你家附近的大多数猫都在这个范围内。</p><p id="2870" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这里你看到的曲线(几乎)是一个'<strong class="ir hi">正态分布</strong>'。实际的正态分布是关于平均值对称的，有点像钟形(🔔)，这意味着平均值保持在曲线的中心，左右两侧看起来都像镜像。这是一张正态分布的图片:</p><figure class="jn jo jp jq fd ii er es paragraph-image"><div class="er es kf"><img src="../Images/3e7dc37ec15cc949c4ee559cf1050a46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/0*mMsSuGAayjXMY-up.png"/></div></figure><p id="bcac" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">你可能已经知道均值、中值和众数的含义。Mean是所有数据的平均值，median是分隔数据集上半部分和下半部分的数据的中间点，mode是出现次数最多的数字。在正态分布中，这三者都在同一点上，这个点在我们的图像中用虚线标出。</p><p id="84b6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在的问题是，你的分布曲线并不完全对称。曲线有时会向左或向右倾斜。我们称这种不对称为“<strong class="ir hi">偏斜</strong>”。偏斜度可以是负的，也可以是正的，这取决于它们的平均值和中值。如果平均值大于中值(mean &gt; median，或者，mean在图中位于中值的右侧)，则偏斜度为正。在负偏态分布的情况下，平均值小于中值(平均值&lt;中值，或者，平均值在中值的左侧)。</p><figure class="jn jo jp jq fd ii er es paragraph-image"><div class="er es kf"><img src="../Images/ff0995066ce4c84b1656b49f808ddbc7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/0*SQIiLGVUY4ww2xEV.png"/></div></figure><p id="a96b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">对于我们的数据集:</p><pre class="jn jo jp jq fd jr js jt ju aw jv bi"><span id="9bd3" class="jw jx hh js b fi jy jz l ka kb">import numpy as np<br/>from scipy import stats<br/><br/>mean = np.mean(df_weight['Weight(kg)'])<br/>median = np.median(df_weight['Weight(kg)'])<br/><br/>print(mean, median)</span></pre><p id="d31d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这里的平均值是4.54，中值是4.64，所以用平均值&lt; median. So the data is negatively skewed.</p><p id="5850" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Anyway, you now know from the graph that your cat is somewhat fat. How fat exactly is he? Here comes the concept of ‘ <strong class="ir hi">百分位</strong>来拯救你的一天。什么是百分位数？假设有一只4.95公斤的猫，他比75%的猫都要胖。这里，值4.95是“第75百分位”。(第75个四分位数—第25个四分位数)的值称为四分位数间距。</p><figure class="jn jo jp jq fd ii er es paragraph-image"><div class="er es kf"><img src="../Images/5b33ee980df05d40146a1ab99f5023e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/0*MnJKVGsb-XD1wFbs.png"/></div></figure><figure class="jn jo jp jq fd ii er es paragraph-image"><div class="er es kf"><img src="../Images/bb45449a137bc5d185c7e082763e7152.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/0*taCl7rrNXh0G2aTf.png"/></div></figure><p id="cc90" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在让我们来看看有多少只猫的体重比你的猫低。</p><pre class="jn jo jp jq fd jr js jt ju aw jv bi"><span id="5871" class="jw jx hh js b fi jy jz l ka kb">import numpy as np<br/>sum(np.abs(df_weight["Weight(kg)"]) &lt; 6) / float(len(df_weight["Weight(kg)"]))</span></pre><p id="e08a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">哇，0.9！这意味着你的猫比90%的猫都要胖。</p><p id="14b0" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">你终于知道如何在统计中吼你的猫，但你的旅程并不顺利。在收集数据时，你不小心把汤姆的体重写成了“0.3”，而不是“3.0”，所有的图表都被弄乱了。</p><figure class="jn jo jp jq fd ii er es paragraph-image"><div class="er es kg"><img src="../Images/120a99a4107822578e1ce2a25a2c8aca.png" data-original-src="https://miro.medium.com/v2/resize:fit:752/format:webp/0*1qXT6R208qAXDJHu.png"/></div></figure><p id="2bc2" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">你不知道为什么直方图中会有一些空白。那次你上网查了一下，碰到了'<strong class="ir hi">离群值</strong>'这个概念。离群值就是与其他数据不同的数据。为了检查数据中的异常值，您使用了箱线图。在箱线图中，事件发生的最可能范围(在这种情况下，最常见的猫体重)显示在一个方框中，其他较低和较高(但仍可接受)值使用触须显示。不可接受的值用圆点表示。</p><pre class="jn jo jp jq fd jr js jt ju aw jv bi"><span id="e3f7" class="jw jx hh js b fi jy jz l ka kb">sns.boxplot(y='Weight(kg)', data=df_weight)</span></pre><figure class="jn jo jp jq fd ii er es paragraph-image"><div class="er es kg"><img src="../Images/ee8bd6fc3dbb17d044a4687d82a900c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:752/format:webp/0*03HYNZyziy778H4M.png"/></div></figure><p id="650a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">由此可以看出，有一个值不属于您的数据集。你可以用我前面提到的四分位数范围(IQR)来找到这个值。如果第25百分位的值是Q1，第75百分位的值是Q3，则任何高于Q3 + 1.5 x IQR或低于Q1-1.5 x IQR的值都是异常值。</p><pre class="jn jo jp jq fd jr js jt ju aw jv bi"><span id="4ada" class="jw jx hh js b fi jy jz l ka kb">Q1 = np.percentile(df_weight['Weight(kg)'], 25, interpolation = 'midpoint')<br/>Q3 = np.percentile(df_weight['Weight(kg)'], 75, interpolation = 'midpoint')<br/>IQR = Q3 - Q1<br/><br/>low = Q1 - 1.5 * IQR<br/>up = Q3 + 1.5 * IQR<br/><br/>outlier =[]<br/>for x in df_weight['Weight(kg)']:<br/>   if ((x&gt; up) or (x&lt;low)):<br/>       outlier.append(x)<br/>print('outlier in the dataset is', outlier)</span></pre><p id="7225" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这就是为什么你知道你在写汤姆的体重时犯了一个错误。</p><p id="fe84" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在去吼你的猫吧。</p></div><div class="ab cl kh ki go kj" role="separator"><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km"/></div><div class="ha hb hc hd he"><p id="33d3" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><em class="ko">原载于2021年2月23日</em><a class="ae kp" href="https://dev.to/orthymarjan/how-to-prove-your-cat-is-fat-with-statistics-and-python-1a6" rel="noopener ugc nofollow" target="_blank"><em class="ko">https://dev . to</em></a><em class="ko">。</em></p></div></div>    
</body>
</html>