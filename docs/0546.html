<html>
<head>
<title>What is the c++ bool type ?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么是c++ bool类型？</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/what-is-the-c-bool-type-f26642193e0?source=collection_archive---------16-----------------------#2021-01-20">https://medium.com/analytics-vidhya/what-is-the-c-bool-type-f26642193e0?source=collection_archive---------16-----------------------#2021-01-20</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="236b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><code class="du jc jd je jf b">bool</code>类型是c++ <strong class="ig hi"> <em class="jg">中的一种基础数据类型</em> </strong>，一种基础数据类型有一个cpu硬件映射。</p><p id="47a5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><code class="du jc jd je jf b">bool</code>类型用于布尔值。一个<strong class="ig hi"> <em class="jg">布尔值</em> </strong> <em class="jg">是</em>一个关系运算的结果，比如比较是否相等<code class="du jc jd je jf b">==</code>，或者一个逻辑运算的结果，比如or <code class="du jc jd je jf b">||</code>。</p><p id="29e9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">布尔运算的结果可以是真或假，因此C++引入了两个关键字:<code class="du jc jd je jf b">true</code>和<code class="du jc jd je jf b">false</code>。C++中的<code class="du jc jd je jf b">true</code>和<code class="du jc jd je jf b">false</code>，是布尔文字<strong class="ig hi"><em class="jg"/></strong>。</p><p id="d1c4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">C++标准规定，<code class="du jc jd je jf b">bool</code>、<strong class="ig hi">、<em class="jg">类型必须与</em>、</strong>、<em class="jg">、</em>类型具有相同的大小、对齐和位表示，如同无符号整数类型。通常，C++实现将<code class="du jc jd je jf b">bool</code>类型定义为1字节大小，但这并不是标准的强制要求。</p><pre class="jh ji jj jk fd jl jf jm jn aw jo bi"><span id="101b" class="jp jq hh jf b fi jr js l jt ju">#include&lt;iostream&gt;</span><span id="f1f8" class="jp jq hh jf b fi jv js l jt ju">int main(void ){<br/>  std::cout &lt;&lt; sizeof(bool ) &lt;&lt; " byte ." &lt;&lt; std::endl ;<br/>  /*Print the size of the bool type , on <br/>    this machine . Output : <br/>    1 byte .*/ }</span></pre><p id="0778" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">当执行<strong class="ig hi"> <em class="jg">流控制语句</em> </strong>时，如<code class="du jc jd je jf b">if</code>或<code class="du jc jd je jf b">while</code>，被求值的条件表达式有一个结果类型<code class="du jc jd je jf b">bool</code>。唯一的例外是switch语句，它有一个结果整型。</p><p id="9203" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">整数类型如<code class="du jc jd je jf b">int</code>，浮点类型如<code class="du jc jd je jf b">float</code>，指针，枚举，都可以<strong class="ig hi"> <em class="jg">转换成布尔值</em> </strong> <em class="jg"> </em>，其中<code class="du jc jd je jf b">0</code>或空指针为假，其他都为真。</p><pre class="jh ji jj jk fd jl jf jm jn aw jo bi"><span id="6708" class="jp jq hh jf b fi jr js l jt ju">#include&lt;iostream&gt;</span><span id="3ab6" class="jp jq hh jf b fi jv js l jt ju">int main(void ){<br/>  enum state{halt , run };<br/>  /*Define the enum state , which <br/>    has two state , halt which is 0 , <br/>    and run which is 1 .*/</span><span id="b521" class="jp jq hh jf b fi jv js l jt ju">int var_i = 1 ;<br/>  int *ptr_i = nullptr;</span><span id="57fe" class="jp jq hh jf b fi jv js l jt ju">if(!ptr_i &amp;&amp; run )<br/>    /*if ptr_i , is the null pointer ,<br/>      , ptr_i evaluates to false ,<br/>      and not ptr_i evaluates to<br/>      true . <br/>      run has a value of 1 , as such <br/>      it evaluates to true . <br/>      Hence if ptr_is the<br/>      null pointer and the state<br/>      is run , ptr_i is initialized<br/>      with the address of var_i .*/<br/>    ptr_i = &amp;var_i ;</span><span id="3517" class="jp jq hh jf b fi jv js l jt ju">while(ptr_i &amp;&amp; *ptr_i ){<br/>    /*ptr_i evaluates to false ,<br/>      if ptr_i is the null pointer,<br/>      and to true otherwise , *ptr_i<br/>      evaluates to true if different from<br/>      0 , and to false otherwise .<br/>      The while loop will continue , as long<br/>      as ptr_i is not null , and *ptr_i is not<br/>      0 .*/<br/>    std::cout &lt;&lt; *ptr_i &lt;&lt; std::endl ;<br/>    *ptr_i = *ptr_i - 1 ; }<br/>  /*Output :<br/>    1 .*/ }</span></pre><p id="08fb" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">当表达式的类型为整数类型时，可以将<code class="du jc jd je jf b">bool</code>类型<strong class="ig hi"> <em class="jg">转换为整数</em> </strong>类型，其中true提升为<code class="du jc jd je jf b">1</code>，false提升为<code class="du jc jd je jf b">0</code>。</p><pre class="jh ji jj jk fd jl jf jm jn aw jo bi"><span id="55a4" class="jp jq hh jf b fi jr js l jt ju">#include&lt;iostream&gt;</span><span id="fbf1" class="jp jq hh jf b fi jv js l jt ju">int main(void ){</span><span id="1dcd" class="jp jq hh jf b fi jv js l jt ju">switch(true ){<br/>    /*In a switch statement , the conditional<br/>      expression is of an integer type , hence<br/>      true is converted to 1 .*/<br/>    case 0 :<br/>      std::cout &lt;&lt; false &lt;&lt; " : " &lt;&lt; std::boolalpha &lt;&lt; false ;<br/>      break;<br/>    case 1 :<br/>      /*When converted to an integer type , true evaluates<br/>        to 1 , and false , to 0 .<br/>        case 1 , is the true case , hence it is the one ,<br/>        that is executed .*/<br/>      std::cout &lt;&lt; true &lt;&lt; " : "&lt;&lt;std::boolalpha &lt;&lt; true &lt;&lt;std::endl;<br/>      /*cout by default prints the integer value<br/>        of a boolean type , so first it will<br/>        print the integer value of true which is 1.<br/>        When passed the option boolalpha , it will<br/>        print the alpha value of the boolean type ,<br/>        hence next it prints true .<br/>        Output :<br/>        1 : true .*/<br/>      break; } }</span></pre><p id="e31e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> <em class="jg">一个类类型:</em> </strong> <code class="du jc jd je jf b">class</code>，<code class="du jc jd je jf b">struct</code>，<code class="du jc jd je jf b">union</code>，如果提供了运算符转换函数，可以求值为布尔型，如果提供了逻辑和关系运算符函数，可以执行关系和逻辑运算。</p><pre class="jh ji jj jk fd jl jf jm jn aw jo bi"><span id="4c3b" class="jp jq hh jf b fi jr js l jt ju">#include&lt;iostream&gt;</span><span id="a50a" class="jp jq hh jf b fi jv js l jt ju">class Foo{<br/>  /*Class Foo Definition .*/<br/>  public :<br/>    int var_i;<br/>    bool operator==(const Foo foo );<br/>    bool operator!=(const Foo foo );<br/>    bool operator&amp;&amp;(const Foo foo );<br/>    operator bool( ); };</span><span id="0445" class="jp jq hh jf b fi jv js l jt ju">bool Foo::operator==(const Foo foo ){<br/>  /*Definition of the operator == <br/>    function , that compares two <br/>    instances of Foo<br/>    for equality .*/<br/>  return var_i == foo.var_i ;}</span><span id="f25e" class="jp jq hh jf b fi jv js l jt ju">bool Foo::operator!=(const Foo foo ){<br/>  /*Definition of the operator != <br/>    function , which compares two <br/>    instances of Foo for <br/>    difference .*/<br/>  return var_i != foo.var_i ;}</span><span id="1f9d" class="jp jq hh jf b fi jv js l jt ju">bool Foo::operator&amp;&amp;(const Foo foo ){<br/>  /*Definition of operator &amp;&amp; <br/>    function , which implements <br/>    the and logical operation <br/>    between two instance of <br/>    Foo .*/<br/>  switch(var_i - foo.var_i ){<br/>    /*subtract var_i from foo.var_i<br/>      and return false , if the <br/>      result of the subtraction <br/>      is 0 , 1 otherwise .*/<br/>    case 0 :<br/>      return false;<br/>    default:<br/>      return true; } }</span><span id="32c6" class="jp jq hh jf b fi jv js l jt ju">Foo::operator bool(){<br/>  /*Definition of the operator<br/>    conversion to a bool data <br/>    type function , which <br/>    the result of its evaluation<br/>    is a bool type .*/<br/>  switch(var_i ) {<br/>      /*If var_i is equal to 0 , <br/>        return false , otherwise<br/>        return true .*/<br/>      case 0 :<br/>        return false ;<br/>      default :<br/>        return true; } }</span><span id="d805" class="jp jq hh jf b fi jv js l jt ju">int main(void ){<br/>  /*The main function .*/</span><span id="0d86" class="jp jq hh jf b fi jv js l jt ju">Foo var1_foo{-1 };<br/>  Foo var2_foo{0 };<br/>  /*Define two objects var1_foo ,<br/>    and var2_foo , initializing <br/>    each to -1 and 0 respectively .*/</span><span id="ba1e" class="jp jq hh jf b fi jv js l jt ju">if(var1_foo == var2_foo )<br/>    /*Compare var1_foo and var2_foo for equality .<br/>      var1_foo operator function equal is called ,<br/>      being passed var2_foo as an argument .<br/>      Their var_i data members are not equal , <br/>      hence the operator function == returns<br/>      false , the body of the if statement <br/>      is not executed .*/<br/>    std::cout &lt;&lt; "var1_foo is equal  var2_foo ." &lt;&lt; std::endl ;</span><span id="23a7" class="jp jq hh jf b fi jv js l jt ju">if(var1_foo != var2_foo )<br/>    /*Compare var1_foo and var2_foo for difference .<br/>      The operator function != of var1_foo is called<br/>      , being passed var2_foo as an argument . <br/>      Their var_i data members are different , <br/>      hence the result of the operator function <br/>      != is true , hence the body of the if <br/>      statement is executed .*/<br/>    std::cout &lt;&lt; "var1_foo is different from  var2_foo ." &lt;&lt; std::endl ;<br/>    /*Output :<br/>      var1_foo is different from  var2_foo .*/</span><span id="4a63" class="jp jq hh jf b fi jv js l jt ju">if(var1_foo )<br/>    /*var1_foo is evaluated as a boolean , <br/>      since the destination type for an<br/>      if statement is a boolean type .<br/>      var1_foo is converted to a boolean , <br/>      by calling its operator conversion <br/>      function bool , which switches <br/>      the var_i data member , and return <br/>      true if its different from 0 , <br/>      false otherwise .*/<br/>    std::cout &lt;&lt; "var1_foo is true ." &lt;&lt; std::endl ;<br/>    /*Output :<br/>      var1_foo is true .*/</span><span id="639a" class="jp jq hh jf b fi jv js l jt ju">if(!var2_foo )<br/>    /*var2_foo is evaluated as a boolean , <br/>      hence it is converted to a boolean ,   <br/>      since the destination type of an<br/>      if statement is the bool type .<br/>      var2_foo conversion operator function  <br/>      bool is called , and it returns a <br/>      bool , which is true if the <br/>      var_i data member is different from <br/>      0 , and false otherwise .*/<br/>    std::cout &lt;&lt; "var2_foo is false ." &lt;&lt; std::endl ;<br/>    /*Output :<br/>      var2_foo is false .*/</span><span id="2af7" class="jp jq hh jf b fi jv js l jt ju">if(var2_foo &amp;&amp; var1_foo )<br/>    /*var2_foo operator function &amp;&amp; is <br/>      called , it is passed var1_foo <br/>      as an argument .<br/>      The operator function &amp;&amp; subtract<br/>      var2_foo var_i data member from <br/>      var1_foo var_i data member : <br/>      0 - (-1 ) is equal<br/>      to 1 , hence the operator function<br/>      &amp;&amp; returns a true , as such the <br/>      body of the if statement is executed .*/<br/>    std::cout&lt;&lt; "var1_foo &amp;&amp; var2_foo is true ." &lt;&lt;std::endl; <br/>    /*Output :<br/>      var1_foo &amp;&amp; var2_foo is true .*/ }</span></pre><p id="1e29" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><code class="du jc jd je jf b">bool</code>类型可以用作谓词函数 的<strong class="ig hi"> <em class="jg">返回类型，这些函数必须返回<code class="du jc jd je jf b">true</code>或<code class="du jc jd je jf b">false</code>。</em></strong></p><pre class="jh ji jj jk fd jl jf jm jn aw jo bi"><span id="c298" class="jp jq hh jf b fi jr js l jt ju">bool isCppStandard_Compliant(){<br/>  return true ;}</span></pre></div><div class="ab cl jw jx go jy" role="separator"><span class="jz bw bk ka kb kc"/><span class="jz bw bk ka kb kc"/><span class="jz bw bk ka kb"/></div><div class="ha hb hc hd he"><p id="6ea8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="jg">原载于2021年1月20日https://twiserandom.com</em><em class="jg"/><a class="ae kd" href="https://twiserandom.com/cpp/what-is-the-cpp-bool-type/" rel="noopener ugc nofollow" target="_blank"><em class="jg">。</em></a></p></div></div>    
</body>
</html>