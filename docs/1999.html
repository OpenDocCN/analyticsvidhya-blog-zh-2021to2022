<html>
<head>
<title>Difference between One-to-one, Many-to-many, and Many-to-one Relationships in Django</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Django中一对一、多对多和多对一关系的区别</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/difference-between-one-to-one-many-to-many-and-many-to-one-relationships-in-django-2304b567152f?source=collection_archive---------1-----------------------#2021-03-31">https://medium.com/analytics-vidhya/difference-between-one-to-one-many-to-many-and-many-to-one-relationships-in-django-2304b567152f?source=collection_archive---------1-----------------------#2021-03-31</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><h1 id="323f" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">介绍</h1><p id="ec54" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">当我开始学习Django的时候，我在弄清楚上面提到的关系的用例时遇到了一个问题。如果你有这样的问题，请留下来，因为我会向你详细解释，并给出例子。</p><h1 id="fdee" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">一对一的关系</h1><p id="a1c9" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">在这里，两个对象必须彼此具有单一/唯一的关系。以一个<strong class="jf hj">学生</strong>和<strong class="jf hj">学生简介</strong>为例，两个学生不可能有相同的简介。</p><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="0714" class="kk ig hi kg b fi kl km l kn ko"><strong class="kg hj">from</strong> <strong class="kg hj">django.db</strong> <strong class="kg hj">import</strong> models<br/><br/><strong class="kg hj">class</strong> <strong class="kg hj">Student</strong>(models.Model):<br/>    name = models.CharField(max_length=50)<br/>    student_id = models.CharField(max_length=80)<br/><br/>    <strong class="kg hj">def</strong> __str__(self):<br/>        <strong class="kg hj">return</strong> self.name<br/><br/><strong class="kg hj">class</strong> <strong class="kg hj">Student_Profile</strong>(models.Model):<br/>    student = models.OneToOneField(<br/>        student,<br/>        on_delete=models.CASCADE,<br/>    )</span><span id="77a8" class="kk ig hi kg b fi kp km l kn ko">    student_id= models.CharField(max_length=80)<br/><br/>    <strong class="kg hj">def</strong> __str__(self):<br/>        <strong class="kg hj">return</strong> self.student.name</span></pre><h1 id="32bd" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">多对多关系</h1><p id="cf7f" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">在这里，一个模型中的0个或多个对象可以与另一个模型中的0个或多个对象相关，是的，就是这么简单。以医生和病人之间的关系为例，医生可以治疗零个或多个病人。同样，一个病人可以由0个或更多的医生治疗。</p><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="c340" class="kk ig hi kg b fi kl km l kn ko">class Doctor(models.Model):<br/>    name = models.CharField(max_length=150)  <br/>    <strong class="kg hj">def</strong> __str__(self):<br/>        <strong class="kg hj">return</strong> self.name<br/><br/>class Patient(models.Model):<br/>    doctors = models.ManyToManyField(Doctor)<br/>    name = models.CharField(max_length=150)<br/>    <strong class="kg hj">def</strong> __str__(self):<br/>        <strong class="kg hj">return</strong> self.name</span></pre><h1 id="3578" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">多对一关系</h1><p id="db6e" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">在Django中，多对一关系被称为外键关系，在这里，一个模型中的0到多个对象可能与另一个模型中的一个对象相关。一个项目可以有多个学生参与。在这个例子中，我将比较两个实体<strong class="jf hj">学生</strong>和<strong class="jf hj">项目</strong>之间的关系。几个学生可以被分配一个项目来完成一项任务或其他事情。</p><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="1fba" class="kk ig hi kg b fi kl km l kn ko"><strong class="kg hj">class</strong> <strong class="kg hj">Student</strong>(models.Model):<br/>    first_name = models.CharField(max_length=30)<br/>    last_name = models.CharField(max_length=30)<br/><br/>    <strong class="kg hj">def</strong> __str__(self):<br/>        <strong class="kg hj">return</strong> self.first_name<br/><br/><strong class="kg hj">class</strong> <strong class="kg hj">Project</strong>(models.Model):<br/>    name = models.CharField(max_length=30)<br/>    sudents = models.ForeignKey(Student, on_delete=models.CASCADE)</span><span id="b3bb" class="kk ig hi kg b fi kp km l kn ko"><strong class="kg hj">    def</strong> __str__(self):<br/>        <strong class="kg hj">return</strong> self.name</span></pre><h1 id="67c8" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">结论</h1><p id="222f" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">希望这能以某种方式帮助你，如果你想联系我，你可以在推特上联系我</p></div></div>    
</body>
</html>