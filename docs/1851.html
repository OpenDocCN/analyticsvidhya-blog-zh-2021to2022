<html>
<head>
<title>Bike Sharing providers — Here’s a guide to boost up your business.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">自行车共享提供商——这是一个促进你业务发展的指南。</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/bike-sharing-providers-heres-a-guide-to-boost-up-your-business-3372afc9a37e?source=collection_archive---------6-----------------------#2021-03-22">https://medium.com/analytics-vidhya/bike-sharing-providers-heres-a-guide-to-boost-up-your-business-3372afc9a37e?source=collection_archive---------6-----------------------#2021-03-22</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="1013" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在这篇文章中，我介绍了机器学习算法如何帮助自行车共享提供商提高他们的收入数字。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es jc"><img src="../Images/479fd81d83feaf4d22e3b0550a11ffbf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*Q4c-mOh7NVej_F42kOBLOA.jpeg"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">照片鸣谢——玛利亚·特内娃在Unslpash</figcaption></figure><p id="1dae" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">自行车共享系统在世界范围内越来越受欢迎，因为它们提供了租赁和归还自行车的灵活性。您可以从您方便的位置短期租用自行车共享提供商的自行车，并根据您方便的位置将其归还给该提供商的任何其他站点(也称为码头)。</p><p id="bcc3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这本质上是一种自助服务，在许多地方都有通过移动应用程序访问它的选项。这些服务通常是一次性使用的，但各种自行车共享提供商也提供会员选项。</p><p id="215e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">分析包含基于各种气象调查和人们风格的信息的数据集以及我们如何使用这些信息来产生一些有用的见解是很有趣的。</p><p id="4602" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">因此，我们有一个数据集，其中包含一家美国自行车共享公司的所有上述信息，该公司希望了解:</p><ul class=""><li id="3566" class="jp jq hh ig b ih ii il im ip jr it js ix jt jb ju jv jw jx bi translated">预测共享自行车需求的重要变量。</li><li id="8fa0" class="jp jq hh ig b ih jy il jz ip ka it kb ix kc jb ju jv jw jx bi translated">这些变量在多大程度上描述了自行车需求。</li></ul><p id="b541" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们将建立一个多元线性回归模型来预测对共享自行车的需求。</p><p id="5263" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">让我们开始吧…</p><p id="008d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们从导入必要的库开始。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es kd"><img src="../Images/0bd63916a27f41f0c1e9a40e22cce571.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*Q96YFx6AJhyrRFBahsl9QA.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">我们分析所需的库</figcaption></figure><p id="d2a1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们将数据加载到数据框中，并将其称为“自行车”。从今以后，我们将使用这个数据框架进行分析。</p><p id="0c04" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">对我们的数据框架的基本分析表明，该数据由730行和15列组成。此外，数据是干净的，这意味着没有丢失的值。也没有异常值。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="kf kg di kh bf ki"><div class="er es ke"><img src="../Images/765daeb7c96be5bd794459a5d7b5a093.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qOU6gukKy9fIld-G5O44UA.png"/></div></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">前5行数据框自行车</figcaption></figure><p id="69cc" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">列<strong class="ig hi"> yr </strong>代表两年:0代表2018年，1代表2019年。我们从<strong class="ig hi"> dteday </strong>列中提取日，因为月和年等其他信息已经存在。</p><p id="0ba9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">像<strong class="ig hi"> season </strong>和<strong class="ig hi"> weathersit </strong>(表示天气情况)<strong class="ig hi"> </strong>这样的列具有范围从1到4的值，这些值具有与它们相关联的特定标签。对于季节，标签是(1:春天，2:夏天，3:秋天，4:冬天)。天气预报的标签是(1:晴，2:有雾，3:小雨，4:大雨)。这些标签是通过数据字典获取的。我们把这些名字分配给数字。</p><p id="4172" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">因此，经过这些修改后，我们的数据看起来像这样:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="kf kg di kh bf ki"><div class="er es ke"><img src="../Images/ffa8f31d80ea8441ce074a028a5d0fce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vrVCmXgPCRY31KYKq8SlEA.png"/></div></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">上述修改后的数据</figcaption></figure><h1 id="351a" class="kj kk hh bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated"><strong class="ak">探索性数据分析(EDA) </strong></h1><p id="ab6b" class="pw-post-body-paragraph ie if hh ig b ih lh ij ik il li in io ip lj ir is it lk iv iw ix ll iz ja jb ha bi translated">我们执行自行车数据集的二元和多元分析。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es lm"><img src="../Images/10892873eee6ff2a210ee52843ca3cee.png" data-original-src="https://miro.medium.com/v2/resize:fit:818/format:webp/1*q_UkZjJHPist1WDDjBBEmw.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">atemp与温度的关系</figcaption></figure><p id="7377" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">两个<strong class="ig hi"> atemp </strong>和<strong class="ig hi"> temp </strong>变量代表几乎相似的数据。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es ln"><img src="../Images/8085163f63f6cc4f8cb634fd2805e30c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1116/format:webp/1*-ChD1vH1jGzVfHb022yaeg.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">年度自行车需求分析</figcaption></figure><p id="db7e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">显然，与2018年相比，2019年对自行车的需求更多。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es lo"><img src="../Images/07374e0c7428f9fdc2b4ba2ff18e2412.png" data-original-src="https://miro.medium.com/v2/resize:fit:1032/format:webp/1*VE-E9L9BEaGgAIT2LpWcdw.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">自行车需求旺季</figcaption></figure><p id="726d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">秋季和夏季显示出对自行车的高需求。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es lp"><img src="../Images/0ced4bdb4cea71eb0408c2f31aa231e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1100/format:webp/1*Kgf32MGA5stym5F2NgB17g.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">自行车的月度需求</figcaption></figure><p id="14d4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">从六月到九月，自行车的需求量很大。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es lq"><img src="../Images/7abb409c5a3cddd612418eb2da32e0a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1034/format:webp/1*Bebo356OOnLjqdkldxCCBw.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">根据天气情况对自行车的需求</figcaption></figure><p id="bae9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">天气晴朗时，自行车需求量很大。</p><h1 id="f2b4" class="kj kk hh bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated"><strong class="ak">建立多元线性回归模型</strong></h1><p id="953a" class="pw-post-body-paragraph ie if hh ig b ih lh ij ik il li in io ip lj ir is it lk iv iw ix ll iz ja jb ha bi translated">现在让我们用热图来看看所有的变量是如何相互关联的。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="kf kg di kh bf ki"><div class="er es lr"><img src="../Images/18693e534452f5b7fac04c7638dfe118.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ST5THCD_0SOoF4r8dnOZsw.png"/></div></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">变量关联热图</figcaption></figure><p id="657f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们以<strong class="ig hi"> cnt </strong>变量为目标变量建立多元线性回归模型，并选择那些能更好地解释该目标变量中方差的变量。</p><p id="5c7c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们可以看到<strong class="ig hi"> temp </strong>和<strong class="ig hi"> atemp </strong>有很高的相关性。从双变量分析中，我们看到它们只是代表相似数据的两个变量。另外<strong class="ig hi">注册</strong>和<strong class="ig hi"> cnt </strong>有很高的相关性。<strong class="ig hi"> cnt </strong>列是<strong class="ig hi"> casual </strong>和<strong class="ig hi"> registered </strong>列的总和，是我们的目标变量。因此，我们从数据中删除了<strong class="ig hi">临时</strong>、<strong class="ig hi">临时</strong>和<strong class="ig hi">注册</strong>列，以便进一步分析。</p><p id="6922" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">编码分类变量</strong></p><p id="2cee" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">季节</strong>和<strong class="ig hi">天气</strong>似乎是没有任何内在顺序的名义变量。所以我们用pd.get_dummies对它们进行编码。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es ls"><img src="../Images/9ecfb766d8a45806006aa9788c113dd2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1134/format:webp/1*YBqosg-UogsDs_Yss0VOpw.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">季节和天气变量的一个酒店编码</figcaption></figure><p id="9c9f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> dteday，mnth </strong>和<strong class="ig hi"> weekday </strong>也是分类变量。但是这些列中的级数太高了。所以我们用LabelEncoder来编码它们。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="kf kg di kh bf ki"><div class="er es lt"><img src="../Images/09e588d4f8054d86c89a7fc414a77d63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GnMsId_yvDjWa7x3bta5Xw.png"/></div></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">标签编码</figcaption></figure><p id="1e25" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">分割数据</strong></p><p id="0a50" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在，我们将数据集分为训练集和测试集，如下所示:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="kf kg di kh bf ki"><div class="er es lu"><img src="../Images/55a152d463f65256ffdf9ae2ba059dee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w9OxrhAcYTgZwhbHmcoovA.png"/></div></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">拆分数据</figcaption></figure><p id="9353" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">缩放数据</strong></p><p id="2b75" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为了获得最佳的系数值和良好的模型拟合，我们需要将所有的值放在统一的范围内。这是通过缩放实现的。应用缩放的另一个原因是，我们用来最小化我们的底层成本函数的梯度下降方法，在缩放时比没有缩放时收敛得快得多。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="kf kg di kh bf ki"><div class="er es lv"><img src="../Images/84d6bf818d08467e3671e75d3e1d4d13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qECbYkyer49cBmmF33_7PA.png"/></div></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">列车数据的缩放</figcaption></figure><p id="f12d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">使用statsmodels.api建立多元线性回归模型</strong></p><p id="b334" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在我们的数据已经准备好了，我们将使用statsmodels.api构建模型，因为我们可以获得所有统计参数的详细描述。</p><p id="61b5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们现在将目标变量从训练集中分离出来，称之为<strong class="ig hi"> y. </strong>我们的自变量被命名为<strong class="ig hi"> X. </strong></p><p id="1c2e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们有14个变量，最初我们会考虑所有的变量。每次，我们给<strong class="ig hi"> X </strong>添加一个常数项，因为默认情况下，statsmodels.api会给我们一条穿过原点(0，0)的回归线。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es lw"><img src="../Images/60cf313cd0ca72b6ce7bf9365f9934e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:686/format:webp/1*UI6mO_svh7EtJACmsOJMOw.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">第一个模型的统计</figcaption></figure><p id="1981" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们有了第一个模型，R平方和调整后的R平方值都很好。但是如果我们看到系数，它们中的一些似乎并不重要，因为它们具有高p值。所以我们需要过滤参数。让我们也看看VIF值，以了解变量之间的多重共线性。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es lx"><img src="../Images/201c459885235f9c9e3966ae80675e68.png" data-original-src="https://miro.medium.com/v2/resize:fit:256/format:webp/1*H_686m0obog8eust1eQWKw.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">VIF价值观</figcaption></figure><p id="f4fa" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">根据上述统计数据，我们决定删除<strong class="ig hi"> dteday </strong>变量，因为它具有较高的p值— 0.703，并重新构建模型。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es ly"><img src="../Images/ef60adf8a72ccd1821277f69c6ef8de5.png" data-original-src="https://miro.medium.com/v2/resize:fit:682/format:webp/1*v1mOTY5BbltxfGPHL3hX7g.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">删除日期后的模型</figcaption></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es lx"><img src="../Images/abc99083a6e6f117fd1ca101ce597d19.png" data-original-src="https://miro.medium.com/v2/resize:fit:256/format:webp/1*qT3MM7feRTfYT7mFCBinuw.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">VIF价值观</figcaption></figure><p id="498a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">R平方值和调整后的R平方值接近且较高(分别为0.826和0.822)，F统计值是可接受的。但是某些变量的p值很高。还哼变有高VIF所以我们降哼列。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es lz"><img src="../Images/9f326f95c7afac22d557f98ed90ff96b.png" data-original-src="https://miro.medium.com/v2/resize:fit:674/format:webp/1*pqx1mTtPPjqxfiAVmZRJAw.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">删除hum变量后的模型</figcaption></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es ma"><img src="../Images/6fcc9dc84cacfd88724d41bf6ce222af.png" data-original-src="https://miro.medium.com/v2/resize:fit:260/format:webp/1*esLHj9xivhwn-T-JGHsGxA.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">VIF价值观</figcaption></figure><p id="c45c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">R平方值和调整后的R平方值接近且较高(分别为0.822和0.818)，F统计值是可接受的。但是某些变量的p值很高。同样<strong class="ig hi"> mnth </strong>变量有高VIF。我们丢弃第<strong class="ig hi">个变量。</strong></p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="kf kg di kh bf ki"><div class="er es mb"><img src="../Images/9b838086fd1c8368c33f0907b2984044.png" data-original-src="https://miro.medium.com/v2/resize:fit:784/format:webp/1*T9bHYykJiCT6d0fKqhHkQQ.png"/></div></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">删除mnth变量后的模型</figcaption></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es lx"><img src="../Images/c72ed33017537391b523498fe3dd19bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:256/format:webp/1*e7R0_eM_MEyksM175iGf9w.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">VIF价值观</figcaption></figure><p id="c645" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">R平方值和调整后的R平方值接近且较高(分别为0.822和0.818)，F统计值是可接受的。但是某些变量的p值很高。<strong class="ig hi"> weekday </strong>变量具有高p值(0.125)，因此我们将其删除。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es mc"><img src="../Images/c37c6bd668452a52c4f83aa64b3ae48f.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*9zxWGd9ixfaXbhXBPVt-8w.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">删除工作日变量后的模型</figcaption></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es md"><img src="../Images/81d2447ff08507083304616e0b2b108a.png" data-original-src="https://miro.medium.com/v2/resize:fit:230/format:webp/1*Fo4SITaFJLIPemjIeyeoWA.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">VIF价值观</figcaption></figure><p id="7c19" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">虽然VIF数据在可接受的范围内，但夏季柱的p值较高。所以我们把<strong class="ig hi">夏</strong>列掉。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es me"><img src="../Images/e0f20a585198ea7ee872c30da802a724.png" data-original-src="https://miro.medium.com/v2/resize:fit:662/format:webp/1*yKaizdfbxR60rC_xG9ej_w.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">删除夏季变量后的模型</figcaption></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es mf"><img src="../Images/49e000f52f52556041b0849f760f074c.png" data-original-src="https://miro.medium.com/v2/resize:fit:238/format:webp/1*wFXzYw-5mXh2P9D50reMNQ.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">VIF价值观</figcaption></figure><p id="2fd3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">虽然VIF数据在可接受的范围内，但是<strong class="ig hi">工作日</strong>列具有高p值。所以我们删除<strong class="ig hi">工作日</strong>列。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es me"><img src="../Images/e1d40ee4e9c4872d169a04998f0643f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:662/format:webp/1*ONTgfTvBxSzhTMFpi9FrNg.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">删除工作日列后的模型</figcaption></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es mf"><img src="../Images/46957cc34ca9eb37570972177c8f32ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:238/format:webp/1*3sBqZFLWBHUt3C3PH7sC-Q.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">VIF价值观</figcaption></figure><p id="0cc8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">所有变量的VIF值都在可接受的范围内。同样，所有的变量在统计学上看起来都是显著的。R平方、调整后的R平方值良好且接近(分别为0.818和0.815)。我们的模型差不多准备好了。</p><p id="9701" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">冬季</strong>和<strong class="ig hi">节假日</strong>变量仍有p值0.002。我进一步删除了第一个<strong class="ig hi">冬季</strong>和第二个<strong class="ig hi">假日</strong>变量，使模型更加紧凑，只保留p值为0.000的变量。(注意:在构建模型时，我们一次只删除一个变量。)</p><p id="d58f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">最终型号</strong></p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es mg"><img src="../Images/6d2952dd4a047732427b626ef6f20f50.png" data-original-src="https://miro.medium.com/v2/resize:fit:696/format:webp/1*oM2jvdwHWNzq-h9i9ZLC3w.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">有6个变量的最终模型</figcaption></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es mh"><img src="../Images/953626b24476942fc4600f1dc48e2698.png" data-original-src="https://miro.medium.com/v2/resize:fit:234/format:webp/1*BwUPJbKHvFvw4m6sBYsIeg.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">VIF价值观</figcaption></figure><p id="62b6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">R平方值0.811和调整后的R平方值0.809。F统计量的p值非常低，几乎接近于0。所有变量都具有统计学意义。我们的模型准备好了！！</p><h2 id="ec73" class="mi kk hh bd kl mj mk ml kp mm mn mo kt ip mp mq kx it mr ms lb ix mt mu lf mv bi translated">对测试数据进行预测</h2><p id="0387" class="pw-post-body-paragraph ie if hh ig b ih lh ij ik il li in io ip lj ir is it lk iv iw ix ll iz ja jb ha bi translated">我们准备测试数据，将变量保存在训练数据中，并使用适合训练数据的<strong class="ig hi">定标器</strong>对其进行转换。注意，我们在测试数据上只使用了<strong class="ig hi">转换</strong>方法，而没有使用<strong class="ig hi">拟合。转换</strong>。</p><p id="76f6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">测试数据的预测y值被命名为<strong class="ig hi"> y_test_pred </strong>。让我们相对于实际y值绘制这些值，<strong class="ig hi"> y_test </strong>。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es mw"><img src="../Images/af2f072f397b0167cb1b3f5f48729da2.png" data-original-src="https://miro.medium.com/v2/resize:fit:848/format:webp/1*8eRjA17_xcR8_Sb8AE8VXg.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">y_test_pred与y_test</figcaption></figure><p id="fa8f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们的模型已经很好地预测了y值。</p><p id="268a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">误差项或残差只不过是y的预测值和实际值之间的差异。根据线性回归的假设，这些残差应遵循正态分布。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es mx"><img src="../Images/2deeb226b54516007d7562da93458443.png" data-original-src="https://miro.medium.com/v2/resize:fit:946/format:webp/1*8sTDbLcQD_BT1UtmkqMh1g.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">残差图</figcaption></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es my"><img src="../Images/621a28cf87d202ca26b473694b0c7f70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/1*nOS9p6XibBURU-_pyZ0Efg.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">残差与y_test_pred</figcaption></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es jc"><img src="../Images/7f3c9a9d3d232550d9d2c557a5861128.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*Jc4u2DJPQ9d4B8UN-MB4jQ.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">残差与y检验</figcaption></figure><p id="867b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">推论:</strong> <br/> 1。y_test和y_test_pred散点图表明，我们的模型很好地预测了测试数据的值。<br/> 2。分布图显示测试数据的误差项遵循正态分布。<br/> 3。残差和y_test_pred的散点图显示，在误差方面没有模式。这证实了线性回归的同方差假设。<br/> 4。残差的线图显示它们是独立的，这意味着它们之间没有相关性，并且分布在平均值0附近。</p><h2 id="0346" class="mi kk hh bd kl mj mk ml kp mm mn mo kt ip mp mq kx it mr ms lb ix mt mu lf mv bi translated">计算R平方值</h2><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es mz"><img src="../Images/6e835fdc2aecd355e79afbe44bb751da.png" data-original-src="https://miro.medium.com/v2/resize:fit:684/format:webp/1*GnkauyN-Ij8wbK62FMjs5w.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">测试数据的r平方</figcaption></figure><p id="4833" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们可以看到，训练数据和测试数据的R平方值几乎相似，分别为<strong class="ig hi"> 0.811 </strong>和<strong class="ig hi"> 0.793 </strong>。</p><h2 id="ee74" class="mi kk hh bd kl mj mk ml kp mm mn mo kt ip mp mq kx it mr ms lb ix mt mu lf mv bi translated">模型方程:</h2><h2 id="b590" class="mi kk hh bd kl mj mk ml kp mm mn mo kt ip mp mq kx it mr ms lb ix mt mu lf mv bi translated">CNT = 0.311914+(0.387364 x atemp)+(0.236879 x yr)——(268408 x light _ rain)——(0.153304 x spring)——(0.143759 x wind speed)——(0.075841 x misty)</h2><p id="97c0" class="pw-post-body-paragraph ie if hh ig b ih lh ij ik il li in io ip lj ir is it lk iv iw ix ll iz ja jb ha bi translated">那么我们的模型告诉我们什么呢？</p><ol class=""><li id="0f6a" class="jp jq hh ig b ih ii il im ip jr it js ix jt jb na jv jw jx bi translated">在这种持续的隔离状态结束后，人们对共享自行车的需求将会逐年增加。</li><li id="8e54" class="jp jq hh ig b ih jy il jz ip ka it kb ix kc jb na jv jw jx bi translated">自行车需求量最大的最佳生意时期是夏季和初秋——每年的六月到九月。(这一点在EDA中显而易见，也因为atemp变量是我们模型中最重要的变量)。</li><li id="1758" class="jp jq hh ig b ih jy il jz ip ka it kb ix kc jb na jv jw jx bi translated">在天气晴朗的工作日，自行车需求量会很大。</li><li id="c888" class="jp jq hh ig b ih jy il jz ip ka it kb ix kc jb na jv jw jx bi translated">在春季，自行车需求可能会减少，但随着春末夏初，自行车需求将会增加。</li><li id="abca" class="jp jq hh ig b ih jy il jz ip ka it kb ix kc jb na jv jw jx bi translated">小雨可能会影响对自行车的需求。</li><li id="4ca0" class="jp jq hh ig b ih jy il jz ip ka it kb ix kc jb na jv jw jx bi translated">在风速高的日子里(通常这可能发生在三月和四月)，自行车需求将保持低迷。</li></ol><p id="4df4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这些是我们可以从分析中得出的一些见解。这些对于自行车共享提供商决定他们应该关注哪些因素以获得良好的业务非常有用。</p><p id="091d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这难道不是一个有用的练习吗！我相信你一定喜欢读这篇文章。请在评论中告诉我你对这篇文章的反馈。</p><p id="0174" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> <em class="nb">可以在领英上联系我:</em></strong><a class="ae jo" href="https://www.linkedin.com/in/pathakpuja/" rel="noopener ugc nofollow" target="_blank"><strong class="ig hi"><em class="nb">https://www.linkedin.com/in/pathakpuja/</em></strong></a></p><p id="43c0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> <em class="nb">请访问我的GitHub简介获取python代码:</em></strong><a class="ae jo" href="https://github.com/pujappathak" rel="noopener ugc nofollow" target="_blank"><strong class="ig hi"><em class="nb">https://github.com/pujappathak</em></strong></a></p></div></div>    
</body>
</html>