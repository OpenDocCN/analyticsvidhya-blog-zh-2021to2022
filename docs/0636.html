<html>
<head>
<title>Extract the right Phrase From Sentence</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从句子中提取正确的短语</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/extract-the-right-phrase-from-sentence-29aa5f8b9182?source=collection_archive---------7-----------------------#2021-01-25">https://medium.com/analytics-vidhya/extract-the-right-phrase-from-sentence-29aa5f8b9182?source=collection_archive---------7-----------------------#2021-01-25</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="12aa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用深度学习的自然语言处理项目</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/c4feb2246afbc3df48c22cd742e6a735.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-EtAPDJrBd-P1oK3meROkQ.png"/></div></div></figure><p id="da75" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这对我来说是一个非常独特的项目。因为，在这里我需要从一个句子中提取基于某种情感的短语。以前我在那些项目中工作，在那里我只需要给定一些数据来预测情绪，但在这个项目中，有一个除了整个任务。让我们了解整个项目…</p><h1 id="2cd9" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated"><strong class="ak"> 1。我正在解决的业务问题是什么:</strong></h1><p id="d2f9" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">这是我们首先应该自问的。因为我们可以实现我们的目标。</p><p id="2e58" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由于每一秒钟都有推文流传，很难判断特定推文背后的情绪是否会因为病毒式传播(积极)而影响一家公司或一个人的品牌，或者因为它表现出负面情绪而破坏利润。在这个决策和反应在几秒钟内被创造和更新的时代，用语言捕捉情感是很重要的。但是，哪些词却导致感情描写呢</p><blockquote class="ks"><p id="5864" class="kt ku hi bd kv kw kx ky kz la lb jc dx translated"><strong class="ak">这个案例研究是关于捕捉一条推文背后的情感或意义。</strong></p></blockquote><h2 id="fd78" class="lc jq hi bd jr ld le lf jv lg lh li jz iq lj lk kd iu ll lm kh iy ln lo kl lp bi translated"><strong class="ak"> 1.1:现在我们来谈谈我要解决的机器学习问题:</strong></h2><p id="485d" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">我们需要挑选出反映情绪的那部分推文(单词或短语)。T9】</p><p id="4c45" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">示例:</p><p id="d47e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面是一条推文:“<strong class="ih hj">我老板欺负我</strong> …”</p><p id="3bd6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">推文的情绪是:<strong class="ih hj">“负面”</strong></p><p id="81fe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">定义这是一条负面推文的词语:<strong class="ih hj">“欺负我</strong>”(这是我们想要在这个案例研究中找到的东西)</p><h2 id="fc05" class="lc jq hi bd jr ld lr lf jv lg ls li jz iq lt lk kd iu lu lm kh iy lv lo kl lp bi translated"><strong class="ak"> 1.2:现在的问题是这是哪种ML问题(分类还是回归还是别的)？</strong></h2><p id="ccad" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">目标很清楚/简单:给定一个文本和情感，我们必须预测所选的文本(文本中的一个单词或短语)。</p><p id="9f85" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">回答像是什么样的问题(分类回归)这样的问题？—这有点难以回答，但我会说这是一项分类任务，但方式不同(因为我们必须对文本的短语进行分类)</p><h2 id="0533" class="lc jq hi bd jr ld lr lf jv lg ls li jz iq lt lk kd iu lu lm kh iy lv lo kl lp bi translated"><strong class="ak"> 1.3:我们在哪里可以找到数据:</strong></h2><p id="7bf7" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">我们可以很容易地从kaggle re得到数据的链接:</p><p id="35f0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae lw" href="https://www.kaggle.com/c/tweet-sentiment-extraction" rel="noopener ugc nofollow" target="_blank">https://www.kaggle.com/c/tweet-sentiment-extraction</a></p><h2 id="eac4" class="lc jq hi bd jr ld lr lf jv lg ls li jz iq lt lk kd iu lu lm kh iy lv lo kl lp bi translated"><strong class="ak"> 1.4:在开始之前，最好考虑一下目标和限制:</strong></h2><ul class=""><li id="c45e" class="lx ly hi ih b ii kn im ko iq lz iu ma iy mb jc mc md me mf bi translated">没有低延迟要求(但应该合理)</li><li id="b275" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">可解释性很重要(但这很困难，因为我们将致力于深度学习模型，但我们可以通过对我们的ml模型进行事后分析来做到这一点)</li><li id="ab47" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">它应该尽可能多地从文本中选择正确的短语</li><li id="b8b1" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">另一件事，我们需要看看每分钟有多少句子</li></ul><h2 id="ad9d" class="lc jq hi bd jr ld lr lf jv lg ls li jz iq lt lk kd iu lu lm kh iy lv lo kl lp bi translated"><strong class="ak"> 1.5:对于给定的任务，我的KPI(关键绩效指标)应该是多少:</strong></h2><p id="6dca" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">由于这是kaggle上的一场比赛，他们选择了Jaccard相似性作为他们的KPI，从我的角度来看，这是我们应该关心的正确指标。</p><p id="8a6d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> Jaccard Score </strong>是两个集合相似/不相似程度的度量。分数越高，两个字符串越相似。其思想是找出普通令牌的数量，并将其除以唯一令牌的总数。它用数学术语来表达，</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ml"><img src="../Images/65c5b114fccbc31e9942ffd2acc03710.png" data-original-src="https://miro.medium.com/v2/resize:fit:608/format:webp/1*CQjtpZ2Zm9AfWYEsepmfEw.png"/></div><figcaption class="mm mn et er es mo mp bd b be z dx translated">来源:<a class="ae lw" href="https://www.kaggle.com/parulpandey/eda-and-preprocessing-for-bert" rel="noopener ugc nofollow" target="_blank">https://www . ka ggle . com/parulpandey/EDA-and-pre-conditioning-for-Bert</a></figcaption></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mq"><img src="../Images/bdcccd4164c9a41395c0d0dbeb942e9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*oTv9dTcg8lmuiB7Cf5dkuA.jpeg"/></div><figcaption class="mm mn et er es mo mp bd b be z dx translated">来源:<a class="ae lw" href="https://www.kaggle.com/parulpandey/eda-and-preprocessing-for-bert" rel="noopener ugc nofollow" target="_blank">https://www . ka ggle . com/parulpandey/EDA-and-pre-conditioning-for-Bert</a></figcaption></figure><h2 id="4e72" class="lc jq hi bd jr ld lr lf jv lg ls li jz iq lt lk kd iu lu lm kh iy lv lo kl lp bi translated"><strong class="ak"> 1.6:解决这个问题的现有方法有哪些:</strong></h2><p id="3057" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">人们尝试了各种变压器模型来获得最佳结果，如distillbert、Roberta等</p><h2 id="985d" class="lc jq hi bd jr ld lr lf jv lg ls li jz iq lt lk kd iu lu lm kh iy lv lo kl lp bi translated"><strong class="ak"> 1.7:我对这个问题的处理方式:</strong></h2><p id="17a3" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">我在这个项目中所做的不是直接跳到大型/复杂的模型。</p><p id="5028" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我从最简单的模型到复杂的模型，只是为了了解机器学习/深度学习模型如何表现并给我结果。</p><h1 id="af58" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated"><strong class="ak"> 2。探索性数据分析</strong></h1><p id="ef18" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated"><strong class="ih hj"> EDA不仅仅是绘制不同种类的图形，也不仅仅是为了好看</strong>。它是关于我们能从数据中得到什么东西，或者更准确地说<strong class="ih hj"> <em class="lq">我们能从我们的数据中得到什么信息</em> </strong>(这应该是我们的重点)。</p><p id="e5c7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">导入必要的库:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mr ms l"/></div></figure><h2 id="61a4" class="lc jq hi bd jr ld lr lf jv lg ls li jz iq lt lk kd iu lu lm kh iy lv lo kl lp bi translated">2.1:读取数据和基本统计数据</h2><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mr ms l"/></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mt"><img src="../Images/bb7c27e309f040ce9707882110ee1cbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PROCqVpCnH7vMu_gJeNddA.png"/></div></div></figure><ul class=""><li id="b6d8" class="lx ly hi ih b ii ij im in iq mu iu mv iy mw jc mc md me mf bi translated">在上面，我所做的是-我读取训练和测试数据，然后显示训练数据(4行)</li><li id="7839" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">在训练数据text_ID中有4个字段，实际文本、选定文本、特定文本的情感</li></ul><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mx"><img src="../Images/c3becd798babf8c708c7c408521e3513.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C0i9bUGQ0Pxy-pPlJmfsFQ.png"/></div></div></figure><ul class=""><li id="7e69" class="lx ly hi ih b ii ij im in iq mu iu mv iy mw jc mc md me mf bi translated">例如，测试数据只包含3个字段textID、实际文本、给定文本的情感</li></ul><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mr ms l"/></div></figure><p id="37fb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">输出:</p><pre class="je jf jg jh fd my mz na nb aw nc bi"><span id="7482" class="lc jq hi mz b fi nd ne l nf ng">shape of the training data :  (27481, 4)<br/>Number of data points in the train data :  27481<br/>Number of feature in the train data :  4</span></pre><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mr ms l"/></div></figure><p id="7540" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">输出:</p><pre class="je jf jg jh fd my mz na nb aw nc bi"><span id="6a75" class="lc jq hi mz b fi nd ne l nf ng">shape of the test data :  (3534, 3)<br/>Number of data points in the test data :  3534<br/>Number of feature in the test data :  3</span></pre><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mr ms l"/></div></figure><p id="06cb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">输出:</p><pre class="je jf jg jh fd my mz na nb aw nc bi"><span id="c1f6" class="lc jq hi mz b fi nd ne l nf ng">&lt;class 'pandas.core.frame.DataFrame'&gt;<br/>RangeIndex: 27481 entries, 0 to 27480<br/>Data columns (total 4 columns):<br/>textID           27481 non-null object<br/>text             27480 non-null object<br/>selected_text    27480 non-null object<br/>sentiment        27481 non-null object<br/>dtypes: object(4)<br/>memory usage: 858.9+ KB</span></pre><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mr ms l"/></div></figure><pre class="je jf jg jh fd my mz na nb aw nc bi"><span id="cffd" class="lc jq hi mz b fi nd ne l nf ng">&lt;class 'pandas.core.frame.DataFrame'&gt;<br/>RangeIndex: 3534 entries, 0 to 3533<br/>Data columns (total 3 columns):<br/>textID       3534 non-null object<br/>text         3534 non-null object<br/>sentiment    3534 non-null object<br/>dtypes: object(3)<br/>memory usage: 82.9+ KB</span></pre><h2 id="8c7d" class="lc jq hi bd jr ld lr lf jv lg ls li jz iq lt lk kd iu lu lm kh iy lv lo kl lp bi translated">观察:</h2><ul class=""><li id="81e9" class="lx ly hi ih b ii kn im ko iq lz iu ma iy mb jc mc md me mf bi translated">我们有2种类型数据训练和测试数据，其中存在27481个训练和3534个测试数据点，存在4个训练和3个测试特征。</li><li id="345c" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">在测试数据中，缺少一个特征，即所选文本(文本子集)，因此我们必须预测所选文本。(<strong class="ih hj">选中的文本列是我们的目标列</strong>)</li><li id="66ac" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">训练数据中存在一个缺失值，我们将在清理部分将其删除</li></ul><h2 id="da07" class="lc jq hi bd jr ld lr lf jv lg ls li jz iq lt lk kd iu lu lm kh iy lv lo kl lp bi translated">2.2:基于情感的文本分发</h2><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mr ms l"/></div></figure><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mr ms l"/></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es nh"><img src="../Images/469f9a3952cdd13ac1650c4d543ca494.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ogPnVgJINUEK6M5WG9TIEA.png"/></div></div></figure><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mr ms l"/></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es nh"><img src="../Images/4f2a5c28dfe52294dc0e5c24e70f2968.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*924Y8YuvOAfNqnKJ_66gnQ.png"/></div></div></figure><h2 id="69b2" class="lc jq hi bd jr ld lr lf jv lg ls li jz iq lt lk kd iu lu lm kh iy lv lo kl lp bi translated">观察:</h2><ul class=""><li id="6a1b" class="lx ly hi ih b ii kn im ko iq lz iu ma iy mb jc mc md me mf bi translated">分布不均匀</li><li id="62d8" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">基于情感的文本在训练数据中的分布是:中性的(40.5%)，正面的(28.3%)，负面的(31.2%)</li><li id="9021" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">基于情感的文本在测试数据中的分布有:中性(40.5%)、正面(31.2%)、负面(28.3%)</li><li id="2a18" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">另一件事是训练数据阳性占28.3 %，而测试数据阴性占28.3%，反之亦然。</li></ul><h2 id="d9c5" class="lc jq hi bd jr ld lr lf jv lg ls li jz iq lt lk kd iu lu lm kh iy lv lo kl lp bi translated">2.3:检查重复值和空值</h2><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mr ms l"/></div></figure><pre class="je jf jg jh fd my mz na nb aw nc bi"><span id="d312" class="lc jq hi mz b fi nd ne l nf ng">(27481, 4)<br/>         textID text selected_text sentiment<br/>314  fdb77c3752  NaN           NaN   neutral<br/>Empty DataFrame<br/>Columns: [textID, text, selected_text, sentiment]<br/>Index: []</span></pre><h2 id="3a4e" class="lc jq hi bd jr ld lr lf jv lg ls li jz iq lt lk kd iu lu lm kh iy lv lo kl lp bi translated">观察:</h2><p id="1e67" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">存在一个丢失的值，该值已被删除。</p><h2 id="6485" class="lc jq hi bd jr ld lr lf jv lg ls li jz iq lt lk kd iu lu lm kh iy lv lo kl lp bi translated">3.4数据清理</h2><ul class=""><li id="d70e" class="lx ly hi ih b ii kn im ko iq lz iu ma iy mb jc mc md me mf bi translated">转换为小写</li><li id="e340" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">删除方括号中的文本</li><li id="0a1d" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">删除链接，</li><li id="4f8b" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">删除标点符号</li><li id="b3d2" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">删除包含数字的单词</li></ul><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mr ms l"/></div></figure><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mr ms l"/></div></figure><h2 id="29dd" class="lc jq hi bd jr ld lr lf jv lg ls li jz iq lt lk kd iu lu lm kh iy lv lo kl lp bi translated">2.5:发现新的分析特征</h2><ul class=""><li id="a0c0" class="lx ly hi ih b ii kn im ko iq lz iu ma iy mb jc mc md me mf bi translated">文本和选定数据中的单词长度</li><li id="f890" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">单词长度的差异(文本和所选数据)</li></ul><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mr ms l"/></div></figure><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mr ms l"/></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ni"><img src="../Images/5dd52958673c390d51d46d41f7e7b3a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ku9bLmbFK3MeQzeUgWYOCg.png"/></div></div></figure><h2 id="f384" class="lc jq hi bd jr ld lr lf jv lg ls li jz iq lt lk kd iu lu lm kh iy lv lo kl lp bi translated">2.6:基于单词差异的绘图</h2><p id="d326" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated"><strong class="ih hj"> <em class="lq">文本中的字数分布和选定文本中的字数分布</em> </strong></p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mr ms l"/></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es nj"><img src="../Images/83734c566650406bda0687ce2067510e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rfRx9KbEMKw9t27cj_FLYg.png"/></div></div></figure><h2 id="052d" class="lc jq hi bd jr ld lr lf jv lg ls li jz iq lt lk kd iu lu lm kh iy lv lo kl lp bi translated">观察:</h2><ul class=""><li id="9023" class="lx ly hi ih b ii kn im ko iq lz iu ma iy mb jc mc md me mf bi translated">我们得到了两个右偏的图。</li><li id="2c66" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">正如我们所看到的，文本的长度大于选定的文本，这是显而易见的，因为选定的文本是文本的子集</li><li id="761d" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">类似地，在相当好区域中有一些重叠</li></ul><p id="db4c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"><em class="lq">2.7:+ve和-ve与中性的分布(文字与选定文字的区别)</em> </strong></p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mr ms l"/></div></figure><h2 id="72c5" class="lc jq hi bd jr ld lr lf jv lg ls li jz iq lt lk kd iu lu lm kh iy lv lo kl lp bi translated">观察:</h2><ul class=""><li id="b6d5" class="lx ly hi ih b ii kn im ko iq lz iu ma iy mb jc mc md me mf bi translated">我无法解释阿沃比的情节。</li><li id="bd4c" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">在零处有一个峰值，因为在中性情绪的所有情况下，文本和所选文本的差异几乎为零。</li><li id="db85" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">让我们只画+ve和-ve的单词差</li></ul><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mr ms l"/></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es nj"><img src="../Images/b50376c8a0280697657cab7db7d1ef98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iPWqGwBtSoFMpbwQvWQMUg.png"/></div></div></figure><h2 id="6936" class="lc jq hi bd jr ld lr lf jv lg ls li jz iq lt lk kd iu lu lm kh iy lv lo kl lp bi translated">观察:</h2><ul class=""><li id="792d" class="lx ly hi ih b ii kn im ko iq lz iu ma iy mb jc mc md me mf bi translated">两个图向右倾斜</li><li id="8c0b" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">除了这里和那里有一些小的间隙之外，两幅图几乎相互重叠。</li><li id="8ef9" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">从上面的图中，我看不出+ve和-ve情绪之间有什么不同</li></ul><h2 id="04de" class="lc jq hi bd jr ld lr lf jv lg ls li jz iq lt lk kd iu lu lm kh iy lv lo kl lp bi translated">2.8:小提琴的字差情节</h2><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es nk"><img src="../Images/de9fc13de7bda0fc2ad84a892a94401e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GlC5H6P8waYzxUMdsIKbPA.png"/></div></div></figure><h2 id="095e" class="lc jq hi bd jr ld lr lf jv lg ls li jz iq lt lk kd iu lu lm kh iy lv lo kl lp bi translated">观察:</h2><ul class=""><li id="c4d3" class="lx ly hi ih b ii kn im ko iq lz iu ma iy mb jc mc md me mf bi translated">这里需要分析的信息量也较少</li></ul><h2 id="b288" class="lc jq hi bd jr ld lr lf jv lg ls li jz iq lt lk kd iu lu lm kh iy lv lo kl lp bi translated">2.8字差方框图</h2><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es nk"><img src="../Images/e07e01c19ed7543168d33ebf25812ba8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*boSN5gOIOFh1V3eKPPaPTQ.png"/></div></div></figure><h2 id="0b98" class="lc jq hi bd jr ld lr lf jv lg ls li jz iq lt lk kd iu lu lm kh iy lv lo kl lp bi translated">观察:</h2><ul class=""><li id="e576" class="lx ly hi ih b ii kn im ko iq lz iu ma iy mb jc mc md me mf bi translated">除了中间值之外，正负方框图看起来是一样的</li><li id="14f6" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">从这个图中我们也找不到+ve和-ve点的任何区别</li></ul><h1 id="aecd" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">2.9:词频(让我们建立一个词云) :</h1><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es nl"><img src="../Images/8a24f895973533d7ee01caf73ca643df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1192/format:webp/1*_tECjL1T8UiwhWRFV1akCw.png"/></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es nl"><img src="../Images/8db67e9333d7cf8d08369fef7862f314.png" data-original-src="https://miro.medium.com/v2/resize:fit:1192/format:webp/1*cL_IGTGW_ev0ysqX39Gfyw.png"/></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es nl"><img src="../Images/5b854b45a02d251193fcb605fb13be45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1192/format:webp/1*0T8FAYLgr3mphmHj-1er8A.png"/></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es nl"><img src="../Images/e796d3a85edb125411fb0e52b2c58af9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1192/format:webp/1*zYWYDioOos-VWKnTIQBqdg.png"/></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es nl"><img src="../Images/eadc6bf8b16e3a246726719b5a1fd61a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1192/format:webp/1*GKBFgHVVw0Rhhu_FXf1cgg.png"/></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es nl"><img src="../Images/6e2773428117b773bd408010f814ca8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1192/format:webp/1*pn88UitDW2l50n97JLF3KQ.png"/></div></figure><h2 id="34c0" class="lc jq hi bd jr ld lr lf jv lg ls li jz iq lt lk kd iu lu lm kh iy lv lo kl lp bi translated">观察:</h2><ul class=""><li id="e828" class="lx ly hi ih b ii kn im ko iq lz iu ma iy mb jc mc md me mf bi translated">如果你观察积极的词云，一些词出现得更好，有趣，爱，母亲，伟大，令人惊叹，这些都是积极的推文的迹象</li><li id="aab0" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">在负面的推文中，我们会发现不要，不能，想念，悲伤，生病，糟糕等等</li><li id="6d8c" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">在中性词中有混合的词，有时看起来像否定词，有时像肯定词，但不能只根据词来判断，我们必须看句子。</li><li id="36b9" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">让我们看看这些单词出现了多少次</li></ul><h1 id="8516" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">2.10:最常用词:</h1><pre class="je jf jg jh fd my mz na nb aw nc bi"><span id="0850" class="lc jq hi mz b fi nd ne l nf ng">most frequent word in positive sentiment (text)</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es nm"><img src="../Images/f522716d69ad3a9fdc4ad6d30218760e.png" data-original-src="https://miro.medium.com/v2/resize:fit:320/format:webp/1*fzgIbWdYmFxd8pZbyEjY3g.png"/></div></figure><pre class="je jf jg jh fd my mz na nb aw nc bi"><span id="2761" class="lc jq hi mz b fi nd ne l nf ng">most frequent word in positive sentiment (selected text)</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es nn"><img src="../Images/a0eb5acba3aa4f25bec790e309737c62.png" data-original-src="https://miro.medium.com/v2/resize:fit:368/format:webp/1*KTeq6hC-Y_OYUCaSQ1W4Vw.png"/></div></figure><pre class="je jf jg jh fd my mz na nb aw nc bi"><span id="e60b" class="lc jq hi mz b fi nd ne l nf ng">most frequent word in negative sentiment (text)</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es no"><img src="../Images/9fe7b677512aad1f6586924c7fe08082.png" data-original-src="https://miro.medium.com/v2/resize:fit:356/format:webp/1*2uNX5jSekGl2vX5iXYA2Pg.png"/></div></figure><pre class="je jf jg jh fd my mz na nb aw nc bi"><span id="892c" class="lc jq hi mz b fi nd ne l nf ng">most frequent word in negative sentiment (selected_text)</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es np"><img src="../Images/91a27ecf618d4661c54dd2ea406e49f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:342/format:webp/1*uGqqfUmycwN_S7aTOWWcQg.png"/></div></figure><pre class="je jf jg jh fd my mz na nb aw nc bi"><span id="59f1" class="lc jq hi mz b fi nd ne l nf ng">most frequent word in neutral sentiment (text)</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es nq"><img src="../Images/70e5c4630639c5c85bc9efdbc44e848a.png" data-original-src="https://miro.medium.com/v2/resize:fit:340/format:webp/1*YUDPw-28iWSNh-R69Vym7g.png"/></div></figure><pre class="je jf jg jh fd my mz na nb aw nc bi"><span id="bfcf" class="lc jq hi mz b fi nd ne l nf ng">most frequent word in neutral sentiment (selected_text)</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es nr"><img src="../Images/77c2e1ed7dccad6420969ab67f1a242d.png" data-original-src="https://miro.medium.com/v2/resize:fit:402/format:webp/1*FfcPwaKyp90ZAt2b7bIm8A.png"/></div></figure><h2 id="1470" class="lc jq hi bd jr ld lr lf jv lg ls li jz iq lt lk kd iu lu lm kh iy lv lo kl lp bi translated">观察:</h2><ul class=""><li id="74e8" class="lx ly hi ih b ii kn im ko iq lz iu ma iy mb jc mc md me mf bi translated">像“好，妈妈，快乐，太好了，谢谢”这样的词越来越多地出现在积极的推特上</li><li id="5cf2" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">不，悲伤，难过，生病，憎恨更多地发生在消极情绪上</li></ul><h1 id="31cb" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">2.11:推文中的唯一单词(选定文本)</h1><p id="9db2" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">正面数据:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ns"><img src="../Images/6cb8d5fe97db286112bb9a2ce102c063.png" data-original-src="https://miro.medium.com/v2/resize:fit:346/format:webp/1*7Q_l4NuIFOOPpcJO7t-uqg.png"/></div></figure><p id="d3a3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">负面数据:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es nt"><img src="../Images/b30cbc8d31597b7ddc98f48f294ef38a.png" data-original-src="https://miro.medium.com/v2/resize:fit:350/format:webp/1*5GhNTDdLeH-9dbdOaa4xFA.png"/></div></figure><h2 id="78d3" class="lc jq hi bd jr ld lr lf jv lg ls li jz iq lt lk kd iu lu lm kh iy lv lo kl lp bi translated">观察:</h2><ul class=""><li id="0e8f" class="lx ly hi ih b ii kn im ko iq lz iu ma iy mb jc mc md me mf bi translated">我们在这里表演的是tweets中出现的一些独特的单词</li><li id="b9dd" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">在积极情绪中，祝贺、感谢、爱等词比消极情绪中疼痛、悲伤、憎恨、软弱等词出现得更多。</li></ul><h1 id="ab2a" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">2.12:捕获多个单词:</h1><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es nu"><img src="../Images/003e297735268de0b7b4e90b42153706.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*siY60T0hJ7TBCq86xU0BMw.png"/></div></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es nv"><img src="../Images/e8e019ac35991dfc91eadac3f882d698.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U1ahXOAmcRjOu_j8ecKkRQ.png"/></div></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es nw"><img src="../Images/eb8a8c1a45b80afd612651fb1c2c493b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4Es2JXfXvFvWhi0hksPeYg.png"/></div></div></figure><h2 id="d820" class="lc jq hi bd jr ld lr lf jv lg ls li jz iq lt lk kd iu lu lm kh iy lv lo kl lp bi translated">观察:</h2><ul class=""><li id="5105" class="lx ly hi ih b ii kn im ko iq lz iu ma iy mb jc mc md me mf bi translated">在这里，我画了n_gram图，表示一个以上的单词</li><li id="56e1" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">如果你观察两克和三克，我们会得到一些-ve和+ve tweet的感觉</li><li id="6c89" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">像在肯定句中，像“快乐”、“一天”、“母亲”这样的词出现的频率更高，而在否定句中,“不”、“不”、“憎恨”出现的频率更高。</li></ul><h1 id="a8cd" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">3.机器学习模型/深度学习模型</h1><p id="4519" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">在这一节中，我尝试了不同类型的深度学习模型(为了便于阅读，我不会在这里发布源代码。以下是完整源代码的链接:</p><div class="nx ny ez fb nz oa"><a href="https://github.com/Jitendra-Dash/Extracting-Phrase-From-Sentence" rel="noopener  ugc nofollow" target="_blank"><div class="ob ab dw"><div class="oc ab od cl cj oe"><h2 class="bd hj fi z dy of ea eb og ed ef hh bi translated">jitendra-Dash/从句子中提取短语</h2><div class="oh l"><h3 class="bd b fi z dy of ea eb og ed ef dx translated">它是一个基于NLP GitHub的深度学习项目，是超过5000万开发人员的家园，他们一起工作来托管和…</h3></div><div class="oi l"><p class="bd b fp z dy of ea eb og ed ef dx translated">github.com</p></div></div><div class="oj l"><div class="ok l ol om on oj oo jn oa"/></div></div></a></div><h1 id="469c" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">3.1:基线模型:</h1><blockquote class="ks"><p id="cfba" class="kt ku hi bd kv kw kx ky kz la lb jc dx translated"><em class="op">基线模型应该简单，这样，如果出现任何错误，我们可以很容易地检测到，并且在将来我们可以与其他模型进行比较</em></p></blockquote><p id="a234" class="pw-post-body-paragraph if ig hi ih b ii oq ik il im or io ip iq os is it iu ot iw ix iy ou ja jb jc hb bi translated">基线模型是一个简单的双向LSTM。在进入模型的架构之前，我想讨论一下我们的文本数据的预处理工作:</p><ul class=""><li id="86e5" class="lx ly hi ih b ii ij im in iq mu iu mv iy mw jc mc md me mf bi translated"><em class="lq">记住你如何给模型输入数据将会影响你的模型，在某些情况下，这可能会给你分析模型带来麻烦，特别是在深度学习中</em></li></ul><p id="8bc2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我讨论的所有技术下面，我已经写了代码，请检查我的github repo。</p><h2 id="9595" class="lc jq hi bd jr ld lr lf jv lg ls li jz iq lt lk kd iu lu lm kh iy lv lo kl lp bi translated">文本预处理</h2><ul class=""><li id="4996" class="lx ly hi ih b ii kn im ko iq lz iu ma iy mb jc mc md me mf bi translated">获取数据并将其分成训练、测试和验证数据(这是机器学习中不可忘记的重要一步)</li><li id="e949" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">通过删除@、#、&amp;、转换小写、删除链接、删除null、nan等来清理数据</li><li id="27c5" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">为那些既在文本中又在选定文本中的单词创建<tok>,并将它们作为目标文本。</tok></li></ul><p id="45ce" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">例如:</strong></p><p id="78d2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正文:神作业<strong class="ih hj">压力大</strong>！但是它的结尾…</p><p id="97ee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">选文:<strong class="ih hj">压力大</strong></p><p id="441f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">目标正文:神作业有<strong class="ih hj"> &lt; tok &gt; </strong>！但是已经结束了…</p><h2 id="0d99" class="lc jq hi bd jr ld lr lf jv lg ls li jz iq lt lk kd iu lu lm kh iy lv lo kl lp bi translated">标记化</h2><ol class=""><li id="b264" class="lx ly hi ih b ii kn im ko iq lz iu ma iy mb jc ov md me mf bi translated">从训练数据中提取所有单词。</li><li id="0b9e" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc ov md me mf bi translated">创建一个tensorflow.keras tokenizer的对象(这里我将最大字数设为54k)。现在，将它与我们现有的所有单词相匹配(参考步骤1)。</li><li id="ffbf" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc ov md me mf bi translated">这里我将句子(或向量)的最大长度设为35。</li><li id="4f77" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc ov md me mf bi translated">现在调用tokenizer的对象和一个函数“texts_to_sequences()”，并传递将给出向量的训练数据。</li><li id="2acd" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc ov md me mf bi translated">在vocab(令牌)中，分配给一个数的字。像这样[[(' <tok>'，1)，(' I '，2)，(' to '，3)，(' the '，4)，(' a '，5)，(' my '，6)]的dict格式。我故意给了<tok>1。</tok></tok></li><li id="97ad" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc ov md me mf bi translated">现在填充向量到我们的最大长度(35)。</li><li id="87ee" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc ov md me mf bi translated">对测试数据重复步骤4和5。</li><li id="e6f7" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc ov md me mf bi translated">让我们来看看目标数据，在<tok>出现的地方放1，在任何地方放0。</tok></li></ol><ul class=""><li id="282b" class="lx ly hi ih b ii ij im in iq mu iu mv iy mw jc mc md me mf bi translated">我举个例子:</li></ul><p id="009e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">假设这句话是:<strong class="ih hj">神作业压力大！但是它的结尾……</strong></p><p id="75eb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里的目标词是<strong class="ih hj">“有压力的”</strong></p><p id="93cb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们是这样创建目标的:神分配是<tok>！但是已经结束了…</tok></p><p id="7c9a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我把<tok>放在充满压力的地方</tok></p><p id="ab8b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">向量会是这样的— [0，0，0，1，0，0，0，0，0，0，0，0……0]</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mr ms l"/></div></figure><p id="1159" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">用预定义的手套模型嵌入单词</strong></p><p id="a706" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">单词嵌入的作用是让意思相似的单词有相似的表示。这里我们得到一个给定单词的向量(实值),它可以从预定义的向量空间中得到(我使用了glove vector)。</p><ul class=""><li id="409c" class="lx ly hi ih b ii ij im in iq mu iu mv iy mw jc mc md me mf bi translated">首先从这个网站下载手套矢量:【https://nlp.stanford.edu/projects/glove/ T2】</li><li id="3d81" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">为手套向量创建一个对象</li><li id="07f6" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">使用我们为glove vector创建的对象创建一个字典，我们将在其中存储单词和特定单词的矢量表示。</li><li id="03c3" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">现在堆叠所有的向量，得到平均值和标准偏差，使用大小为(32515，300)的向量创建一个矩阵</li><li id="03aa" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">现在调用字典(我们在第3步中创建的)，获取单词和向量，并将其映射到矩阵(我们在第4步中创建的)</li><li id="292f" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">现在我们有了嵌入的单词和相应的向量</li></ul><p id="1340" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">掩盖损失</strong></p><p id="13b9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为什么我们需要掩盖我们的损失？</p><p id="6eac" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因为我们在填充零(记住我们的最大长度= 35)，在计算损失时，我们必须在预测中删除这些填充的零。</p><ol class=""><li id="e50e" class="lx ly hi ih b ii ij im in iq mu iu mv iy mw jc ov md me mf bi translated">首先创建一个loss对象，这里我创建了BinaryCrossEntropy。将其命名为“<strong class="ih hj"> loss_function </strong></li><li id="d3ce" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc ov md me mf bi translated">现在创建一个函数，我们将在其中传递loss对象。命名为“<strong class="ih hj"> maskedLoss </strong></li><li id="2395" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc ov md me mf bi translated">首先让我们得到一个目标值的二进制表示，就像这样，我们称它为“<strong class="ih hj">掩码</strong></li></ol><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ow"><img src="../Images/6c9ef2bbe41cd758d85b04527c8d4c26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M3pyijr3z134CXYgpgLbOw.png"/></div></div></figure><p id="84ec" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">4.调用我们创建的<strong class="ih hj"> loss_function </strong>(步骤1)并传递y_train和y_pred</p><p id="b2fe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">5.现在我们得到了损失张量，用我们在第三步中用损失张量创建的对象做一个类型转换。命名为“<strong class="ih hj"> mask_type_cast </strong></p><p id="f4a5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">看起来会是这样的— [0。0.0.1… 0.0.0.]</p><p id="73b8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">6.现在乘以损失</p><p id="e341" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">7.现在求所有值的平均值</p><p id="4bd9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">8.归还损失</p><p id="10d0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是代码</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mr ms l"/></div></figure><h2 id="ef0b" class="lc jq hi bd jr ld lr lf jv lg ls li jz iq lt lk kd iu lu lm kh iy lv lo kl lp bi translated">双LSTM建筑</h2><p id="b198" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">这是简单的架构(作为我们的基线模型)</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mr ms l"/></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ox"><img src="../Images/1235b6112d07639222d34d9e79042716.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zzg6Y4vMelsG2Kq6PxNoTQ.png"/></div></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es oy"><img src="../Images/e2b0693eaa32cc0c7e0b93e594ed8d08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1250/format:webp/1*hhGVJaeJBCLLErjqMws8AA.png"/></div></figure><p id="c4c7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在用adam optimizer训练模型。让我们看看准确性和损失，它是如何表现的</p><div class="je jf jg jh fd ab cb"><figure class="oz ji pa pb pc pd pe paragraph-image"><img src="../Images/e93ad33d061fc9f5ea9b8158ff82122d.png" data-original-src="https://miro.medium.com/v2/resize:fit:756/format:webp/1*ZWo3BGkxaDNgT-QOU5atJw.png"/></figure><figure class="oz ji pf pb pc pd pe paragraph-image"><img src="../Images/8c06c46c8b0ecbaa42b16d6c8f842bdd.png" data-original-src="https://miro.medium.com/v2/resize:fit:736/format:webp/1*D9MIkjWCZ47tIyeK4RVqfw.png"/></figure></div><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es pg"><img src="../Images/9da234de3d114745c94c61951ad2003c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9hhqRmj8-kT5xxw__wLAMg.png"/></div></div></figure><p id="60cb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通过查看上面的精度图，可能会有轻微的过度拟合。损失给了我们一个好的形状(随着列车损失的减少，测试损失也在减少)</p><p id="4e4e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们看看我们关心的jaccard分数:</p><p id="dab0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">训练数据的Jaccard得分</strong>:0.5842960053101587<br/><strong class="ih hj">验证数据的Jaccard得分</strong>:0.5536536536</p><p id="ebef" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">好吧！！！看起来不错，但我想知道我们在积极情绪、消极情绪和中性情绪方面的jaccard得分是多少。</p><p id="df1b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">阳性数据点的Jaccard评分:</strong></p><pre class="je jf jg jh fd my mz na nb aw nc bi"><span id="a58f" class="lc jq hi mz b fi nd ne l nf ng">Jac train sccore =  0.3086811397909643<br/>Jac valid sccore =  0.33709575637410566</span></pre><p id="2ee0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> Jaccard分数为负分</strong></p><pre class="je jf jg jh fd my mz na nb aw nc bi"><span id="3230" class="lc jq hi mz b fi nd ne l nf ng">Jac train sccore =  0.3322021538329059<br/>Jac valid sccore =  0.358989438053781</span></pre><p id="1e0c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> Jaccard对中性点的评分:</strong></p><pre class="je jf jg jh fd my mz na nb aw nc bi"><span id="f53f" class="lc jq hi mz b fi nd ne l nf ng">Jac train sccore =  0.8252107927755609<br/>Jac valid sccore =  0.8593473997409419</span></pre><p id="c9d2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">好吧！！！！我们得到了一些不错的jaccard分数，但我们可以提高它。让我们建立另一个模型。</p><h1 id="4913" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">3.2:注意力模型</h1><p id="1ea1" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">为了引起注意，我们还将做记号化，并应用填充。</p><p id="dfb4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在目标值中，我所做的不是给0填充值，而是给</p><p id="4bf1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">-1到填充值</p><p id="857c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">0表示那些不是<tok>的单词</tok></p><p id="5e16" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">1到那些值是<tok/></p><p id="8943" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">像这样[-1，-1，-1，-1，-1，-1，-1，-1，-1，-1，-1，-1，-1，-1，-1，-1，-1，-1，-1，-1，-1，-1，0，0，0，0，0，0，0，0，0，1，1]</p><p id="8833" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们将遵循与基线模型相同的步骤</p><p id="69c2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我刚刚在基线模型上添加了一个关注层，然后添加了一些删除和层标准化，这样我们就不会过度拟合。</p><h2 id="b13d" class="lc jq hi bd jr ld lr lf jv lg ls li jz iq lt lk kd iu lu lm kh iy lv lo kl lp bi translated">注意力模型的架构:</h2><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mr ms l"/></div></figure><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mr ms l"/></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ph"><img src="../Images/4d0fc6cf8b5585427aae05ef5f139645.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wGHakIf_Xtox5CQzo1tP1g.png"/></div></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es pi"><img src="../Images/0dd1e9ee23948023d9d693f3d32e26a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SiHFuhEKZjlgElafxQf9cQ.png"/></div></div></figure><p id="62c0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们看看准确性和损失</p><div class="je jf jg jh fd ab cb"><figure class="oz ji pj pb pc pd pe paragraph-image"><img src="../Images/af56c3f687793ecb0213cfb76c3368e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:756/format:webp/1*V6LpY4kijsh7L9AZOyzb6Q.png"/></figure><figure class="oz ji pk pb pc pd pe paragraph-image"><img src="../Images/030ce060acb9423e4c23abc9843d8b04.png" data-original-src="https://miro.medium.com/v2/resize:fit:736/format:webp/1*lDQaBQYhXuSA49LHud-pDw.png"/></figure></div><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es pl"><img src="../Images/dda0fb0ac0ce657a77b5af6324a3c258.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kLcnXCPIRkJg0kixfit-Eg.png"/></div></div></figure><p id="75b2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它看起来像模型是过度拟合。添加图层归一化和去除后。让我们看看jaccard的分数</p><pre class="je jf jg jh fd my mz na nb aw nc bi"><span id="62de" class="lc jq hi mz b fi nd ne l nf ng">Jaccard score for train data =  0.5895125412375438<br/>Jaccard score for validation data =  0.5827399630028105</span></pre><p id="d51e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意力层jaccard得分与基线模型有点相同</p><p id="13c4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们看看积极、消极和中性数据点jaccard得分:</p><p id="8f6e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> Jacrad正面数据点得分:</strong></p><pre class="je jf jg jh fd my mz na nb aw nc bi"><span id="d730" class="lc jq hi mz b fi nd ne l nf ng">Jac train sccore =  0.2848550415162455<br/>Jac valid sccore =  0.30991278847885434</span></pre><p id="62ce" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> Jacrad负数据点得分:</strong></p><pre class="je jf jg jh fd my mz na nb aw nc bi"><span id="32a4" class="lc jq hi mz b fi nd ne l nf ng">Jac train sccore =  0.3074721686328846<br/>Jac valid sccore =  0.3312753654139326</span></pre><p id="40b5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> Jacrad对中性数据点的评分:</strong></p><pre class="je jf jg jh fd my mz na nb aw nc bi"><span id="09ea" class="lc jq hi mz b fi nd ne l nf ng">Jac train sccore =  0.7168542910565285<br/>Jac valid sccore =  0.7384339042299354</span></pre><h1 id="867d" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">3.3变压器罗伯塔</h1><h2 id="de27" class="lc jq hi bd jr ld lr lf jv lg ls li jz iq lt lk kd iu lu lm kh iy lv lo kl lp bi translated">标记化</h2><p id="249c" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">首先，你需要安装拥抱脸变压器</p><p id="bf89" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="lq">！pip安装变压器</em></p><ul class=""><li id="aa7c" class="lx ly hi ih b ii ij im in iq mu iu mv iy mw jc mc md me mf bi translated">取句子的最大长度为96(我们也可以取128)</li><li id="e88f" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">创建一个字节级记号赋予器，这个记号赋予器有“id，type _ ids，tokens，offsets，attention_mask，special_tokens_mask，overflowing”。</li></ul><p id="f9e7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">字节级BPE记号赋予器做了一些类似子词记号赋予器的事情，它将一个单词分解成两个单词，例如:更快可以更快</p><ul class=""><li id="9ba3" class="lx ly hi ih b ii ij im in iq mu iu mv iy mw jc mc md me mf bi translated">创建一个字典，其中我们将给出一些独特的编码值，以肯定，否定和中立。这将有助于我们在预处理阶段定义开始和标记。</li></ul><p id="0ba8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">情操_id = { '正面':1313，'负面':2430，'中性':7974}</p><ul class=""><li id="0b4a" class="lx ly hi ih b ii ij im in iq mu iu mv iy mw jc mc md me mf bi translated">现在让我们看看我们的记号赋予器是如何工作的</li></ul><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es pm"><img src="../Images/eded2961c2ea32030f0dca7ccb50473e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*koOSRVQ-9Yl1hD0Jqpk8dw.png"/></div></div></figure><p id="af8f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我所做的是将“<strong class="ih hj">这是我的第一个深度学习项目</strong>”这句话编码，并解码以检查它是否有效。</p><h2 id="b7f0" class="lc jq hi bd jr ld lr lf jv lg ls li jz iq lt lk kd iu lu lm kh iy lv lo kl lp bi translated">文本预处理(编码)(训练数据)，注意屏蔽，定义开始和结束标记</h2><p id="53e6" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">这里我用一个例子解释了这种预处理技术</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es pn"><img src="../Images/a8183a78b4677ec6da7b4f62b7ddae25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*saQwYMPj2uAroHLHioO5Iw.png"/></div></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es pn"><img src="../Images/b5bae973ac7afed77fd2bc153fbf7e94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qTRo-bW1P9Ca6x4C5jrLyQ.png"/></div></div></figure><h2 id="0d65" class="lc jq hi bd jr ld lr lf jv lg ls li jz iq lt lk kd iu lu lm kh iy lv lo kl lp bi translated">模型结构</h2><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mr ms l"/></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es po"><img src="../Images/acbd07c5735d8c4e0b43d31a9a79ab0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AL24dWLcBLsN6oxRN0Z2yg.png"/></div></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es pp"><img src="../Images/3a30e3ebe401bed063aed0d322aabefc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tRr9uxo2Vd91qmOdn9OtdA.png"/></div></div></figure><p id="45e4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，当我们拟合/训练我们的模型时，我们必须给出</p><ul class=""><li id="7e04" class="lx ly hi ih b ii ij im in iq mu iu mv iy mw jc mc md me mf bi translated">编码文本</li><li id="cf96" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">注意力屏蔽</li><li id="8264" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">开始令牌</li><li id="b599" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">结束令牌</li><li id="bb1d" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">令牌类型id</li></ul><p id="7191" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在训练模型</p><p id="f1e2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">验证数据的Jaccard得分:</strong> 0.7045</p><p id="122c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是我们得到的最好的Jaccard分数。现在让我们检查一下每个情绪的得分。</p><p id="8b80" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">阳性数据点的Jacrad得分:</strong> 0.5661</p><p id="5e89" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> Jacrad负数据点得分:</strong> 0.572</p><p id="9993" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> Jacrad中性数据点得分:</strong> 0.974</p><p id="795e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">好吧，好吧，我们得到了相当不错的jaccard分数，为每一个情绪。但是我想到了一个问题</p><p id="da35" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="lq">为什么负数据点在每个模型中都得到很高的jaccard评分？？？</em>T3】</strong></p><p id="612b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你仔细观察，训练文本数据 <strong class="ih hj">的<strong class="ih hj">长度等于训练选择文本</strong>的</strong> <strong class="ih hj">长度，那么对比正负数据点来分类中性点</strong>是一件<strong class="ih hj">容易的事情。这就是为什么jaccard的中性点得分在每款车型中都很高</strong></p><h1 id="d8ce" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">所有模型分数</h1><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es pq"><img src="../Images/95bd24a31d592b421017e042055feb6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8WOZPGOYWllswvv8b5jtiQ.png"/></div></div></figure><h1 id="a2bf" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">事后分析</h1><p id="ddc9" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">在这一部分中，我将进行事后分析，我们将查看我们的<strong class="ih hj">模型失败的地方</strong></p><ol class=""><li id="279e" class="lx ly hi ih b ii ij im in iq mu iu mv iy mw jc ov md me mf bi translated">让我们看看<strong class="ih hj">原始选择文本和预测选择文本的分布</strong></li></ol><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es pr"><img src="../Images/a4790128a5ed1605510102bad9f01aba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E6gn0282D-JGyr7zo3OnwA.png"/></div></div></figure><p id="35c1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">观察:——</strong>我们可以看到上面两个分布并不相同，但理想情况下应该是相同的，因为一个是另一个的预测。</p><p id="2dd6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 2。让我们检查原始选定文本中的字数和预测选定文本中的字数</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es pr"><img src="../Images/ca95474bfca4268e19f7a0db980bb41f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Lzt6UVOlWx0rEBXfxqc6AA.png"/></div></div></figure><p id="e68c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">观察</strong></p><ul class=""><li id="359c" class="lx ly hi ih b ii ij im in iq mu iu mv iy mw jc mc md me mf bi translated">有<strong class="ih hj"> 4955行</strong>存在原始选定文本和预测选定文本字长不相同的情况。</li><li id="38fe" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">如果这两列(预测和原始的)的字长不相同，则导致较低的jaccard分数</li><li id="61e1" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">在某些情况下，模型预测与所选文本相同，但(在预测中)存在少量导致jaccard得分较低的额外单词。</li><li id="297a" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">我们可以看到分布图，在大多数情况下，原始选定文本的单词长度比预测的选定文本包含更多的单词。，这导致低jaccard分数</li></ul><p id="7bc3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 3。让我们检查一下原始选定文本中的差异字数和预测选定文本中的字数</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es pr"><img src="../Images/2e4cb2fd0ddb1a8a52d3ef98b02333b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JBxV1UIWUs3z6NMx4lfW7w.png"/></div></div></figure><ul class=""><li id="4ade" class="lx ly hi ih b ii ij im in iq mu iu mv iy mw jc mc md me mf bi translated">我们可以看到原始选择的文本和预测的选择的文本完全重叠(8738个这样的数据点出现在字长不同的地方)</li><li id="c5c6" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">在文本长度没有差异的情况下，jaccard得分也很高。</li></ul><h2 id="a313" class="lc jq hi bd jr ld lr lf jv lg ls li jz iq lt lk kd iu lu lm kh iy lv lo kl lp bi translated"><strong class="ak">未来工作</strong></h2><p id="e3b0" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">在这里，我处理了推特上的数据，人们在谈论不同种类的事情，没有固定的东西。我们未来可以做的是，我们可以选择一个特定的领域，在那里我们可以检索客户的评论，并从中我们可以根据我们试图捕捉的那些情绪给他们情绪，如果人们不喜欢(-ve review)某些东西，那么我们可以找到使用这种方法(我们在这个项目中使用的方法)背后的原因，反之亦然。</p><h1 id="5978" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">我的github和Linkedin个人资料</h1><div class="nx ny ez fb nz oa"><a href="https://github.com/Jitendra-Dash/Extracting-Phrase-From-Sentence" rel="noopener  ugc nofollow" target="_blank"><div class="ob ab dw"><div class="oc ab od cl cj oe"><h2 class="bd hj fi z dy of ea eb og ed ef hh bi translated">jitendra-Dash/从句子中提取短语</h2><div class="oh l"><h3 class="bd b fi z dy of ea eb og ed ef dx translated">这是一个基于自然语言处理的深度学习项目。通过…为Jitendra-Dash/从句子中提取短语开发做出贡献</h3></div><div class="oi l"><p class="bd b fp z dy of ea eb og ed ef dx translated">github.com</p></div></div><div class="oj l"><div class="ps l ol om on oj oo jn oa"/></div></div></a></div><div class="nx ny ez fb nz oa"><a href="https://www.linkedin.com/in/jitendra-dash-0738a616b/" rel="noopener  ugc nofollow" target="_blank"><div class="ob ab dw"><div class="oc ab od cl cj oe"><h2 class="bd hj fi z dy of ea eb og ed ef hh bi translated">Jitendra Dash -博客作者-分析Vidhya | LinkedIn</h2><div class="oh l"><h3 class="bd b fi z dy of ea eb og ed ef dx translated">查看Jitendra Dash在全球最大的职业社区LinkedIn上的个人资料。Jitendra有2个工作列在…</h3></div><div class="oi l"><p class="bd b fp z dy of ea eb og ed ef dx translated">www.linkedin.com</p></div></div><div class="oj l"><div class="pt l ol om on oj oo jn oa"/></div></div></a></div><h2 id="571e" class="lc jq hi bd jr ld lr lf jv lg ls li jz iq lt lk kd iu lu lm kh iy lv lo kl lp bi translated"><strong class="ak">参考文献:</strong></h2><ul class=""><li id="6dc2" class="lx ly hi ih b ii kn im ko iq lz iu ma iy mb jc mc md me mf bi translated"><a class="ae lw" href="https://www.kaggle.com/tanulsingh077/twitter-sentiment-extaction-analysis-eda-and-model" rel="noopener ugc nofollow" target="_blank">https://www . ka ggle . com/tanulsingh 077/Twitter-opinion-extaction-analysis-EDA-and-model</a></li><li id="9dab" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated"><a class="ae lw" href="https://www.kaggle.com/tanulsingh077/twitter-sentiment-extaction-analysis-eda-and-model" rel="noopener ugc nofollow" target="_blank">https://www . ka ggle . com/tanulsingh 077/Twitter-情操-提取-分析-EDA-and-模型</a></li><li id="2a58" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">【https://www.kaggle.com/raenish/tweet-sentiment-insight-eda T4】</li><li id="5c92" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated"><a class="ae lw" href="https://www.kaggle.com/parulpandey/eda-and-preprocessing-for-bert#4.-Text-Data-Preprocessing" rel="noopener ugc nofollow" target="_blank">https://www . ka ggle . com/parulpandey/EDA-and-预处理-for-bert#4。-文本数据预处理</a></li><li id="79d0" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated"><a class="ae lw" href="https://www.kaggle.com/cdeotte/tensorflow-roberta-0-705" rel="noopener ugc nofollow" target="_blank">https://www.kaggle.com/cdeotte/tensorflow-roberta-0-705</a></li><li id="0c54" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated"><a class="ae lw" href="https://www.kaggle.com/al0kharba/tensorflow-roberta-0-712" rel="noopener ugc nofollow" target="_blank">https://www.kaggle.com/al0kharba/tensorflow-roberta-0-712</a></li><li id="b671" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">AAIC</li></ul><p id="08b3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">谢谢你</p></div></div>    
</body>
</html>