<html>
<head>
<title>Hive — How to install in 5 Steps in Windows 10</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">hive——如何在Windows 10中通过5个步骤进行安装</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/hive-how-to-install-in-5-steps-in-windows-10-cf56579bfb69?source=collection_archive---------0-----------------------#2021-04-17">https://medium.com/analytics-vidhya/hive-how-to-install-in-5-steps-in-windows-10-cf56579bfb69?source=collection_archive---------0-----------------------#2021-04-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="7c77" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在Windows 10中安装Hive的简单指南。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/582fad49df47b6656545811eda1f4dbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*dnfoQ197YLEklfbO.jpg"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图片取自谷歌图片</figcaption></figure><h1 id="40bc" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">1.先决条件</h1><ol class=""><li id="3954" class="kr ks hi ih b ii kt im ku iq kv iu kw iy kx jc ky kz la lb bi translated">硬件要求<br/> * RAM —最小值。8GB，如果您的系统中有SSD，那么4GB RAM也可以。<br/> * CPU —最小值。四核，至少1.80GHz</li><li id="841a" class="kr ks hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated"><a class="ae lh" href="https://www.java.com/en/download/windows_offline.jsp" rel="noopener ugc nofollow" target="_blank">JRE 1.8</a>—JRE的离线安装程序</li><li id="6c0b" class="kr ks hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated"><a class="ae lh" href="https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html#license-lightbox" rel="noopener ugc nofollow" target="_blank"> Java开发套件— 1.8 </a></li><li id="8251" class="kr ks hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">我将使用64位windows操作系统，请检查并下载您的系统x86或x64支持的所有软件版本。</li><li id="0d1d" class="kr ks hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated"><a class="ae lh" href="https://archive.apache.org/dist/hadoop/core/hadoop-2.9.2/" rel="noopener ugc nofollow" target="_blank"> Hadoop </a> <br/> *我使用的是Hadoop-2.9.2，你也可以使用任何其他稳定版本的Hadoop。<br/> *如果没有Hadoop，可以参考<a class="ae lh" rel="noopener" href="/analytics-vidhya/hadoop-how-to-install-in-5-steps-in-windows-10-61b0e67342f8"> Hadoop:如何在Windows 10中5步安装</a>安装。</li><li id="e06f" class="kr ks hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated"><a class="ae lh" href="https://dev.mysql.com/downloads/mysql/" rel="noopener ugc nofollow" target="_blank"> MySQL查询浏览器</a></li><li id="b24b" class="kr ks hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated"><a class="ae lh" href="https://downloads.apache.org/hive/hive-3.1.2/" rel="noopener ugc nofollow" target="_blank">下载Hive zip </a> <br/> *我用的是Hive-3.1.2，你也可以用Hive的任何其他稳定版本。</li></ol><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es li"><img src="../Images/57565284bee382b09aa5fca7f364c34c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AuOHw3ABB4pFSYSf5f0lww.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图1:-下载配置单元-3.1.2</figcaption></figure></div><div class="ab cl lj lk gp ll" role="separator"><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo"/></div><div class="hb hc hd he hf"><h1 id="9d53" class="jt ju hi bd jv jw lq jy jz ka lr kc kd ke ls kg kh ki lt kk kl km lu ko kp kq bi translated">2.解压缩并安装配置单元</h1><p id="24da" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq lv is it iu lw iw ix iy lx ja jb jc hb bi translated">下载完配置单元后，我们需要解压缩apache-hive-3.1.2-bin.tar.gz文件。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ly"><img src="../Images/3ae69df2aca47392636aa55d5e8bf21f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JsGxUvVSSzdcgxXhNLX9Bg.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图2:-提取配置单元步骤-1</figcaption></figure><p id="e7fb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一旦提取，我们会得到一个新的文件apache-hive-3.1.2-bin.tar<br/>现在，我们再次需要提取这个焦油文件。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lz"><img src="../Images/855858601ddfd7163002fbf10af12b6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RlQL-MaUpSnqGmyyg2lavw.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图3:-提取配置单元步骤-2</figcaption></figure><ul class=""><li id="40dd" class="kr ks hi ih b ii ij im in iq ma iu mb iy mc jc md kz la lb bi translated">现在，我们可以组织我们的配置单元安装，我们可以创建一个文件夹，并在其中移动最终提取的文件。比如说</li></ul><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es me"><img src="../Images/646b981f707e041dea4f3f43653e2b95.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Fyf_bi9kOfBG0GwxZEYDCA.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图4:-配置单元目录</figcaption></figure><ul class=""><li id="89b9" class="kr ks hi ih b ii ij im in iq ma iu mb iy mc jc md kz la lb bi translated">请注意，创建文件夹时，不要在文件夹名称之间添加空格。(这可能会导致以后出现问题)</li><li id="cb13" class="kr ks hi ih b ii lc im ld iq le iu lf iy lg jc md kz la lb bi translated">我已经把我的蜂箱放在D:驱动器中，你也可以使用C:或任何其他驱动器。</li></ul></div><div class="ab cl lj lk gp ll" role="separator"><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo"/></div><div class="hb hc hd he hf"><h1 id="3ecc" class="jt ju hi bd jv jw lq jy jz ka lr kc kd ke ls kg kh ki lt kk kl km lu ko kp kq bi translated">3.设置环境变量</h1><p id="40ea" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq lv is it iu lw iw ix iy lx ja jb jc hb bi translated">设置工作环境的另一个重要步骤是设置系统环境变量。</p><p id="9ad2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要编辑环境变量，进入控制面板&gt;系统&gt;点击“高级系统设置”链接<br/>或者，我们可以右键单击该电脑图标，点击属性，然后点击“高级系统设置”链接<br/>或者，最简单的方法是在搜索栏中搜索环境变量，这样就可以了…😉</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mf"><img src="../Images/2bf0fa68a1f2b8dab4229ead2c45196e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*6NVUL7CmBnOGFrQ3.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图5:-环境变量的路径</figcaption></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mg"><img src="../Images/1e5547714b3618deadce3d9ecfba6308.png" data-original-src="https://miro.medium.com/v2/resize:fit:1218/format:webp/0*zwZaVnbchEfJrxL9.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图6:-高级系统设置屏幕</figcaption></figure><p id="9f0e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 3.1设置HIVE_HOME </strong></p><ul class=""><li id="d7d1" class="kr ks hi ih b ii ij im in iq ma iu mb iy mc jc md kz la lb bi translated">打开环境变量，点击“用户变量”中的“新建”</li></ul><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mh"><img src="../Images/5e67586ab75e5db74a2e8223bee071ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*GnwDgXEkn31b9BMj.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图7:-添加环境变量</figcaption></figure><ul class=""><li id="b4d8" class="kr ks hi ih b ii ij im in iq ma iu mb iy mc jc md kz la lb bi translated">点击“新建”,我们进入下面的屏幕。</li></ul><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mi"><img src="../Images/f617d86b4848be2f533110629e049080.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Mi9gDeeua5L1dXqj-hHVTA.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图8:-添加HIVE_HOME</figcaption></figure><ul class=""><li id="f8e8" class="kr ks hi ih b ii ij im in iq ma iu mb iy mc jc md kz la lb bi translated">现在如图所示，在变量名中添加HIVE_HOME，在变量值中添加HIVE的路径。</li><li id="96b8" class="kr ks hi ih b ii lc im ld iq le iu lf iy lg jc md kz la lb bi translated">单击OK，我们就完成了HIVE_HOME设置的一半。</li></ul><p id="aa28" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 3.2设置路径变量</strong></p><ul class=""><li id="7b5c" class="kr ks hi ih b ii ij im in iq ma iu mb iy mc jc md kz la lb bi translated">设置环境变量的最后一步是在系统变量中设置路径。</li></ul><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mj"><img src="../Images/8828082bf9918645962932ad5b220f32.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/format:webp/0*j66epc46ABaX6QA4.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图9:-设置路径变量</figcaption></figure><ul class=""><li id="3946" class="kr ks hi ih b ii ij im in iq ma iu mb iy mc jc md kz la lb bi translated">在系统变量中选择路径变量并点击“编辑”。</li></ul><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mk"><img src="../Images/2b059881886157a970dbe1d4a874a3b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*aFgEj5zoPfrez57iX_za5Q.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图10:-添加路径</figcaption></figure><ul class=""><li id="761f" class="kr ks hi ih b ii ij im in iq ma iu mb iy mc jc md kz la lb bi translated">现在我们需要将这些路径添加到路径变量:- <br/> * %HIVE_HOME%\bin</li><li id="8c8a" class="kr ks hi ih b ii lc im ld iq le iu lf iy lg jc md kz la lb bi translated">单击确定和确定。&amp;我们已经完成了环境变量的设置。</li></ul><p id="7a2e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 3.4验证路径</strong></p><ul class=""><li id="46dd" class="kr ks hi ih b ii ij im in iq ma iu mb iy mc jc md kz la lb bi translated">现在我们需要验证我们所做的是正确的和反映的。</li><li id="9f64" class="kr ks hi ih b ii lc im ld iq le iu lf iy lg jc md kz la lb bi translated">打开一个<strong class="ih hj">新的</strong>命令窗口</li><li id="db5f" class="kr ks hi ih b ii lc im ld iq le iu lf iy lg jc md kz la lb bi translated">运行以下命令</li></ul><pre class="je jf jg jh fd ml mm mn mo aw mp bi"><span id="1002" class="mq ju hi mm b fi mr ms l mt mu">echo %HIVE_HOME%</span></pre></div><div class="ab cl lj lk gp ll" role="separator"><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo"/></div><div class="hb hc hd he hf"><h1 id="be05" class="jt ju hi bd jv jw lq jy jz ka lr kc kd ke ls kg kh ki lt kk kl km lu ko kp kq bi translated">4.编辑配置单元</h1><p id="dc70" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq lv is it iu lw iw ix iy lx ja jb jc hb bi translated">一旦我们配置了环境变量，下一步就是配置配置单元。它有7个部分</p><p id="3cef" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 4.1更换箱子</strong></p><p id="7386" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">配置配置单元的第一步是<a class="ae lh" href="https://github.com/HadiFadl/Hive-cmd" rel="noopener ugc nofollow" target="_blank">下载</a>并替换bin文件夹。<br/> *到这个<a class="ae lh" href="https://github.com/HadiFadl/Hive-cmd" rel="noopener ugc nofollow" target="_blank"> GitHub Repo </a>下载bin文件夹作为zip。<br/> *解压zip并将bin文件夹下的所有文件替换到%HIVE_HOME%\bin</p><blockquote class="mv mw mx"><p id="3890" class="if ig my ih b ii ij ik il im in io ip mz ir is it na iv iw ix nb iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi">注意:-如果你正在使用不同版本的HIVE，那么请搜索其各自的bin文件夹并下载。</em> </strong></p></blockquote><p id="70a2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 4.2创建文件Hive-site.xml </strong></p><p id="5430" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们需要在Hive中创建Hive-site.xml文件来配置它:- <br/>(我们可以在Hive-&gt;conf-&gt;Hive-default . XML . template中找到这些文件)</p><p id="8fb6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们需要复制hive-default.xml.template文件，将其粘贴到相同的位置，并将其重命名为hive-site.xml。这将作为我们的hive主配置文件。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es nc"><img src="../Images/f14326075418413daee75f379dc9fd1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KJifcuGJ_jLzIPq4DXnNHw.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图11:-创建Hive-site.xml</figcaption></figure><p id="db7f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 4.3编辑配置文件</strong></p><p id="3b77" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 4.3.1编辑属性</strong></p><p id="db4a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在打开新创建的Hive-site.xml，我们需要编辑以下属性</p><pre class="je jf jg jh fd ml mm mn mo aw mp bi"><span id="2a6c" class="mq ju hi mm b fi mr ms l mt mu">&lt;property&gt;<br/>    &lt;name&gt;hive.metastore.uris&lt;/name&gt;<br/>    &lt;value&gt;thrift://&lt;Your IP Address&gt;:9083&lt;/value&gt;<br/> <br/> &lt;property&gt;<br/>    &lt;name&gt;hive.downloaded.resources.dir&lt;/name&gt;<br/>    &lt;value&gt;&lt;Your drive Folder&gt;/${hive.session.id}_resources&lt;/value&gt;<br/> <br/>&lt;property&gt;<br/>    &lt;name&gt;hive.exec.scratchdir&lt;/name&gt;<br/>    &lt;value&gt;/tmp/mydir&lt;/value&gt;</span></pre><p id="dc8d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">用系统的IP地址替换<code class="du nd ne nf mm b">&lt;Your IP Address&gt;</code>的值，用Hive文件夹路径替换<code class="du nd ne nf mm b">&lt;Your drive Folder&gt;</code>。</p><p id="e722" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 4.3.2删除特殊字符</strong></p><p id="7254" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是一个简短的步骤，我们需要删除hive-site.xml文件中所有的<code class="du nd ne nf mm b">&amp;#8</code>字符。</p><p id="c1ae" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 4.3.3添加更多属性</strong></p><p id="6190" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们需要在hive-site.xml文件中添加以下属性。</p><pre class="je jf jg jh fd ml mm mn mo aw mp bi"><span id="2ad8" class="mq ju hi mm b fi mr ms l mt mu">&lt;property&gt;<br/>    &lt;name&gt;hive.querylog.location&lt;/name&gt;<br/>    &lt;value&gt;$HIVE_HOME/iotmp&lt;/value&gt;<br/>    &lt;description&gt;Location of Hive run time structured log   file&lt;/description&gt;<br/> &lt;/property&gt;</span><span id="a822" class="mq ju hi mm b fi ng ms l mt mu">&lt;property&gt;<br/>    &lt;name&gt;hive.exec.local.scratchdir&lt;/name&gt;<br/>    &lt;value&gt;$HIVE_HOME/iotmp&lt;/value&gt;<br/>    &lt;description&gt;Local scratch space for Hive jobs&lt;/description&gt;<br/>&lt;/property&gt;</span><span id="c0cc" class="mq ju hi mm b fi ng ms l mt mu">&lt;property&gt;<br/>    &lt;name&gt;hive.downloaded.resources.dir&lt;/name&gt;<br/>    &lt;value&gt;$HIVE_HOME/iotmp&lt;/value&gt;<br/>    &lt;description&gt;Temporary local directory for added resources in the remote file system.&lt;/description&gt;<br/>  &lt;/property&gt;</span></pre><p id="6c84" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">伟大的..！！！我们几乎完成了Hive部分，要将MySQL数据库配置为Hive的Metastore，我们需要遵循以下步骤:-</p><p id="ca11" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 4.4在MySQL中创建Hive用户</strong></p><p id="cada" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">配置Hive的下一个重要步骤是为MySQL创建用户。<br/>这些用户用于将Hive连接到MySQL数据库，以便从中读取和写入数据。</p><blockquote class="mv mw mx"><p id="0095" class="if ig my ih b ii ij ik il im in io ip mz ir is it na iv iw ix nb iz ja jb jc hb bi translated">注意:-如果在安装SQOOP时已经创建了配置单元用户，则可以跳过此步骤。</p></blockquote><ul class=""><li id="a76c" class="kr ks hi ih b ii ij im in iq ma iu mb iy mc jc md kz la lb bi translated">首先，我们需要打开MySQL工作台并打开工作区(默认或任何特定的，如果你想)。我们现在将只使用默认的工作空间。</li></ul><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es nh"><img src="../Images/a8b8eecec280ba80dea1cd9bba9d8a3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*aQAQ7i0rqJ5NkZgi.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图12:-打开MySQL工作台</figcaption></figure><ul class=""><li id="1e5a" class="kr ks hi ih b ii ij im in iq ma iu mb iy mc jc md kz la lb bi translated">现在打开工作区的<code class="du nd ne nf mm b">Administration</code>选项，选择<code class="du nd ne nf mm b">Management.</code>下的<code class="du nd ne nf mm b">Users and privileges</code>选项</li></ul><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ni"><img src="../Images/a75e0e69e6a6687c9c032a96022000a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:586/format:webp/0*W5gOZ5RStDzzPuB4.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图13:-打开用户和权限</figcaption></figure><ul class=""><li id="8aca" class="kr ks hi ih b ii ij im in iq ma iu mb iy mc jc md kz la lb bi translated">现在选择<code class="du nd ne nf mm b">Add Account</code>选项，创建一个新用户，用<code class="du nd ne nf mm b">Login Name</code>作为<code class="du nd ne nf mm b">hive</code>，用<code class="du nd ne nf mm b">Limit to Host Mapping</code>作为你选择的<code class="du nd ne nf mm b">localhost</code>和<code class="du nd ne nf mm b">Password</code>。</li></ul><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es nj"><img src="../Images/2ae1bccc15edc775690a751c6a12046a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QyE-O1NWz6j55NG5Zlh_KA.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图14:-创建配置单元用户</figcaption></figure><ul class=""><li id="2ebe" class="kr ks hi ih b ii ij im in iq ma iu mb iy mc jc md kz la lb bi translated">现在我们必须在<code class="du nd ne nf mm b">Administrative Roles</code>下为该用户定义角色，并选择<code class="du nd ne nf mm b">DBManager</code>、<code class="du nd ne nf mm b">DBDesigner</code>和<code class="du nd ne nf mm b">BackupAdmin</code>角色</li></ul><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es nk"><img src="../Images/8fd3d545f1b836e0bf51e409a9bcce3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*boyRyiv6bLsQq-9BjCJ23Q.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图15:-分配角色</figcaption></figure><ul class=""><li id="0806" class="kr ks hi ih b ii ij im in iq ma iu mb iy mc jc md kz la lb bi translated">现在我们需要通过使用<code class="du nd ne nf mm b">Add Entry</code>选项并选择我们需要访问的<code class="du nd ne nf mm b">schemas</code>来授予用户<code class="du nd ne nf mm b">schema privileges</code>。</li></ul><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es nl"><img src="../Images/49c05d06f06294c87cd94681a71a312e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iSK2vhhWUjqPk37pqhqzwg.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图16:-模式特权</figcaption></figure><blockquote class="mv mw mx"><p id="f987" class="if ig my ih b ii ij ik il im in io ip mz ir is it na iv iw ix nb iz ja jb jc hb bi translated"><em class="hi">我使用</em> <code class="du nd ne nf mm b"><em class="hi">schema matching pattern</em></code> <em class="hi">作为我所有bigdata相关模式的</em> <code class="du nd ne nf mm b"><em class="hi">%_bigdata%</em></code> <em class="hi">。您也可以使用其他两个选项。</em></p></blockquote><ul class=""><li id="ba5f" class="kr ks hi ih b ii ij im in iq ma iu mb iy mc jc md kz la lb bi translated">点击<code class="du nd ne nf mm b">OK</code>后，我们需要选择该模式的所有权限。</li></ul><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es nm"><img src="../Images/be96dae66b99eeebd093439cea3f11bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lzB8OUS_ZKHX2YSmIhcqjA.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图17:-选择模式中的所有特权</figcaption></figure><ul class=""><li id="e426" class="kr ks hi ih b ii ij im in iq ma iu mb iy mc jc md kz la lb bi translated">单击Apply，我们就完成了创建配置单元用户的工作。</li></ul><p id="5c14" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 4.5授予用户权限</strong></p><p id="ac6e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一旦我们创建了用户<code class="du nd ne nf mm b">hive</code>,下一步就是将先前选择的模式中所有表的所有特权授予这个用户。</p><ul class=""><li id="08ca" class="kr ks hi ih b ii ij im in iq ma iu mb iy mc jc md kz la lb bi translated">打开MySQL cmd窗口。我们可以使用窗口的搜索栏打开它。</li></ul><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es nn"><img src="../Images/a1c289f1aac7893750ae9f18ae91bb73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*v3sq7tvGtRsDK-Dj.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图18:- MySQL cmd</figcaption></figure><ul class=""><li id="5775" class="kr ks hi ih b ii ij im in iq ma iu mb iy mc jc md kz la lb bi translated">打开后，它会询问您的<code class="du nd ne nf mm b">root</code>用户密码(在设置MySQL时创建)。</li><li id="2c24" class="kr ks hi ih b ii lc im ld iq le iu lf iy lg jc md kz la lb bi translated">现在我们需要在cmd窗口中运行下面的命令。</li></ul><pre class="je jf jg jh fd ml mm mn mo aw mp bi"><span id="a1c4" class="mq ju hi mm b fi mr ms l mt mu">grant all privileges on test_bigdata.* to 'hive'@'localhost';</span></pre><p id="1f13" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">其中,<code class="du nd ne nf mm b">test_bigdata</code>是您的模式名,<code class="du nd ne nf mm b">hive@localhost</code>是用户名@主机名。</p><p id="6f37" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 4.6创建Metastore </strong></p><p id="e7a3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们需要在MySQL中为Hive创建自己的metastore..</p><p id="7bd7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，我们需要在MySQL中为metastore创建一个数据库，或者我们可以使用上一步<code class="du nd ne nf mm b">test_bigdata</code>中使用的数据库。</p><p id="a4e8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在导航到下面的路径</p><p id="2d8a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du nd ne nf mm b">hive -&gt; scripts -&gt; metastore -&gt; upgrade -&gt; mysql</code>并在你的数据库中执行MySQL中的文件<code class="du nd ne nf mm b">hive-schema-3.1.0.mysql</code>。</p><blockquote class="mv mw mx"><p id="cd47" class="if ig my ih b ii ij ik il im in io ip mz ir is it na iv iw ix nb iz ja jb jc hb bi translated">注意:-如果使用不同的数据库，在<code class="du nd ne nf mm b">upgrade</code>文件夹中选择相同的文件夹并执行<code class="du nd ne nf mm b">hive-schema</code>文件。</p></blockquote><p id="ecee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 4.7添加更多属性(Metastore相关属性)</strong></p><p id="c055" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，我们需要再次打开我们的<code class="du nd ne nf mm b">hive-site.xml</code>文件，并对其进行一些更改，这些与Hive metastore相关，这就是为什么没有在开始时添加它们，以便区分不同的属性集。</p><pre class="je jf jg jh fd ml mm mn mo aw mp bi"><span id="193c" class="mq ju hi mm b fi mr ms l mt mu">&lt;property&gt;<br/>    &lt;name&gt;javax.jdo.option.ConnectionUserName&lt;/name&gt;<br/>    &lt;value&gt;hive&lt;/value&gt;<br/>    &lt;description&gt;Username to use against metastore database&lt;/description&gt;<br/>  &lt;/property&gt;<br/>  <br/>&lt;property&gt;<br/>    &lt;name&gt;javax.jdo.option.ConnectionURL&lt;/name&gt;<br/>    &lt;value&gt;jdbc:mysql://localhost:3306/&lt;Your Database&gt;?createDatabaseIfNotExist=true&lt;/value&gt;<br/>    &lt;description&gt;<br/>      JDBC connect string for a JDBC metastore.<br/>      To use SSL to encrypt/authenticate the connection, provide database-specific SSL flag in the connection URL.<br/>      For example, jdbc:postgresql://myhost/db?ssl=true for postgres database.<br/>    &lt;/description&gt;<br/>  &lt;/property&gt;<br/>  <br/>  &lt;property&gt;<br/>    &lt;name&gt;hive.metastore.warehouse.dir&lt;/name&gt;<br/>    &lt;value&gt;hdfs://localhost:9000/user/hive/warehouse&lt;/value&gt;<br/>    &lt;description&gt;location of default database for the warehouse&lt;/description&gt;<br/>  &lt;/property&gt;<br/>  <br/>  &lt;property&gt;<br/>    &lt;name&gt;javax.jdo.option.ConnectionPassword&lt;/name&gt;<br/>    &lt;value&gt;&lt;Hive Password&gt;&lt;/value&gt;<br/>    &lt;description&gt;password to use against metastore database&lt;/description&gt;<br/>  &lt;/property&gt;<br/>  <br/>  &lt;property&gt;<br/> &lt;name&gt;datanucleus.schema.autoCreateSchema&lt;/name&gt;<br/> &lt;value&gt;true&lt;/value&gt;<br/>&lt;/property&gt;<br/>&lt;property&gt;<br/> &lt;name&gt;datanucleus.schema.autoCreateTables&lt;/name&gt;<br/> &lt;value&gt;True&lt;/value&gt;<br/> &lt;/property&gt;<br/> <br/> &lt;property&gt;<br/>    &lt;name&gt;datanucleus.schema.validateTables&lt;/name&gt;<br/>    &lt;value&gt;true&lt;/value&gt;<br/>    &lt;description&gt;validates existing schema against code. turn this on if you want to verify existing schema&lt;/description&gt;<br/>  &lt;/property&gt;</span></pre><p id="147c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将<em class="my"> &lt;配置单元密码&gt; </em>的值替换为我们在MySQL用户创建中创建的配置单元用户密码。并且&lt;您的数据库&gt;与我们在MySQL中用于metastore的数据库。</p></div><div class="ab cl lj lk gp ll" role="separator"><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo"/></div><div class="hb hc hd he hf"><h1 id="c4a1" class="jt ju hi bd jv jw lq jy jz ka lr kc kd ke ls kg kh ki lt kk kl km lu ko kp kq bi translated">5.开始配置单元</h1><p id="2e89" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq lv is it iu lw iw ix iy lx ja jb jc hb bi translated"><strong class="ih hj"> 5.1启动Hadoop </strong></p><p id="b458" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们需要启动一个新的命令提示符，记住以管理员身份运行它，以避免权限问题，并执行下面的命令</p><pre class="je jf jg jh fd ml mm mn mo aw mp bi"><span id="6708" class="mq ju hi mm b fi mr ms l mt mu"><strong class="mm hj"><em class="my">start-all.cmd</em></strong></span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="ab fe cl no"><img src="../Images/28655b7381de9296f665297ff6dc67e9.png" data-original-src="https://miro.medium.com/v2/format:webp/0*OuewgTUgPD_HkxBe.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图19:-启动所有命令</figcaption></figure><p id="f2e7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所有4个守护进程都应该启动并运行。</p><p id="d86f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 5.2启动Hive Metastore </strong></p><p id="036c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">打开cmd窗口，运行以下命令启动配置单元metastore。</p><pre class="je jf jg jh fd ml mm mn mo aw mp bi"><span id="ceb7" class="mq ju hi mm b fi mr ms l mt mu">hive --service metastore</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es np"><img src="../Images/6da461946b00c669323e06d7e2d6e8fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1324/format:webp/1*aLyY7Bnqd5D6Sqajfj0Jtw.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图20:-启动配置单元Metastore</figcaption></figure><p id="5fe9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 5.3启动配置单元</strong></p><p id="6479" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在打开一个新的cmd窗口并运行下面的命令来启动Hive</p><pre class="je jf jg jh fd ml mm mn mo aw mp bi"><span id="7edf" class="mq ju hi mm b fi mr ms l mt mu">hive</span></pre><h1 id="d9ea" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">6.常见问题</h1><p id="65c4" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq lv is it iu lw iw ix iy lx ja jb jc hb bi translated"><strong class="ih hj"> 6.1无法在配置单元中导出或导入数据</strong></p><p id="c1ef" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">启动Hive后，我们面临的第一个常见问题是无法导入或导出</p><p id="3448" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Sol:-我们需要编辑下面的属性，并将其设为false</p><pre class="je jf jg jh fd ml mm mn mo aw mp bi"><span id="2120" class="mq ju hi mm b fi mr ms l mt mu">&lt;property&gt;                      &lt;name&gt;hive.metastore.event.db.notification.api.auth&lt;/name&gt;     &lt;value&gt;false&lt;/value&gt;    <br/>&lt;description&gt;<br/>      Should metastore do authorization against database notification related APIs such as get_next_notification.<br/>      If set to true, then only the superusers in proxy settings have the permission<br/>    &lt;/description&gt;<br/>  &lt;/property&gt;</span></pre><p id="57af" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 6.2加入不工作</strong></p><p id="a309" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果在运行连接查询时遇到问题，我们需要在运行连接查询之前运行以下命令:-</p><pre class="je jf jg jh fd ml mm mn mo aw mp bi"><span id="f7c5" class="mq ju hi mm b fi mr ms l mt mu">set hive.auto.convert.join=false;<br/>set hive.auto.convert.join.noconditionaltask=false; </span></pre><p id="6907" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因为没有这些配置单元，尝试一个失败的映射端连接，对于普通连接，将这些参数设置为false。</p><h1 id="3459" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">7.恭喜..！！！！🎉</h1><p id="5a4a" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq lv is it iu lw iw ix iy lx ja jb jc hb bi translated">恭喜你！我们已经成功安装了Hive。我们中的一些人可能会遇到一些问题……不要担心，这很可能是由于一些小失误或不兼容的软件。如果您遇到任何此类问题，请再次仔细访问所有步骤，并验证软件版本是否正确。如果你仍然不能让Hive正常运行，请在评论区描述你的问题。</p><p id="b7f1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可以在这里了解我更多。。</p><p id="9dee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">快乐学习…！！！🙂</p></div></div>    
</body>
</html>