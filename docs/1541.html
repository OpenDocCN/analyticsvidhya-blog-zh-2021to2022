<html>
<head>
<title>How To Get Started With Stock Performance Analysis in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何开始使用Python进行股票表现分析</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/how-to-get-started-with-stock-performance-analysis-in-python-53378e3b8d74?source=collection_archive---------5-----------------------#2021-03-07">https://medium.com/analytics-vidhya/how-to-get-started-with-stock-performance-analysis-in-python-53378e3b8d74?source=collection_archive---------5-----------------------#2021-03-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="dd22" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在Python中寻找真正的价值</p><p id="bd4a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本文中，我将提到有效边界的基本概念。有效边界是一个金融数学概念，基于哈里·马科维茨，他是诺贝尔经济学奖获得者，在1952年发明了现代投资组合理论。一个资产组合，也称为投资组合，如果它对于其风险水平具有最佳的预期回报水平，则被认为是有效的。风险由投资组合回报的标准差来表示。Markowitz描述了分析证券投资组合的不同技术。现代投资组合理论认为，投资的风险和回报特征不应单独看待，而应通过投资如何影响整体投资组合的风险和回报来评估。</p><p id="6f3c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将从零开始，建立一个笔记本，帮助我们评估股票投资组合的表现。</p><p id="201d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，我们应该看看有效边界的概念，以及相关性在创建投资组合中的重要性。下面的图是两个随机股票之间不同相关水平的有效边界的例子。我们使用不同的相关性，从-100%(负相关)到100%(完全相关)。我们发现负相关资产导致最大的有效边界。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/d21aa96e9a112faca367ce0771d5a926.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g5Rmj7GFgpL1fFlfQS2Aqg.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">不同相关水平的有效前沿</figcaption></figure><h1 id="b4ee" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">要求</h1><p id="5088" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">要设置虚拟环境并运行Jupyter-Notebook，我推荐您使用<strong class="ih hj"> Anaconda。</strong></p><h2 id="5b88" class="kw ju hi bd jv kx ky kz jz la lb lc kd iq ld le kh iu lf lg kl iy lh li kp lj bi translated">窗口:</h2><p id="63bd" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated"><a class="ae lk" href="https://docs.anaconda.com/anaconda/install/windows/" rel="noopener ugc nofollow" target="_blank">https://docs.anaconda.com/anaconda/install/windows/</a></p><h2 id="a093" class="kw ju hi bd jv kx ky kz jz la lb lc kd iq ld le kh iu lf lg kl iy lh li kp lj bi translated">Mac:</h2><p id="8e8d" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated"><a class="ae lk" href="https://docs.anaconda.com/anaconda/install/mac-os/" rel="noopener ugc nofollow" target="_blank">https://docs.anaconda.com/anaconda/install/mac-os/</a></p><h2 id="50fc" class="kw ju hi bd jv kx ky kz jz la lb lc kd iq ld le kh iu lf lg kl iy lh li kp lj bi translated">Linux:</h2><p id="8d13" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated"><a class="ae lk" href="https://docs.anaconda.com/anaconda/install/linux/" rel="noopener ugc nofollow" target="_blank">https://docs.anaconda.com/anaconda/install/linux/</a></p><h2 id="5c2a" class="kw ju hi bd jv kx ky kz jz la lb lc kd iq ld le kh iu lf lg kl iy lh li kp lj bi translated">核心数据分析</h2><p id="8a54" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">矩阵运算:<code class="du ll lm ln lo b">numpy</code></p><p id="b0f7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">科学操作:<code class="du ll lm ln lo b">scipy</code></p><p id="2a16" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">数据帧操作:<code class="du ll lm ln lo b">pandas</code></p><p id="f2d6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">统计模型:<code class="du ll lm ln lo b">statsmodels</code></p><p id="2a7b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">数据可视化:<code class="du ll lm ln lo b">matplotlib</code></p><h2 id="9e0d" class="kw ju hi bd jv kx ky kz jz la lb lc kd iq ld le kh iu lf lg kl iy lh li kp lj bi translated">金融</h2><p id="27f5" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">从网上读取财务数据:<code class="du ll lm ln lo b">pandas_datareader</code></p><p id="c54a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">雅虎财经的网页抓取工具:<code class="du ll lm ln lo b">yfinance</code></p><p id="f8bd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">绩效评估:<code class="du ll lm ln lo b">ffn</code></p><p id="6725" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">投资组合表现:<code class="du ll lm ln lo b">pypfopt</code></p><p id="b4e3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">金融统计:<code class="du ll lm ln lo b">empyrical</code></p><h2 id="9793" class="kw ju hi bd jv kx ky kz jz la lb lc kd iq ld le kh iu lf lg kl iy lh li kp lj bi translated">机器和深度学习</h2><p id="1d25" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">核心机器学习包:<code class="du ll lm ln lo b">scikit-learn</code></p><h1 id="1f7e" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">我们开始吧！</h1><h2 id="40e1" class="kw ju hi bd jv kx ky kz jz la lb lc kd iq ld le kh iu lf lg kl iy lh li kp lj bi translated">导入模块</h2><pre class="je jf jg jh fd lp lo lq lr aw ls bi"><span id="c873" class="kw ju hi lo b fi lt lu l lv lw">import ffn <br/>from empyrical import alpha_beta<br/>from pypfopt.efficient_frontier import EfficientFrontier<br/>from pypfopt import risk_models<br/>from pypfopt import expected_returns<br/>from pypfopt import discrete_allocation<br/>import matplotlib as pyplot<br/>import numpy as np<br/>import pandas as pd</span><span id="a985" class="kw ju hi lo b fi lx lu l lv lw">%matplotlib inline</span><span id="5ea5" class="kw ju hi lo b fi lx lu l lv lw">import datetime as dt<br/>#from datetime import datetime<br/>from datetime import datetime, timedelta <br/>date = dt.datetime.now()<br/>modified_date = date - timedelta(days=1)<br/>e_= dt.datetime.strftime(modified_date, "%Y-%m-%d")<br/>import warnings<br/>warnings.filterwarnings("ignore")<br/>import matplotlib.pyplot as plt<br/>import warnings<br/>plt.style.use('dark_background')<br/>warnings.simplefilter(action='ignore', category=FutureWarning)</span></pre><h2 id="af0b" class="kw ju hi bd jv kx ky kz jz la lb lc kd iq ld le kh iu lf lg kl iy lh li kp lj bi translated">下载定价数据</h2><p id="bec7" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">我们将直接用ffn包下载股票定价数据。投资组合将包括以下博彩股票:</p><ol class=""><li id="2736" class="ly lz hi ih b ii ij im in iq ma iu mb iy mc jc md me mf mg bi translated">Take-Two互动软件</li></ol><p id="f53e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.卡普空有限公司</p><p id="a2cd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.电子艺术公司。</p><p id="44f2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们从2019-01-01开始获取股票数据，并以最后一个可用工作日结束。</p><pre class="je jf jg jh fd lp lo lq lr aw ls bi"><span id="b7d1" class="kw ju hi lo b fi lt lu l lv lw">prices = ffn.get('TTWO, CCOEY, EA', start='2019-01-01')<br/>benchmark = ffn.get('spy', start='2019-01-01')<br/>ax = prices.rebase().plot(figsize=(12,5))</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mh"><img src="../Images/74d3ecf8559bd13e9a5a0a0d23b48f79.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zTkPPdR8ViChJzNrHP8GNQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">所选股票的收盘价</figcaption></figure><h1 id="0f74" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">计算回报</h1><p id="5dea" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">然后绘制直方图。</p><pre class="je jf jg jh fd lp lo lq lr aw ls bi"><span id="8902" class="kw ju hi lo b fi lt lu l lv lw">returns = prices.to_returns().dropna()<br/>ax = returns.hist(figsize=(10,10))</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mi"><img src="../Images/f95153137cb8eedd024116abbc1752f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rvaP2a9Pc1eqhpF6d6yzJQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">返回数据的直方图</figcaption></figure><h1 id="301d" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">性能统计</h1><p id="faa3" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">谈到股票表现，统计数据起着重要作用。ffn calc_stats()函数帮助我们快速显示()我们需要决定是否投资的所有统计数据。</p><pre class="je jf jg jh fd lp lo lq lr aw ls bi"><span id="145e" class="kw ju hi lo b fi lt lu l lv lw">stats = prices.calc_stats()<br/>stats.display()</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mj"><img src="../Images/32cbb4da98ed6d69bdad480086a44627.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tIo-TMNZEsLc4-AOQ2hzrg.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">性能统计</figcaption></figure><h1 id="80a3" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">提款怎么办？</h1><p id="fd43" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">让我们仔细看看股票回报不太好甚至最差的时期。最大损失期被称为提款期。我们可以将绩效统计数据转换为一个下降系列并绘制出来。</p><pre class="je jf jg jh fd lp lo lq lr aw ls bi"><span id="133b" class="kw ju hi lo b fi lt lu l lv lw">ax = stats.prices.to_drawdown_series().plot(figsize=(12,5))</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mh"><img src="../Images/1eb661c794a4d5614d04611a808a0082.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HGN8tGMQUWE9UgDkpNNUqw.png"/></div></div></figure><h1 id="ff61" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">复合年增长率</h1><p id="b1bb" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">年增长率是否符合我们的回报预期？</p><pre class="je jf jg jh fd lp lo lq lr aw ls bi"><span id="a0c5" class="kw ju hi lo b fi lt lu l lv lw">stats.prices.calc_cagr()</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mk"><img src="../Images/47d949f69561c4d69c47007d1ca875ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cT0SlZ6jaZgHowBdBmgO7w.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">股票回报年增长率</figcaption></figure><h1 id="327e" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">投资组合权重</h1><p id="061a" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">通过两种不同的方法使用ffn软件包快速确定投资组合的权重。</p><ol class=""><li id="863a" class="ly lz hi ih b ii ij im in iq ma iu mb iy mc jc md me mf mg bi translated">均值-方差法</li></ol><pre class="je jf jg jh fd lp lo lq lr aw ls bi"><span id="3cd7" class="kw ju hi lo b fi lt lu l lv lw">returns = prices.to_log_returns().dropna()<br/>returns.calc_mean_var_weights().as_format('.2%')</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ml"><img src="../Images/d86a5b35ab53753243b4c2573749be60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IXUvATX0q0i_rT60AgGsMg.png"/></div></div></figure><p id="9210" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.同等加权方法</p><pre class="je jf jg jh fd lp lo lq lr aw ls bi"><span id="79ac" class="kw ju hi lo b fi lt lu l lv lw">returns.calc_erc_weights().as_format(‘.2%’)</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mm"><img src="../Images/cc485002a6a836b9524755db21954605.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H1x_GaHIzDV6IoC86W4l7w.png"/></div></div></figure><h1 id="8dfc" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">计算β值</h1><p id="47c2" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">一家公司的贝塔系数是一种证券的波动性或系统性风险的衡量标准，与大盘相比而言。具体来说，贝塔系数是通过股票收益相对于基准收益的回归分析获得的斜率。以标准普尔500为基准，我们可以对投资组合中的每个符号进行循环计算。</p><pre class="je jf jg jh fd lp lo lq lr aw ls bi"><span id="ee43" class="kw ju hi lo b fi lt lu l lv lw">symbols = ['ttwo', 'ccoey', 'ea']</span><span id="e247" class="kw ju hi lo b fi lx lu l lv lw">for sym in symbols:<br/> stk = ffn.get(sym, start=’2016–01–01')<br/> alpha, beta = alpha_beta(stk, benchmark)<br/> print(sym, beta)</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mn"><img src="../Images/0019a908b8890d7f6edc51576d77f434.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/1*vqSypdOkSKY9sM1Byen8dg.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">β系数</figcaption></figure><p id="531d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果一只股票的贝塔系数为1.0，表明它的价格活动与市场有很强的相关性。贝塔系数为1.0的股票存在系统性风险。</p><p id="9e6a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">小于1.0的贝塔值意味着该证券理论上比市场波动性小。将这支股票纳入投资组合，比没有这支股票的投资组合风险更低。</p><p id="083d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">大于1.0的贝塔系数表明证券的价格理论上比市场更不稳定。例如，如果一只股票的贝塔系数是1.2，它被认为比市场波动性大20%。</p><p id="832e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一些股票的贝塔系数为负。贝塔系数为-1.0意味着股票与市场基准负相关。这只股票可以被认为是基准趋势的相反镜像。</p><h1 id="3638" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">投资组合风险和回报</h1><p id="7d61" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">假设我们购买了<strong class="ih hj"> Take-Two互动软件</strong>的<strong class="ih hj"> 3只</strong>股票、<strong class="ih hj"> 3只</strong>Capcom<strong class="ih hj">的股票和<strong class="ih hj">电子艺界</strong>的5只股票。现在我们想根据初始权重来计算预期收益。</strong></p><pre class="je jf jg jh fd lp lo lq lr aw ls bi"><span id="6294" class="kw ju hi lo b fi lt lu l lv lw">returns = prices.pct_change()<br/>weight = np.array([3, 3, 5])<br/>t = np.sum(weight)<br/>weights = weight/<br/># mean daily return and covariance of daily returns<br/>mean_daily_returns = returns.mean()<br/>cov_matrix = returns.cov()<br/><br/>portfolio_return = round(np.sum(mean_daily_returns * weights) * 252,2)<br/>portfolio_std_dev = round(np.sqrt(np.dot(weights.T,np.dot(cov_matrix, weights))) * np.sqrt(252),2)</span><span id="b131" class="kw ju hi lo b fi lx lu l lv lw">print("Expected annualised return: " + str(portfolio_return))<br/>print("Volatility: " + str(portfolio_std_dev))</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mo"><img src="../Images/8e2805bb0dce3b4f1709a78f8be2b4f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eniIfLtX6yK1EaLaixMduA.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">投资组合中有3只<strong class="bd jv"> Take-Two互动软件</strong>，3只<strong class="bd jv"> Capcom </strong>和5只<strong class="bd jv">电子艺界</strong>股票</figcaption></figure><h1 id="8026" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">有效边界</h1><p id="5590" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">我们希望比较我们投资组合中不同的权重组合，以及它对整体表现的影响。所以我们根据风险和收益偏好来计算有效边界。</p><p id="807b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这个例子中，我们想要一个符合高回报预期的投资组合，所以我们计算一个最大夏普投资组合。</p><ol class=""><li id="7b1b" class="ly lz hi ih b ii ij im in iq ma iu mb iy mc jc md me mf mg bi translated">我们需要计算预期收益和样本协方差</li></ol><pre class="je jf jg jh fd lp lo lq lr aw ls bi"><span id="5bf7" class="kw ju hi lo b fi lt lu l lv lw">mu = expected_returns.mean_historical_return(prices)<br/>S = risk_models.sample_cov(prices)<br/></span></pre><p id="b432" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.我们针对最大夏普比率优化投资组合</p><pre class="je jf jg jh fd lp lo lq lr aw ls bi"><span id="4eb6" class="kw ju hi lo b fi lt lu l lv lw">ef = EfficientFrontier(mu, S)<br/>raw_weights = ef.max_sharpe()<br/>cleaned_weights = ef.clean_weights()<br/>print(cleaned_weights)<br/>ef.portfolio_performance(verbose=True)</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mp"><img src="../Images/8a1602b3e7cc44e092fb47c43061ad04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1LC6UAoRVu7Oe4Epm1eNHg.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">最大夏普投资组合绩效</figcaption></figure><p id="e444" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于夏普比率为1.61的投资组合，我们需要购买10 %的<strong class="ih hj"> Take-Two互动软件、</strong> 70 %的<strong class="ih hj"> Capcom </strong>和20 %的<strong class="ih hj"> Electronic Arts </strong>股票。预期年回报率约为55 %，年波动率约为33 %。</p><p id="7e81" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了计算有效回报，我们在有效边界计算中使用权重界限和目标回报。</p><pre class="je jf jg jh fd lp lo lq lr aw ls bi"><span id="6cf5" class="kw ju hi lo b fi lt lu l lv lw">ef = EfficientFrontier(mu, S, weight_bounds=(-1, 1))<br/>ef.efficient_return(target_return=0.2, market_neutral=True)</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mq"><img src="../Images/fa7159382dad73484426116776386723.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ksDq3Dv1CFJ9oVOxyRyo_w.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">有效回报</figcaption></figure><h1 id="edfd" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">来源:</h1><ul class=""><li id="d812" class="ly lz hi ih b ii kr im ks iq mr iu ms iy mt jc mu me mf mg bi translated"><a class="ae lk" href="https://randlow.github.io/posts/finance-economics/efficient-frontier/" rel="noopener ugc nofollow" target="_blank">https://rand low . github . io/posts/finance-economics/efficient-frontier/</a></li><li id="8e9f" class="ly lz hi ih b ii mv im mw iq mx iu my iy mz jc mu me mf mg bi translated"><a class="ae lk" href="https://books.google.de/books?id=aJ7Cp5ZwZ9kC&amp;pg=PA382&amp;redir_esc=y#v=onepage&amp;q&amp;f=false" rel="noopener ugc nofollow" target="_blank">https://books.google.de/books?id=aJ7Cp5ZwZ9kC&amp;pg = pa 382&amp;redir _ ESC = y # v = one page&amp;q&amp;f = false</a></li><li id="4aa7" class="ly lz hi ih b ii mv im mw iq mx iu my iy mz jc mu me mf mg bi translated"><a class="ae lk" href="http://pmorissette.github.io/ffn/" rel="noopener ugc nofollow" target="_blank">http://pmorissette.github.io/ffn/</a></li><li id="9958" class="ly lz hi ih b ii mv im mw iq mx iu my iy mz jc mu me mf mg bi translated"><a class="ae lk" href="https://www.nasdaq.com/glossary/m/markowitz-efficient-frontier" rel="noopener ugc nofollow" target="_blank">https://www . Nasdaq . com/glossary/m/markowitz-efficient-frontier</a></li><li id="ed51" class="ly lz hi ih b ii mv im mw iq mx iu my iy mz jc mu me mf mg bi translated"><a class="ae lk" href="https://www.investopedia.com/terms/b/beta.asp" rel="noopener ugc nofollow" target="_blank">https://www.investopedia.com/terms/b/beta.asp</a></li><li id="bcd0" class="ly lz hi ih b ii mv im mw iq mx iu my iy mz jc mu me mf mg bi translated"><a class="ae lk" href="https://github.com/Moccazio/Portfolio_Selection/blob/main/Chapter4-Portfolio_Performance_Metrics/4-Analyse_Portfolio_Performance.ipynb" rel="noopener ugc nofollow" target="_blank">https://github . com/Moccazio/Portfolio _ Selection/blob/main/chapter 4-Portfolio _ Performance _ Metrics/4-analyze _ Portfolio _ Performance . ipynb</a></li></ul></div></div>    
</body>
</html>