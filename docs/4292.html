<html>
<head>
<title>Information search in website and how and why</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">网站中的信息搜索以及如何和为什么</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/information-search-in-website-and-how-and-why-a31a8a74c5da?source=collection_archive---------10-----------------------#2021-09-17">https://medium.com/analytics-vidhya/information-search-in-website-and-how-and-why-a31a8a74c5da?source=collection_archive---------10-----------------------#2021-09-17</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/2cd03ef56967de1315866ee69e53def5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u_HpOA0d9UudgTP0eF13fA.jpeg"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated"><strong class="bd it">搜索一些东西并不那么困难</strong></figcaption></figure><p id="ffdc" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我喜欢在网站上寻找情感分析和自然语言处理实验的信息。但是在网站上找到信息有更多的方法。<br/>我们可以从一个普通的例子开始，我的个人页面，每个程序员对一个html页面是如何工作的都只有最低限度的了解。</p><p id="f2d5" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">测试的目标是找出我知道哪些编程语言:</strong></p><ol class=""><li id="06f1" class="js jt hh iw b ix iy jb jc jf ju jj jv jn jw jr jx jy jz ka bi translated">从网站提取我们的目标页面，在这种情况下，我们可以很容易地用python执行get请求。<br/>在尝试之前，如果您没有安装请求模块，请尝试使用</li></ol><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="b9c5" class="kk kl hh kg b fi km kn l ko kp">python -m pip install requests  #invoke module in python version 2.x</span><span id="375b" class="kk kl hh kg b fi kq kn l ko kp">python3 -m pip install requests #invoke module in python version 3.x</span><span id="134a" class="kk kl hh kg b fi kq kn l ko kp">pip3 install requests #or use pip for python 3</span><span id="9d90" class="kk kl hh kg b fi kq kn l ko kp">pip install requests #in other case only pip</span></pre><p id="1441" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">2.将这些代码行数字化:</p><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="d27b" class="kk kl hh kg b fi km kn l ko kp">import requests<br/>url_target = "<a class="ae kr" href="https://andrewraieta.github.io/" rel="noopener ugc nofollow" target="_blank">https://andrewraieta.github.io/</a>"<br/>res = requests.get(url_target)<br/>page_text = res.text</span></pre><p id="913a" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">3.现在我们获得了我的个人页面的html代码副本:</p><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="f290" class="kk kl hh kg b fi km kn l ko kp">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en-us"&gt;&lt;head&gt;<br/>        &lt;meta name="generator" content="Hugo 0.87.0" /&gt;<br/>    &lt;meta charset="UTF-8"&gt;<br/>    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;<br/>        &lt;meta name="description" content=""&gt;</span><span id="af4f" class="kk kl hh kg b fi kq kn l ko kp">     &lt;title&gt;<br/>            Hello<br/>    &lt;/title&gt;</span><span id="2d4e" class="kk kl hh kg b fi kq kn l ko kp">&lt;link rel="stylesheet" href="/css/style.css"&gt;</span><span id="706a" class="kk kl hh kg b fi kq kn l ko kp">&lt;link rel="stylesheet" href="<a class="ae kr" href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="noopener ugc nofollow" target="_blank">https://fonts.googleapis.com/css?family=Montserrat:400,700</a>"&gt;<br/>    &lt;link rel="stylesheet" href="<a class="ae kr" href="https://cdn.rawgit.com/jpswalsh/academicons/master/css/academicons.min.css" rel="noopener ugc nofollow" target="_blank">https://cdn.rawgit.com/jpswalsh/academicons/master/css/academicons.min.css</a>" crossorigin="anonymous"&gt;<br/>    &lt;link rel="stylesheet" href="<a class="ae kr" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" rel="noopener ugc nofollow" target="_blank">https://use.fontawesome.com/releases/v5.8.1/css/all.css</a>" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous"&gt;</span><span id="840c" class="kk kl hh kg b fi kq kn l ko kp">&lt;link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"&gt;<br/>    &lt;link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"&gt;<br/>    &lt;link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"&gt;<br/>    &lt;link rel="manifest" href="/site.webmanifest"&gt;</span><span id="8106" class="kk kl hh kg b fi kq kn l ko kp">&lt;link href="/index.xml" rel="alternate" type="application/rss+xml" title="Hello" /&gt;</span><span id="8f08" class="kk kl hh kg b fi kq kn l ko kp">&lt;/head&gt;<br/>&lt;body&gt;</span><span id="9ddd" class="kk kl hh kg b fi kq kn l ko kp">&lt;main&gt;<br/>    &lt;div class="block introduction"&gt;<br/>        &lt;div class="column left"&gt;<br/>            &lt;img src="images/portrait.jpg" class="portrait" alt="Portrait" /&gt;<br/>        &lt;/div&gt;<br/>        &lt;div class="column right"&gt;&lt;h1&gt;Hello.&lt;/h1&gt;&lt;h2&gt;I am Andrew.&lt;/h2&gt;<br/>            &lt;p&gt;I am a computer science student at La Sapienza University and in my spare time I coding a lot and I learn new languages and technologies.  &lt;br&gt;<br/>&lt;br&gt;<br/>Technical Skill I'm comfortable with:</span><span id="4178" class="kk kl hh kg b fi kq kn l ko kp">&lt;ul&gt;<br/>    &lt;li&gt;Languages : Java, Python&lt;/li&gt;<br/>    &lt;li&gt;Frameworks/Tools: Flask, Heroku, MySql and Git&lt;/li&gt;<br/>    &lt;li&gt;Software Development:<br/>        &lt;li&gt;IDE: Spyder, Eclipse, Intellij , Vscode, Pycharm&lt;/li&gt;<br/>        &lt;li&gt;Tools: Git, sublime merge, anaconda, maven&lt;/li&gt;<br/>        &lt;li&gt;OS: Unix, Windows, OSx&lt;/li&gt;<br/>    &lt;/li&gt;<br/>    &lt;li&gt;Good Mathematical Background&lt;/li&gt;<br/>&lt;/ul&gt;&lt;/p&gt;</span><span id="216f" class="kk kl hh kg b fi kq kn l ko kp">&lt;div class="links"&gt;&lt;a rel="me" href="<a class="ae kr" href="mailto:andrewraieta@gmail.com" rel="noopener ugc nofollow" target="_blank">andrewraieta@gmail.com</a>" title="E-mail"&gt;<br/>                        &lt;span class="fas fa-envelope"&gt;&lt;/span&gt;<br/>                    &lt;/a&gt;&lt;a rel="me" href="<a class="ae kr" href="https://github.com/andrewraieta" rel="noopener ugc nofollow" target="_blank">https://github.com/andrewraieta</a>" title="Github"&gt;<br/>                        &lt;span class="fab fa-github"&gt;&lt;/span&gt;<br/>                    &lt;/a&gt;&lt;a rel="me" href="<a class="ae kr" rel="noopener" href="/@andrewraieta">https://medium.com/@andrewraieta</a>" title="Medium"&gt;<br/>                        &lt;span class="fab fa-medium"&gt;&lt;/span&gt;<br/>                    &lt;/a&gt;&lt;a rel="me" href="<a class="ae kr" href="https://www.linkedin.com/in/andrea-raieta-a77085210/" rel="noopener ugc nofollow" target="_blank">https://www.linkedin.com/in/andrea-raieta-a77085210/</a>" title="Linkedin"&gt;<br/>                        &lt;span class="fab fa-linkedin"&gt;&lt;/span&gt;<br/>                    &lt;/a&gt;&lt;/div&gt;<br/>        &lt;/div&gt;<br/>    &lt;/div&gt;&lt;/main&gt;</span><span id="ea8f" class="kk kl hh kg b fi kq kn l ko kp">&lt;footer&gt;<br/>    &lt;div class="column"&gt;&lt;/div&gt;<br/>    &lt;div class="column"&gt;</span><span id="afce" class="kk kl hh kg b fi kq kn l ko kp">&lt;/div&gt;<br/>&lt;/footer&gt;&lt;/body&gt;<br/>&lt;/html&gt;</span></pre><blockquote class="ks kt ku"><p id="9bd6" class="iu iv kv iw b ix iy iz ja jb jc jd je kw jg jh ji kx jk jl jm ky jo jp jq jr ha bi translated">我们注意到有一个包含我们信息的<ul>标签，我们用一个名为Bautiful Soup( <strong class="iw hi"> bs4 </strong>)的库对它进行操作。<br/> Beautiful Soup允许您与html页面进行交互，以便高效地搜索我们的信息。</ul></p></blockquote><p id="b1a9" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">现在，如果您从未使用过它，开始时bs4的工作方式听起来有点奇怪，但请记住，bs4接收一个表示目标html页面副本的字符串，并解析(逐步分析字符串)页面以找到感兴趣的信息。</p><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="a94d" class="kk kl hh kg b fi km kn l ko kp">from bs4 import BeautifulSoup<br/>soup = BeautifulSoup(page_text, "html.parser") #create an instance of an object that contain information of webpage and it's content(webpage itself)<br/>soup.prettify #print a formatted version of page</span></pre><p id="7f11" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我们可以使用find_all()方法，并返回所有<ul>的列表，但是在这种情况下，我们只获得一个元素ul作为字符串，其中所有的<li>作为字符串。我们可以直接获得所有的</li><li>列表:</li></ul></p><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="3ddc" class="kk kl hh kg b fi km kn l ko kp">li_element_list = soup.find_all("li")<br/>for idx in li_element_list:<br/>    print(idx)</span><span id="e3c4" class="kk kl hh kg b fi kq kn l ko kp">Output:</span><span id="7717" class="kk kl hh kg b fi kq kn l ko kp">0 &lt;li&gt;Languages : Java, Python&lt;/li&gt;<br/>1 &lt;li&gt;Frameworks/Tools: Flask, Heroku, MySql and Git&lt;/li&gt;<br/>2 &lt;li&gt;Software Development:<br/>        &lt;li&gt;IDE: Spyder, Eclipse, Intellij , Vscode, Pycharm&lt;/li&gt;<br/>&lt;li&gt;Tools: Git, sublime merge, anaconda, maven&lt;/li&gt;<br/>&lt;li&gt;OS: Unix, Windows, OSx&lt;/li&gt;<br/>&lt;/li&gt;<br/>3 &lt;li&gt;IDE: Spyder, Eclipse, Intellij , Vscode, Pycharm&lt;/li&gt;<br/>4 &lt;li&gt;Tools: Git, sublime merge, anaconda, maven&lt;/li&gt;<br/>5 &lt;li&gt;OS: Unix, Windows, OSx&lt;/li&gt;<br/>6 &lt;li&gt;Good Mathematical Background&lt;/li&gt;</span></pre><p id="b462" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">好了，现在我们感兴趣的是列表中的索引0:</p><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="75dd" class="kk kl hh kg b fi km kn l ko kp"><strong class="kg hi">0 &lt;li&gt;Languages : Java, Python&lt;/li&gt;<br/>we isolate in a variable:<br/>language = li_element_list[0]<br/>type(language)<br/>&gt;&gt; bs4.element.Tag</strong></span></pre><p id="d760" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这意味着我们在bs4模块的标签类型下有一个元素，要提取它，我们有两种方法，第一种方法是硬编码，只提取与编程语言名称列表进行比较的单词，另一种方法是利用标签属性文本或内容:</p><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="685f" class="kk kl hh kg b fi km kn l ko kp">A little explaination of attribute in bs4.element.Tag<br/>if we print the content of language variable we obtain:</span><span id="8f57" class="kk kl hh kg b fi kq kn l ko kp">language.contents <br/>Output: ['Languages : Java, Python'] #as list</span><span id="19c9" class="kk kl hh kg b fi kq kn l ko kp">--------------------------------------</span><span id="a2d9" class="kk kl hh kg b fi kq kn l ko kp">else we use text</span><span id="0eb9" class="kk kl hh kg b fi kq kn l ko kp">language.text<br/>Output: 'Languages : Java, Python' #as list<br/></span></pre><p id="8231" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我们可以使用文本属性并提取Java和python标记。<br/>很简单我们把字符串拆分成一个字符串列表:</p><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="4839" class="kk kl hh kg b fi km kn l ko kp">split_language = language.split(" ")<br/>and obtain<strong class="kg hi">  ['Languages', ':', 'Java,', 'Python']</strong></span><span id="68f2" class="kk kl hh kg b fi kq kn l ko kp">Before the final step we clean the java string from comma character<br/>we simply write:</span><span id="86a9" class="kk kl hh kg b fi kq kn l ko kp">lang[0] = "Java" <br/>Output: <strong class="kg hi">['Languages', ':', 'Java', 'Python']</strong></span></pre><p id="8e02" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">最后一步，我们把split_language列表转换成set，并在它上面使用一个intersect函数，把它与一组语言名称进行比较。</p><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="babd" class="kk kl hh kg b fi km kn l ko kp">split_language = set(split_language)<strong class="kg hi"><br/>{':', 'Java', 'Languages', 'Python'}</strong></span><span id="71b5" class="kk kl hh kg b fi kq kn l ko kp">#and crate a set of language name<br/>LANGUAGE_SET_NAME = {'C', 'C++', 'CPP', 'Go', 'Java', 'Python', 'Rust'}</span><span id="76d3" class="kk kl hh kg b fi kq kn l ko kp">we can use intersect<strong class="kg hi"><br/>language = lang.intersection(LANGUAGE_SET_NAME)</strong><br/>Output:<br/><strong class="kg hi">{'Java', 'Python'}</strong></span></pre><p id="f641" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">现在，如果我们的目标不仅仅是提取语言，而是创建一种程序员的身份证，我们可以定义一个字典并复制信息，我们可以用以下方法提取程序员的姓名:</p><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="7cf9" class="kk kl hh kg b fi km kn l ko kp">target_name = soup.find("h2")<br/>target_name.text.strip('.,')<br/>LANGUAGE_NAME = { ALL NAME EXIST IN A CERTAIN LANGUAGE..... }<br/>target_name = set(target_name)<br/>name = LANGUAGE_NAME.intersection(target_name)</span></pre><p id="77eb" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">最后一步，我们创建一个字典来存储信息:</p><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="892d" class="kk kl hh kg b fi km kn l ko kp">programmer_informations = {} #initialize a dictionary<br/>programmer_informations[name] = language<br/>{'Andrew': <br/>    {'Java', 'Python'},<br/>}</span></pre><p id="431f" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">好了，最终我们达到了我们的目标，但这是结束吗？数据科学家在网站上寻找信息，却发现一个人知道哪些编程语言，这种情况可能并不少见。但是他可以用它来创建一个潜在候选程序员列表，这些候选程序员只懂Java，或者知道某个云系统AWS。</p><h1 id="f5db" class="kz kl hh bd it la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated"><strong class="ak">结论</strong></h1><p id="c3ab" class="pw-post-body-paragraph iu iv hh iw b ix lv iz ja jb lw jd je jf lx jh ji jj ly jl jm jn lz jp jq jr ha bi translated"><strong class="iw hi">为什么寻求信息很重要？</strong></p><p id="3488" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">当然，上面显示的方法并不是最有效的，但是对新手来说是有效的，所以让他们清楚地知道用几行代码可以做什么。原因很简单，知道如何捕捉信息并以2021年最有用的方式进行分类是知识的来源，数据就像数字黄金。</p><p id="5727" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">怎么做？</strong></p><p id="7fa9" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">嗯，这并不像我们作为例子使用的页面那样简单，通常当我们有一个具有相同html结构的数千个页面的列表时，就需要使用这种方法，因为没有绝对的语法识别器来识别页面之间的差异。这是因为每个页面都是由不同的自动网站建设者，网络程序员生成的，所以我们有一个未定义的和非有限的结构系统。</p></div></div>    
</body>
</html>