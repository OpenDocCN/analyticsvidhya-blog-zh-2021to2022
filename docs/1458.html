<html>
<head>
<title>Quick understanding of promise in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">快速理解JavaScript中的承诺</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/quick-understanding-of-promise-in-javascript-b0444fcd44b1?source=collection_archive---------22-----------------------#2021-03-02">https://medium.com/analytics-vidhya/quick-understanding-of-promise-in-javascript-b0444fcd44b1?source=collection_archive---------22-----------------------#2021-03-02</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="809f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">就像我们向某人承诺某件特定的事情一样，在JavaScript中，我们也可以向用户承诺某件事情。</p><p id="1e02" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">例如:“我保证我会为你从服务器上获取数据”</p><p id="6f10" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在在这里，一个承诺可以实现，也可以不实现。正确吗？因此，在这里我们可以规定，如果一个承诺实现了，那么感到感激，或者如果没有实现，道歉。</p><p id="26e3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">好了，现在概念清楚了。让我们看看如果我们编码会是什么样子。</p><blockquote class="jc jd je"><p id="532d" class="ie if jf ig b ih ii ij ik il im in io jg iq ir is jh iu iv iw ji iy iz ja jb ha bi translated">function promiser(){ <br/>返回新的Promise(function(resolve，reject){<br/>const error = true；//某HttpRequest到服务器<br/> if(！error){<br/>resolve()；//当承诺者得到数据时，承诺被保持/解析<br/>console . log(" Promiser:Promise fulfilled ")；<br/>} else {<br/>reject()；//当承诺者没有得到数据时，承诺被破坏/拒绝。<br/> console.log("Promiser:承诺未解决")；<br/> } <br/> }) <br/> }</p><p id="b93b" class="ie if jf ig b ih ii ij ik il im in io jg iq ir is jh iu iv iw ji iy iz ja jb ha bi translated">promiser()；//呼叫承诺者</p></blockquote><p id="c2c5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在让我们明白。创建了一个名为“promiser”的函数，它返回一个Promise对象。promise构造函数接受一个有两个函数作为参数的函数。</p><p id="e8bb" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">第一个是resolve()，第二个是reject()。在这里，我们创建了一个错误变量来代替任何HTTP调用(为了便于理解)，如果没有错误，我们调用resolve()并打印“Promise is fulfilled”，但是如果有错误，我们调用reject()并打印“Promise is not fulfilled”。</p><p id="98dc" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在，让我们心怀感激，因为我们信守了对用户的承诺；当我们不能做到时，让我们道歉。好吗？</p><blockquote class="jc jd je"><p id="01c3" class="ie if jf ig b ih ii ij ik il im in io jg iq ir is jh iu iv iw ji iy iz ja jb ha bi translated">function promiser(){ <br/>返回新的Promise(function(resolve，reject){<br/>const error = true；//某HttpRequest到服务器<br/> if(！error){<br/>resolve()；//当承诺者得到数据时，承诺被保持/解析<br/>console . log(" Promiser:Promise fulfilled ")；<br/>else {<br/>reject()；//当承诺者没有得到数据时，承诺被破坏/拒绝。<br/> console.log("承诺者:承诺未解决")；<br/> } <br/> }) <br/> }</p><p id="5a2f" class="ie if jf ig b ih ii ij ik il im in io jg iq ir is jh iu iv iw ji iy iz ja jb ha bi translated">承诺者()。然后(function(){ console.log("感恩我！") }).catch(function(){ console。log("我道歉。") });</p></blockquote><p id="88eb" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在我们已经为同一个调用使用了函数链。在这里我们调用then()和catch()。</p><p id="e34a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">当我们履行/解决我们的承诺时调用then()，当我们不能履行或拒绝我们的承诺时调用catch()。这些功能将在得到<em class="jf">承诺者</em>功能的响应后执行。这取决于调用的是resolve()还是reject()。</p><p id="19ff" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果我们的承诺没有兑现，我们应该给出一个合理的理由。对吗？</p><p id="4246" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为此，我们在resolve或reject()函数调用中传递参数。让我们再看一遍这段代码。</p><blockquote class="jc jd je"><p id="4ba4" class="ie if jf ig b ih ii ij ik il im in io jg iq ir is jh iu iv iw ji iy iz ja jb ha bi translated">function promiser(){ <br/>返回新的Promise(function(resolve，reject){<br/>const error = true；//某HttpRequest到服务器<br/> if(！error){ <br/> resolve("服务器对我很好")；//当承诺者得到数据时，承诺被保持/解析<br/>console . log(" Promiser:Promise fulfilled ")；<br/> }else{ <br/> reject("服务器对我没那么好")；//当承诺者没有得到数据时，承诺被破坏/拒绝。<br/> console.log("Promiser:承诺未解决")；<br/> } <br/> }) <br/> }</p><p id="1d11" class="ie if jf ig b ih ii ij ik il im in io jg iq ir is jh iu iv iw ji iy iz ja jb ha bi translated">承诺者()。然后(function(msg){ console.log("感恩我！"+ msg) })。catch(函数(错误){ console。log("我道歉。"+错误)})；</p></blockquote><p id="bf7f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在这里，每当调用resolve()和reject()时，我们都会在日志中获得相应消息。“如果没有错误，我感激不尽！服务器对我很好”将被打印到控制台。如果有错误，“我道歉。服务器对我不友好。”将被打印到控制台。</p><p id="6bd3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这是对JavaScript中承诺的一个非常基本的理解。你可以尝试用承诺来实现不同的事情。</p><p id="b0a6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">感谢阅读这篇文章。希望你从这篇文章中有所收获。如果是这样，我不介意鼓掌😄</p></div></div>    
</body>
</html>