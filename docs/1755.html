<html>
<head>
<title>Grocery Store Empty Inventory Detector using YOLOv5</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用YOLOv5的杂货店空库存检测器</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/store-empty-inventory-detector-using-yolov5-57292614231?source=collection_archive---------5-----------------------#2021-03-16">https://medium.com/analytics-vidhya/store-empty-inventory-detector-using-yolov5-57292614231?source=collection_archive---------5-----------------------#2021-03-16</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="508d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如今，深度学习解决复杂问题的成功对任何人来说都是显而易见的。深度学习正在帮助各行各业的问题自动化。在这篇文章中，我介绍了YOLOv5的应用，这是一种基于深度学习的算法，用于检测杂货店中的空库存。</p><p id="c72c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">通常，当我们去杂货店，我们看到货架上没有我们需要的产品，然后许多顾客会离开，没有问店员他们是否有那件商品。即使商店的仓库里有那件商品。这可能会导致商店失去潜在的销售，只要库存仍然是空的。我用YOLOv5设计的系统可以帮助商店快速补充库存，这样他们就不会失去客户和销售。</p><div class="jc jd je jf fd ab cb"><figure class="jg jh ji jj jk jl jm paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><img src="../Images/35cfed3a79f5388265d2814f7d7b310f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*F4a4O-INhB7qsTmvImrnvg.jpeg"/></div></figure><figure class="jg jh ji jj jk jl jm paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><img src="../Images/d622fab77a1ca690b30f467e85c67afb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*V4ad9V4mq-HPkPS15m5QrA.jpeg"/></div></figure></div><h1 id="02e0" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">要求</h1><p id="7de4" class="pw-post-body-paragraph ie if hh ig b ih kr ij ik il ks in io ip kt ir is it ku iv iw ix kv iz ja jb ha bi translated">对于这个项目，我们需要:</p><ol class=""><li id="c656" class="kw kx hh ig b ih ii il im ip ky it kz ix la jb lb lc ld le bi translated">格伦·乔彻的杰作《约洛夫5》，在<a class="ae lf" href="https://github.com/ultralytics/yolov5" rel="noopener ugc nofollow" target="_blank">https://github.com/ultralytics/yolov5</a>展出</li><li id="7b21" class="kw kx hh ig b ih lg il lh ip li it lj ix lk jb lb lc ld le bi translated">SKU数据集，目前在<a class="ae lf" href="https://retailvisionworkshop.github.io/detection_challenge_2020/" rel="noopener ugc nofollow" target="_blank">https://retail vision workshop . github . io/detection _ challenge _ 2020/</a></li><li id="6ee4" class="kw kx hh ig b ih lg il lh ip li it lj ix lk jb lb lc ld le bi translated">如果你有一个商店的数据集，那就更好了。</li><li id="bc42" class="kw kx hh ig b ih lg il lh ip li it lj ix lk jb lb lc ld le bi translated">LabelImg，一个伟大且简单易用的注释工具，在https://github.com/tzutalin/labelImg<a class="ae lf" href="https://github.com/tzutalin/labelImg" rel="noopener ugc nofollow" target="_blank">展示</a></li><li id="ef8b" class="kw kx hh ig b ih lg il lh ip li it lj ix lk jb lb lc ld le bi translated">边界框增强工具，(如果你想增强已经注释的图像，而不是注释更多的图像)，出现在<br/><a class="ae lf" href="https://github.com/mukopikmin/bounding-box-augmentation" rel="noopener ugc nofollow" target="_blank">https://github.com/mukopikmin/bounding-box-augmentation</a></li></ol><h1 id="4af4" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">过程</h1><p id="bc01" class="pw-post-body-paragraph ie if hh ig b ih kr ij ik il ks in io ip kt ir is it ku iv iw ix kv iz ja jb ha bi translated">首先，我们将使用SKU数据集。SKU数据集专门用于检测杂货店货架和冰箱中的商品。SKU有货架上每件商品的所有图片和注释。但是对于我们的应用程序，我们不需要货架上商品的注释。我们想要的恰恰相反。因为对于货架上的任何产品，我们将只使用那些库存为空的图像。</p><p id="2f43" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">标注</strong></p><p id="0998" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">对于注释，我们使用<strong class="ig hi"> LabelImg </strong>工具，注释我们应用程序的任何图像中的空白，如下所示:</p><figure class="jc jd je jf fd jh er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es ll"><img src="../Images/359819e4bbf3d3c6cc9e4bf9e9e46fe7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZYbdGctM6LUzZ692oLp4ug.png"/></div></div></figure><p id="b436" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">增强</strong></p><p id="5876" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果你没有足够的图像样本，那么使用上面需求中提到的增强代码，它增加了不同种类的增强，也增加了图像中标注的边界框。</p><p id="9392" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">对于增强，一旦你使用上面的LabelImg工具注释完图像，把所有的图像和它们的注释(。xml)文件存储在上述下载的边界框增强储存库的“输入”文件夹中。然后运行以下命令:</p><pre class="jc jd je jf fd lm ln lo lp aw lq bi"><span id="7fd1" class="lr ju hh ln b fi ls lt l lu lv">pipenv run python augment.py</span></pre><p id="bc78" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">默认情况下，这会将“输入”文件夹中的每个图像及其注释放大10倍。为了增加这一点，可以在存储库中的augment.py文件中更改AUGMENT_SIZE。</p><h1 id="3264" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">培养</h1><p id="2f64" class="pw-post-body-paragraph ie if hh ig b ih kr ij ik il ks in io ip kt ir is it ku iv iw ix kv iz ja jb ha bi translated">为了训练void detector模型，我使用了YOLOv5，并在12 GB的NVIDIA GeForce RTX2080 GPU上对yolov5m模型进行了300个历元的训练。我使用的数据包括一些杂货店货架上的图片和来自SKU数据集的大约100张图片，我自己做了注释，并放大了10倍。我总共有1254张照片。图@0.5分出来是0.82。</p><h1 id="73df" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">结果</h1><p id="084d" class="pw-post-body-paragraph ie if hh ig b ih kr ij ik il ks in io ip kt ir is it ku iv iw ix kv iz ja jb ha bi translated">货架空检测的推断结果如下:</p><div class="jc jd je jf fd ab cb"><figure class="jg jh ji jj jk jl jm paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><img src="../Images/35cfed3a79f5388265d2814f7d7b310f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*F4a4O-INhB7qsTmvImrnvg.jpeg"/></div></figure><figure class="jg jh ji jj jk jl jm paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><img src="../Images/d622fab77a1ca690b30f467e85c67afb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*V4ad9V4mq-HPkPS15m5QrA.jpeg"/></div></figure></div><p id="fa94" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">开发人员也可以在数据库中存储空洞的坐标，并与新数据进行比较，比如说，2小时后，找出以前的空洞是否持续存在。如果这些问题持续存在，那么应该优先处理这些空白，并让商店知道哪些物品需要紧急关注，哪些物品已经很长时间没有补充了。对于这个任务，只需要计算新的和先前的空盒的IoU(联合上的交集),如果它大于0.5，那么这意味着空是持续的，并且已经存在了一段时间。希望这有意义。</p><h1 id="456e" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">结论</h1><p id="3149" class="pw-post-body-paragraph ie if hh ig b ih kr ij ik il ks in io ip kt ir is it ku iv iw ix kv iz ja jb ha bi translated">深度学习尽管取得了巨大的成功，但仍有许多未知的领域有待征服。在本文中，我介绍了一个这样的应用程序，它可以让商店知道他们在哪里缺货。该系统实施后，可以帮助商店实现更高的销售额，否则他们会因库存补充延迟而失去销售额。如果你喜欢这篇文章，请鼓掌表示赞赏，这样我就有更多的动力来分享我的作品。</p><h1 id="2ea3" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">特别感谢</h1><p id="147e" class="pw-post-body-paragraph ie if hh ig b ih kr ij ik il ks in io ip kt ir is it ku iv iw ix kv iz ja jb ha bi translated">特别感谢给我指定这个任务的人和YOLOv5的开发者Glenn Jocher先生。</p></div></div>    
</body>
</html>