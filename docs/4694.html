<html>
<head>
<title>Life-cycle of Data Science project: Hands-on guide</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据科学项目的生命周期:实践指南</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/life-cycle-of-data-science-project-hands-on-guide-ee1b2dd5d45e?source=collection_archive---------0-----------------------#2022-01-06">https://medium.com/analytics-vidhya/life-cycle-of-data-science-project-hands-on-guide-ee1b2dd5d45e?source=collection_archive---------0-----------------------#2022-01-06</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/2eebd5b0d23593c988c4fc08cde7b9ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a3B7uy7EftcBIe5vzvsSWw.jpeg"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">图片来源:<a class="ae it" href="https://unsplash.com/photos/eveI7MOcSmw" rel="noopener ugc nofollow" target="_blank">https://unsplash.com/photos/eveI7MOcSmw</a></figcaption></figure><h1 id="6ce4" class="iu iv hh bd iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr bi translated">介绍</h1><p id="5c00" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated">随着对数据科学家需求的增加，更多的人愿意进入这个领域。展示正确的技能以脱颖而出进入顶级公司变得非常重要。这就是项目发挥作用的地方。此外，端到端项目让您接触到实时工作环境。<strong class="ju hi">在本指南中，我将通过实际操作演示来解释数据科学项目的完整生命周期。</strong>我们将采用机器学习问题陈述，并使用Flask构建一个web应用程序作为其解决方案，并将其部署在Heroku云应用程序平台上。我们开始吧！</p><figure class="kr ks kt ku fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kq"><img src="../Images/a1e9fda51a44bdb9b0218682decc4119.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lfDktE9S4VzZVf1GLQvJnw.jpeg"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">图片来源:【https://bit.ly/3zodc6H T4】</figcaption></figure><h1 id="9e65" class="iu iv hh bd iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr bi translated">1.理解问题</h1><p id="4afe" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated">项目的生命周期从理解问题陈述开始。该项目的问题陈述(<a class="ae it" href="https://www.hackerearth.com/challenges/competitive/hackerearth-machine-learning-challenge-predict-burnout-rate/" rel="noopener ugc nofollow" target="_blank">来源</a>)是:构建一个基于web的应用程序，在后端使用机器学习模型，该模型根据各种工作-生活因素(如工作时间、在家工作的可能性、精神疲劳评分等)预测公司员工的倦怠率。</p><p id="c5eb" class="pw-post-body-paragraph js jt hh ju b jv kv jx jy jz kw kb kc kd kx kf kg kh ky kj kk kl kz kn ko kp ha bi translated"><strong class="ju hi">案例分析:</strong>快乐健康的员工无疑工作效率更高。他们帮助公司蓬勃发展。然而，随着疫情的实施，大多数公司的情况都发生了变化。自从在家工作以来，超过69%的员工已经表现出倦怠症状(调查来源:<a class="ae it" href="https://learnmore.monster.com/poll-results-from-work-in-the-time-of-coronavirus" rel="noopener ugc nofollow" target="_blank"> Monster </a>)。燃尽率确实惊人。许多公司正在采取措施确保员工保持心理健康。作为解决方案，我们将构建一个web应用程序，公司可以用它来监控员工的工作倦怠。此外，员工自己可以用它来检查他们的倦怠率(没有时间评估快速工作生活中的心理健康)😔).</p><h1 id="8965" class="iu iv hh bd iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr bi translated">2.收集相关数据</h1><p id="29f2" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated">python中有很多库——漂亮的Soap，用于抓取数据的Selenium。此外，还有像ParseHub，Scrappy，Octoparse这样的web抓取API，可以减少耗时。Web报废是数据科学项目的关键部分，因为其生命周期取决于<strong class="ju hi">数据</strong>的质量和相关性。</p><p id="95d0" class="pw-post-body-paragraph js jt hh ju b jv kv jx jy jz kw kb kc kd kx kf kg kh ky kj kk kl kz kn ko kp ha bi translated">在这个项目中，数据集取自<a class="ae it" href="https://www.kaggle.com/blurredmachine/are-your-employees-burning-out" rel="noopener ugc nofollow" target="_blank"> Kaggle </a>。在进一步阅读之前，先看一下数据。</p><p id="7410" class="pw-post-body-paragraph js jt hh ju b jv kv jx jy jz kw kb kc kd kx kf kg kh ky kj kk kl kz kn ko kp ha bi translated"><strong class="ju hi">数据集</strong></p><p id="391b" class="pw-post-body-paragraph js jt hh ju b jv kv jx jy jz kw kb kc kd kx kf kg kh ky kj kk kl kz kn ko kp ha bi translated">以下是数据属性及其描述-</p><ul class=""><li id="c797" class="la lb hh ju b jv kv jz kw kd lc kh ld kl le kp lf lg lh li bi translated"><strong class="ju hi">员工ID </strong>:公司分配给每个员工的唯一ID。</li><li id="a99b" class="la lb hh ju b jv lj jz lk kd ll kh lm kl ln kp lf lg lh li bi translated"><strong class="ju hi">入职日期</strong>:员工入职的日期。</li><li id="ddfe" class="la lb hh ju b jv lj jz lk kd ll kh lm kl ln kp lf lg lh li bi translated"><strong class="ju hi">性别</strong>:员工的性别。</li><li id="f7c8" class="la lb hh ju b jv lj jz lk kd ll kh lm kl ln kp lf lg lh li bi translated"><strong class="ju hi">公司类型</strong>:员工所在公司的类型(服务/产品)。</li><li id="0e0b" class="la lb hh ju b jv lj jz lk kd ll kh lm kl ln kp lf lg lh li bi translated"><strong class="ju hi"> WFH设置可用</strong>:员工是否可以在家办公(是/否)。</li><li id="88df" class="la lb hh ju b jv lj jz lk kd ll kh lm kl ln kp lf lg lh li bi translated"><strong class="ju hi">职务</strong>:员工在其组织中的职务。在范围— [0.0，5.0]中，0.0是最低值，5.0是最高值。</li><li id="9f9b" class="la lb hh ju b jv lj jz lk kd ll kh lm kl ln kp lf lg lh li bi translated"><strong class="ju hi">资源分配</strong>:分配给员工工作的资源数量，解释为工作小时数。在范围内— [1.0，10.0](更高意味着更多资源)。</li><li id="4d83" class="la lb hh ju b jv lj jz lk kd ll kh lm kl ln kp lf lg lh li bi translated"><strong class="ju hi">精神疲劳评分</strong>:员工在工作时间内的精神疲劳程度，范围为[0.0，10.0]，其中0.0表示不疲劳，10.0表示完全疲劳。</li><li id="e8dd" class="la lb hh ju b jv lj jz lk kd ll kh lm kl ln kp lf lg lh li bi translated"><strong class="ju hi">消耗率</strong>:每个员工在工作时间内的消耗率的数据中的目标值，在范围— [0.0，1.0]内，值越高，消耗越多。</li></ul><p id="e8bf" class="pw-post-body-paragraph js jt hh ju b jv kv jx jy jz kw kb kc kd kx kf kg kh ky kj kk kl kz kn ko kp ha bi translated"><strong class="ju hi">关于数据的几点重要说明:</strong></p><p id="6538" class="pw-post-body-paragraph js jt hh ju b jv kv jx jy jz kw kb kc kd kx kf kg kh ky kj kk kl kz kn ko kp ha bi translated">1.压力和倦怠的区别在于，倦怠是一种不同的精神状态。在压力下，你仍能设法应对压力。但是一旦精疲力尽，你就没油了，你已经放弃了克服障碍的所有希望。</p><p id="2665" class="pw-post-body-paragraph js jt hh ju b jv kv jx jy jz kw kb kc kd kx kf kg kh ky kj kk kl kz kn ko kp ha bi translated">2.当你精疲力竭时，你感觉的不仅仅是精神上的疲劳。</p><h1 id="80f9" class="iu iv hh bd iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr bi translated">3.数据准备和EDA</h1><p id="d889" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated">收集完数据后，数据准备开始发挥作用。它涉及到清理和组织数据，众所周知，这占据了数据科学家80%以上的工作。真实世界的数据是原始的，可能充满了重复项、缺失值和错误信息。因此，需要清理数据。</p><p id="efc3" class="pw-post-body-paragraph js jt hh ju b jv kv jx jy jz kw kb kc kd kx kf kg kh ky kj kk kl kz kn ko kp ha bi translated">一旦数据被组织起来，我们就通过探索性的数据分析提取数据中包含的信息并总结其主要特征。EDA是定义良好的数据科学项目的重要阶段。它在统计或机器学习建模阶段之前执行。</p><p id="96d6" class="pw-post-body-paragraph js jt hh ju b jv kv jx jy jz kw kb kc kd kx kf kg kh ky kj kk kl kz kn ko kp ha bi translated">理论讲够了，让我们开始动手部分吧！</p><pre class="kr ks kt ku fd lo lp lq lr aw ls bi"><span id="a5ff" class="lt iv hh lp b fi lu lv l lw lx">df.info()</span></pre><figure class="kr ks kt ku fd ii er es paragraph-image"><div class="er es ly"><img src="../Images/a7d0b1afb1b51537dfe192e78deda68d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1284/format:webp/1*Cs5uXOiJL5fXmiXUg28A2A.jpeg"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated"><strong class="bd iw">输出</strong>(图片作者提供)</figcaption></figure><ul class=""><li id="b2ac" class="la lb hh ju b jv kv jz kw kd lc kh ld kl le kp lf lg lh li bi translated">有5个分类特征和4个数字特征。在这5个特征中，除了<em class="lz">员工id </em>之外，所有特征都是有用的，因为它与目标(即<em class="lz">燃烧率</em>无关。让我们首先执行探索性数据分析，同时我们将把分类特征转换成模型可以理解的形式。</li></ul><pre class="kr ks kt ku fd lo lp lq lr aw ls bi"><span id="4520" class="lt iv hh lp b fi lu lv l lw lx">#Date and month might not be a useful feature. But the year of joining is. It has some significant information that the model can use.</span><span id="5b04" class="lt iv hh lp b fi ma lv l lw lx">df['Year of Joining'] = df['Date of Joining'].apply(lambda x : x.split('-')[0])</span><span id="6d89" class="lt iv hh lp b fi ma lv l lw lx">df['Year of Joining'].describe()</span></pre><p id="8635" class="pw-post-body-paragraph js jt hh ju b jv kv jx jy jz kw kb kc kd kx kf kg kh ky kj kk kl kz kn ko kp ha bi translated"><strong class="ju hi">输出:</strong>该特征只有一个唯一值，即2008。这可能不是一个有用的功能。所以我们放弃了。</p><pre class="kr ks kt ku fd lo lp lq lr aw ls bi"><span id="7a6f" class="lt iv hh lp b fi lu lv l lw lx">df.drop('Year of Joining',axis=1,inplace=True)</span></pre><p id="0068" class="pw-post-body-paragraph js jt hh ju b jv kv jx jy jz kw kb kc kd kx kf kg kh ky kj kk kl kz kn ko kp ha bi translated">让我们对其他分类特征做一些EDA。此外，我们还会做数据准备部分-</p><h2 id="a573" class="lt iv hh bd iw mb mc md ja me mf mg je kd mh mi ji kh mj mk jm kl ml mm jq mn bi translated">电子设计自动化(Electronic Design Automation)</h2><pre class="kr ks kt ku fd lo lp lq lr aw ls bi"><span id="d637" class="lt iv hh lp b fi lu lv l lw lx">sns.boxplot(x = 'Gender', y = 'Burn Rate',data = df);</span></pre><figure class="kr ks kt ku fd ii er es paragraph-image"><div class="er es mo"><img src="../Images/d926353c98567752b2d3bb0a75f8c52a.png" data-original-src="https://miro.medium.com/v2/resize:fit:772/format:webp/1*5t12CDVNqfRPUX7UATf-aA.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated"><strong class="bd iw">输出</strong>(图片作者提供)</figcaption></figure><ul class=""><li id="0283" class="la lb hh ju b jv kv jz kw kd lc kh ld kl le kp lf lg lh li bi translated">男性员工的平均(中位数)<em class="lz">烧伤率</em>高于女性员工。让我们通过比较其他因素来找出可能的原因，如:指定、工作时间等。在公司的两种性别中。</li></ul><p id="6b7c" class="pw-post-body-paragraph js jt hh ju b jv kv jx jy jz kw kb kc kd kx kf kg kh ky kj kk kl kz kn ko kp ha bi translated"><strong class="ju hi">注:</strong>箱线图显示女性员工的<em class="lz">燃烧率</em>记录中存在异常值。我们会处理好的。</p><pre class="kr ks kt ku fd lo lp lq lr aw ls bi"><span id="cd6b" class="lt iv hh lp b fi lu lv l lw lx">sns.countplot(x = 'Gender',palette=sns.color_palette("hls"),data = df);</span></pre><figure class="kr ks kt ku fd ii er es paragraph-image"><div class="er es mp"><img src="../Images/65e4582a165ce21a942376aa0299a9b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:802/format:webp/1*61gRfk9QjwKhw5NYJMxVSQ.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated"><strong class="bd iw">输出</strong>(图片作者提供)</figcaption></figure><ul class=""><li id="06d7" class="la lb hh ju b jv kv jz kw kd lc kh ld kl le kp lf lg lh li bi translated">数据中有更多女性员工的记录。</li></ul><pre class="kr ks kt ku fd lo lp lq lr aw ls bi"><span id="6710" class="lt iv hh lp b fi lu lv l lw lx">sns.countplot(x = 'Designation',hue ='Gender',palette='Blues_d',data = df);</span></pre><figure class="kr ks kt ku fd ii er es paragraph-image"><div class="er es mq"><img src="../Images/ba34d8b8cef7f42a70fbc8bccfd9d822.png" data-original-src="https://miro.medium.com/v2/resize:fit:790/format:webp/1*i-lHynzSVSxX-KY4Az-5Vg.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated"><strong class="bd iw">输出</strong>(图片作者提供)</figcaption></figure><ul class=""><li id="2787" class="la lb hh ju b jv kv jz kw kd lc kh ld kl le kp lf lg lh li bi translated">在较高职位(&gt; 2.0)工作的男性较多。</li></ul><pre class="kr ks kt ku fd lo lp lq lr aw ls bi"><span id="33e7" class="lt iv hh lp b fi lu lv l lw lx">sns.boxplot(x = 'Gender', y = 'Resource Allocation',palette=sns.color_palette("Paired"),data = df);</span></pre><figure class="kr ks kt ku fd ii er es paragraph-image"><div class="er es mr"><img src="../Images/b40ff0e7d2dc0c06471b3a6826348ad6.png" data-original-src="https://miro.medium.com/v2/resize:fit:764/format:webp/1*dtcT3J1-TG2u2w6bckdf2A.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated"><strong class="bd iw">输出</strong>(图片作者提供)</figcaption></figure><ul class=""><li id="8f08" class="la lb hh ju b jv kv jz kw kd lc kh ld kl le kp lf lg lh li bi translated">大多数女性雇员工作时间长达8小时，而男性雇员工作时间长达10小时。两性之间的平均工作时间(中位数)相差1小时。</li></ul><p id="b2c4" class="pw-post-body-paragraph js jt hh ju b jv kv jx jy jz kw kb kc kd kx kf kg kh ky kj kk kl kz kn ko kp ha bi translated"><strong class="ju hi">注意</strong>——我们再次观察到特征中的异常值——女性记录中的<em class="lz">资源分配</em>。</p><pre class="kr ks kt ku fd lo lp lq lr aw ls bi"><span id="8b9a" class="lt iv hh lp b fi lu lv l lw lx">sns.boxplot(x = 'Company Type', y = 'Mental Fatigue Score',palette=sns.color_palette("hls"),data = df);</span></pre><figure class="kr ks kt ku fd ii er es paragraph-image"><div class="er es mr"><img src="../Images/f5336ca2250f8ea59146d9dcb2b20283.png" data-original-src="https://miro.medium.com/v2/resize:fit:764/format:webp/1*HV3Ai9YsA0nbjs41I7mBWw.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated"><strong class="bd iw">输出</strong>(图片作者提供)</figcaption></figure><ul class=""><li id="7c1f" class="la lb hh ju b jv kv jz kw kd lc kh ld kl le kp lf lg lh li bi translated">这两种类型的公司的疲劳得分保持相等。<strong class="ju hi">注意- </strong>离群值</li></ul><pre class="kr ks kt ku fd lo lp lq lr aw ls bi"><span id="f081" class="lt iv hh lp b fi lu lv l lw lx">sns.scatterplot(x = 'Mental Fatigue Score', y = 'Burn Rate',hue = 'Designation',palette=sns.color_palette("rocket"),data = df);</span></pre><figure class="kr ks kt ku fd ii er es paragraph-image"><div class="er es mo"><img src="../Images/1afdbd51b6d48e3c10797ef42d43bd37.png" data-original-src="https://miro.medium.com/v2/resize:fit:772/format:webp/1*ztefIl8vFstAN9_67qNCVQ.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated"><strong class="bd iw">输出</strong>(图片作者提供)</figcaption></figure><ul class=""><li id="fcc1" class="la lb hh ju b jv kv jz kw kd lc kh ld kl le kp lf lg lh li bi translated">这表明<em class="lz">疲劳分数</em>和<em class="lz">燃烧速率</em>之间存在非常强的线性关系。</li></ul><pre class="kr ks kt ku fd lo lp lq lr aw ls bi"><span id="f903" class="lt iv hh lp b fi lu lv l lw lx">sns.heatmap(df.corr(),annot = True)</span></pre><figure class="kr ks kt ku fd ii er es paragraph-image"><div class="er es ms"><img src="../Images/8f7663a48ec31fed96f7c8d727970a7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*a7Q2FItb1_BgRmgCw4lCFA.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated"><strong class="bd iw">输出</strong>(图片作者提供)</figcaption></figure><ul class=""><li id="1a41" class="la lb hh ju b jv kv jz kw kd lc kh ld kl le kp lf lg lh li bi translated">除了<em class="lz">精神疲劳评分</em>之外，<em class="lz">燃烧率</em>与<em class="lz">资源分配</em>呈强正线性关系。</li></ul><h2 id="eea7" class="lt iv hh bd iw mb mc md ja me mf mg je kd mh mi ji kh mj mk jm kl ml mm jq mn bi translated"><strong class="ak">分类编码</strong></h2><p id="abcf" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated">这是将文本数据(分类变量下的数据)转换为数字的过程，以便模型能够理解并从中提取有价值的信息。这些是一些强大的分类编码技术-</p><ul class=""><li id="72a5" class="la lb hh ju b jv kv jz kw kd lc kh ld kl le kp lf lg lh li bi translated"><strong class="ju hi">顺序编码— </strong>包括将每个唯一标签的<strong class="ju hi"> </strong>映射到整数值。只有当类别之间存在已知的顺序/关系时，这种类型的编码才是可取的。例如，举一个变量<em class="lz">产品质量</em>的例子，它的值为“优秀”、“非常好”、“好”、“一般”和“差”。由于该数据有一个顺序，即'优秀'&gt;'非常好'&gt;'好'&gt;'一般'&gt;'差'，我们可以使用序数编码来映射-'差':0，'一般':1，'好':2，'非常好':3，'优秀':4。</li><li id="8812" class="la lb hh ju b jv lj jz lk kd ll kh lm kl ln kp lf lg lh li bi translated"><strong class="ju hi">一种热编码— </strong>这是基于类别的出现将数据转换成二进制值。这仅在类别之间没有顺序/关系时使用。例如，在我们的数据中，我们有一个名为<em class="lz">性别</em>的变量，它由男性和女性的值组成。由于没有顺序，我们使用一个热编码。</li></ul><p id="e9cb" class="pw-post-body-paragraph js jt hh ju b jv kv jx jy jz kw kb kc kd kx kf kg kh ky kj kk kl kz kn ko kp ha bi translated">让我们继续动手部分-</p><pre class="kr ks kt ku fd lo lp lq lr aw ls bi"><span id="c5f9" class="lt iv hh lp b fi lu lv l lw lx">df.drop('Employee ID',axis=1,inplace=True)</span></pre><ul class=""><li id="c6ea" class="la lb hh ju b jv kv jz kw kd lc kh ld kl le kp lf lg lh li bi translated">我们将在特征工程部分使用“加入日期”。</li></ul><pre class="kr ks kt ku fd lo lp lq lr aw ls bi"><span id="f122" class="lt iv hh lp b fi lu lv l lw lx">dat = pd.Series(df['Date of Joining'])<br/>df.drop('Date of Joining',axis=1,inplace=True)</span><span id="43f4" class="lt iv hh lp b fi ma lv l lw lx">#Applying One hot encoding -</span><span id="c009" class="lt iv hh lp b fi ma lv l lw lx">cat = []<br/>num = []</span><span id="a0f4" class="lt iv hh lp b fi ma lv l lw lx">for feat in df.columns:<br/> if(df[feat].dtype=='object'):<br/>  cat.append(feat)<br/> else:<br/>  num.append(feat)</span><span id="1a05" class="lt iv hh lp b fi ma lv l lw lx">encoder = OneHotEncoder(handle_unknown='ignore', sparse=False)<br/>dummy_df = pd.DataFrame(encoder.fit_transform((df[cat])))<br/>dummy_df.index = df.index<br/>dummy_df.columns = encoder.get_feature_names(cat)<br/>df.drop(cat,axis=1,inplace = True)</span><span id="c0c9" class="lt iv hh lp b fi ma lv l lw lx">df = pd.concat([df,dummy_df],axis=1)</span><span id="a69d" class="lt iv hh lp b fi ma lv l lw lx">df.drop(['WFH Setup Available_No','Gender_Male','Company Type_Product'],axis=1,inplace=True)</span></pre><h2 id="cbb5" class="lt iv hh bd iw mb mc md ja me mf mg je kd mh mi ji kh mj mk jm kl ml mm jq mn bi translated"><strong class="ak">处理缺失值</strong></h2><p id="1ef3" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated">用于处理数据中的空值的一些方法是-</p><ul class=""><li id="71e2" class="la lb hh ju b jv kv jz kw kd lc kh ld kl le kp lf lg lh li bi translated"><strong class="ju hi">随机样本插补:</strong>它涉及从数据集中提取随机观察值，并用其替换空值。适用于数据完全随机缺失的情况(<a class="ae it" href="https://stefvanbuuren.name/fimd/sec-MCAR.html" rel="noopener ugc nofollow" target="_blank"> MCAR </a>)。</li><li id="ce96" class="la lb hh ju b jv lj jz lk kd ll kh lm kl ln kp lf lg lh li bi translated"><strong class="ju hi">输入平均值/中值:</strong>这是用各自属性的平均值/中值填充缺失数据的方法。适用于数据随机缺失的情况(<a class="ae it" href="https://stefvanbuuren.name/fimd/sec-MCAR.html" rel="noopener ugc nofollow" target="_blank"> MAR </a>)。</li><li id="a8d4" class="la lb hh ju b jv lj jz lk kd ll kh lm kl ln kp lf lg lh li bi translated"><strong class="ju hi">预测空值:</strong>当有空值的属性和没有空值的属性之间存在高度共线性时，适合使用线性回归来预测和填充缺失值。</li></ul><pre class="kr ks kt ku fd lo lp lq lr aw ls bi"><span id="26d7" class="lt iv hh lp b fi lu lv l lw lx">df.isnull().sum()</span></pre><ul class=""><li id="3d6f" class="la lb hh ju b jv kv jz kw kd lc kh ld kl le kp lf lg lh li bi translated">所有列中的空值随机丢失。可能是员工不想分享/不愿分享压力分数、烧伤率和工作时间等信息。</li><li id="6a5a" class="la lb hh ju b jv lj jz lk kd ll kh lm kl ln kp lf lg lh li bi translated"><em class="lz">燃烧率</em>和<em class="lz">精神疲劳评分</em>有缺失值。让我们想象一下它们的分布。</li></ul><pre class="kr ks kt ku fd lo lp lq lr aw ls bi"><span id="2707" class="lt iv hh lp b fi lu lv l lw lx">sns.heatmap(df.isnull())</span></pre><figure class="kr ks kt ku fd ii er es paragraph-image"><div class="er es mt"><img src="../Images/9df51f53f3bf7f65cd7077049a381b85.png" data-original-src="https://miro.medium.com/v2/resize:fit:742/format:webp/1*MHId3EYvsHmJ0INeIP4L2A.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated"><strong class="bd iw">输出</strong>(图片作者提供)</figcaption></figure><pre class="kr ks kt ku fd lo lp lq lr aw ls bi"><span id="0570" class="lt iv hh lp b fi lu lv l lw lx">df[df[‘Burn Rate’].isnull()][‘Mental Fatigue Score’].isnull().sum()</span></pre><ul class=""><li id="e2a7" class="la lb hh ju b jv kv jz kw kd lc kh ld kl le kp lf lg lh li bi translated">我们观察到，对于给定的样本，两个特征中的空值不会同时出现(只有172个值同时出现)。因此，我们通过<em class="lz">精神疲劳评分</em>来估算目标的缺失值，反之亦然，使用<strong class="ju hi">线性回归</strong>，因为它们具有很强的共线性。我们将对其余缺失值(空值同时出现的情况)使用中值/平均值插补。</li></ul><pre class="kr ks kt ku fd lo lp lq lr aw ls bi"><span id="2155" class="lt iv hh lp b fi lu lv l lw lx">x1 = pd.DataFrame(df[df['Burn Rate'].isnull()]['Mental Fatigue Score'])</span><span id="06a8" class="lt iv hh lp b fi ma lv l lw lx">x1['Mental Fatigue Score'].fillna(x1['Mental Fatigue Score'].median(),inplace=True) <br/>#Filling the simultaneously occuring null values for Mental Fatigue Score with median imputation.</span><span id="195f" class="lt iv hh lp b fi ma lv l lw lx">#Imputation using Linear Regression</span><span id="d6bc" class="lt iv hh lp b fi ma lv l lw lx">df_new = df[['Mental Fatigue Score','Burn Rate']] #the training data with no null values</span><span id="b6fa" class="lt iv hh lp b fi ma lv l lw lx">df_new.dropna(inplace=True)</span></pre><ul class=""><li id="e399" class="la lb hh ju b jv kv jz kw kd lc kh ld kl le kp lf lg lh li bi translated">在线性回归模型中，将<em class="lz">精神疲劳评分</em>作为独立特征，将<em class="lz">燃烧率</em>作为非独立特征。</li></ul><pre class="kr ks kt ku fd lo lp lq lr aw ls bi"><span id="7e72" class="lt iv hh lp b fi lu lv l lw lx">X = df_new[['Mental Fatigue Score']] # X.shape should be (N, M) where M &gt;= 1<br/>y = df_new['Burn Rate']</span><span id="92ab" class="lt iv hh lp b fi ma lv l lw lx">model = LinearRegression()<br/>model.fit(X,y)</span><span id="87ff" class="lt iv hh lp b fi ma lv l lw lx">pred = model.predict(x1) <br/>#the values to be filled in nan values of burn rate</span><span id="bd8c" class="lt iv hh lp b fi ma lv l lw lx">ind = df[df['Burn Rate'].isnull()].index</span><span id="5234" class="lt iv hh lp b fi ma lv l lw lx">for j,i in enumerate(ind):<br/> df['Burn Rate'].iloc[i] = pred[j] <br/>#Filling the missing values with   the predicted values</span></pre><ul class=""><li id="89f8" class="la lb hh ju b jv kv jz kw kd lc kh ld kl le kp lf lg lh li bi translated">应用相同的步骤来填充<em class="lz">精神疲劳评分中缺失的值。</em>这次我们使用<em class="lz">燃烧率</em>作为独立特征，使用<em class="lz">精神疲劳评分</em>作为线性回归模型的非独立特征。</li></ul><pre class="kr ks kt ku fd lo lp lq lr aw ls bi"><span id="5c8f" class="lt iv hh lp b fi lu lv l lw lx">X = df_new[['Burn Rate']] # X.shape should be (N, M) where M &gt;= 1<br/>y = df_new['Mental Fatigue Score']</span><span id="af43" class="lt iv hh lp b fi ma lv l lw lx">model = LinearRegression()<br/>model.fit(X,y)</span><span id="7e8c" class="lt iv hh lp b fi ma lv l lw lx">x2 = pd.DataFrame(df[df['Mental Fatigue Score'].isnull()]['Burn Rate'])<br/>pred = model.predict(x2)<br/>ind = df[df['Mental Fatigue Score'].isnull()].index</span><span id="2577" class="lt iv hh lp b fi ma lv l lw lx">for j,i in enumerate(ind):<br/> df['Mental Fatigue Score'].iloc[i] = pred[j]</span></pre><ul class=""><li id="7c4d" class="la lb hh ju b jv kv jz kw kd lc kh ld kl le kp lf lg lh li bi translated">我们只剩下<em class="lz">资源分配</em>中缺失的值。我们将使用相同的技术，即线性回归来估算<em class="lz">资源分配</em>的空值，因为它与<em class="lz">指定高度相关。</em>独立特征将是<em class="lz">指定</em>，目标特征将是<em class="lz">资源分配。</em></li></ul><pre class="kr ks kt ku fd lo lp lq lr aw ls bi"><span id="d6e6" class="lt iv hh lp b fi lu lv l lw lx">df_new = df[['Designation','Resource Allocation']]<br/>df_new.dropna(inplace=True)</span><span id="6692" class="lt iv hh lp b fi ma lv l lw lx">X = df_new[['Designation']]<br/>y = df_new['Resource Allocation']</span><span id="c972" class="lt iv hh lp b fi ma lv l lw lx">model = LinearRegression()<br/>model.fit(X,y)</span><span id="4952" class="lt iv hh lp b fi ma lv l lw lx">des = pd.DataFrame(df[df['Resource Allocation'].isnull(['Designation'])</span><span id="8745" class="lt iv hh lp b fi ma lv l lw lx">pred2 = model.predict(des)</span><span id="1d90" class="lt iv hh lp b fi ma lv l lw lx">ind = df[df['Resource Allocation'].isnull()].index</span><span id="9178" class="lt iv hh lp b fi ma lv l lw lx">for j,i in enumerate(ind):<br/> df['Resource Allocation'].iloc[i] = pred2[j]</span></pre><h2 id="01c3" class="lt iv hh bd iw mb mc md ja me mf mg je kd mh mi ji kh mj mk jm kl ml mm jq mn bi translated"><strong class="ak">离群值</strong></h2><p id="1e8f" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated">是时候移除我们在EDA过程中使用箱线图可视化在少数特征中检测到的异常值了。</p><p id="2f18" class="pw-post-body-paragraph js jt hh ju b jv kv jx jy jz kw kb kc kd kx kf kg kh ky kj kk kl kz kn ko kp ha bi translated">异常值是数据中远离其他观察值的点。异常值的存在会破坏和误导模型的训练过程。因此，处理它们是很重要的。</p><p id="196a" class="pw-post-body-paragraph js jt hh ju b jv kv jx jy jz kw kb kc kd kx kf kg kh ky kj kk kl kz kn ko kp ha bi translated">这里，我们将对数据使用对数变换来去除离群值。我们将对其<a class="ae it" href="https://www.investopedia.com/terms/s/skewness.asp" rel="noopener ugc nofollow" target="_blank">偏斜度</a> &gt;的模数为0.5的要素使用此方法，因为偏斜度小于0.5的数据遵循相当对称的分布。</p><pre class="kr ks kt ku fd lo lp lq lr aw ls bi"><span id="2bb2" class="lt iv hh lp b fi lu lv l lw lx">for feat in num:<br/> if((np.abs(df[feat].skew())&gt;0.5)):<br/>  print(feat)</span><span id="6032" class="lt iv hh lp b fi ma lv l lw lx">df[feat] =np.log1p(df[feat])[0]</span></pre><p id="caf3" class="pw-post-body-paragraph js jt hh ju b jv kv jx jy jz kw kb kc kd kx kf kg kh ky kj kk kl kz kn ko kp ha bi translated"><strong class="ju hi">输出:</strong>没有偏斜度大于0.5的特征。我们已经完成了数据准备和EDA！</p><h1 id="1aa5" class="iu iv hh bd iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr bi translated"><strong class="ak"> 3。特征工程</strong></h1><p id="1f9c" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated">特征工程的过程包括基于其洞察力从原始数据中提取特征。此外，特征工程还涉及特征选择、特征转换和特征构造，以准备最适合机器学习算法的输入数据。特征工程直接影响模型的结果，因此它是数据科学的重要组成部分。</p><p id="c366" class="pw-post-body-paragraph js jt hh ju b jv kv jx jy jz kw kb kc kd kx kf kg kh ky kj kk kl kz kn ko kp ha bi translated">让我们使用<em class="lz">加入日期到</em>创建一个新的特性- <em class="lz">花费天数</em>，它将包含员工到目前为止在公司工作了多少天的信息。工作多年的员工的烧伤率可能会比新员工高得多。</p><pre class="kr ks kt ku fd lo lp lq lr aw ls bi"><span id="9e90" class="lt iv hh lp b fi lu lv l lw lx">present = date.today()</span><span id="a020" class="lt iv hh lp b fi ma lv l lw lx">date_df = pd.DataFrame(dat)</span><span id="66eb" class="lt iv hh lp b fi ma lv l lw lx">date_df['Date of Joining'] = date_df['Date of Joining'].apply(lambda x : datetime.strptime(x,"%Y-%m-%d").date())</span><span id="6d76" class="lt iv hh lp b fi ma lv l lw lx">df['Days Spent'] = present - date_df['Date of Joining'] <br/>#Get the total number of days spent in the company</span><span id="e3a2" class="lt iv hh lp b fi ma lv l lw lx">df['Days Spent'] = df['Days Spent'].apply(lambda x : int(str(x).split(" ")[0]))</span></pre><p id="5e93" class="pw-post-body-paragraph js jt hh ju b jv kv jx jy jz kw kb kc kd kx kf kg kh ky kj kk kl kz kn ko kp ha bi translated">让我们检查一下新特性对目标有没有影响-</p><pre class="kr ks kt ku fd lo lp lq lr aw ls bi"><span id="4529" class="lt iv hh lp b fi lu lv l lw lx">sns.scatterplot(x = df[‘Days Spent’],y = df[‘Burn Rate’]);</span></pre><figure class="kr ks kt ku fd ii er es paragraph-image"><div class="er es mu"><img src="../Images/eb1e3b1973f043a7b57d0118d871f149.png" data-original-src="https://miro.medium.com/v2/resize:fit:1176/format:webp/1*N3YF26sAshdUgcvaQspXCw.jpeg"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated"><strong class="bd iw">输出</strong>(图片作者提供)</figcaption></figure><ul class=""><li id="7e1f" class="la lb hh ju b jv kv jz kw kd lc kh ld kl le kp lf lg lh li bi translated">散点图显示<em class="lz">燃烧速率</em>与<em class="lz">消耗天数</em>的数据没有趋势。所以我们去掉了花费在上的<em class="lz">天，因为它在数据中并不重要。</em></li></ul><pre class="kr ks kt ku fd lo lp lq lr aw ls bi"><span id="cf39" class="lt iv hh lp b fi lu lv l lw lx">df.drop(‘Days Spent’,axis=1,inplace=True)</span></pre><h1 id="e38e" class="iu iv hh bd iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr bi translated"><strong class="ak"> 4。模型建立和评估</strong></h1><p id="340f" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated">让我们在data - 1上找到不同集成技术的性能。XGBoost 2。AdaBoost 3.RandomForest。</p><p id="21f0" class="pw-post-body-paragraph js jt hh ju b jv kv jx jy jz kw kb kc kd kx kf kg kh ky kj kk kl kz kn ko kp ha bi translated">请阅读这个<a class="ae it" href="https://www.analyticsvidhya.com/blog/2021/08/ensemble-stacking-for-machine-learning-and-deep-learning/" rel="noopener ugc nofollow" target="_blank">博客</a>来了解合奏技巧及其不同类型。我们将使用“<a class="ae it" href="https://www.geeksforgeeks.org/ml-r-squared-in-regression-analysis/#:~:text=R%2Dsquared%20is%20a%20statistical,for%20r%2Dsquare%20is%201.&amp;text=The%20more%20the%20value%20of,than%20the%20average%20fitted%20model." rel="noopener ugc nofollow" target="_blank"> R平方</a>作为度量，因为我们正在训练一个回归模型。</p><pre class="kr ks kt ku fd lo lp lq lr aw ls bi"><span id="1df2" class="lt iv hh lp b fi lu lv l lw lx">model1 = XGBRegressor()</span><span id="03a9" class="lt iv hh lp b fi ma lv l lw lx">X = df.drop('Burn Rate',axis=1)<br/>y = df['Burn Rate']</span><span id="8b56" class="lt iv hh lp b fi ma lv l lw lx">score = cross_val_score(model1,X,y,cv = 5,scoring = 'r2') <br/>#K fold cross validation</span><span id="90d9" class="lt iv hh lp b fi ma lv l lw lx">score.mean()</span></pre><p id="94c0" class="pw-post-body-paragraph js jt hh ju b jv kv jx jy jz kw kb kc kd kx kf kg kh ky kj kk kl kz kn ko kp ha bi translated"><strong class="ju hi">输出:</strong> 0.9323</p><pre class="kr ks kt ku fd lo lp lq lr aw ls bi"><span id="9b51" class="lt iv hh lp b fi lu lv l lw lx">model2 = AdaBoostRegressor()<br/>score = cross_val_score(model2,X,y,cv = 5,scoring = ‘r2’)<br/>score.mean()</span></pre><p id="30d5" class="pw-post-body-paragraph js jt hh ju b jv kv jx jy jz kw kb kc kd kx kf kg kh ky kj kk kl kz kn ko kp ha bi translated"><strong class="ju hi">输出:</strong> 0.9134</p><pre class="kr ks kt ku fd lo lp lq lr aw ls bi"><span id="d132" class="lt iv hh lp b fi lu lv l lw lx">model3 = RandomForestRegressor()<br/>score = cross_val_score(model3,X,y,cv = 5,scoring = ‘r2’)<br/>score.mean()</span></pre><p id="ba01" class="pw-post-body-paragraph js jt hh ju b jv kv jx jy jz kw kb kc kd kx kf kg kh ky kj kk kl kz kn ko kp ha bi translated"><strong class="ju hi">输出:</strong> 0.9216</p><p id="1ce9" class="pw-post-body-paragraph js jt hh ju b jv kv jx jy jz kw kb kc kd kx kf kg kh ky kj kk kl kz kn ko kp ha bi translated">这三种算法都给出了很好的结果。我们可以通过改进生命周期的前几个阶段来进一步改善结果，如<strong class="ju hi">缩放</strong>数据、改变<strong class="ju hi">空值插补</strong>和<strong class="ju hi">分类编码</strong>的技术、执行<strong class="ju hi">特征选择</strong>以去除不重要的特征、<strong class="ju hi">超参数优化</strong>等。</p><h2 id="f002" class="lt iv hh bd iw mb mc md ja me mf mg je kd mh mi ji kh mj mk jm kl ml mm jq mn bi translated"><strong class="ak">超参数优化</strong> -</h2><p id="da52" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated">为ML算法选择最佳超参数集的技术给出了所选度量的最佳结果。随机搜索、网格搜索、Optuna等。是调整学习算法的超参数的一些方法。</p><p id="321e" class="pw-post-body-paragraph js jt hh ju b jv kv jx jy jz kw kb kc kd kx kf kg kh ky kj kk kl kz kn ko kp ha bi translated">让我们优化XGBoost -的超参数</p><pre class="kr ks kt ku fd lo lp lq lr aw ls bi"><span id="1562" class="lt iv hh lp b fi lu lv l lw lx">regressor = XGBRegressor()<br/>param_grid = {<br/>"colsample_bytree" : np.arange(0.1,1,0.1),<br/>"gamma" : np.arange(0.01,0.1,0.01),<br/>"learning_rate" : np.arange(0.01,0.1,0.01),<br/>"max_depth" : np.arange(2,10),<br/>"n_estimators" : np.arange(1500,2500,100),<br/>"reg_alpha" : np.arange(0,1,0.1),<br/>"reg_lambda" : np.arange(0,1,0.1),<br/>"subsample" : np.arange(0.1,1,0.1),<br/>"silent"  : [1],<br/>"nthread" : [-1],<br/>}</span><span id="b766" class="lt iv hh lp b fi ma lv l lw lx">model  = RandomizedSearchCV(<br/>estimator= regressor,<br/>param_distributions= param_grid,<br/>n_iter=20,<br/>scoring = 'r2',<br/>verbose= 3,<br/>n_jobs=1,<br/>cv = 5)</span><span id="1044" class="lt iv hh lp b fi ma lv l lw lx">model.fit(X,y)<br/>model.best_score_</span></pre><p id="0592" class="pw-post-body-paragraph js jt hh ju b jv kv jx jy jz kw kb kc kd kx kf kg kh ky kj kk kl kz kn ko kp ha bi translated"><strong class="ju hi">输出:</strong> 0.9327</p><ul class=""><li id="b542" class="la lb hh ju b jv kv jz kw kd lc kh ld kl le kp lf lg lh li bi translated">超参数调整使模型得分略有增加。所以我们用这个调整过的模型。</li></ul><p id="0912" class="pw-post-body-paragraph js jt hh ju b jv kv jx jy jz kw kb kc kd kx kf kg kh ky kj kk kl kz kn ko kp ha bi translated">保存模型-</p><pre class="kr ks kt ku fd lo lp lq lr aw ls bi"><span id="7155" class="lt iv hh lp b fi lu lv l lw lx">filename = ‘bunrout_model_xgb.pkl’<br/>pickle.dump(model, open(filename, ‘wb’))</span></pre><p id="efcc" class="pw-post-body-paragraph js jt hh ju b jv kv jx jy jz kw kb kc kd kx kf kg kh ky kj kk kl kz kn ko kp ha bi translated">是时候进行模型部署了！完成项目前几个阶段的<a class="ae it" href="https://github.com/YashK07/Burnout-Rate-Prediction-Heroku/blob/main/Burn_out_rate_Model_Building.ipynb" rel="noopener ugc nofollow" target="_blank">代码</a>。</p><h1 id="2688" class="iu iv hh bd iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr bi translated"><strong class="ak"> 5。部署</strong></h1><figure class="kr ks kt ku fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mv"><img src="../Images/d4946a62388bdc8e720d0cb00eaf18d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OPWi1BO0I70iBolmStff_w.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">图片来源:<a class="ae it" href="https://bit.ly/3EDtb4k" rel="noopener ugc nofollow" target="_blank">https://bit.ly/3EDtb4k</a></figcaption></figure><h2 id="9d7f" class="lt iv hh bd iw mb mc md ja me mf mg je kd mh mi ji kh mj mk jm kl ml mm jq mn bi translated">介绍</h2><p id="c111" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated">现在，我们的目标是建立一个web应用程序，从用户那里获取输入信息，并为用户提供燃烧率的预测。为了构建它，我们将使用Flask，这是Python的一个API，允许我们构建应用程序。构建应用程序后，我们将在Heroku上部署它。</p><p id="96fa" class="pw-post-body-paragraph js jt hh ju b jv kv jx jy jz kw kb kc kd kx kf kg kh ky kj kk kl kz kn ko kp ha bi translated"><strong class="ju hi">注:</strong>我们可以部署ML模型的其他平台有——亚马逊AWS、微软Azure、谷歌云等。</p><p id="58d9" class="pw-post-body-paragraph js jt hh ju b jv kv jx jy jz kw kb kc kd kx kf kg kh ky kj kk kl kz kn ko kp ha bi translated">我们将从用户那里收集的输入信息将是我们的燃烧率预测模型所依据的特征</p><ul class=""><li id="0cc3" class="la lb hh ju b jv kv jz kw kd lc kh ld kl le kp lf lg lh li bi translated">用户在公司中工作的指定范围-[0–5]:5是最高指定，0是最低指定。</li><li id="4170" class="la lb hh ju b jv lj jz lk kd ll kh lm kl ln kp lf lg lh li bi translated">工作小时数。</li><li id="cfb9" class="la lb hh ju b jv lj jz lk kd ll kh lm kl ln kp lf lg lh li bi translated">精神疲劳评分在-[0–10]范围内:用户通常在工作时间感觉有多疲劳。</li><li id="e3af" class="la lb hh ju b jv lj jz lk kd ll kh lm kl ln kp lf lg lh li bi translated">性别:男/女</li><li id="06d8" class="la lb hh ju b jv lj jz lk kd ll kh lm kl ln kp lf lg lh li bi translated">公司类型:服务/产品</li><li id="6265" class="la lb hh ju b jv lj jz lk kd ll kh lm kl ln kp lf lg lh li bi translated">你在家工作吗:是/否</li></ul><h2 id="8851" class="lt iv hh bd iw mb mc md ja me mf mg je kd mh mi ji kh mj mk jm kl ml mm jq mn bi translated">在烧瓶上构建应用程序</h2><p id="dd50" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated">为应用程序创建一个. py文件。导入所有重要的库-</p><p id="6138" class="pw-post-body-paragraph js jt hh ju b jv kv jx jy jz kw kb kc kd kx kf kg kh ky kj kk kl kz kn ko kp ha bi translated">从烧瓶导入烧瓶，渲染模板</p><pre class="kr ks kt ku fd lo lp lq lr aw ls bi"><span id="d2de" class="lt iv hh lp b fi lu lv l lw lx">import os<br/>from flask import request<br/>import pickle<br/>import pandas as pd<br/>import numpy as np<br/>from xgboost import XGBRegressor</span></pre><ul class=""><li id="1587" class="la lb hh ju b jv kv jz kw kd lc kh ld kl le kp lf lg lh li bi translated">启动Flask应用程序并加载保存模型-</li></ul><pre class="kr ks kt ku fd lo lp lq lr aw ls bi"><span id="5aba" class="lt iv hh lp b fi lu lv l lw lx">app = Flask(__name__) #Initialize the flask app<br/>model = pickle.load(open(“model\\bunrout_model_xgb.pkl”, ‘rb’))</span></pre><ul class=""><li id="d6d4" class="la lb hh ju b jv kv jz kw kd lc kh ld kl le kp lf lg lh li bi translated">为将呈现HTML页面的home函数执行应用程序路由-</li></ul><pre class="kr ks kt ku fd lo lp lq lr aw ls bi"><span id="4a99" class="lt iv hh lp b fi lu lv l lw lx">@app.route(‘/’)<br/>def home():<br/> return render_template(‘index.html’)</span></pre><ul class=""><li id="a5d1" class="la lb hh ju b jv kv jz kw kd lc kh ld kl le kp lf lg lh li bi translated">创建一个“预测”功能，这将是最重要的后端工作，即根据用户输入返回预测-</li></ul><pre class="kr ks kt ku fd lo lp lq lr aw ls bi"><span id="56be" class="lt iv hh lp b fi lu lv l lw lx">def predict():</span><span id="ce09" class="lt iv hh lp b fi ma lv l lw lx"> if(request.method=="POST"):<br/>  int_feat = ['Designation', 'Resource Allocation', 'Mental Fatigue Score', 'Gender', 'Company Type', 'WFH Setup Available']</span><span id="d3d0" class="lt iv hh lp b fi ma lv l lw lx">  l = []</span><span id="ae43" class="lt iv hh lp b fi ma lv l lw lx">  for i in int_feat:<br/>   val = int(request.form[i])<br/>   l.append(val)</span><span id="c702" class="lt iv hh lp b fi ma lv l lw lx">  #convert into array of shape -&gt; (1,6)</span><span id="ff11" class="lt iv hh lp b fi ma lv l lw lx"> feat_arr = np.array(l).reshape(-1,1).reshape(1,6)</span><span id="c869" class="lt iv hh lp b fi ma lv l lw lx"> input = pd.DataFrame(feat_arr,columns = ['Designation', 'Resource Allocation', 'Mental Fatigue Score', 'Gender_Female', 'Company Type_Service', 'WFH Setup Available_Yes'])</span><span id="7642" class="lt iv hh lp b fi ma lv l lw lx"> prediction = float(model.predict(input)[0])<br/> prediction = round(prediction, 2)</span><span id="e905" class="lt iv hh lp b fi ma lv l lw lx"> #top 25 percentile<br/> if(prediction&lt;=0.3):<br/>  feedback1 = "Fantastic! You have a low burnout of {} .".format(prediction)<br/>  <br/>  return render_template("index_1.html",color = "color:#33CC00;",feedback = feedback1)</span><span id="6678" class="lt iv hh lp b fi ma lv l lw lx">#top 25 percentile to 75 percentile<br/> elif((prediction&gt;0.3) &amp; (prediction&lt;=0.59)):<br/>  feedback2 = "Not bad...You have a moderate burnout of {} .".format(prediction)<br/>   <br/>  return render_template("index_1.html",color = "color:#339900;",feedback = feedback2)</span><span id="033d" class="lt iv hh lp b fi ma lv l lw lx">#top 75 percentile to 90 percentile<br/> elif((prediction&gt;0.59) &amp; (prediction&lt;=0.80)):<br/>  feedback3 = "Oops!! You have a high burnout of {} .".format(prediction)<br/>  <br/>  return render_template("index_1.html",color = "color:#FF0000;",feedback = feedback3)</span><span id="8588" class="lt iv hh lp b fi ma lv l lw lx">#top 90 percentile to 99 percentile<br/> elif((prediction&gt;0.8) &amp; (prediction&lt;=0.9)):<br/>  feedback4 = "Ouch!!! You have a very high burnout of {} .".format(prediction)<br/>  <br/>  return render_template("index_1.html",color ="color:#CC0000;",feedback = feedback4)</span><span id="d1c7" class="lt iv hh lp b fi ma lv l lw lx">#top 99 percentile<br/> else:<br/>  feedback5 = "Sorry! You have an extremly high burnout of {} .".format(prediction)<br/>  <br/>  return render_template("index_1.html",color ="color:#990000;",feedback = feedback5)</span></pre><ul class=""><li id="26cc" class="la lb hh ju b jv kv jz kw kd lc kh ld kl le kp lf lg lh li bi translated">您可以显示一些消息和上面代码中的预测，来描述它们的耗尽率。</li><li id="07cb" class="la lb hh ju b jv lj jz lk kd ll kh lm kl ln kp lf lg lh li bi translated">定义主要功能-</li></ul><pre class="kr ks kt ku fd lo lp lq lr aw ls bi"><span id="7588" class="lt iv hh lp b fi lu lv l lw lx">if __name__ == "__main__":<br/> app.run('debug'==True)</span></pre><p id="7470" class="pw-post-body-paragraph js jt hh ju b jv kv jx jy jz kw kb kc kd kx kf kg kh ky kj kk kl kz kn ko kp ha bi translated">您的Flask应用程序已准备就绪！通过<a class="ae it" href="https://github.com/YashK07/Burnout-Rate-Prediction-Heroku/blob/main/templates/index_1.html" rel="noopener ugc nofollow" target="_blank">index.html</a>获取webapp的前端部分。</p><p id="2076" class="pw-post-body-paragraph js jt hh ju b jv kv jx jy jz kw kb kc kd kx kf kg kh ky kj kk kl kz kn ko kp ha bi translated"><strong class="ju hi">注意:</strong>创建index.html并保存在一个名为— templates的目录中。</p><h2 id="6eb5" class="lt iv hh bd iw mb mc md ja me mf mg je kd mh mi ji kh mj mk jm kl ml mm jq mn bi translated"><strong class="ak">在Heroku上部署app</strong></h2><p id="b538" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated">Heroku上的部署需要一个reuirement.txt文件。这个项目的要求-</p><pre class="kr ks kt ku fd lo lp lq lr aw ls bi"><span id="ea89" class="lt iv hh lp b fi lu lv l lw lx">Flask==1.1.1<br/>pandas==1.0.1<br/>numpy==1.18.1<br/>xgboost==0.90<br/>gunicorn==20.1.0<br/>scikit-learn&gt;=0.18</span></pre><p id="1b73" class="pw-post-body-paragraph js jt hh ju b jv kv jx jy jz kw kb kc kd kx kf kg kh ky kj kk kl kz kn ko kp ha bi translated">现在创建一个Procfile，它是一个不带. txt扩展名的文本文件。它定义了应用程序在启动时执行的命令。此项目的过程文件-</p><pre class="kr ks kt ku fd lo lp lq lr aw ls bi"><span id="5670" class="lt iv hh lp b fi lu lv l lw lx">web: gunicorn app:app</span></pre><p id="b424" class="pw-post-body-paragraph js jt hh ju b jv kv jx jy jz kw kb kc kd kx kf kg kh ky kj kk kl kz kn ko kp ha bi translated">现在将项目推入Github，并将repo连接到Heroku进行部署-</p><figure class="kr ks kt ku fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mw"><img src="../Images/4fb3bf33a9de67032ec4451dfa1f5e96.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Hu4JzmqdJTStsMX73Z9h4A.jpeg"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">在Heroku上部署项目的Github repo(图片由作者提供)</figcaption></figure><p id="0a3e" class="pw-post-body-paragraph js jt hh ju b jv kv jx jy jz kw kb kc kd kx kf kg kh ky kj kk kl kz kn ko kp ha bi translated">恭喜你！我们已经成功地创建并部署了我们的web应用程序✌️</p><figure class="kr ks kt ku fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mx"><img src="../Images/69cd6a0f42abfb1365339af53f9b5968.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*SUBSfEmRq5EpDt7S"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">燃尽率预测web应用程序(图片由作者提供)</figcaption></figure><p id="7a47" class="pw-post-body-paragraph js jt hh ju b jv kv jx jy jz kw kb kc kd kx kf kg kh ky kj kk kl kz kn ko kp ha bi translated">网页应用的链接:<a class="ae it" href="https://burnout-rate-prediction-api.herokuapp.com/" rel="noopener ugc nofollow" target="_blank">https://burnout-rate-prediction-api.herokuapp.com</a></p><p id="c6a4" class="pw-post-body-paragraph js jt hh ju b jv kv jx jy jz kw kb kc kd kx kf kg kh ky kj kk kl kz kn ko kp ha bi translated">它可以从任何地方访问，并用于检查员工的精神健康状况。</p><h2 id="d662" class="lt iv hh bd iw mb mc md ja me mf mg je kd mh mi ji kh mj mk jm kl ml mm jq mn bi translated"><strong class="ak">即兴创作</strong></h2><p id="6a18" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated">部署之后，临时准备项目的生命周期阶段以交付最佳解决方案是另一个重要的阶段。</p><h1 id="819b" class="iu iv hh bd iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr bi translated">结论</h1><p id="ab91" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated">所以我们已经到了指南的结尾。从理解问题陈述到交付端到端的解决方案，我们都在一篇博客中讨论过！</p><p id="d4eb" class="pw-post-body-paragraph js jt hh ju b jv kv jx jy jz kw kb kc kd kx kf kg kh ky kj kk kl kz kn ko kp ha bi translated">务必检查从<a class="ae it" href="https://github.com/YashK07/Burnout-Rate-Prediction-Heroku" rel="noopener ugc nofollow" target="_blank">https://github.com/YashK07/Burnout-Rate-Prediction-Heroku</a>开始的整个项目代码。请开始吧🌟如果你觉得这个应用值得的话。快乐学习！！</p></div></div>    
</body>
</html>