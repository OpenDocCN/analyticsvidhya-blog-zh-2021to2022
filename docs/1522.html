<html>
<head>
<title>Similarity Measures for Categorical Data</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">分类数据的相似性度量</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/similarity-measures-for-categorical-data-d83a1812bbe9?source=collection_archive---------5-----------------------#2021-03-06">https://medium.com/analytics-vidhya/similarity-measures-for-categorical-data-d83a1812bbe9?source=collection_archive---------5-----------------------#2021-03-06</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><h1 id="dbe0" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">第0部分:填充物</h1><p id="1542" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">分类数据(也称为名义数据)已经在各种背景下研究了很长时间。然而，计算分类数据实例之间的相似性并不简单，因为分类值之间没有明确的排序概念。为了克服这个问题，已经为分类数据提出了几个数据驱动的相似性度量。这种测量的行为直接取决于数据。</p><p id="a535" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">让我们试着了解一些措施。为了定义这些度量，让我们从一些符号开始。</p><h2 id="4be7" class="kg ig hi bd ih kh ki kj il kk kl km ip jo kn ko it js kp kq ix jw kr ks jb kt bi translated">第1部分:定义</h2><ul class=""><li id="ce18" class="ku kv hi jf b jg jh jk jl jo kw js kx jw ky ka kz la lb lc bi translated">考虑包含n个数据点(行)的分类数据集d，定义在一组d分类属性上，让Aₖ表示第k个属性，其中K=1，2，3…d，让Aₖ取数据集中的nₖ唯一值。</li><li id="52cf" class="ku kv hi jf b jg ld jk le jo lf js lg jw lh ka kz la lb lc bi translated">设fₖ(x)是属性Aₖ取值x的频率，x是nₖ值之一。</li><li id="5f15" class="ku kv hi jf b jg ld jk le jo lf js lg jw lh ka kz la lb lc bi translated">设pₖ(x)是属性Aₖ取值x的样本概率</li></ul><p id="f9e7" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">文献中有许多相似性度量，我们将只定义其中的几个，并在python中实现它们。</p><p id="c5a1" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">相似度量和距离度量有什么关系？</p><ul class=""><li id="6038" class="ku kv hi jf b jg kb jk kc jo li js lj jw lk ka kz la lb lc bi translated">sim = ⁄₁₊ₗₑₙ，其中sim =相似性，len=距离。</li></ul><p id="a7ca" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">相似性度量在属于数据集D的两个数据实例X和Y之间赋值如下:</p><ul class=""><li id="372e" class="ku kv hi jf b jg kb jk kc jo li js lj jw lk ka kz la lb lc bi translated">S(X,Y)=∑₁ᵈwₖSₖ(Xₖ,Yₖ)</li><li id="cd08" class="ku kv hi jf b jg ld jk le jo lf js lg jw lh ka kz la lb lc bi translated">这里，wₖ是分配给每个属性的权重，而Sₖ(Xₖ,Yₖ是数据集的给定两个实例即x和y中第k个属性的相似性得分函数</li><li id="3382" class="ku kv hi jf b jg ld jk le jo lf js lg jw lh ka kz la lb lc bi translated">对于wₖ和Sₖ(Xₖ,Yₖ有不同的定义)我们得到具有不同属性和使用情况的不同相似性度量。</li></ul><p id="c181" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">这里所有的测量都是用wₖ和Sₖ(Xₖ,Yₖ定义的)</p><h2 id="91bd" class="kg ig hi bd ih kh ki kj il kk kl km ip jo kn ko it js kp kq ix jw kr ks jb kt bi translated">重叠</h2><p id="d24d" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">定义:Sₖ(Xₖ,Yₖ)=1如果Xₖ = Yₖ，否则等于0，重量wₖ是1/d这里k =1，2，…d</p><h2 id="9d77" class="kg ig hi bd ih kh ki kj il kk kl km ip jo kn ko it js kp kq ix jw kr ks jb kt bi translated">埃斯金</h2><p id="9ce9" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">定义:Sₖ(Xₖ,Yₖ)=1如果Xₖ = Yₖ并且等于nₖ /(nₖ +2)否则，重量wₖ是1/d这里k =1，2，…d</p><h2 id="254b" class="kg ig hi bd ih kh ki kj il kk kl km ip jo kn ko it js kp kq ix jw kr ks jb kt bi translated">IOF-反向发生频率</h2><p id="b2a3" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">定义:Sₖ(Xₖ,Yₖ)=1如果Xₖ = Yₖ并且等于</p><p id="3631" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">1/(1+log(fₖ(Xₖ))*log(fₖ(Yₖ)，否则重量wₖ是1/d，这里k =1，2，…d</p><h2 id="eade" class="kg ig hi bd ih kh ki kj il kk kl km ip jo kn ko it js kp kq ix jw kr ks jb kt bi translated">属于…的</h2><p id="e296" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">定义:Sₖ(Xₖ,Yₖ)=1如果Xₖ = Yₖ并且等于</p><p id="41ce" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">1/(1+log(N/fₖ(Xₖ))*log(N/fₖ(Yₖ)，否则，重量wₖ是1/d，这里k =1，2，…d</p><h2 id="4fe9" class="kg ig hi bd ih kh ki kj il kk kl km ip jo kn ko it js kp kq ix jw kr ks jb kt bi translated">林（姓氏）</h2><p id="11f9" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">定义:Sₖ(Xₖ,Yₖ)=2log(pₖ(Xₖ))如果Xₖ = Yₖ并且等于2log(pₖ(Xₖ)+pₖ(Yₖ))否则并且权重wₖ是1/(∑₁ᵈlog(pᵢ(Xᵢ))+log(pᵢ(Yᵢ))这里k =1，2，…d</p><h2 id="b17b" class="kg ig hi bd ih kh ki kj il kk kl km ip jo kn ko it js kp kq ix jw kr ks jb kt bi translated">第2部分:实现</h2><pre class="ll lm ln lo fd lp lq lr ls aw lt bi"><span id="2d75" class="kg ig hi lq b fi lu lv l lw lx">import pandas as pd<br/>import numpy as np<br/>import category_encoders as ce<br/>import math</span></pre><p id="117b" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated"><strong class="jf hj">让我们创建一个函数，它采用带有分类列的数据帧，并输出一个编码的数据帧。</strong>这里，我们使用category_encoders包中的OrdinalEncoder。请注意它的一个特性，即它用两个唯一值(1和2，而不是0和1)对属性进行编码。这一知识将有助于理解为什么在代码的某些部分有一个负1，尤其是在定义上述度量的函数中。</p><figure class="ll lm ln lo fd ly"><div class="bz dy l di"><div class="lz ma l"/></div></figure><p id="a3a8" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">由于使用了频率值，我们必须生成一个合适的频率表。</p><p id="7519" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">创建频率表的步骤</p><ol class=""><li id="ad3e" class="ku kv hi jf b jg kb jk kc jo li js lj jw lk ka mb la lb lc bi translated">初始化一个列表，并用每个属性中唯一类别的数量填充它。</li><li id="a042" class="ku kv hi jf b jg ld jk le jo lf js lg jw lh ka mb la lb lc bi translated">出于显而易见的原因，初始化一个空频率表，其大小为唯一类别的最大数量除以类别的总数。</li><li id="ab02" class="ku kv hi jf b jg ld jk le jo lf js lg jw lh ka mb la lb lc bi translated">逐列通过逐行计算找到每个类别的频率。</li></ol><figure class="ll lm ln lo fd ly"><div class="bz dy l di"><div class="lz ma l"/></div></figure><p id="776b" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">让我们实现上面的每一个措施，下面的代码输出它们相应的距离值。</p><h2 id="286c" class="kg ig hi bd ih kh ki kj il kk kl km ip jo kn ko it js kp kq ix jw kr ks jb kt bi translated">重叠</h2><figure class="ll lm ln lo fd ly"><div class="bz dy l di"><div class="lz ma l"/></div></figure><h2 id="d1db" class="kg ig hi bd ih kh ki kj il kk kl km ip jo kn ko it js kp kq ix jw kr ks jb kt bi translated">埃斯金</h2><figure class="ll lm ln lo fd ly"><div class="bz dy l di"><div class="lz ma l"/></div></figure><h2 id="492e" class="kg ig hi bd ih kh ki kj il kk kl km ip jo kn ko it js kp kq ix jw kr ks jb kt bi translated">眶下裂</h2><figure class="ll lm ln lo fd ly"><div class="bz dy l di"><div class="lz ma l"/></div></figure><h2 id="c662" class="kg ig hi bd ih kh ki kj il kk kl km ip jo kn ko it js kp kq ix jw kr ks jb kt bi translated">属于…的</h2><figure class="ll lm ln lo fd ly"><div class="bz dy l di"><div class="lz ma l"/></div></figure><h2 id="add5" class="kg ig hi bd ih kh ki kj il kk kl km ip jo kn ko it js kp kq ix jw kr ks jb kt bi translated">林（姓氏）</h2><figure class="ll lm ln lo fd ly"><div class="bz dy l di"><div class="lz ma l"/></div></figure><p id="d1ff" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">让我们看看测试数据。</p><pre class="ll lm ln lo fd lp lq lr ls aw lt bi"><span id="c5a9" class="kg ig hi lq b fi lu lv l lw lx">df = Test_data </span></pre><figure class="ll lm ln lo fd ly er es paragraph-image"><div class="ab fe cl mc"><img src="../Images/fc8f3436df0e73a4c35ebdb5fa0c75b1.png" data-original-src="https://miro.medium.com/v2/format:webp/1*GEuwovQd4yqbB9-HLl1wNQ.png"/></div></figure><pre class="ll lm ln lo fd lp lq lr ls aw lt bi"><span id="014c" class="kg ig hi lq b fi lu lv l lw lx">pd.DataFrame(Overlap(df))</span></pre><figure class="ll lm ln lo fd ly er es paragraph-image"><div class="ab fe cl mc"><img src="../Images/56d37644dcf161f4fd0a91af50f2dd0c.png" data-original-src="https://miro.medium.com/v2/format:webp/1*4P0Ma6zF7iKHbQv2lqbtqQ.png"/></div></figure><pre class="ll lm ln lo fd lp lq lr ls aw lt bi"><span id="e1ce" class="kg ig hi lq b fi lu lv l lw lx">pd.DataFrame(Eskin(df))</span></pre><figure class="ll lm ln lo fd ly er es paragraph-image"><div class="ab fe cl mc"><img src="../Images/8b20aae505c1b372be60a2954cf65096.png" data-original-src="https://miro.medium.com/v2/format:webp/1*fqoYfySXE4PZxg_FDlikIg.png"/></div></figure><pre class="ll lm ln lo fd lp lq lr ls aw lt bi"><span id="d3c9" class="kg ig hi lq b fi lu lv l lw lx">pd.DataFrame(IOF(df))</span></pre><figure class="ll lm ln lo fd ly er es paragraph-image"><div class="ab fe cl mc"><img src="../Images/41dcd41ebfb40d29a50cd8361352fe44.png" data-original-src="https://miro.medium.com/v2/format:webp/1*SsEk_5t7mgj1rExDS5KxNw.png"/></div></figure><pre class="ll lm ln lo fd lp lq lr ls aw lt bi"><span id="0409" class="kg ig hi lq b fi lu lv l lw lx">pd.DataFrame(OF(df))</span></pre><figure class="ll lm ln lo fd ly er es paragraph-image"><div class="ab fe cl mc"><img src="../Images/41dcd41ebfb40d29a50cd8361352fe44.png" data-original-src="https://miro.medium.com/v2/format:webp/1*SsEk_5t7mgj1rExDS5KxNw.png"/></div></figure><h1 id="b374" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">第3部分:总结</h1><h2 id="eaa1" class="kg ig hi bd ih kh ki kj il kk kl km ip jo kn ko it js kp kq ix jw kr ks jb kt bi translated">使用的包</h2><ul class=""><li id="1674" class="ku kv hi jf b jg jh jk jl jo kw js kx jw ky ka kz la lb lc bi translated">熊猫版本=1.1.5</li><li id="4a45" class="ku kv hi jf b jg ld jk le jo lf js lg jw lh ka kz la lb lc bi translated">Numpy版本=1.19.5</li><li id="f196" class="ku kv hi jf b jg ld jk le jo lf js lg jw lh ka kz la lb lc bi translated">类别_编码器=2.2.2</li><li id="ef93" class="ku kv hi jf b jg ld jk le jo lf js lg jw lh ka kz la lb lc bi translated">数学</li></ul><p id="a336" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">在这篇博文中，我们定义了一些相似性度量，并用python实现了它们。在未来，我们必须学会解释它们，并了解何时何地使用它们。</p><p id="8c6f" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated"><strong class="jf hj">注意</strong>林相似性度量的代码似乎不太好用。</p><h2 id="1f8b" class="kg ig hi bd ih kh ki kj il kk kl km ip jo kn ko it js kp kq ix jw kr ks jb kt bi translated">第4部分:参考文献。</h2><ul class=""><li id="e553" class="ku kv hi jf b jg jh jk jl jo kw js kx jw ky ka kz la lb lc bi translated"><a class="ae mf" href="https://epubs.siam.org/doi/abs/10.1137/1.9781611972788.22" rel="noopener ugc nofollow" target="_blank">分类数据的相似性度量:Boriah等人的比较评估</a>。</li><li id="8444" class="ku kv hi jf b jg ld jk le jo lf js lg jw lh ka kz la lb lc bi translated">R的Nomclust包的文档</li><li id="0183" class="ku kv hi jf b jg ld jk le jo lf js lg jw lh ka kz la lb lc bi translated"><a class="ae mf" href="http://www.amse.ue.wroc.pl/papers/Sulc,Rezankova.pdf" rel="noopener ugc nofollow" target="_blank">上述软件包的作者对分类数据</a>的近期相似性度量的评估。</li><li id="772a" class="ku kv hi jf b jg ld jk le jo lf js lg jw lh ka kz la lb lc bi translated">Github- <a class="ae mf" href="https://github.com/AjayMukundS/Categorical_similarity_measures/tree/master/Categorical_similarity_measures" rel="noopener ugc nofollow" target="_blank">分类_相似性_度量</a></li></ul></div></div>    
</body>
</html>