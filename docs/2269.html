<html>
<head>
<title/>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1/>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/kmeans-clustering-on-rfm-t-segmentation-with-python-for-online-retail-data-ad9a2a7ab59?source=collection_archive---------6-----------------------#2021-04-15">https://medium.com/analytics-vidhya/kmeans-clustering-on-rfm-t-segmentation-with-python-for-online-retail-data-ad9a2a7ab59?source=collection_archive---------6-----------------------#2021-04-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><p id="7c36" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">基于RFM-T分析的在线零售数据的k均值分割</p><figure class="ig ih ii ij fd ik er es paragraph-image"><div class="er es if"><img src="../Images/bf20a2287c330c2e1d1630c34a638d7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wjI4iW5QSzLYb34j1c94dQ.png"/></div><figcaption class="in io et er es ip iq bd b be z dx translated">图片由Anand Singh通过媒体提供</figcaption></figure><p id="2d33" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">RFM分析是一种多年来普遍使用的CRM技术，根据客户的新近性、频率和货币指标对客户进行分组。最近，“-T”被添加到分析中，它代表任期。在分析中，这些3-或4-度量分数通常被计算并放在一起。这些分数有助于公司根据其需求和选择对客户进行分组。但我们将向前迈进一步，基于他们的RFM-T指标，我们将尝试使用Python对客户进行分类。<br/>我们将使用的数据集是来自UCI机器学习知识库的<a class="ae ir" href="https://archive.ics.uci.edu/ml/datasets/online+retail" rel="noopener ugc nofollow" target="_blank">在线零售数据</a>。</p><p id="15d5" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">主要是；<br/>最近度指标代表自客户最近一次交易以来所经过的时间。换句话说，这就是一个客户给你想要的东西的速率的新鲜感。对客户来说，好的新近得分是低的新近得分。对我们来说，最好的客户是那些我们更容易记住他们面孔的客户！<br/>频率指标代表在分析所涵盖的时间范围内进行了多少次购买。顾名思义，这是客户给你想要的东西的频率。这因时而异，因为“你想要的”有时可能是交易、购买、访问等。对RFM来说，交易越多，顾客越好！<br/>货币指标代表在分析所涵盖的时间范围内客户总交易的货币规模。对RFM来说，花钱越多越好。<br/>如前所述，终身制是一个较新的指标，比其他指标更少使用。这代表自客户第一次购买或交易以来经过的时间。这可以被视为客户的忠诚度。</p><p id="bc86" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">我不会在这里讨论EDA和数据清理过程。有遗漏的行，等等。但我会跳过相关部分，考虑到所有的清洁和EDA过程已经完成。我将试着把重点放在RFM和分类上。</p><p id="b210" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">我们已经快速浏览了RFM分析，现在我们可以将数据集中的内容具体化了。让我们阅读我们的文件，以获得数据集的可视信息；</p><figure class="ig ih ii ij fd ik"><div class="bz dy l di"><div class="is it l"/></div></figure><p id="d90e" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">在数据集中，我们必须突出显示的前几列是InvoiceDate、UnitPrice、Quantity和CustomerID。其他的不太相关，因为在RFM分析中，我们主要感兴趣的是每个客户的货币价值，他们的第一次和最后一次交易日期等。其他栏目是公司相关的领域，我们不必处理。数量和单价列是分开的，因此每个发票号指的是一个购买单位。如果我们想获得货币销售的总量，我们需要用数量乘以单价。正如我们在货币部分所知道的，这个数量是进行计算所需要的资产。</p><figure class="ig ih ii ij fd ik"><div class="bz dy l di"><div class="is it l"/></div></figure><p id="9705" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">在这个阶段，我们必须定义时间范围的最后一天。这被称为快照日。我们可以用。max()函数，并在该日期后追加一天。但是首先，我们需要处理InvoiceDate列。列中的观察值包括小时和分钟。我们在一年的范围内运营，这意味着一小时和一分钟的数据对我们来说毫无意义。我们将排除它们，继续采用InvoiceDate列的最后一天。</p><figure class="ig ih ii ij fd ik"><div class="bz dy l di"><div class="is it l"/></div></figure><p id="20ec" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">最近度:(快照日期-客户交易的最后一天)给出了客户的最近度<br/>频率:时间范围内的唯一交易给出了频率<br/>货币:每个客户的总和给出了货币。<br/>期限:(快照日期-客户进行交易的第一天)</p><figure class="ig ih ii ij fd ik"><div class="bz dy l di"><div class="is it l"/></div></figure><p id="f84a" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">既然我们成功地准备了RFM-T表，我们就可以转入激动人心的部分了；用sklearn对客户的分类！<em class="iu">对这张表来说，只是一个快速的提醒:0值不会困扰我们，因为相关的客户可以退款，或者使用一些促销活动。这样，货币增加值就变为零。</em>为了构建我们的KMeans模型，我们需要使用肘方法确定分段的数量，然后我们可以使用该数量的聚类/分段来构建模型。之后，我们将对无监督模型进行人性化处理。</p><figure class="ig ih ii ij fd ik"><div class="bz dy l di"><div class="is it l"/></div></figure><p id="80e1" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">正如肘法的解释向我们展示的那样；4或5段对我们来说是理想的，因为角度的最大突破在那里。我将为此分析对5个不同的细分群体进行分类，然后继续构建模型。</p><figure class="ig ih ii ij fd ik"><div class="bz dy l di"><div class="is it l"/></div></figure><p id="facf" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">一旦我们将未人性化的部分分组并取其平均值，我们就能够决定这些部分的层次结构和人性化程度。</p><figure class="ig ih ii ij fd ik"><div class="bz dy l di"><div class="is it l"/></div></figure><p id="8c56" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">考虑到上述数字，我认为以下人性化的细分市场是合适的。它的自洽性似乎很好，较低的新近性去往最高等级段，反之亦然。最频繁的细分市场是不一样的，但这个细分市场支付了令人难以置信的金额，这是一件好事，因为他们购买产品的频率有所下降，但购买量却大得多。</p><figure class="ig ih ii ij fd ik"><div class="bz dy l di"><div class="is it l"/></div></figure><p id="3bbc" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">在下表中，我们可以看到客户及其细分市场的平均值。不同细分市场之间的货币指标似乎有规律地变化。除了货币之外的一切都有等级的升降，除了铂。这一段显示了一个非等级特征，但我们可以理解它。在最高级别上不频繁并没有明显的缺点，因为在这些购买级别上，客户可以选择不太频繁地进行批量购买。但较低层次的细分市场，如黄金细分市场，可能不会进行批量采购，这将影响分类。货币量在这里似乎是决定性的，可能铂的差别比其他的稍微大一些。对我来说，任期是一个不太重要的指标，因为它没有体现出作为老客户的优势。可能有一个客户有一些好的R、F和M，但可能是一个新客户。我并不建议忽略任期，但考虑到它的解释能力，这不是问题。<br/>尽管如此，我们还是可以看到，当我们靠近包含最多样本或观察值的青铜段时；随着更多样本的影响，很容易看到一切都变得更加清晰。就样本量而言，我认为这个模型足够公平。有更多的青铜级客户，并且有2个我们归类为钻石级的专属最高评级客户。这是一个不错的价格。为了指出我们做出的决定，我们可以说，如果我们选择了4个集群，这两个可能会被归类为白金级。我们创造了一个比铂类更特殊的类别，并根据一些特征对它们进行了区分。</p><figure class="ig ih ii ij fd ik"><div class="bz dy l di"><div class="is it l"/></div></figure><p id="7e3b" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">在下面的seaborn图中，我们可以看到该模型或多或少是成功的，考虑到基于RFM指标的细分市场及其位置之间的层次结构。</p><figure class="ig ih ii ij fd ik"><div class="bz dy l di"><div class="is it l"/></div></figure></div></div>    
</body>
</html>