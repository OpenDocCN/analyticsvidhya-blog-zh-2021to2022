<html>
<head>
<title>Basic of SQL(Structured Query Language)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SQL(结构化查询语言)基础</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/basic-of-sql-structured-query-language-eff8c0dfec2d?source=collection_archive---------29-----------------------#2021-05-28">https://medium.com/analytics-vidhya/basic-of-sql-structured-query-language-eff8c0dfec2d?source=collection_archive---------29-----------------------#2021-05-28</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/54fe813feb1275fc74b5a72d47542be0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*NdxcKf5CCEn3lcVj"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated"><a class="ae it" href="https://unsplash.com/@fatosi?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">法托斯Bytyqi </a>在<a class="ae it" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><ul class=""><li id="3dbc" class="iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl bi translated"><strong class="iw hi"> SELECT: </strong> SELECT是最常用的语句，它允许我们从表中检索信息。</li></ul><p id="765d" class="pw-post-body-paragraph jm jn hh iw b ix iy jo jp iz ja jq jr jb js jt ju jd jv jw jx jf jy jz ka jh ha bi translated">SELECT的语法:</p><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="d225" class="kk kl hh kg b fi km kn l ko kp">SELECT column_name FROM table_name</span></pre><p id="f8a1" class="pw-post-body-paragraph jm jn hh iw b ix iy jo jp iz ja jq jr jb js jt ju jd jv jw jx jf jy jz ka jh ha bi translated">如果需要表中的所有列:</p><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="3b23" class="kk kl hh kg b fi km kn l ko kp">SELECT * FROM table_name</span></pre><ul class=""><li id="bfc8" class="iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl bi translated"><strong class="iw hi"> SELECT DISTINCT : </strong>有时一个表包含一个有重复值的列。<strong class="iw hi"> DISTINCT </strong>关键字可用于仅返回列中的不同值。</li></ul><p id="a9ae" class="pw-post-body-paragraph jm jn hh iw b ix iy jo jp iz ja jq jr jb js jt ju jd jv jw jx jf jy jz ka jh ha bi translated">语法:</p><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="f66d" class="kk kl hh kg b fi km kn l ko kp">SELECT DISTINCT column FROM table_name</span></pre><ul class=""><li id="73d4" class="iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl bi translated"><strong class="iw hi"> COUNT: </strong>返回表格中的行数。</li></ul><p id="c75d" class="pw-post-body-paragraph jm jn hh iw b ix iy jo jp iz ja jq jr jb js jt ju jd jv jw jx jf jy jz ka jh ha bi translated">语法:</p><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="e581" class="kk kl hh kg b fi km kn l ko kp">SELECT COUNT(name) FROM table_name;</span></pre><p id="ac8b" class="pw-post-body-paragraph jm jn hh iw b ix iy jo jp iz ja jq jr jb js jt ju jd jv jw jx jf jy jz ka jh ha bi translated">与众不同:</p><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="1c73" class="kk kl hh kg b fi km kn l ko kp">SELECT COUNT(DISTINCT(name)) FROM table_name;</span></pre><ul class=""><li id="d44d" class="iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl bi translated"><strong class="iw hi">SELECT WHERE:</strong>WHERE语句允许我们为要返回的行指定列条件。</li></ul><p id="d662" class="pw-post-body-paragraph jm jn hh iw b ix iy jo jp iz ja jq jr jb js jt ju jd jv jw jx jf jy jz ka jh ha bi translated">语法:</p><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="610c" class="kk kl hh kg b fi km kn l ko kp">SELECT column1,column2 FROM table WHERE conditions;</span></pre><ul class=""><li id="df35" class="iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl bi translated"><strong class="iw hi">排序依据:</strong>使用该选项，您可以根据列值按升序或降序对行进行排序。</li></ul><p id="8d94" class="pw-post-body-paragraph jm jn hh iw b ix iy jo jp iz ja jq jr jb js jt ju jd jv jw jx jf jy jz ka jh ha bi translated">语法:</p><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="7214" class="kk kl hh kg b fi km kn l ko kp">SELECT column1,column2 FROM table ORDER BY column1 ASC/DESC;</span></pre><ul class=""><li id="5445" class="iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl bi translated"><strong class="iw hi">LIMIT:</strong>LIMIT命令允许我们限制查询返回的行数。</li></ul><p id="0752" class="pw-post-body-paragraph jm jn hh iw b ix iy jo jp iz ja jq jr jb js jt ju jd jv jw jx jf jy jz ka jh ha bi translated">语法:</p><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="5cf0" class="kk kl hh kg b fi km kn l ko kp">SELECT column1,column2 FROM table LIMIT 10;</span></pre><ul class=""><li id="ca0a" class="iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl bi translated"><strong class="iw hi">BETWEEN:</strong>BETWEEN运算符可用于将一个值与一系列值进行匹配。</li></ul><p id="9459" class="pw-post-body-paragraph jm jn hh iw b ix iy jo jp iz ja jq jr jb js jt ju jd jv jw jx jf jy jz ka jh ha bi translated">语法:</p><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="74fc" class="kk kl hh kg b fi km kn l ko kp">SELECT column1 FROM table WHERE column1 BETWEEN 1 AND 10;</span></pre><ul class=""><li id="b111" class="iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl bi translated"><strong class="iw hi"> IN : </strong>我们使用IN操作符来创建一个条件，检查包含在可用选项列表中的值。</li></ul><p id="7992" class="pw-post-body-paragraph jm jn hh iw b ix iy jo jp iz ja jq jr jb js jt ju jd jv jw jx jf jy jz ka jh ha bi translated">语法:</p><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="d1dd" class="kk kl hh kg b fi km kn l ko kp">SELECT column1 FROM table WHERE column1 IN (options)</span></pre><ul class=""><li id="a15a" class="iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl bi translated"><strong class="iw hi"> LIKE和I LIKE:</strong><strong class="iw hi">LIKE</strong>操作符允许我们使用通配符对字符串数据执行模式匹配:</li></ul><ol class=""><li id="a969" class="iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh kq jj jk jl bi translated">Percent %:匹配任何字符序列</li><li id="3f53" class="iu iv hh iw b ix kr iz ks jb kt jd ku jf kv jh kq jj jk jl bi translated">下划线_:匹配任何单个字符</li></ol><p id="381d" class="pw-post-body-paragraph jm jn hh iw b ix iy jo jp iz ja jq jr jb js jt ju jd jv jw jx jf jy jz ka jh ha bi translated">注意:LIKE<strong class="iw hi">区分大小写</strong>其中as I LIKE<strong class="iw hi">不区分大小写</strong></p><p id="5219" class="pw-post-body-paragraph jm jn hh iw b ix iy jo jp iz ja jq jr jb js jt ju jd jv jw jx jf jy jz ka jh ha bi translated">示例:</p><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="9af5" class="kk kl hh kg b fi km kn l ko kp">SELECT * FROM customer WHERE first_name LIKE ‘A%’;</span><span id="e88c" class="kk kl hh kg b fi kw kn l ko kp">SELECT * FROM customer WHERE first_name ILIKE 'a%' and last_name ILIKE 's%';</span><span id="d528" class="kk kl hh kg b fi kw kn l ko kp">SELECT * FROM customer WHERE first_name LIKE '_her%'</span></pre><p id="a4fd" class="pw-post-body-paragraph jm jn hh iw b ix iy jo jp iz ja jq jr jb js jt ju jd jv jw jx jf jy jz ka jh ha bi translated"><strong class="iw hi">最常见的聚合函数:</strong></p><ul class=""><li id="17b3" class="iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl bi translated">AVG() —返回一个浮点值</li><li id="cb72" class="iu iv hh iw b ix kr iz ks jb kt jd ku jf kv jh ji jj jk jl bi translated">COUNT()-返回行数</li><li id="ad24" class="iu iv hh iw b ix kr iz ks jb kt jd ku jf kv jh ji jj jk jl bi translated">MAX()-返回最大值</li><li id="a531" class="iu iv hh iw b ix kr iz ks jb kt jd ku jf kv jh ji jj jk jl bi translated">MIN()-返回最小值</li><li id="2f7a" class="iu iv hh iw b ix kr iz ks jb kt jd ku jf kv jh ji jj jk jl bi translated">SUM()-返回所有值的总和</li></ul><p id="f7c3" class="pw-post-body-paragraph jm jn hh iw b ix iy jo jp iz ja jq jr jb js jt ju jd jv jw jx jf jy jz ka jh ha bi translated">示例:</p><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="e11c" class="kk kl hh kg b fi km kn l ko kp">SELECT Min(replacement_cost),MAX(replacement_cost),ROUND(AVG(replacement_cost),2) from film;</span></pre><p id="ea32" class="pw-post-body-paragraph jm jn hh iw b ix iy jo jp iz ja jq jr jb js jt ju jd jv jw jx jf jy jz ka jh ha bi translated"><strong class="iw hi">分组依据:</strong>它允许我们根据某个类别聚集列。</p><p id="478d" class="pw-post-body-paragraph jm jn hh iw b ix iy jo jp iz ja jq jr jb js jt ju jd jv jw jx jf jy jz ka jh ha bi translated">常规语法:</p><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="b4ae" class="kk kl hh kg b fi km kn l ko kp">SELECT category_col, AVG(data_col) FROM table GROUP BY category_col</span></pre><ul class=""><li id="be68" class="iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl bi translated"><strong class="iw hi"> HAVING: </strong> HAVING允许我们将聚合结果与GROUP By一起用作过滤器。</li></ul><p id="33ae" class="pw-post-body-paragraph jm jn hh iw b ix iy jo jp iz ja jq jr jb js jt ju jd jv jw jx jf jy jz ka jh ha bi translated">示例:</p><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="75ba" class="kk kl hh kg b fi km kn l ko kp">SELECT customer_id, SUM(amount) FROM payment GROUP BY customer_id HAVING SUM(amount)&lt;100;</span></pre><ul class=""><li id="ed78" class="iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl bi translated"><strong class="iw hi"> AS语句:</strong>它允许我们为列或结果创建“别名”。</li></ul><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="344d" class="kk kl hh kg b fi km kn l ko kp">SELECT column as new_name FROM table;</span></pre><ul class=""><li id="aca5" class="iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl bi translated"><strong class="iw hi">联接:</strong>它允许我们组合来自多个表的信息。</li><li id="2548" class="iu iv hh iw b ix kr iz ks jb kt jd ku jf kv jh ji jj jk jl bi translated"><strong class="iw hi">连接类型:</strong></li></ul><ol class=""><li id="4820" class="iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh kq jj jk jl bi translated"><strong class="iw hi">内部连接:</strong>内部连接将产生一组在两个表中都匹配的记录。</li></ol><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="0b89" class="kk kl hh kg b fi km kn l ko kp">SELECT * FROM Table B INNER JOIN Table A ON TableA.col_match = TableB.col_match</span></pre><figure class="kb kc kd ke fd ii er es paragraph-image"><div class="er es kx"><img src="../Images/8e94c4a53f15bec597816f87b6598d6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*4av2Mt3yfKnIPiAHfn0xIw.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated">内部连接</figcaption></figure><p id="9731" class="pw-post-body-paragraph jm jn hh iw b ix iy jo jp iz ja jq jr jb js jt ju jd jv jw jx jf jy jz ka jh ha bi translated">2.<strong class="iw hi">完全外连接(FULL JOIN) : </strong>完全外连接将产生左表或右表记录中匹配的所有记录。</p><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="fd85" class="kk kl hh kg b fi km kn l ko kp">SELECT * FROM TableB FULL OUTER JOIN TableA ON TableA.col_match = TableB.col_match</span></pre><figure class="kb kc kd ke fd ii er es paragraph-image"><div class="er es ky"><img src="../Images/ac7585544e2eb1d9d00e86b186bf55e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:610/format:webp/1*SJOYQkDdOvtT7z3kFrNKUg.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated">完全外部连接</figcaption></figure><p id="654b" class="pw-post-body-paragraph jm jn hh iw b ix iy jo jp iz ja jq jr jb js jt ju jd jv jw jx jf jy jz ka jh ha bi translated">3.<strong class="iw hi">左外连接:</strong>左外连接产生左表中的记录集，如果与右表不匹配，则结果为空。</p><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="e0ac" class="kk kl hh kg b fi km kn l ko kp">SELECT * FROM TableA LEFT OUTER JOIN TableB ON TableA.col_match = TableB.col_match</span></pre><p id="83cd" class="pw-post-body-paragraph jm jn hh iw b ix iy jo jp iz ja jq jr jb js jt ju jd jv jw jx jf jy jz ka jh ha bi translated">注意:在这个连接中，顺序很重要。</p><figure class="kb kc kd ke fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kz"><img src="../Images/c1de00d69d016634c51f394b86495955.png" data-original-src="https://miro.medium.com/v2/resize:fit:536/format:webp/1*hQCY9mRsFZufC2auet0vyA.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">左外部连接</figcaption></figure><p id="5356" class="pw-post-body-paragraph jm jn hh iw b ix iy jo jp iz ja jq jr jb js jt ju jd jv jw jx jf jy jz ka jh ha bi translated">4 .<strong class="iw hi">右连接:</strong>右连接与左连接相同，只是表被交换了。</p><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="6da8" class="kk kl hh kg b fi km kn l ko kp">SELECT * FROM TableA RIGHT OUTER JOIN TableB ON TableA.col_match = TableB.col_match</span></pre><figure class="kb kc kd ke fd ii er es paragraph-image"><div class="er es la"><img src="../Images/a75d626da2171cab349ccabd28a2f510.png" data-original-src="https://miro.medium.com/v2/resize:fit:506/format:webp/1*ZD96Lv8kLMReASvvOnKv4Q.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated">右连接</figcaption></figure><ul class=""><li id="e2a3" class="iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl bi translated"><strong class="iw hi">Union:</strong>Union操作符用于组合两个或多个SELECT语句的结果集。</li></ul><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="7db5" class="kk kl hh kg b fi km kn l ko kp">SELECT column_name(s) FROM table1 <br/>UNION<br/>SELECT column_name(s) FROM table2;</span></pre><p id="66fd" class="pw-post-body-paragraph jm jn hh iw b ix iy jo jp iz ja jq jr jb js jt ju jd jv jw jx jf jy jz ka jh ha bi translated">感谢您的阅读。我希望这篇博客对你有所帮助。我将很快发表另一篇关于高级SQL查询的博客。</p><p id="3a60" class="pw-post-body-paragraph jm jn hh iw b ix iy jo jp iz ja jq jr jb js jt ju jd jv jw jx jf jy jz ka jh ha bi translated">快乐编码:)</p></div></div>    
</body>
</html>