<html>
<head>
<title>Expected Goals and Liverpool — An Intro to worldfootballR</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">预期目标和利物浦——世界足球先生简介</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/expected-goals-and-liverpool-an-intro-to-worldfootballr-da1f02c17622?source=collection_archive---------16-----------------------#2021-01-22">https://medium.com/analytics-vidhya/expected-goals-and-liverpool-an-intro-to-worldfootballr-da1f02c17622?source=collection_archive---------16-----------------------#2021-01-22</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="b49d" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">这篇文章是一系列文章的继续，旨在展示从流行的数据网站fbref.com提取世界足球数据的新的<code class="du ix iy iz ja b"><a class="ae jb" href="https://github.com/JaseZiv/worldfootballR" rel="noopener ugc nofollow" target="_blank">worldfootballR</a></code> R包。</h2></div><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es jc"><img src="../Images/031dbd5100f4e906a54da58b916b188d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1036/format:webp/1*vlTLp4tqdIRyI0WeoW117g.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">worldfootballR套餐</figcaption></figure><p id="28c0" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这篇文章旨在分析预期目标和实际目标，主要集中在利物浦。</p><p id="0f66" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">本赛季，利物浦将与几支希望背靠背的球队竞争。我想看看红军本赛季的得分与过去几个赛季相比是否有所不同。</p></div><div class="ab cl kk kl gp km" role="separator"><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp"/></div><div class="hb hc hd he hf"><h1 id="6221" class="kr ks hi bd kt ku kv kw kx ky kz la lb io lc ip ld ir le is lf iu lg iv lh li bi translated">使用<code class="du ix iy iz ja b">worldfootballR</code>提取数据</h1><p id="0ecf" class="pw-post-body-paragraph jo jp hi jq b jr lj ij jt ju lk im jw jx ll jz ka kb lm kd ke kf ln kh ki kj hb bi translated">和往常一样，我们首先安装软件包(如果您还没有这样做的话),并加载分析所需的任何库。</p><pre class="jd je jf jg fd lo ja lp lq aw lr bi"><span id="169a" class="ls ks hi ja b fi lt lu l lv lw">devtools::install_github("JaseZiv/worldfootballR")<br/><strong class="ja hj">library</strong>(tidyverse)<br/><strong class="ja hj">library</strong>(worldfootballR)</span></pre><p id="d97e" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">为了获得比赛结果，包括进球和xG数据，我们可以使用函数<code class="du ix iy iz ja b">get_match_results()</code>。因为我们希望它用于男子超级联赛，所以我们将以下值传递给该函数的参数:</p><pre class="jd je jf jg fd lo ja lp lq aw lr bi"><span id="0bbd" class="ls ks hi ja b fi lt lu l lv lw">xg_data &lt;- get_match_results(country = "ENG", gender = "M", season_end_year = c(2018:2021))</span></pre><p id="1cd1" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我们还可以看到数据的样子:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ly lz di ma bf mb"><div class="er es lx"><img src="../Images/7fcef872fcb82feb03494c91eb7db90c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KFCgEfm50VeDt-Ki1_QSGw.png"/></div></div><figcaption class="jk jl et er es jm jn bd b be z dx translated"><code class="du ix iy iz ja b">get_match_results()</code>的输出</figcaption></figure><p id="3031" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">要获得赛季排名表(包含支持和反对的进球，以及预期进球)，我们可以使用<code class="du ix iy iz ja b">get_season_team_stats()</code>函数，并将以下值传递给函数参数:</p><pre class="jd je jf jg fd lo ja lp lq aw lr bi"><span id="d899" class="ls ks hi ja b fi lt lu l lv lw">end_season_summary &lt;- get_season_team_stats(country = "ENG", gender = "M", season_end_year = c(2018:2021), stat_type = "league_table")</span></pre><p id="e474" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">并检查数据:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ly lz di ma bf mb"><div class="er es mc"><img src="../Images/5fd3031f0898a9b75a6141e34e38fd9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JkISv8FKT0-hA9YiftrY-g.png"/></div></div><figcaption class="jk jl et er es jm jn bd b be z dx translated"><code class="du ix iy iz ja b">get_season_team_stats()</code>的输出</figcaption></figure><h1 id="447e" class="kr ks hi bd kt ku md kw kx ky me la lb io mf ip ld ir mg is lf iu mh iv lh li bi translated">分析</h1><p id="2c81" class="pw-post-body-paragraph jo jp hi jq b jr lj ij jt ju lk im jw jx ll jz ka kb lm kd ke kf ln kh ki kj hb bi translated">那么预期目标是什么呢？来自<a class="ae jb" href="https://www.optasports.com/services/analytics/advanced-metrics/" rel="noopener ugc nofollow" target="_blank"> Opta体育</a>；</p><blockquote class="mi mj mk"><p id="02a3" class="jo jp ml jq b jr js ij jt ju jv im jw mm jy jz ka mn kc kd ke mo kg kh ki kj hb bi translated">预期进球(XG)根据几个变量来衡量射门质量，如助攻类型、射门角度和距离球门的距离、是否是头球射门以及是否被定义为大概率射门。</p><p id="e6d6" class="jo jp ml jq b jr js ij jt ju jv im jw mm jy jz ka mn kc kd ke mo kg kh ki kj hb bi translated">将一名球员或一支球队的预期进球加起来，可以给我们一个指标，说明在给定他们的射门次数的情况下，一名球员或一支球队平均应该进多少球。</p></blockquote><p id="549c" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">为什么我们在这篇文章中关注预期目标？</p><p id="b375" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">从下面可以看出，在2017/18至2019/20赛季，球队得分超过预期目标的越多，他们在赛季结束时的积分就越多，这表明了一种相当强的正相关关系。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ly lz di ma bf mb"><div class="er es mp"><img src="../Images/8f6c6034835b06acaad8b8451e9853b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*2biolhArgct6qYrp.png"/></div></div></figure><h1 id="9a63" class="kr ks hi bd kt ku md kw kx ky me la lb io mf ip ld ir mg is lf iu mh iv lh li bi translated">红军追踪的怎么样了？</h1><p id="a920" class="pw-post-body-paragraph jo jp hi jq b jr lj ij jt ju lk im jw jx ll jz ka kb lm kd ke kf ln kh ki kj hb bi translated">这就把我们带到了利物浦。下面我们可以绘制出利物浦在过去四个赛季的每场比赛后的累积进步，可以看到在本赛季之前的三个赛季中，红军都超过了他们的预期进球数，上赛季的冠军球队超过了他们整个赛季的预期进球数。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ly lz di ma bf mb"><div class="er es mp"><img src="../Images/38050c730c64e2882c9bc6bea891bd9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*qiDOibWbjfU7Fkjk.png"/></div></div></figure><p id="04bd" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">本赛季，除了在塞尔赫斯特公园球场7-0大胜水晶宫(xG为2.2)之外，利物浦的进球数与预期目标非常接近。本赛季红军射手们只是不能转化那些罪恶感边缘的机会，这可能解释了榜首的挣扎。</p><h1 id="9df1" class="kr ks hi bd kt ku md kw kx ky me la lb io mf ip ld ir mg is lf iu mh iv lh li bi translated">包裹</h1><p id="7165" class="pw-post-body-paragraph jo jp hi jq b jr lj ij jt ju lk im jw jx ll jz ka kb lm kd ke kf ln kh ki kj hb bi translated">这是一系列分析中的第二篇文章，这些分析将利用worldfootballR包中的各种数据提取功能。</p><p id="1028" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在这里，我们看到利物浦似乎已经回归到平均水平，并努力获得比他们预期的高得多的分数，这是基于他们的投篮。这与前三个赛季的进球超过预期形成对比。</p><p id="6e22" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">一如既往，任何关于作品或R包的问题/评论，请随时通过常规渠道联系。</p><p id="ddab" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这篇文章的完整版本出现在dontblamethedata.com的这里</p></div></div>    
</body>
</html>