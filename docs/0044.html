<html>
<head>
<title>String Similarity for Fraud Prevention using Levenshtein Distance</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Levenshtein距离防止欺诈的字符串相似性</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/string-similarity-for-fraud-prevention-using-levenshtein-distance-3a05fd417e8e?source=collection_archive---------14-----------------------#2021-01-02">https://medium.com/analytics-vidhya/string-similarity-for-fraud-prevention-using-levenshtein-distance-3a05fd417e8e?source=collection_archive---------14-----------------------#2021-01-02</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><figure class="hg hh ez fb hi hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es hf"><img src="../Images/ac7de50c10ecd7258d1d4333d6244303.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aRWRy8PM_idNd7jhnBZa6Q.png"/></div></div><figcaption class="hq hr et er es hs ht bd b be z dx translated">图片来源:作者</figcaption></figure><div class=""/></div><div class="ab cl it iu go iv" role="separator"><span class="iw bw bk ix iy iz"/><span class="iw bw bk ix iy iz"/><span class="iw bw bk ix iy"/></div><div class="ha hb hc hd he"><h1 id="1e9d" class="ja jb hw bd jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx bi translated">背景:欺诈是一个价值240亿美元的行业</h1><p id="98c6" class="pw-post-body-paragraph jy jz hw ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ha bi translated">根据<a class="ae kw" href="https://dataprot.net/statistics/credit-card-fraud-statistics/#:~:text=130%2C928%20credit%20card%20fraud%20reports,%2424.26%20billion." rel="noopener ugc nofollow" target="_blank"> DataProt </a>的数据，2018年，信用卡欺诈给全球经济造成了243亿美元的损失——是的，10亿美元。几乎每个人都曾是信用卡欺诈的受害者，或者认识这样的人。</p><h2 id="ff9a" class="kx jb hw bd jc ky kz la jg lb lc ld jk kj le lf jo kn lg lh js kr li lj jw lk bi translated">但是谁买单呢？</h2><p id="a268" class="pw-post-body-paragraph jy jz hw ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ha bi translated">许多人认为银行利用某种“欺诈保险”来补偿持卡人，然而在99%的情况下，费用都落在完成订单的商家身上。这就是商家欺诈防范的用武之地，也是大部分工作完成的地方。</p><p id="58db" class="pw-post-body-paragraph jy jz hw ka b kb ll kd ke kf lm kh ki kj ln kl km kn lo kp kq kr lp kt ku kv ha bi translated">我担任电子商务欺诈防范负责人已经5年了，随着时间的推移，我发现自己越来越需要定制解决方案来解决传统工具无法提供的问题，而来自非技术背景在这方面是一个巨大的挑战；</p><p id="8e0e" class="pw-post-body-paragraph jy jz hw ka b kb ll kd ke kf lm kh ki kj ln kl km kn lo kp kq kr lp kt ku kv ha bi translated">于是，我开始学习Python，结果已经不可思议了！</p><p id="e082" class="pw-post-body-paragraph jy jz hw ka b kb ll kd ke kf lm kh ki kj ln kl km kn lo kp kq kr lp kt ku kv ha bi translated">这里有一个例子。</p><h2 id="5512" class="kx jb hw bd jc ky kz la jg lb lc ld jk kj le lf jo kn lg lh js kr li lj jw lk bi translated">问题是</h2><p id="ddc7" class="pw-post-body-paragraph jy jz hw ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ha bi translated">我前面提到的一个问题是，订单上的电子邮件地址与所提供的名称有多“相似”。我一直直觉地怀疑，一个不匹配的名字和电子邮件(如约翰·史密斯，艾比·米勒@ <domain>)是一个小小的危险信号(尤其是对一个新客户来说)，但我从来没有办法证明它，更不用说检测它了。</domain></p><h1 id="d801" class="ja jb hw bd jc jd lq jf jg jh lr jj jk jl ls jn jo jp lt jr js jt lu jv jw jx bi translated">输入Levenshtein距离</h1><p id="1f97" class="pw-post-body-paragraph jy jz hw ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ha bi translated">更确切地说，是<a class="ae kw" href="https://github.com/miohtama/python-Levenshtein" rel="noopener ugc nofollow" target="_blank"> python-Levenshtein </a>包。</p></div><div class="ab cl it iu go iv" role="separator"><span class="iw bw bk ix iy iz"/><span class="iw bw bk ix iy iz"/><span class="iw bw bk ix iy"/></div><div class="ha hb hc hd he"><p id="c400" class="pw-post-body-paragraph jy jz hw ka b kb ll kd ke kf lm kh ki kj ln kl km kn lo kp kq kr lp kt ku kv ha bi translated">简而言之，Levenshtein距离是一种计算将一个字符串转换为另一个字符串所需的单个字符变化(增加、减少和替换)次数的方法。在最基本的层次上，它返回将字符串A转换为字符串b所需转换次数的整数。</p><h2 id="0845" class="kx jb hw bd jc ky kz la jg lb lc ld jk kj le lf jo kn lg lh js kr li lj jw lk bi translated">装置</h2><pre class="lv lw lx ly fd lz ma mb mc aw md bi"><span id="e2b8" class="kx jb hw ma b fi me mf l mg mh">pip install python-Levenshtein</span></pre><h1 id="9de6" class="ja jb hw bd jc jd lq jf jg jh lr jj jk jl ls jn jo jp lt jr js jt lu jv jw jx bi translated">密码</h1><p id="ff4f" class="pw-post-body-paragraph jy jz hw ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ha bi translated">我创建了一个小函数，将电子邮件地址和姓名作为输入，删除电子邮件域，使用一些正则表达式去掉数字和标点符号，然后计算Levenshtein距离与电子邮件地址长度的比例<em class="mi">(控制字符串长度的变化)</em>。本质上，返回的值将被用作机器学习模型和分析中的一个特征。</p><pre class="lv lw lx ly fd lz ma mb mc aw md bi"><span id="1348" class="kx jb hw ma b fi me mf l mg mh">import re<br/>import Levenshtein</span><span id="13e0" class="kx jb hw ma b fi mj mf l mg mh">def compare_email_name(email, name):<br/>    <br/>    lower_name = str.lower(name)<br/>    lower_email = str.lower(str.split(email,'@')[0])<br/>    nopunc_email = re.sub('[!@#$%^&amp;*()-=+.,]', ' ', lower_email)<br/>    nonum_email = re.sub(r'[0-9]+', '', nopunc_email).strip()</span><span id="c9b8" class="kx jb hw ma b fi mj mf l mg mh">    distance = round(Levenshtein.distance(lower_name,nonum_email) /        len(email),1)<br/>    return distance</span></pre><h1 id="5138" class="ja jb hw bd jc jd lq jf jg jh lr jj jk jl ls jn jo jp lt jr js jt lu jv jw jx bi translated">结果！</h1><p id="5310" class="pw-post-body-paragraph jy jz hw ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ha bi translated"><em class="mi">一个快速的dislaimer:虽然是为了模拟真实的事务数据集而构建的，但是数据集是合成的。</em></p><p id="aa30" class="pw-post-body-paragraph jy jz hw ka b kb ll kd ke kf lm kh ki kj ln kl km kn lo kp kq kr lp kt ku kv ha bi translated">我发现的其实比我预想的要有冲击力的多！下面是欺诈率(在本数据集的情况下，以SEK为单位)，按上述函数返回的值分组。</p><figure class="lv lw lx ly fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es mk"><img src="../Images/ab4f4eaafa2af65e0dd1cb904badd550.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Piw2hMDTjkz0jbgx1GFwnw.png"/></div></div></figure><p id="e395" class="pw-post-body-paragraph jy jz hw ka b kb ll kd ke kf lm kh ki kj ln kl km kn lo kp kq kr lp kt ku kv ha bi translated">我从上面的图中得到的是，任何需要更改超过原始电子邮件地址长度40%的名称到电子邮件的转换都更有可能(比如，<em class="mi">更有可能</em>)是欺诈性的。</p><h1 id="4ca3" class="ja jb hw bd jc jd lq jf jg jh lr jj jk jl ls jn jo jp lt jr js jt lu jv jw jx bi translated"><strong class="ak">总之:</strong></h1><p id="f348" class="pw-post-body-paragraph jy jz hw ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ha bi translated">我在这方面还有很多工作要做，比如完善产出指标的正确计算，在真实数据上进行测试，并将这一变量转化为生产模型，但我认为这是一个很好的起点。试试看，让我知道你的想法！</p><p id="24c8" class="pw-post-body-paragraph jy jz hw ka b kb ll kd ke kf lm kh ki kj ln kl km kn lo kp kq kr lp kt ku kv ha bi translated">附:这是我的第一篇帖子——如果你已经看到这里，非常感谢你的阅读！</p></div></div>    
</body>
</html>