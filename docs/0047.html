<html>
<head>
<title>Image Processing, Computer Vision, Machine Learning With OpenCV</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用OpenCV的图像处理、计算机视觉、机器学习</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/image-processing-computer-vision-machine-learning-with-opencv-cdde5cd24267?source=collection_archive---------17-----------------------#2021-01-02">https://medium.com/analytics-vidhya/image-processing-computer-vision-machine-learning-with-opencv-cdde5cd24267?source=collection_archive---------17-----------------------#2021-01-02</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><h1 id="9b25" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">什么是OpenCV</h1><p id="26d7" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">OpenCV是一个巨大的开源库，用于计算机视觉、机器学习和图像处理。OpenCV支持多种编程语言，如Python、C++、Java等。它可以处理图像和视频来识别物体、人脸，甚至是人的笔迹。当它与各种库集成时，比如Numpy，这是一个针对数值运算高度优化的库，那么你的武器库中的武器数量就会增加，也就是说，在Numpy中可以做的任何操作都可以与OpenCV结合。</p><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es ka"><img src="../Images/29d1a8f3889d07dea9250981fe703c39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*txUGymQ_6y1Kg9vf.jpg"/></div></div></figure><h1 id="ad6b" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">OpenCv简介</h1><p id="3cad" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">OpenCV是最流行的计算机视觉库之一。如果你想在计算机视觉领域开始你的旅程，那么彻底理解OpenCV的概念是至关重要的。</p><h2 id="c6a1" class="km if hh bd ig kn ko kp ik kq kr ks io jn kt ku is jr kv kw iw jv kx ky ja kz bi translated">安装OpenCv</h2><p id="1fc6" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">OpenCV可以使用pip命令安装。</p><blockquote class="la lb lc"><p id="92a7" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated">pip安装opencv-python</p></blockquote><h2 id="90c4" class="km if hh bd ig kn ko kp ik kq kr ks io jn kt ku is jr kv kw iw jv kx ky ja kz bi translated">导入OpenCv</h2><blockquote class="la lb lc"><p id="2fe3" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated">导入cv2</p><p id="f436" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated">这是我们将在整个博客中处理的原始图像。</p></blockquote><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es lm"><img src="../Images/2beaaa6b82bd20d7635f17bd3937698f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*sA9kgkYRYrzXzQ7Y.jpg"/></div></div></figure><p id="e8c8" class="pw-post-body-paragraph jc jd hh je b jf le jh ji jj lf jl jm jn lh jp jq jr lj jt ju jv ll jx jy jz ha bi translated">让我们从使用OpenCV读取图像的简单任务开始。</p><h2 id="bc95" class="km if hh bd ig kn ko kp ik kq kr ks io jn kt ku is jr kv kw iw jv kx ky ja kz bi translated">读取图像</h2><blockquote class="la lb lc"><p id="4183" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b"><strong class="je hi">import</strong></code> <code class="du ln lo lp lq b">cv2</code></p><p id="b408" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b"># Reading the image using imread() function</code></p><p id="6f9e" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b">image <strong class="je hi">=</strong></code> <code class="du ln lo lp lq b">cv2.imread('image.png')</code></p><p id="8f69" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b"># Extracting the height and width of an image</code></p><p id="b2a8" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b">h, w <strong class="je hi">=</strong></code> <code class="du ln lo lp lq b">image.shape[:2]</code></p><p id="4a88" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b"># Displaying the height and width</code></p><p id="1623" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b">print("Height = {}, Width = {}".format(h, w))</code></p></blockquote><p id="388e" class="pw-post-body-paragraph jc jd hh je b jf le jh ji jj lf jl jm jn lh jp jq jr lj jt ju jv ll jx jy jz ha bi translated">现在我们将集中于提取单个像素的RGB值。<br/>注意——OpenCV按照BGR顺序排列频道。因此第0个值将对应于蓝色像素，而不是红色像素。</p><h2 id="840b" class="km if hh bd ig kn ko kp ik kq kr ks io jn kt ku is jr kv kw iw jv kx ky ja kz bi translated"><strong class="ak">提取像素的RGB值</strong></h2><blockquote class="la lb lc"><p id="6c00" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b"># Extracting RGB values.</code></p><p id="8f41" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b"># Here we have randomly chosen a pixel</code></p><p id="7c5d" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b"># by passing in 100, 100 for height and width.</code></p><p id="acf0" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b">(B, G, R) <strong class="je hi">=</strong></code> <code class="du ln lo lp lq b">image[100, 100]</code></p><p id="5f1e" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b"># Displaying the pixel values</code></p><p id="3f13" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b">print("R = {}, G = {}, B = {}".format(R, G, B))</code></p><p id="63b4" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b"># We can also pass the channel to extract</code></p><p id="e956" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b"># the value for a specific channel</code></p><p id="8655" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b">B <strong class="je hi">=</strong></code> <code class="du ln lo lp lq b">image[100, 100, 0]</code></p><p id="5e8e" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b">print("B = {}".format(B))</code></p></blockquote><h2 id="f3ac" class="km if hh bd ig kn ko kp ik kq kr ks io jn kt ku is jr kv kw iw jv kx ky ja kz bi translated"><strong class="ak">提取感兴趣区域</strong></h2><blockquote class="la lb lc"><p id="031e" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b"># We will calculate the region of interest</code></p><p id="e32f" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b"># by slicing the pixels of the image</code></p><p id="bfc8" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b">roi <strong class="je hi">=</strong></code>T3<code class="du ln lo lp lq b">: 500, 200</code>T5】</p></blockquote><figure class="kb kc kd ke fd kf er es paragraph-image"><div class="er es lr"><img src="../Images/ba703f4f339617873f03d21e4138a638.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/0*dvmrxMnaayPRBlTi.png"/></div></figure><h2 id="45a2" class="km if hh bd ig kn ko kp ik kq kr ks io jn kt ku is jr kv kw iw jv kx ky ja kz bi translated"><strong class="ak">调整图像大小</strong></h2><blockquote class="la lb lc"><p id="809d" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b"># resize() function takes 2 parameters,</code></p><p id="054f" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b"># the image and the dimensions</code></p><p id="8cab" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b">resize <strong class="je hi">=</strong></code>T9】</p></blockquote><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es ls"><img src="../Images/5a924a61c4e4d0abe6ae6c7e0c909fee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*F8JonOO7MdQEkjnJ.png"/></div></div></figure><p id="6ce1" class="pw-post-body-paragraph jc jd hh je b jf le jh ji jj lf jl jm jn lh jp jq jr lj jt ju jv ll jx jy jz ha bi translated">这种方法的问题是不能保持图像的纵横比。所以我们需要做一些额外的工作来保持一个合适的纵横比。</p><blockquote class="la lb lc"><p id="a4bb" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b"># Calculating the ratio</code></p><p id="4de0" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b">ratio <strong class="je hi">=</strong></code>T12<code class="du ln lo lp lq b"><strong class="je hi">/</strong></code>T14】</p><p id="a45d" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b"># Creating a tuple containing width and height</code></p><p id="722c" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b">dim <strong class="je hi">=</strong></code> <code class="du ln lo lp lq b">(800, int(h <strong class="je hi">*</strong></code> <code class="du ln lo lp lq b">ratio))</code></p><p id="6b7f" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b"># Resizing the image</code></p><p id="8d2f" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b">resize_aspect <strong class="je hi">=</strong></code> <code class="du ln lo lp lq b">cv2.resize(image, dim)</code></p></blockquote><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es ls"><img src="../Images/cc178411104b82434331fc12821761f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*PBULPeZsFhf0MEby.png"/></div></div></figure><h2 id="5a6a" class="km if hh bd ig kn ko kp ik kq kr ks io jn kt ku is jr kv kw iw jv kx ky ja kz bi translated"><strong class="ak">旋转图像</strong></h2><blockquote class="la lb lc"><p id="f2a3" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b"># Calculating the center of the image</code></p><p id="f53e" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b">center <strong class="je hi">=</strong></code> <code class="du ln lo lp lq b">(w <strong class="je hi">//</strong></code> <code class="du ln lo lp lq b">2, h <strong class="je hi">//</strong></code> <code class="du ln lo lp lq b">2)</code></p><p id="201b" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b"># Generating a rotation matrix</code></p><p id="661d" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b">matrix <strong class="je hi">=</strong></code>T29】</p><p id="c789" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b"># Performing the affine transformation</code></p><p id="d7fa" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b">rotated <strong class="je hi">=</strong></code> <code class="du ln lo lp lq b">cv2.warpAffine(image, matrix, (w, h))</code></p></blockquote><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es lm"><img src="../Images/dbdac490cd2678177dda8280edc4d9ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*cD1UaVW3EKXwwUBO.png"/></div></div></figure><h2 id="e0a8" class="km if hh bd ig kn ko kp ik kq kr ks io jn kt ku is jr kv kw iw jv kx ky ja kz bi translated"><strong class="ak">画一个长方形</strong></h2><p id="54df" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">这是一个就地操作。</p><blockquote class="la lb lc"><p id="ee38" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b"># We are copying the original image,</code></p><p id="75ae" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b"># as it is an in-place operation.</code></p><p id="af51" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b">output <strong class="je hi">=</strong></code> <code class="du ln lo lp lq b">image.copy()</code></p><p id="597f" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b"># Using the rectangle() function to create a rectangle.</code></p><p id="08db" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b">rectangle <strong class="je hi">=</strong></code> <code class="du ln lo lp lq b">cv2.rectangle(output, (1500, 900),</code></p><p id="5e4e" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b">(600, 400), (255, 0, 0), 2)</code></p></blockquote><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es lm"><img src="../Images/4920a09af51373398f8fb6dc0a5d345e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*u245m-M1UAxvwCYh.png"/></div></div></figure><p id="8a1a" class="pw-post-body-paragraph jc jd hh je b jf le jh ji jj lf jl jm jn lh jp jq jr lj jt ju jv ll jx jy jz ha bi translated">它接受5个参数</p><ul class=""><li id="d2d5" class="lt lu hh je b jf le jj lf jn lv jr lw jv lx jz ly lz ma mb bi translated">图像</li><li id="1acb" class="lt lu hh je b jf mc jj md jn me jr mf jv mg jz ly lz ma mb bi translated">左上角坐标</li><li id="2540" class="lt lu hh je b jf mc jj md jn me jr mf jv mg jz ly lz ma mb bi translated">右下角坐标</li><li id="32be" class="lt lu hh je b jf mc jj md jn me jr mf jv mg jz ly lz ma mb bi translated">颜色(BGR格式)</li><li id="f57e" class="lt lu hh je b jf mc jj md jn me jr mf jv mg jz ly lz ma mb bi translated">线条宽度</li></ul><h2 id="3aae" class="km if hh bd ig kn ko kp ik kq kr ks io jn kt ku is jr kv kw iw jv kx ky ja kz bi translated"><strong class="ak">显示文本</strong></h2><p id="e938" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">这也是一种就地操作</p><blockquote class="la lb lc"><p id="ea7b" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b"># Copying the original image</code></p><p id="5e96" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b">output <strong class="je hi">=</strong></code> <code class="du ln lo lp lq b">image.copy()</code></p><p id="d899" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b"># Adding the text using putText() function</code></p><p id="8076" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b">text <strong class="je hi">=</strong></code> <code class="du ln lo lp lq b">cv2.putText(output, 'OpenCV Demo', (500, 550),</code></p><p id="e054" class="jc jd ld je b jf le jh ji jj lf jl jm lg lh jp jq li lj jt ju lk ll jx jy jz ha bi translated"><code class="du ln lo lp lq b">cv2.FONT_HERSHEY_SIMPLEX, 4, (255, 0, 0), 2)</code></p></blockquote><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es lm"><img src="../Images/bdbaed3bdbff2fbbf7b74627f0140317.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*6oKF0MXuoIraL2Ie.png"/></div></div></figure><p id="c4a3" class="pw-post-body-paragraph jc jd hh je b jf le jh ji jj lf jl jm jn lh jp jq jr lj jt ju jv ll jx jy jz ha bi translated">它接受7个参数</p><ol class=""><li id="b9c9" class="lt lu hh je b jf le jj lf jn lv jr lw jv lx jz mh lz ma mb bi translated">图像</li><li id="8caf" class="lt lu hh je b jf mc jj md jn me jr mf jv mg jz mh lz ma mb bi translated">要显示的文本</li><li id="1c59" class="lt lu hh je b jf mc jj md jn me jr mf jv mg jz mh lz ma mb bi translated">左下角坐标，文本应该从这里开始</li><li id="25d6" class="lt lu hh je b jf mc jj md jn me jr mf jv mg jz mh lz ma mb bi translated">字体</li><li id="d73b" class="lt lu hh je b jf mc jj md jn me jr mf jv mg jz mh lz ma mb bi translated">字体大小</li><li id="af4e" class="lt lu hh je b jf mc jj md jn me jr mf jv mg jz mh lz ma mb bi translated">颜色(BGR格式)</li><li id="7565" class="lt lu hh je b jf mc jj md jn me jr mf jv mg jz mh lz ma mb bi translated">线条宽度</li></ol></div></div>    
</body>
</html>