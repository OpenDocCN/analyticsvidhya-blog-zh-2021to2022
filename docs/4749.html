<html>
<head>
<title>Why SQL and How do we use it?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么使用SQL，我们如何使用它？</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/why-sql-and-how-do-we-use-it-ec66f8f4338a?source=collection_archive---------2-----------------------#2022-02-01">https://medium.com/analytics-vidhya/why-sql-and-how-do-we-use-it-ec66f8f4338a?source=collection_archive---------2-----------------------#2022-02-01</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="fe7e" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">SQL在数据和业务专业人员中的重要性</h2></div><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es iw"><img src="../Images/6ab2e9c4f9d1d952b1e57a8304a0a9f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0tP7spKkOpZSB_ZP-okDmg.jpeg"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx translated">安妮·斯普拉特在<a class="ae jm" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="464f" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">SQL或<em class="kj">结构化查询语言</em>是处理<strong class="jp hi">关系数据库的标准语言。</strong>大多数时候，SQL被用来检索数据，更新表格，或者对数据库或表格的结构进行操作。</p><h1 id="8409" class="kk kl hh bd km kn ko kp kq kr ks kt ku in kv io kw iq kx ir ky it kz iu la lb bi translated">为什么重要？</h1><p id="1371" class="pw-post-body-paragraph jn jo hh jp b jq lc ii js jt ld il jv jw le jy jz ka lf kc kd ke lg kg kh ki ha bi translated">世界上大部分的原始数据被组织在被称为关系数据库的表格集合中。这个世界的原始数据可以是网购记录、银行系统、图书管理系统、电子病历等等的数据。为了有效地从数据库中获取这些数据，需要知道如何使用SQL。SQL可以帮助从这些数据库中获取和提取数据。</p><p id="57c3" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">几乎所有处理数据的专业人员都需要知道如何使用SQL，例如数据库开发人员、数据工程师、数据分析师、商业智能、数据科学家以及其他在日常工作中与数据库交互的工作。</p><h1 id="444b" class="kk kl hh bd km kn ko kp kq kr ks kt ku in kv io kw iq kx ir ky it kz iu la lb bi translated"><strong class="ak">我们如何使用它？</strong></h1><p id="88e6" class="pw-post-body-paragraph jn jo hh jp b jq lc ii js jt ld il jv jw le jy jz ka lf kc kd ke lg kg kh ki ha bi translated">在跳到如何用SQL编写查询之前。最好了解一些SQL命令。</p><p id="85d3" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi">命令描述</strong></p><p id="5030" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi">创建</strong> - &gt;在数据库中创建一个新表、一个表的视图或另一个对象。</p><p id="d1e5" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi">修改</strong> - &gt;修改一个现有的数据库对象，比如一个表。</p><p id="2308" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi"> DROP </strong> - &gt;删除整个表格、表格的视图或数据库中的其他对象。</p><p id="7e83" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi">选择</strong> - &gt;从一个或多个表格中检索某些记录。</p><p id="7884" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi">插入</strong> - &gt;创建记录。</p><p id="5076" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi">更新</strong> - &gt;修改一条记录。</p><p id="0c0d" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi">删除</strong> - &gt;删除一条记录。</p><p id="df03" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">这些SQL命令主要分为四类:</p><ol class=""><li id="d178" class="lh li hh jp b jq jr jt ju jw lj ka lk ke ll ki lm ln lo lp bi translated">数据定义语言</li><li id="b23a" class="lh li hh jp b jq lq jt lr jw ls ka lt ke lu ki lm ln lo lp bi translated">DQl —数据查询语言</li><li id="51f2" class="lh li hh jp b jq lq jt lr jw ls ka lt ke lu ki lm ln lo lp bi translated">DML —数据操作语言</li><li id="f179" class="lh li hh jp b jq lq jt lr jw ls ka lt ke lu ki lm ln lo lp bi translated">数据控制语言</li></ol><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es lv"><img src="../Images/000c4491fc88546c1119dce342c1b279.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*YYecNK3DoxOCyDUs.png"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx translated">图片由<a class="ae jm" href="https://www.geeksforgeeks.org/sql-ddl-dql-dml-dcl-tcl-commands/" rel="noopener ugc nofollow" target="_blank"> geeksforgeeks </a></figcaption></figure><p id="d0fa" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">在这里，我将主要用DDL和DML解释一下DQL，因为这些是我经常使用的命令类别。这些可能也是人们在开始学习SQL时最常用的命令类别。</p><p id="ce33" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi"> DDL </strong>用于<strong class="jp hi">创建、修改和删除数据库结构，而不是数据。</strong>数据库管理员和数据库开发人员可能会在日常工作中经常使用该命令类别。</p><p id="6dfa" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi"> DML </strong>用于<strong class="jp hi">存储、修改、检索、删除和更新数据库</strong>中的数据。类似于DDL，数据库管理员和数据库开发人员使用这个命令类别，但是不排除其他角色也可以使用这个命令，只要他们有权限这样做。</p><p id="c9a3" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi"> DQL </strong>用于<strong class="jp hi">对模式对象</strong>内的数据执行查询。几乎所有的数据角色都使用这个命令类别——从数据库开发人员/工程师到商业智能和数据分析师。在SELECT语句中添加FROM或WHERE数据操纵器时，<strong class="jp hi"> DQL </strong>通常被视为DML 的一部分。</p><p id="94da" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">如果你想知道更多关于这个和其他两个类别的信息，你可以访问<a class="ae jm" href="https://www.geeksforgeeks.org/sql-ddl-dql-dml-dcl-tcl-commands/" rel="noopener ugc nofollow" target="_blank"> SQL | DDL，DQL，DML，DCL和TCL命令——GeeksforGeeks</a>！</p><p id="20e1" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">在这里，我将向您解释在使用SQL查询数据时广泛使用的DQL子句。在此之前，让我们了解一下<strong class="jp hi"> SQL命令</strong>和<strong class="jp hi"> SQL子句</strong>的不同之处。假设一个查询作为一个语句。命令本身就是陈述。然而，为了有一个完整的陈述，我们需要有一个陈述的条件。这个条件就是子句。一旦语句完成，我们只需要执行这条语句就可以得到我们想要的东西。因此，我们应该使用SQL命令函数来实现这一点。在DQL的情况下，命令是SELECT。</p><h1 id="9bb5" class="kk kl hh bd km kn ko kp kq kr ks kt ku in kv io kw iq kx ir ky it kz iu la lb bi translated">DQL和DML命令类别中的SQL子句:</h1><p id="8189" class="pw-post-body-paragraph jn jo hh jp b jq lc ii js jt ld il jv jw le jy jz ka lf kc kd ke lg kg kh ki ha bi translated">以下是我个人在日常工作中使用的条款。</p><p id="efdb" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">1.<strong class="jp hi">截然不同的</strong></p><p id="ba65" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">这用于仅从表中返回唯一值，因为一列通常包含许多重复值。</p><pre class="ix iy iz ja fd lw lx ly lz aw ma bi"><span id="2bed" class="mb kl hh lx b fi mc md l me mf">SELECT DISTINCT region_id, region_name</span></pre><p id="a28b" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">2.<strong class="jp hi">来自</strong></p><p id="a06c" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">这是SELECT语句中的一个<strong class="jp hi">强制子句</strong>，用于指定我们想要的数据表。例如，我们想知道数据中的区域列表。因此，我们需要使用FROM来指定国家表</p><pre class="ix iy iz ja fd lw lx ly lz aw ma bi"><span id="bf2d" class="mb kl hh lx b fi mc md l me mf">SELECT DISTINCT region_id<br/><strong class="lx hi">FROM </strong>countries</span></pre><p id="dbc4" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">2.<strong class="jp hi">哪里有</strong></p><p id="985e" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">这允许您基于布尔表达式选择行。结果中只返回表达式计算结果为TRUE的行。以下面的例子为例，我们只需要回收百分比超过50%的国家的数据。</p><pre class="ix iy iz ja fd lw lx ly lz aw ma bi"><span id="d2c0" class="mb kl hh lx b fi mc md l me mf">SELECT country_id, recycling_percent<br/>FROM treatment<br/><strong class="lx hi">WHERE</strong> recycling_percent &gt; 50;</span></pre><p id="0d64" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">4.<strong class="jp hi">分组依据</strong></p><p id="ac6e" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">这会将一个结果分组为子集，这些子集在一个或多个列中具有匹配值。我们通常将GROUP BY子句与聚合表达式结合使用。</p><pre class="ix iy iz ja fd lw lx ly lz aw ma bi"><span id="4ad6" class="mb kl hh lx b fi mc md l me mf">SELECT years, item_category, sum(sales) as sales<br/>FROM sales_store<br/>WHERE order_status = "Finished" AND years = "2011"<br/><strong class="lx hi">GROUP BY</strong> years, item_category<br/>--another way to write GROUP BY in here is ilke this GROUP BY 1,2<br/>-- 1 and 2 is the selected column order in the SELECT statement</span></pre><p id="4c73" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">5.<strong class="jp hi">拥有</strong></p><p id="e73d" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">这限制了分组的结果。Having子句实际上类似于WHERE子句，但是这个子句用于聚合列。</p><pre class="ix iy iz ja fd lw lx ly lz aw ma bi"><span id="e443" class="mb kl hh lx b fi mc md l me mf">SELECT customer_id, customer_email, count(orders_id) AS num_orders<br/>FROM orders<br/>GROUP BY 1,2<br/><strong class="lx hi">HAVING</strong> count(orders_id) &gt; 4</span></pre><p id="2edc" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">6.<strong class="jp hi">排序依据</strong></p><p id="50e6" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">这允许您指定行在结果集中出现的顺序。使用Having子句中的示例，我们希望首先看到订单数量最多的客户。</p><pre class="ix iy iz ja fd lw lx ly lz aw ma bi"><span id="dc0d" class="mb kl hh lx b fi mc md l me mf">SELECT customer_id, customer_email, count(orders_id) AS num_orders<br/>FROM orders<br/>GROUP BY 1,2<br/>HAVING count(orders_id) &gt; 4<br/><strong class="lx hi">ORDER BY</strong> 3 DESC </span><span id="bbcd" class="mb kl hh lx b fi mg md l me mf">--use DESC so it is a descending order, ORDER BY default is an ascending order or ASC</span></pre><p id="59d2" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">7.<strong class="jp hi">作</strong></p><p id="4866" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">这为每个列和表提供了一个别名。想象一下，如果你有一个很长的表名，或者你需要为聚集的列取一个新的名字，就像Having和ORDER BY中的例子一样，我们需要使用AS来使它简短易读。</p><pre class="ix iy iz ja fd lw lx ly lz aw ma bi"><span id="4206" class="mb kl hh lx b fi mc md l me mf">SELECT customer_id, customer_email, count(orders_id) <strong class="lx hi">AS</strong> num_orders<br/>FROM order_table_from_2011_updated_on_2019 <strong class="lx hi">AS</strong> orders<br/>GROUP BY 1,2<br/>HAVING count(orders_id) &gt; 4<br/>ORDER BY 3 DESC</span></pre><p id="e9c2" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">8.<strong class="jp hi">极限</strong></p><p id="7fe7" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">这用于设置我们将在结果中获得的最大行数的限制。例如，我们希望使用ORDER BY中的相同查询示例获得订单数量最多的前5名客户。</p><pre class="ix iy iz ja fd lw lx ly lz aw ma bi"><span id="0eb8" class="mb kl hh lx b fi mc md l me mf">SELECT customer_id, customer_email, count(orders_id) AS num_orders<br/>FROM orders<br/>GROUP BY 1,2<br/>HAVING count(orders_id) &gt; 4<br/>ORDER BY 3 DESC<br/><strong class="lx hi">LIMIT</strong> 5</span></pre><p id="eb70" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">9.<strong class="jp hi">滤镜</strong></p><p id="977d" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">这是用于聚合函数的修饰符，用于限制聚合中使用的值。例如，我们想知道商店中每个类别的商品数量。</p><pre class="ix iy iz ja fd lw lx ly lz aw ma bi"><span id="9e41" class="mb kl hh lx b fi mc md l me mf">SELECT shop_id, <br/>       count(item_id) <strong class="lx hi">FILTER</strong> (category = 'Shoes') as num_shoes_item,      count(item_id) <strong class="lx hi">FILTER</strong> (category = 'Pants') as num_pants_item,<br/>count(item_id) <strong class="lx hi">FILTER</strong> (category = 'T-shirt') as num_shirt_item<br/>FROM orders<br/>GROUP BY 1<br/>HAVING count(orders_id) &gt; 4<br/>ORDER BY 3 DESC<br/>LIMIT 5</span></pre><p id="823a" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">10.<strong class="jp hi">加入</strong></p><p id="6f45" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">这用于根据两个或多个表之间的相关列来合并它们的行。我们可以在SQL中使用几种类型连接。</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es mh"><img src="../Images/d832027c71c574b6580f547ab1b9f9b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*EDuWkUZi6rUaHRXL.jpg"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx translated">图片由谷歌提供</figcaption></figure><pre class="ix iy iz ja fd lw lx ly lz aw ma bi"><span id="06e3" class="mb kl hh lx b fi mc md l me mf">SELECT o.order_id, o.item_id. i.item_name, o.price, o.qty<br/>FROM orders o<br/><strong class="lx hi">LEFT JOIN</strong> items i<br/><strong class="lx hi">ON </strong>o.item_id = i.item_id<br/>LIMIT 10</span></pre><p id="cc69" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">11.<strong class="jp hi">同</strong></p><p id="70fd" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">这用于给子查询块命名。在JOIN子句中使用查询示例创建子查询的示例。</p><pre class="ix iy iz ja fd lw lx ly lz aw ma bi"><span id="9f6d" class="mb kl hh lx b fi mc md l me mf"><strong class="lx hi">WITH</strong> items_info AS (SELECT item_id,item_name <br/>                    FROM items)</span><span id="e63f" class="mb kl hh lx b fi mg md l me mf">SELECT order_id, o.item_id, i.item_name, price, qty<br/>FROM orders<br/>JOIN items_info<br/>ON o.item_id = i.item_id<br/>LIMIT 10</span></pre><h1 id="aa56" class="kk kl hh bd km kn ko kp kq kr ks kt ku in kv io kw iq kx ir ky it kz iu la lb bi translated">结论</h1><p id="69b4" class="pw-post-body-paragraph jn jo hh jp b jq lc ii js jt ld il jv jw le jy jz ka lf kc kd ke lg kg kh ki ha bi translated">如果你想从事数据领域的职业，了解并掌握SQL技能是必不可少的，因为你在工作场所要处理的数据不在电子表格中，就像你在Kaggle上参加比赛时得到的那样。所以，从现在开始学习吧！</p><p id="5887" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">我可能会在下一个故事中继续谈论SQL，谈论当你还是学生或还没有找到工作时，你可以在哪里练习SQL技能。所以，敬请关注更多更新！！</p></div></div>    
</body>
</html>