<html>
<head>
<title>Retro Art Using Pillow and Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用枕头和蟒蛇皮的复古艺术</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/retro-art-using-pillow-and-python-b8b91e8aebc7?source=collection_archive---------22-----------------------#2021-01-04">https://medium.com/analytics-vidhya/retro-art-using-pillow-and-python-b8b91e8aebc7?source=collection_archive---------22-----------------------#2021-01-04</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/c27979b46e86d6a294d5320b60aa8ac2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1TPW7qpByFi7GRUmfVPzoA.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">🙂莫妮卡-朋友电视节目</figcaption></figure><p id="3b52" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">创造美丽的<em class="jr">复古艺术或点缀艺术</em>🎨<em class="jr">使用python图像库(pillow)。</em></p><h2 id="1056" class="js jt hh bd ju jv jw jx jy jz ka kb kc je kd ke kf ji kg kh ki jm kj kk kl km bi translated">要求:</h2><ul class=""><li id="f648" class="kn ko hh iv b iw kp ja kq je kr ji ks jm kt jq ku kv kw kx bi translated">python 3.5以上版本</li><li id="a4fc" class="kn ko hh iv b iw ky ja kz je la ji lb jm lc jq ku kv kw kx bi translated">枕头</li><li id="4e2e" class="kn ko hh iv b iw ky ja kz je la ji lb jm lc jq ku kv kw kx bi translated">numpy</li></ul><p id="a220" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">将输入图像转换为灰色模式。并提取原始图像的维度。</p><pre class="ld le lf lg fd lh li lj lk aw ll bi"><span id="0619" class="js jt hh li b fi lm ln l lo lp">from PIL import Image, ImageDraw<br/>import numpy as np</span><span id="dc93" class="js jt hh li b fi lq ln l lo lp"># read as gray image<br/>im = Image.open("monica.jpg").convert("L")<br/>width, height = im.size</span></pre><figure class="ld le lf lg fd ii er es paragraph-image"><div class="er es lr"><img src="../Images/030f5c72c2509622ab989ad851c871f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1236/format:webp/1*KJFdnpABDeYjI5Z-IxOqdA.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated">灰度图像</figcaption></figure><p id="59ea" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">提及最终图片中的点数。并且还以RGB模式输入背景和点颜色。</p><pre class="ld le lf lg fd lh li lj lk aw ll bi"><span id="08a0" class="js jt hh li b fi lm ln l lo lp">max_dots = 140<br/>background_colour = [224, 255, 255] #rgb<br/>dots_colour = (0,0,139) #rgb</span></pre><p id="a1f6" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">根据点数缩小图像，并提取其宽度和高度。</p><pre class="ld le lf lg fd lh li lj lk aw ll bi"><span id="6c45" class="js jt hh li b fi lm ln l lo lp">if height == max(height, width):<br/>    downsized_image = im.resize((int(height * (max_dots / width)), max_dots))</span><span id="2774" class="js jt hh li b fi lq ln l lo lp">else:<br/>    downsized_image = im.resize((max_dots, int(height * (max_dots / width))))</span><span id="f4c9" class="js jt hh li b fi lq ln l lo lp"># image size<br/>downsized_image_width, downsized_image_height = downsized_image.size</span></pre><figure class="ld le lf lg fd ii er es paragraph-image"><div class="er es ls"><img src="../Images/9cc742f78931e46af4d8c247e97f7ca3.png" data-original-src="https://miro.medium.com/v2/resize:fit:280/format:webp/1*JyLYL_YQeFIkk5C0m3KgrA.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated">缩小图像</figcaption></figure><p id="7381" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">在下面的代码中，改变<em class="jr">乘数值</em>来增加或减少最终图像的尺寸。增加得越多，分辨率就越高。创建一个空白图像，用于在上面绘制圆圈。</p><pre class="ld le lf lg fd lh li lj lk aw ll bi"><span id="e105" class="js jt hh li b fi lm ln l lo lp"># increase target image size<br/>multiplier = 50</span><span id="f930" class="js jt hh li b fi lq ln l lo lp"># set size for target image<br/>blank_img_height = downsized_image_height * multiplier<br/>blank_img_width = downsized_image_width * multiplier</span><span id="1de5" class="js jt hh li b fi lq ln l lo lp"># set the padding value so the dots start in frame (rather than being off the edge<br/>padding = int(multiplier / 2)</span><span id="f787" class="js jt hh li b fi lq ln l lo lp"># create canvas containing just the background colour<br/>blank_image = np.full(<br/>    ((blank_img_height), (blank_img_width), 3), background_colour, dtype=np.uint8<br/>)</span></pre><figure class="ld le lf lg fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/d3b9f378ec43570d5859c8436683a06a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wFgBEklO3nwMiY6pzaJ01w.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">空白图像</figcaption></figure><p id="d26f" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">遍历空白图像中的每个像素，并使用<em class="jr"> pillow ImageDraw </em>函数绘制圆环。</p><pre class="ld le lf lg fd lh li lj lk aw ll bi"><span id="c309" class="js jt hh li b fi lm ln l lo lp"># prepare for drawing dot-circles on our traget image</span><span id="cadd" class="js jt hh li b fi lq ln l lo lp">pil_image = Image.fromarray(blank_image)<br/>draw = ImageDraw.Draw(pil_image)<br/>downsized_image = np.array(downsized_image)<br/></span><span id="71b6" class="js jt hh li b fi lq ln l lo lp"># run through each pixel and draw the circle on our blank canvas</span><span id="1c97" class="js jt hh li b fi lq ln l lo lp">for y in range(0, downsized_image_height):<br/>    for x in range(0, downsized_image_width):</span><span id="e496" class="js jt hh li b fi lq ln l lo lp">        k = (x * multiplier) + padding<br/>        m = (y * multiplier) + padding</span><span id="2837" class="js jt hh li b fi lq ln l lo lp">        r = int((0.6 * multiplier) * ((255 - downsized_image[y][x]) / 255))</span><span id="b344" class="js jt hh li b fi lq ln l lo lp">        leftUpPoint = (k - r, m - r)<br/>        rightDownPoint = (k + r, m + r)</span><span id="6cde" class="js jt hh li b fi lq ln l lo lp">        twoPointList = [leftUpPoint, rightDownPoint]<br/>        draw.ellipse(twoPointList, fill=dots_colour)</span><span id="3e8b" class="js jt hh li b fi lq ln l lo lp">pil_image.show() #show the final image</span></pre><p id="1a4e" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">我们可以玩不同的颜色，创造美丽的2x2网格。我用的是numpy库的hstack和vstack。</p><pre class="ld le lf lg fd lh li lj lk aw ll bi"><span id="8493" class="js jt hh li b fi lm ln l lo lp"># make a 2x2 grid</span><span id="20be" class="js jt hh li b fi lq ln l lo lp">img1 = Image.open('retro_art/retro_art1.png') #color 1<br/>img2 = Image.open('retro_art/retro_art2.png') #color 2<br/>img3 = Image.open('retro_art/retro_art3.png') #color 3<br/>img4 = Image.open('retro_art/retro_art4.png') #color 4</span><span id="2a51" class="js jt hh li b fi lq ln l lo lp">#joining two images horizontally<br/>col_1 = np.hstack([np.array(img1), np.array(img2)]) <br/>col_2 = np.hstack([np.array(img3), np.array(img4)])</span><span id="c4c7" class="js jt hh li b fi lq ln l lo lp">#join above created images vertically<br/>col = np.vstack([col_1, col_2])</span><span id="38cd" class="js jt hh li b fi lq ln l lo lp">grid_image = Image.fromarray(col)<br/>grid_image.show()</span></pre><figure class="ld le lf lg fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lt"><img src="../Images/abe17314bef3b936103d424c54a16652.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E3SMkMCk2aaM0UGA9X7mPA.jpeg"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">2x2网格</figcaption></figure><p id="2e6a" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><em class="jr">直接代码链接</em>:<a class="ae lu" href="https://github.com/ash11sh/hakuna-matata/blob/main/retro_art/retro_art.py" rel="noopener ugc nofollow" target="_blank">https://github . com/ash 11 sh/hakuna-matata/blob/main/retro _ art/retro _ art . py</a></p><blockquote class="lv lw lx"><p id="014e" class="it iu jr iv b iw ix iy iz ja jb jc jd ly jf jg jh lz jj jk jl ma jn jo jp jq ha bi translated">参考:<a class="ae lu" href="https://www.analytics-link.com/post/2019/07/11/creating-pop-art-using-opencv-and-python" rel="noopener ugc nofollow" target="_blank">安德鲁·琼斯</a>。</p></blockquote></div></div>    
</body>
</html>