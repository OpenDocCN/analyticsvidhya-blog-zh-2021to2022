<html>
<head>
<title>Its PANDAmonium!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">是潘达铵！</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/its-pandamonium-59245b3fb3b2?source=collection_archive---------23-----------------------#2021-01-19">https://medium.com/analytics-vidhya/its-pandamonium-59245b3fb3b2?source=collection_archive---------23-----------------------#2021-01-19</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="b812" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">虽然有了熊猫的帮助，也不尽然。“StackOverflow引用pandas作为Python成为发展最快的主要编程语言的原因之一”[1]。该软件包提供了许多项目来帮助数据科学家的工作变得更容易。其中一些项目包括快速处理、易变、灵活的分组功能、易于转换、合并或连接数据，以及时间序列功能。为了开始我们的pandas探索，我们将讨论如何安装pandas，导入pandas，以及pandas必须提供的两种数据结构。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jc"><img src="../Images/8ef568eae0d3b6b9950bb3078360e34d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*8ScaC5vmLubj7uUs.png"/></div></div><figcaption class="jo jp et er es jq jr bd b be z dx translated">图片来自维基百科</figcaption></figure><h1 id="d408" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">安装熊猫</h1><p id="bdc2" class="pw-post-body-paragraph ie if hh ig b ih kq ij ik il kr in io ip ks ir is it kt iv iw ix ku iz ja jb ha bi translated">使用conda:</p><pre class="jd je jf jg fd kv kw kx ky aw kz bi"><span id="64a8" class="la jt hh kw b fi lb lc l ld le">conda install pandas</span></pre><p id="3999" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">使用画中画:</p><pre class="jd je jf jg fd kv kw kx ky aw kz bi"><span id="18fd" class="la jt hh kw b fi lb lc l ld le">pip install pandas</span></pre><h1 id="1fe1" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">导入</h1><pre class="jd je jf jg fd kv kw kx ky aw kz bi"><span id="88dd" class="la jt hh kw b fi lb lc l ld le">import pandas as pd</span><span id="6a39" class="la jt hh kw b fi lf lc l ld le">#numpy is often used with pandas as well so normally I import these at the same time.<br/>import numpy as np</span></pre><h1 id="0aaf" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">熊猫数据结构</h1><p id="e990" class="pw-post-body-paragraph ie if hh ig b ih kq ij ik il kr in io ip ks ir is it kt iv iw ix ku iz ja jb ha bi translated">pandas的包中使用了两种类型的数据结构:<strong class="ig hi">系列</strong>和<strong class="ig hi">数据帧。</strong></p><h2 id="bf92" class="la jt hh bd ju lg lh li jy lj lk ll kc ip lm ln kg it lo lp kk ix lq lr ko ls bi translated"><strong class="ak"> <em class="lt">系列:</em> </strong></h2><p id="1ca5" class="pw-post-body-paragraph ie if hh ig b ih kq ij ik il kr in io ip ks ir is it kt iv iw ix ku iz ja jb ha bi translated">这个数据结构是一个1D标记的同类数组，可以保存任何类型的数据。为了使这个定义更容易理解，可以将一个系列想象成数据帧或excel电子表格中的一列。使用下面的excel电子表格，我们可以看到四个独立的系列:城市、国家、人口和地区。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es lu"><img src="../Images/609a1bc656c39ab3434d036aaa219875.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*4Eab9PbeXEnLjWViXlmFSw.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx translated">我电脑上excel文件的屏幕截图</figcaption></figure><p id="a361" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果我想从上面的数据框中获得一个序列，例如:</p><pre class="jd je jf jg fd kv kw kx ky aw kz bi"><span id="8b80" class="la jt hh kw b fi lb lc l ld le">df["Country"]</span></pre><p id="31bd" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在，我将拥有一个包含我的数据框架中列出的国家的系列。</p><p id="b647" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="lv">如果我想从零开始制作自己的系列怎么办？</em></p><p id="38e7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">例1 </strong>:不带和带np.array</p><pre class="jd je jf jg fd kv kw kx ky aw kz bi"><span id="e131" class="la jt hh kw b fi lb lc l ld le">#without numpy<br/>city_ratings = pd.Series([5, 10, 1, 2, 6, 8, 8, 9, 10, 4, 7, 6])</span><span id="5623" class="la jt hh kw b fi lf lc l ld le">#with numpy <br/>city_ratings_np = pd.Series(np.array([5, 10, 1, 2, 6, 8, 8, 9, 10, 4, 7, 6])</span></pre><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es lw"><img src="../Images/79cd5d1e88df4c9ffa14079a7f1df84e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cJlTWBzXh2k0mPT4Y_gASw.png"/></div></div><figcaption class="jo jp et er es jq jr bd b be z dx translated">截图来自我的google colab</figcaption></figure><p id="1b75" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">例2 </strong>:改变索引</p><p id="5bb4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果没有指定索引，将创建一个值为[0，…，len(data) -1]的索引。如果我们想要分配我们的索引，我们只需要通过传递index =[index with same length of data inserted here]。下面是一个例子。</p><pre class="jd je jf jg fd kv kw kx ky aw kz bi"><span id="9c9c" class="la jt hh kw b fi lb lc l ld le">#changing our index<br/>city_ratings = pd.Series([5, 10, 1, 2, 6, 8, 8, 9, 10, 4, 7, 6],        index = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l"])</span></pre><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es lx"><img src="../Images/e8ee356fcb4356bacf54a44add048965.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M3r-9SVKrIWlsEVR4DueYw.png"/></div></div></figure><p id="0b10" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">请注意索引是如何从示例1中的数字索引切换到示例2中的字母索引的。</p><p id="5d7e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">例3 </strong>:如果我们希望我们的索引只有偶数。</p><pre class="jd je jf jg fd kv kw kx ky aw kz bi"><span id="7e64" class="la jt hh kw b fi lb lc l ld le">city_ratings_np = pd.Series(np.array([5, 10, 1, 2, 6, 8, 8, 9, 10, 4, 7, 6], index = np.arange(0, 24, 2)</span><span id="5211" class="la jt hh kw b fi lf lc l ld le">#Explanation of np.arange<br/>    #0 = the starting number<br/>    #24 = the number it goes up to but does not include<br/>    #2 = the step progression</span></pre><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es ly"><img src="../Images/b7b43e92f5f8e339d36775a509855a00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*acP0vTyv7B3FcR2YPqfU1Q.png"/></div></div></figure><p id="7757" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">例4 </strong>:使用字典分配一个索引并创建一个序列。</p><pre class="jd je jf jg fd kv kw kx ky aw kz bi"><span id="fb50" class="la jt hh kw b fi lb lc l ld le">ratings = {"a": 5, "b": 20}<br/>new_ratings = pd.Series(ratings)</span></pre><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es lz"><img src="../Images/2a0393fe42a79b6177783893d6f6b214.png" data-original-src="https://miro.medium.com/v2/resize:fit:802/format:webp/1*_czQo3wrBJGDVGBB3QivQQ.png"/></div></figure><p id="4708" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">例5 </strong>:检查你的指数</p><p id="955b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">若要检查索引，请使用Series_name.index。注意，它还提供了索引的数据类型。下面我们有对象和一个int64。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es ma"><img src="../Images/ac498718a50e542a53d1ad2cbfbece54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lVQfWvwZGMrDa_gozwTMnw.png"/></div></div></figure><p id="a570" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">pandas系列有许多功能，可以用来查看/检查数据、进行选择、清理数据、与他人一起加入系列等。随意看看我最喜欢的熊猫小抄<a class="ae mb" href="https://www.dataquest.io/blog/pandas-cheat-sheet/" rel="noopener ugc nofollow" target="_blank">这里</a>。[2]</p><h2 id="5d0b" class="la jt hh bd ju lg lh li jy lj lk ll kc ip lm ln kg it lo lp kk ix lq lr ko ls bi translated">数据帧:</h2><p id="d6b1" class="pw-post-body-paragraph ie if hh ig b ih kq ij ik il kr in io ip ks ir is it kt iv iw ix ku iz ja jb ha bi translated">pandas数据帧是一个“具有潜在不同类型的列的二维标记数据结构”[1]。简单来说，数据框架就是整个excel电子表格或SQL表。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es mc"><img src="../Images/854b5bd7c05f0c71bc3f137055f13009.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*AyOPEbBqjauLLUT0CEe5Uw.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx translated">我的电脑截图</figcaption></figure><p id="0b1f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们可以选择将数据导入我们的pandas数据框架或创建我们自己的数据框架。</p><h2 id="a626" class="la jt hh bd ju lg lh li jy lj lk ll kc ip lm ln kg it lo lp kk ix lq lr ko ls bi translated">导入数据</h2><p id="6a6b" class="pw-post-body-paragraph ie if hh ig b ih kq ij ik il kr in io ip ks ir is it kt iv iw ix ku iz ja jb ha bi translated">我认为使用pandas导入数据帧的最常见方式是从csv文件导入。</p><pre class="jd je jf jg fd kv kw kx ky aw kz bi"><span id="ba35" class="la jt hh kw b fi lb lc l ld le">df = pd.read_csv('path to where the csv is stored\file name.csv')</span></pre><p id="d17f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">除read_csv之外的其他选项有:</p><ul class=""><li id="f53b" class="md me hh ig b ih ii il im ip mf it mg ix mh jb mi mj mk ml bi translated">pd.read_table(文件名)</li><li id="e82e" class="md me hh ig b ih mm il mn ip mo it mp ix mq jb mi mj mk ml bi translated">pd.read_sql(查询，连接对象)</li><li id="0347" class="md me hh ig b ih mm il mn ip mo it mp ix mq jb mi mj mk ml bi translated">pd.read_excel(文件名)</li><li id="c2ef" class="md me hh ig b ih mm il mn ip mo it mp ix mq jb mi mj mk ml bi translated">pd.read_json(json_string)</li><li id="6578" class="md me hh ig b ih mm il mn ip mo it mp ix mq jb mi mj mk ml bi translated">pd.read_html(url)</li><li id="3b55" class="md me hh ig b ih mm il mn ip mo it mp ix mq jb mi mj mk ml bi translated">pd.read_clipboard()</li><li id="5a9a" class="md me hh ig b ih mm il mn ip mo it mp ix mq jb mi mj mk ml bi translated">警察。数据帧</li></ul><p id="81a8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">*源参考[2]*</p><p id="5ce6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">因为我们将数据帧指定为df，所以现在可以键入df.head()来查看数据帧的前五行。</p><h2 id="9ea9" class="la jt hh bd ju lg lh li jy lj lk ll kc ip lm ln kg it lo lp kk ix lq lr ko ls bi translated">创建我们自己的数据框架:</h2><p id="de1b" class="pw-post-body-paragraph ie if hh ig b ih kq ij ik il kr in io ip ks ir is it kt iv iw ix ku iz ja jb ha bi translated">也许我想创建一个3对3篮球锦标赛的数据框架。</p><pre class="jd je jf jg fd kv kw kx ky aw kz bi"><span id="8d31" class="la jt hh kw b fi lb lc l ld le">bball_team =pd.DataFrame(<br/>           {"Team Name": ["Airballers", "The All Starts", "B Team"],<br/>            "Players": ["Tom Smith, Jake Andrews, Elijah Woods",<br/>                       "Devonte Graham, Miles Bridges, LaMelo Ball",<br/>                       "Liam Johnson, Lucas Hall, JaVonte Adams"]})</span></pre><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es mr"><img src="../Images/80a74b3081165db5271b463827a5200e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AoD7_BVRqgjQWqi0nBb_cw.png"/></div></div><figcaption class="jo jp et er es jq jr bd b be z dx translated">我的电脑截图</figcaption></figure><p id="4bcb" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们还可以在数据框架中添加一个系列。</p><pre class="jd je jf jg fd kv kw kx ky aw kz bi"><span id="be32" class="la jt hh kw b fi lb lc l ld le">#Series<br/>additional_team = pd.Series({'Team Name': 'Winners', <br/>                             'Players': ["Bryan Richards", "Alex Hoggins", "Dan Lopez"]})</span><span id="f523" class="la jt hh kw b fi lf lc l ld le">#adding Series to DataFrame<br/>df = pd.concat([bball_team, additional_team.to_frame().T])</span></pre><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es ms"><img src="../Images/60d15aa4f8cf8ba35cfdb10a9f61da59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tHX-CsOdsHbaK5y9sWQqjg.png"/></div></div><figcaption class="jo jp et er es jq jr bd b be z dx translated">我的电脑截图</figcaption></figure><p id="e581" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">添加索引:如果我想将团队名称设置为索引。</p><pre class="jd je jf jg fd kv kw kx ky aw kz bi"><span id="3a48" class="la jt hh kw b fi lb lc l ld le">df.set_index("Team Name")</span></pre><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es mt"><img src="../Images/c4ab06073f9a74363e1593ebb3cc924c.png" data-original-src="https://miro.medium.com/v2/resize:fit:972/format:webp/1*YjB13kSpROQtzHbPxV1aqg.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx translated">我的电脑截图</figcaption></figure><p id="f232" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们可以在DataFrame中使用许多有用的函数，包括检查数据类型(df.dtypes)、查看头部或尾部(df.head()或df.tail())、查看列(df.columns)或删除列(df.drop(["Players"])。我再一次敦促你使用此处找到的备忘单更深入地研究熊猫的数据框架和系列。</p><p id="387a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">感谢阅读！</p><p id="e09e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">参考文献:</strong></p><p id="6c75" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">【https://pandas.pydata.org/community/blog/pandas-1.0.html】【1】→<a class="ae mb" href="https://pandas.pydata.org/community/blog/pandas-1.0.html" rel="noopener ugc nofollow" target="_blank"/></p><p id="9f36" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">【2】</strong>→<a class="ae mb" href="https://www.dataquest.io/blog/pandas-cheat-sheet/" rel="noopener ugc nofollow" target="_blank">https://www.dataquest.io/blog/pandas-cheat-sheet/</a></p></div></div>    
</body>
</html>