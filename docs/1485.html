<html>
<head>
<title>Backorder Prediction</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">延期交货预测</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/backorder-prediction-d4f1c5362f18?source=collection_archive---------0-----------------------#2021-03-04">https://medium.com/analytics-vidhya/backorder-prediction-d4f1c5362f18?source=collection_archive---------0-----------------------#2021-03-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="63f6" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">使用机器学习预测延期交货</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/59279228906948d1de0c847eac967a9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*FuF5aNiOxlLlwUFJ"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">韦斯利·廷吉在<a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h2 id="799b" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated"><strong class="ak">目录</strong></h2><ol class=""><li id="ece1" class="km kn hi ko b kp kq kr ks jz kt kd ku kh kv kw kx ky kz la bi translated">介绍</li><li id="4e47" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw kx ky kz la bi translated">商业问题</li><li id="b29d" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw kx ky kz la bi translated">现有解决方案</li><li id="a568" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw kx ky kz la bi translated">探索性数据分析</li><li id="0668" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw kx ky kz la bi translated">处理阶级不平衡</li><li id="759c" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw kx ky kz la bi translated">特征工程</li><li id="1cef" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw kx ky kz la bi translated">性能指标</li><li id="b570" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw kx ky kz la bi translated">建模和评估</li><li id="41a7" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw kx ky kz la bi translated">参考</li><li id="e589" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw kx ky kz la bi translated">链接</li></ol><h2 id="7bcd" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated"><strong class="ak"> 1。简介:</strong></h2><p id="0454" class="pw-post-body-paragraph lg lh hi ko b kp kq ij li kr ks im lj jz lk ll lm kd ln lo lp kh lq lr ls kw hb bi lt translated"><span class="l lu lv lw bm lx ly lz ma mb di"/>延交订单是指由于供应不足或产品目前缺货或不在库存中而无法在给定时间履行，但由于正在生产货物或补充库存，可以保证在未来某个日期交付所要求的货物或服务的订单。与无法承诺交货日期的缺货情况不同，在延期交货情况下，允许客户购买产品并订购。简单地说，延期交货可以被认为是一个延迟交货日期的订单。</p><p id="7f50" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated"><strong class="ko hj">为什么会发生缺货？</strong></p><ul class=""><li id="776c" class="km kn hi ko b kp mc kr md jz mh kd mi kh mj kw mk ky kz la bi translated"><strong class="ko hj">当需求突然增加时:</strong>所有公司的首要目标都是增加对他们所提供产品的需求。销售预测系统不佳可能是无法预测需求的原因之一。尽管有一个很好的销售预测系统，有时这些情况是不可避免的，因为这些因素是不可控制的或不可预测的事件。</li><li id="f82d" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw mk ky kz la bi translated"><strong class="ko hj">供应链管理不善:</strong>如果供应链中的任何一点出现故障，或者由于计划不当，就会出现影响生产的缺货情况。原材料来源选择有限和供应商管理系统不当是延期交货的重要原因之一。</li><li id="50e8" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw mk ky kz la bi translated"><strong class="ko hj">库存管理:</strong>库存运作管理不当和库存存储不透明可能导致缺货。</li></ul><p id="7f58" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated"><strong class="ko hj">延期交货的影响:</strong></p><ul class=""><li id="e1f8" class="km kn hi ko b kp mc kr md jz mh kd mi kh mj kw mk ky kz la bi translated">如果许多商品持续延期交货，这是公司运营没有合理规划的迹象，也很有可能错过这些产品的业务。</li><li id="398e" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw mk ky kz la bi translated">此外，如果客户经常遭遇延期交货，他们会转向你的竞争对手。</li><li id="4b9a" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw mk ky kz la bi translated">延期交货(不可预测)还会影响生产计划、运输管理和物流管理等。</li></ul><p id="5b9b" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">如何避免延期交货？</p><ul class=""><li id="b675" class="km kn hi ko b kp mc kr md jz mh kd mi kh mj kw mk ky kz la bi translated">增加产品的库存或存货不是一个解决方案，因为它增加了存储成本，额外的成本意味着它们必须包含在产品价格中，这可能导致业务被竞争对手抢走。</li><li id="93ad" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw mk ky kz la bi translated">规划良好的供应链管理、仓库管理和库存管理可以在一定程度上避免延期交货。</li></ul><p id="6644" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated"><strong class="ko hj">拥有延期交货预测系统的需求:</strong></p><p id="d7b1" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">延期交货是不可避免的，但是通过预测可能延期交货的项目，可以在不同级别优化延期交货计划，从而避免给生产、物流和运输计划带来不可预料的负担。</p><p id="141a" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">ERP系统会产生大量数据(大部分是结构化的),还会有大量历史数据，如果能够正确利用这些数据，就可以开发一个预测模型来预测延期交货并做出相应的计划</p><h2 id="5b67" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">2.业务问题:</h2><p id="5614" class="pw-post-body-paragraph lg lh hi ko b kp kq ij li kr ks im lj jz lk ll lm kd ln lo lp kh lq lr ls kw hb bi translated">来源:https://www.kaggle.com/<a class="ae jn" href="https://www.kaggle.com/" rel="noopener ugc nofollow" target="_blank">目前该页面不可用</a></p><p id="06ce" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">数据来源:<a class="ae jn" href="https://github.com/rodrigosantis1/backorder_prediction/blob/master/dataset.rar" rel="noopener ugc nofollow" target="_blank">https://github . com/rodrigos anti S1/back order _ prediction/blob/master/dataset . rar</a></p><p id="7a06" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated"><strong class="ko hj">问题陈述</strong>:</p><p id="365a" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">根据库存、供应链和销售的历史数据，对产品是否会延期交货进行分类(是或否)。</p><p id="ca0d" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated"><strong class="ko hj">呈现为ML问题:</strong></p><p id="50f7" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">手头的任务是在给定输入数据的情况下，对产品是否会延期交货进行分类。</p><p id="5e3f" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">要预测的目标变量由两个值组成:</p><p id="060d" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">“是”-如果产品预计会延期交货</p><p id="887e" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">“否”-如果产品预计不会延期交货</p><p id="bf2c" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">所以这是一个二元分类问题。</p><h2 id="1821" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated"><strong class="ak"> 3。现有解决方案:</strong></h2><p id="78af" class="pw-post-body-paragraph lg lh hi ko b kp kq ij li kr ks im lj jz lk ll lm kd ln lo lp kh lq lr ls kw hb bi translated"><strong class="ko hj">使用机器学习预测库存管理中的材料延期交货:</strong></p><p id="ffe3" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">网址:<a class="ae jn" href="https://www.researchgate.net/publication/319553365_Predicting_Material_Backorders_in_Inventory_Management_using_Machine_Learning" rel="noopener ugc nofollow" target="_blank">https://www . research gate . net/publication/319553365 _ Predicting _ Material _ Backorders _ in _ Inventory _ Management _ using _ Machine _ Learning</a></p><p id="8889" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">这篇论文的作者解决了手头的问题。作者试图用不同的采样技术(如随机欠采样和过采样技术，如SMOTE)来克服类不平衡问题。他们还在原始数据上使用了Blagging技术(平衡Bagging集成分类器)。</p><p id="c1a8" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">模型评估的指标是AUC分数和精确-召回曲线下面积。</p><p id="2612" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">使用不同的监督机器学习算法，如逻辑回归、决策树、GBDT和Blagging等，并通过5重交叉验证调整超参数。</p><p id="c6e8" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">GBDT和布拉格分类器模型表现良好。当评价标准是精确召回曲线下的面积时，Blagging分类优于其他模型。</p><p id="6ceb" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated"><strong class="ko hj">使用分布式随机森林和梯度推进机器学习技术预测供应链中可能的缺货情况</strong></p><p id="3e1c" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">网址:</p><p id="7069" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated"><a class="ae jn" href="https://journalofbigdata.springeropen.com/articles/10.1186/s40537-020-00345-2" rel="noopener ugc nofollow" target="_blank">https://journalofbigdata . springer open . com/articles/10.1186/s 40537-020-00345-2</a></p><p id="acfd" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">在这本杂志中，作者还试图解决我们目前正在研究的数据集上的延期交货预测问题。本文提出了一种预测延期交货的极差方法(宁滨)。使用宁滨方法将数字特征转换成分类特征。由于分类特征与单个数值相比没有显示出特征之间的任何相关性，所以特征中的每个级别(bin)乘以一个特征的bin与其他相关数值特征的相应bin之间获得的相关系数。</p><p id="8593" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">这种方法在计算上非常高效，并且可以用于低延迟系统和可调系统，但是如果没有良好的领域知识，找到正确的bin范围是非常困难的。</p><p id="7c8c" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">作者使用随机森林和GBDT方法来训练模型，因为这些模型具有高度的可解释性，并且可以根据模型预测轻松地做出管理决策。</p><p id="04b6" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">在该杂志中，作者声称，与使用原始数据相比，当使用使用上述方法预处理的数据时，性能提高了20%。</p><h2 id="6ebd" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">4.探索性数据分析:</h2><p id="0234" class="pw-post-body-paragraph lg lh hi ko b kp kq ij li kr ks im lj jz lk ll lm kd ln lo lp kh lq lr ls kw hb bi translated"><strong class="ko hj">数据集分析:</strong></p><p id="5d06" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">在训练数据集中，为我们提供了23列(特征)数据。</p><ul class=""><li id="1e23" class="km kn hi ko b kp mc kr md jz mh kd mi kh mj kw mk ky kz la bi translated">Sku(库存单位) :产品id —对于每一行都是唯一的，因此可以忽略</li><li id="5f39" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw mk ky kz la bi translated">National_inv:产品的当前库存水平</li><li id="f07f" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw mk ky kz la bi translated">提前期:产品的运输时间</li><li id="eea5" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw mk ky kz la bi translated">在途数量:在途产品的数量</li><li id="76c0" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw mk ky kz la bi translated">预测_ 3 _月、预测_ 6 _月、预测_ 9 _月:分别预测未来3个月、6个月和9个月的产品销售额</li><li id="c1dc" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw mk ky kz la bi translated">Sales_1_month、sales_3_month、sales_6_month、sales_9_month:分别是产品在最近1、3、6、9个月的实际销售额</li><li id="ffd2" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw mk ky kz la bi translated">Min_bank:推荐的最小股票数量</li><li id="1392" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw mk ky kz la bi translated">潜在问题:产品/零件中发现的任何问题</li><li id="b4b1" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw mk ky kz la bi translated">Pieces_past_due:产品的过期零件数量(如果有)</li><li id="2d7a" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw mk ky kz la bi translated">Perf_6_month_avg，perf_12_month_avg:分别是过去6个月和12个月的产品性能</li><li id="d8b8" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw mk ky kz la bi translated">Local_bo_qty:库存逾期金额</li><li id="0a07" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw mk ky kz la bi translated">Deck_risk、oe_constraint、ppap_risk、stop_auto_buy、rev_stop:为产品设置不同的标志(是或否)</li><li id="835e" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw mk ky kz la bi translated">Went_on_backorder:目标变量</li></ul><p id="e647" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">被延期交货(“是”)的产品与未被延期交货(“否”)的产品的分类比率为1:148。</p><p id="37b2" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">数据集是高度不均衡的，这应该通过模型的精确预测来解决。</p><p id="b49e" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">在数据集中给出的23个特征中，15个是数值特征，8个(包括目标变量)是分类特征。第一列“sku”对应于产品标识符，它对于数据集中的每个数据点都是唯一的。因此，此功能可以删除，因为它在输出预测中没有增加任何价值。</p><p id="4f82" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated"><strong class="ko hj">数字特征统计:</strong></p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="ml mm l"/></div></figure><p id="bb0f" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated"><strong class="ko hj">观察:</strong></p><ul class=""><li id="642b" class="km kn hi ko b kp mc kr md jz mh kd mi kh mj kw mk ky kz la bi translated">对于大多数特征，平均值大于第75百分位值，这表明每个特征的分布都非常右偏。</li><li id="2fbf" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw mk ky kz la bi translated">此外，每个特征的第75百分位值和最大值之间的差异非常大，这可能是由于异常值的存在。</li><li id="cba0" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw mk ky kz la bi translated">perf_6_month_avg和perf_12_month_avg列具有最大值。值为1和最小值。值为-99。似乎缺少的值被替换为-99。</li></ul><p id="ca08" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated"><strong class="ko hj">缺失值:</strong></p><ul class=""><li id="bd89" class="km kn hi ko b kp mc kr md jz mh kd mi kh mj kw mk ky kz la bi translated">只有列lead_time有几个空值。</li><li id="d213" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw mk ky kz la bi translated">训练数据集中的最后一行包含应该丢弃的所有nan值。</li></ul><p id="0799" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated"><strong class="ko hj">箱线图:</strong></p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mn"><img src="../Images/9fa4ce29397edcc9e86638090a5f0061.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XGHvlFk5SFA9jstrAZtjfw.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">箱线图</figcaption></figure><p id="f60e" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">上面的方框图是针对全部数据绘制的。由于每个特征的尺度(范围)差异很大，所以盒子或IQR(四分位数范围) (第25-75百分位)并不明显。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mo"><img src="../Images/4411c480f930b3c0c7c5f5c9309bd3a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*doN8N5fRlnEj07SWpSu32Q.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">考虑第0和第90百分位值之间的值的箱线图</figcaption></figure><p id="8be3" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">上面的箱线图仅考虑了第0和第90百分位值之间的值。</p><p id="a122" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">请注意，上面包括了预测、销售和绩效列中各一个功能的箱线图，因为每个组都有类似的箱线图。</p><p id="928e" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated"><strong class="ko hj">观察:</strong></p><ul class=""><li id="ea5e" class="km kn hi ko b kp mc kr md jz mh kd mi kh mj kw mk ky kz la bi translated">如果我们考虑第0和第90百分位值之间的数据，则IQR是可见的，这巩固了数据极度正偏的观察结果。</li><li id="6246" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw mk ky kz la bi translated">对于较低的national_inv(库存)值，与较高的national_inv值相比，产品延期交货的几率较高。</li><li id="3996" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw mk ky kz la bi translated">上述观察结果也适用于提前期和在途数量要素。</li><li id="b2d4" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw mk ky kz la bi translated">从perf_12_month_avg的箱线图(对于perf_6_month_avg也是类似的图)可以注意到，箱线图的整个范围在0到1之间。考虑到该图仅适用于0至90%的值，并且这些列的最大值为1，先前观察到的这些列中的-99.0表示缺失值，因为-99.0之后的下一个较高值为0，这是正确的。</li><li id="f098" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw mk ky kz la bi translated">所有特征在两个盒图中的须状物之后都有大量的数据点，这意味着可能有许多异常值。因为晶须通常代表1.5倍IQR的范围。</li><li id="68cc" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw mk ky kz la bi translated">对于98%的数据点，特征local_bo_qty和pieces_past_due的值为0。</li></ul><p id="d780" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated"><strong class="ko hj"> QQ剧情:</strong></p><p id="f1d9" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">造成极端正偏斜的数据点实际上可能不是异常值。</p><p id="eb6a" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">想一个特定产品的销售在过去12个月非常高的例子。这意味着对未来6个月和9个月的预测将会偏高。如果预测和销售很高，这意味着特定产品的库存和在途数量会很高。此外，与其他产品相比，一些产品的销售额会非常高。考虑到这些，数据中存在的正偏斜度可能并不真正代表异常值。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mp"><img src="../Images/ef4c6681f31b43529adfb801719931a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qcYGvHLfsvFXurJm8QLtXA.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">3个特征的概率图</figcaption></figure><p id="6f6d" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated"><strong class="ko hj">相关矩阵:</strong></p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mq"><img src="../Images/d27361b5f0039a81d74ebb4cc5369ea1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_fZ4ZaPWYXZ0Jx1CDmWU-A.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">相关矩阵</figcaption></figure><p id="5ae8" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated"><strong class="ko hj">观察:</strong></p><ul class=""><li id="9248" class="km kn hi ko b kp mc kr md jz mh kd mi kh mj kw mk ky kz la bi translated">观察到的所有显著相关性都是正的。</li><li id="1cab" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw mk ky kz la bi translated">预测_ 3 _月、预测_ 6 _月和预测_ 9 _月彼此之间的相关性非常强，达到0.99的程度。</li><li id="6171" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw mk ky kz la bi translated">sales_1_month、sales_3_month、sales_6_month和sales_9_month彼此强相关，程度从0.82到0.98不等。</li><li id="4140" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw mk ky kz la bi translated">预测和销售列相互关联，最小关联度为0.62，最大为0.88。很明显，当某种产品的销售额在过去很高时，对未来几个月的预测也会很高，反之亦然。</li><li id="c509" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw mk ky kz la bi translated">perf_6_month_avg和perf_12_month_avg之间的相关性非常高，达到了0.97的程度。</li><li id="2735" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw mk ky kz la bi translated">min_bank(推荐的最小库存数量)与销售和预测列高度相关，因为库存中的库存与销售成正比。</li><li id="1526" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw mk ky kz la bi translated">in_transit_qty与sales、forecast和min_bank列高度相关。这是显而易见的，因为产品的高销售额= &gt;更多的产品在运输过程中补充了产品的高销售额= &gt;高预测。</li><li id="b11a" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw mk ky kz la bi translated">pieces_past_due与sales和forecast列有很好的相关性。</li><li id="bc36" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw mk ky kz la bi translated">national_inv与min_bank适度相关，而weekly与sale列相关。</li><li id="a773" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw mk ky kz la bi translated">由于许多特征是相关的，线性模型如逻辑回归、线性SVM和其它线性模型可能不能很好地作为分离平面变化的系数。</li><li id="87ff" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw mk ky kz la bi translated">通过检查相关特征之间的VIF(方差膨胀因子)值，如果需要，可以移除冗余特征，或者如果模型的特征可解释性不重要，可以使用PCA来降低维度</li></ul><p id="d430" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated"><strong class="ko hj">分类特征柱状图:</strong></p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mr"><img src="../Images/412e68ef48b0e0dd95a2c382226a9bb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yySp3U5WelAwY6Uafddbyg.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">不同旗帜的条形图</figcaption></figure><p id="3a7c" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">上述条形图绘制在分类特征(输入数据中的不同标志)和目标变量之间，X轴上的标志值为“是”或“否”，X轴上的值为目标变量分布的比例。</p><p id="3513" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated"><strong class="ko hj">观察:</strong></p><ul class=""><li id="e27e" class="km kn hi ko b kp mc kr md jz mh kd mi kh mj kw mk ky kz la bi translated">如果“rev_stop”标志设置为“是”,则没有产品延期交货。</li><li id="2e68" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw mk ky kz la bi translated">如果potential_issue标志为“是”,则与标志设置为“否”的情况相比，产品延期交货的可能性增加了9倍。</li><li id="2ee3" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw mk ky kz la bi translated">如果oe_cosntraint标志设置为“是”,则与设置为“否”的标志相比，产品延期交货的可能性要高5倍</li><li id="657f" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw mk ky kz la bi translated">剩余的标志如果单独与目标变量比较，用处不大，因为两个标志值之间的阳性案例比例几乎相等。</li></ul><h2 id="bb89" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">5.<strong class="ak">处理类别不平衡:</strong></h2><p id="52c1" class="pw-post-body-paragraph lg lh hi ko b kp kq ij li kr ks im lj jz lk ll lm kd ln lo lp kh lq lr ls kw hb bi translated">从EDA可以得出结论，数据集是非常右偏，也是高度不平衡的。</p><p id="a604" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">阶级失衡可以通过两种方式解决。使用不同的过采样或欠采样技术来平衡数据集，或者在拟合模型本身时，不同的集成可以在平衡的子样本上拟合它们的基础学习器。</p><p id="8878" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated"><a class="ae jn" href="https://imbalanced-learn.org/stable/" rel="noopener ugc nofollow" target="_blank"> Imblearn </a>库为解决类别不平衡问题的不同采样技术和不同分类器提供了最佳实现。</p><p id="928d" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated"><strong class="ko hj">过采样技术:</strong></p><ul class=""><li id="5236" class="km kn hi ko b kp mc kr md jz mh kd mi kh mj kw mk ky kz la bi translated"><strong class="ko hj">重击:</strong></li></ul><p id="6d60" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">合成少数过采样技术:它包括找到少数实例的K个最近邻，并随机选择一个并产生一个新的数据点b/w这两个。</p><ul class=""><li id="7c5e" class="km kn hi ko b kp mc kr md jz mh kd mi kh mj kw mk ky kz la bi translated"><strong class="ko hj">阿达辛:</strong></li></ul><p id="48d5" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">自适应合成采样:这类似于SMOTE。除了SMOTE为每个少数样本生成相同数量的样本，而ADASYN基于少数样本的密度分布生成，如果密度高，则合成点较少，如果稀疏，则合成点较多。</p><p id="8102" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated"><strong class="ko hj">欠采样技术:</strong></p><p id="b0d9" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated"><strong class="ko hj">欠采样:</strong></p><ul class=""><li id="a42b" class="km kn hi ko b kp mc kr md jz mh kd mi kh mj kw mk ky kz la bi translated"><strong class="ko hj">采样下的接近失误:</strong>在该方法中，算法从计算多数类和少数类的所有实例之间的距离开始。这种方法有3种变化。near miss-1:选择平均。到它们的少数类实例的距离最小。侥幸脱险-2:与侥幸脱险-1相同，但最远而不是最小。near miss-3:从多数类中挑选最接近少数类的给定数量的实例。</li><li id="7b57" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw mk ky kz la bi translated"><strong class="ko hj">使用Tomek链接:</strong>移除接近两个类的边界b/w的大多数类实例，从而向平衡数据集移动。</li><li id="04e9" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw mk ky kz la bi translated"><strong class="ko hj">在具有聚类质心的采样下:</strong>该方法包括移除多数类的不重要实例。首先，该算法对多数类进行聚类并找到质心。那么远离质心的点被认为是不重要的，并被去除。</li><li id="4b60" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw mk ky kz la bi translated"><strong class="ko hj">在使用邻域清洗规则的采样下:</strong>如果少数实例被3个多数类实例包围(最接近)，则多数类实例被移除。如果多数类实例被3个少数类实例包围(最近),则多数类实例被移除。</li></ul><p id="d696" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated"><strong class="ko hj">基于不同模型的类别不平衡处理技术:</strong></p><p id="ba18" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated"><strong class="ko hj">采用随机欠采样的Bagging:</strong>这种方法被称为Blagging，其中我们对多数类进行重新采样，以平衡bootstrap样本，然后再对弱学习器进行拟合。实现这种方法的Imblearn库为我们提供了选择弱学习者的杠杆，默认情况下，它是一个决策树。</p><p id="d415" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated"><strong class="ko hj">轻松合奏:</strong></p><p id="068f" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">简单集成包括通过多数类的随机欠采样来创建引导，以创建平衡的引导，然后应用增强的决策树来预测。</p><p id="6eb7" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">此外，sklearn的随机森林实现提供了不同的选项来解决类不平衡问题，如具有类加权的RF、具有引导类加权的RF。</p><h2 id="7799" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">6.特征工程:</h2><p id="d20c" class="pw-post-body-paragraph lg lh hi ko b kp kq ij li kr ks im lj jz lk ll lm kd ln lo lp kh lq lr ls kw hb bi translated">删除了第一列“sku ”,因为它是一个标识符，并且对于数据集中的所有行都是唯一的。</p><p id="503f" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated"><strong class="ko hj">处理分类变量:</strong></p><p id="33c4" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">由于有许多分类列，onehot将这些列中的值编码为“是”为1，“否”为0。</p><pre class="iy iz ja jb fd ms mt mu mv aw mw bi"><span id="21a5" class="jo jp hi mt b fi mx my l mz na">cat = data.select_dtypes(include = ['object']).columns</span><span id="cd67" class="jo jp hi mt b fi nb my l mz na">for col in cat:</span><span id="bbcf" class="jo jp hi mt b fi nb my l mz na">  data[col].replace({'No': 0, 'Yes': 1}, inplace=True)</span><span id="651c" class="jo jp hi mt b fi nb my l mz na">  data[col] = data[col].astype(int)</span></pre><p id="6e82" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated"><strong class="ko hj">处理缺失值:</strong></p><p id="1bbd" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">在lead_time、perf_6_month_avg和perf_12_month_avg列中发现缺失值。</p><p id="4f0a" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">使用基于模型的插补来估算缺失值。</p><pre class="iy iz ja jb fd ms mt mu mv aw mw bi"><span id="2577" class="jo jp hi mt b fi mx my l mz na">from sklearn.experimental import enable_iterative_imputer</span><span id="ae6b" class="jo jp hi mt b fi nb my l mz na">from sklearn.impute import IterativeImputer</span><span id="6d13" class="jo jp hi mt b fi nb my l mz na">imp = IterativeImputer(max_iter=10, random_state=0)</span><span id="017a" class="jo jp hi mt b fi nb my l mz na">imp.fit(X_train)</span><span id="90e9" class="jo jp hi mt b fi nb my l mz na">X_train = imp.transform(X_train)</span><span id="29b8" class="jo jp hi mt b fi nb my l mz na">X_test = imp.transform(X_test)</span><span id="1d6b" class="jo jp hi mt b fi nb my l mz na">X_cv = imp.transform(X_cv)</span></pre><p id="f7ad" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated"><strong class="ko hj">处理数据中的正偏度:</strong></p><p id="8341" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">在这个案例研究中，我以两种方式处理数据中的正偏度(潜在的异常值),从而创建了两个不同的数据集来应用模型。</p><p id="4cb2" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated"><strong class="ko hj">使用鲁棒定标器:</strong></p><pre class="iy iz ja jb fd ms mt mu mv aw mw bi"><span id="7534" class="jo jp hi mt b fi mx my l mz na">from sklearn.preprocessing import RobustScaler</span><span id="5c19" class="jo jp hi mt b fi nb my l mz na">transformer = RobustScaler().fit(X_train)</span><span id="8e06" class="jo jp hi mt b fi nb my l mz na">X_train = transformer.transform(X_train)</span><span id="de47" class="jo jp hi mt b fi nb my l mz na">X_cv = transformer.transform(X_cv)</span><span id="a9f6" class="jo jp hi mt b fi nb my l mz na">X_test = transformer.transform(X_test)</span></pre><p id="43b2" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">在应用不同的ML/DL模型之前，最好先对数据进行缩放。</p><p id="8ebb" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">在鲁棒缩放中，每个值按如下方式缩放。</p><p id="b905" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">值=(值-中值)/(第75百分位值-第25百分位值)</p><p id="74a4" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">这种方法在缩放数据时，在不考虑异常值的情况下标准化数据。</p><p id="6369" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">Sklearn提供了相同的实现</p><p id="0d0a" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated"><strong class="ko hj">使用对数变换+归一化:</strong></p><pre class="iy iz ja jb fd ms mt mu mv aw mw bi"><span id="73c3" class="jo jp hi mt b fi mx my l mz na">#Lst of columns having right skewed data</span><span id="8ca2" class="jo jp hi mt b fi nb my l mz na">skewed_right = ['national_inv' , 'in_transit_qty' , 'forecast_3_month','forecast_6_month','forecast_9_month' , 'sales_1_month','sales_3_month','sales_6_month','sales_9_month' , 'min_bank','pieces_past_due','local_bo_qty']</span><span id="e1d7" class="jo jp hi mt b fi nb my l mz na">log_columns = []</span><span id="3c61" class="jo jp hi mt b fi nb my l mz na">for i in skewed_right:</span><span id="dfc3" class="jo jp hi mt b fi nb my l mz na">log_columns.append(X_train.columns.get_loc(i))</span><span id="2bd5" class="jo jp hi mt b fi nb my l mz na">def log_transform(a):</span><span id="335d" class="jo jp hi mt b fi nb my l mz na">"""</span><span id="d8a7" class="jo jp hi mt b fi nb my l mz na">Applies log transform on input data</span><span id="d7cd" class="jo jp hi mt b fi nb my l mz na">"""</span><span id="4c62" class="jo jp hi mt b fi nb my l mz na">sign = np.sign(a[log_columns])</span><span id="8227" class="jo jp hi mt b fi nb my l mz na">a[log_columns] =  np.log(1.0+abs(a[log_columns]))*sign</span><span id="52d8" class="jo jp hi mt b fi nb my l mz na">return a<br/></span><span id="e74a" class="jo jp hi mt b fi nb my l mz na">X_train_log = np.apply_along_axis(log_transform, 1, X_train_log)</span><span id="3b02" class="jo jp hi mt b fi nb my l mz na">X_cv_log = np.apply_along_axis(log_transform, 1, X_cv_log)</span><span id="5d28" class="jo jp hi mt b fi nb my l mz na">X_test_log = np.apply_along_axis(log_transform, 1, X_test_log)</span><span id="e12e" class="jo jp hi mt b fi nb my l mz na">from sklearn.preprocessing import StandardScaler</span><span id="05ce" class="jo jp hi mt b fi nb my l mz na">sc = StandardScaler().fit(X_train_log)</span><span id="8f49" class="jo jp hi mt b fi nb my l mz na">X_train_log = sc.transform(X_train_log)</span><span id="edcd" class="jo jp hi mt b fi nb my l mz na">X_cv_log = sc.transform(X_cv_log)</span><span id="329a" class="jo jp hi mt b fi nb my l mz na">X_test_log = sc.transform(X_test_log)</span></pre><p id="f5dc" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">对呈现正偏斜的数据集中的列应用对数转换，然后应用标准缩放器。</p><p id="3eb1" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated"><strong class="ko hj">应用对数变换的说明:</strong></p><pre class="iy iz ja jb fd ms mt mu mv aw mw bi"><span id="4a2c" class="jo jp hi mt b fi mx my l mz na">a[log_columns] =  np.log(1.0+abs(a[log_columns]))*sign</span></pre><p id="339b" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">取绝对值是为了避免日志中出现负值。</p><p id="87d2" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">添加了1.0以避免日志(0)的情况</p><p id="6865" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">乘以符号以在转换后的值中保留原始符号(+或—)。</p><h2 id="6ec4" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">7.绩效指标:</h2><ul class=""><li id="b9d9" class="km kn hi ko b kp kq kr ks jz kt kd ku kh kv kw mk ky kz la bi translated">ROC AUC得分:AUC得分表示模型区分阳性和阴性类别的能力。如果对于模型1 AUC &gt;模型2 AUC，那么在大多数阈值下，模型1能够比阴性类别更好地识别阳性类别。所以它是这个问题的一个很好的度量。</li><li id="52dd" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw mk ky kz la bi translated">精确度-召回曲线下的面积:Pr-Re曲线的AUC非常重要，因为业务需要根据b/w精确度和召回的权衡来选择阈值。低精度= &gt;更多误报(FP) = &gt;未延期交货的项目被归类为延期交货。●召回= &gt;更多的假阴性(FN) = &gt;进行了延期交货的项目被归类为没有进行延期交货。</li><li id="82d3" class="km kn hi ko b kp lb kr lc jz ld kd le kh lf kw mk ky kz la bi translated">宏观F1分数:宏观F1分数是正类和负类F1分数的平均值。由于存在班级不平衡，评估模型F1时需要考虑两个班级的分数。</li></ul><h2 id="a419" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">8.建模和评估:</h2><p id="ee91" class="pw-post-body-paragraph lg lh hi ko b kp kq ij li kr ks im lj jz lk ll lm kd ln lo lp kh lq lr ls kw hb bi translated">不同的模型使用GridsearchCV在不同的超参数上进行调优。下面是模型性能的比较。</p><p id="2600" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">与其他模型相比，具有500和1000个基学习器的平衡Bagging分类器分别应用于鲁棒的缩放数据集和对数变换+归一化数据集，表现良好。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nc"><img src="../Images/ee7d3e1a243daeec6ab1ef3ec07c6092.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fN79joXOOhj4HvzESeJMYQ.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">不同模型在数据集上的性能</figcaption></figure><p id="3af7" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">下面是预定义输出时相对特征重要性的快照。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nd"><img src="../Images/f3137999135c79140812952695caedd5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2ITwW_s_0cpsmQBIuJlsTA.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">模型预测中的特征重要性</figcaption></figure><p id="c40d" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">创建了一个简单的Streamlit webapp，用于使用最佳模型在运行时预测查询点。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ne"><img src="../Images/1bd6dbaa917f5e31ac7063e9fa6ccae8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*fphDgJ2XMujfrgKFB7KTow.gif"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">用于运行时预测的流点燃webapp</figcaption></figure><h2 id="f542" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">9.参考资料:</h2><p id="c949" class="pw-post-body-paragraph lg lh hi ko b kp kq ij li kr ks im lj jz lk ll lm kd ln lo lp kh lq lr ls kw hb bi translated"><a class="ae jn" href="https://www.researchgate.net/publication/319553365_Predicting_Material_Backorders_in_Inventory_Management_using_Machine_Learning" rel="noopener ugc nofollow" target="_blank">https://www . researchgate . net/publication/319553365 _ Predicting _ Material _ Backorders _ in _ Inventory _ Management _ using _ Machine _ Learning</a></p><div class="nf ng ez fb nh ni"><a href="https://journalofbigdata.springeropen.com/articles/10.1186/s40537-020-00345-2" rel="noopener  ugc nofollow" target="_blank"><div class="nj ab dw"><div class="nk ab nl cl cj nm"><h2 class="bd hj fi z dy nn ea eb no ed ef hh bi translated">用分布式随机森林和模糊神经网络预测供应链中可能的缺货情况</h2><div class="np l"><h3 class="bd b fi z dy nn ea eb no ed ef dx translated">使用机器学习算法的预测在商业决策过程的许多部分都不太适用，因为…</h3></div><div class="nq l"><p class="bd b fp z dy nn ea eb no ed ef dx translated">journalofbigdata.springeropen.com</p></div></div><div class="nr l"><div class="ns l nt nu nv nr nw jh ni"/></div></div></a></div><p id="8047" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated"><a class="ae jn" href="https://www.researchgate.net/publication/327752791_Demand_Forecasting_Using_Artificial_Neural_Networks-A_Case_Study_of_American_Retail_Corporation" rel="noopener ugc nofollow" target="_blank">https://www . researchgate . net/publication/327752791 _ Demand _ Forecasting _ Using _ Artificial _ Neural _ Networks-A _ Case _ Study _ of _ American _ Retail _ Corporation</a></p><div class="nf ng ez fb nh ni"><a href="https://machinelearningmastery.com/bagging-and-random-forest-for-imbalanced-classification/" rel="noopener  ugc nofollow" target="_blank"><div class="nj ab dw"><div class="nk ab nl cl cj nm"><h2 class="bd hj fi z dy nn ea eb no ed ef hh bi translated">用于不平衡分类的装袋和随机森林-机器学习掌握</h2><div class="np l"><h3 class="bd b fi z dy nn ea eb no ed ef dx translated">Bagging是一种集成算法，它在训练数据集的不同子集上拟合多个模型，然后结合…</h3></div><div class="nq l"><p class="bd b fp z dy nn ea eb no ed ef dx translated">machinelearningmastery.com</p></div></div><div class="nr l"><div class="nx l nt nu nv nr nw jh ni"/></div></div></a></div><div class="nf ng ez fb nh ni"><a href="https://heartbeat.fritz.ai/resampling-to-properly-handle-imbalanced-datasets-in-machine-learning-64d82c16ceaa" rel="noopener  ugc nofollow" target="_blank"><div class="nj ab dw"><div class="nk ab nl cl cj nm"><h2 class="bd hj fi z dy nn ea eb no ed ef hh bi translated">机器学习中正确处理不平衡数据集的重采样</h2><div class="np l"><h3 class="bd b fi z dy nn ea eb no ed ef dx translated">回顾欠采样和过采样</h3></div><div class="nq l"><p class="bd b fp z dy nn ea eb no ed ef dx translated">heartbeat.fritz.ai</p></div></div><div class="nr l"><div class="ny l nt nu nv nr nw jh ni"/></div></div></a></div><p id="6384" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">www.appliedaicourse.com</p><h2 id="220b" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">10.链接</h2><p id="a9fd" class="pw-post-body-paragraph lg lh hi ko b kp kq ij li kr ks im lj jz lk ll lm kd ln lo lp kh lq lr ls kw hb bi translated">Github代码库</p><p id="7d47" class="pw-post-body-paragraph lg lh hi ko b kp mc ij li kr md im lj jz me ll lm kd mf lo lp kh mg lr ls kw hb bi translated">【https://github.com/Srinivasa-Raja/Backorder T4】</p><div class="nf ng ez fb nh ni"><a href="https://www.linkedin.com/in/srinivasa-raja-yaramati-aba535113/" rel="noopener  ugc nofollow" target="_blank"><div class="nj ab dw"><div class="nk ab nl cl cj nm"><h2 class="bd hj fi z dy nn ea eb no ed ef hh bi translated">Srinivasa Raja Yaramati -数据科学家- Infosys | LinkedIn</h2><div class="np l"><h3 class="bd b fi z dy nn ea eb no ed ef dx translated">查看Srinivasa Raja Yaramati在世界上最大的职业社区LinkedIn上的个人资料。斯里尼瓦萨拉贾有1…</h3></div><div class="nq l"><p class="bd b fp z dy nn ea eb no ed ef dx translated">www.linkedin.com</p></div></div><div class="nr l"><div class="nz l nt nu nv nr nw jh ni"/></div></div></a></div></div></div>    
</body>
</html>