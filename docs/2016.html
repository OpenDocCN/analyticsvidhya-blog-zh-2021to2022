<html>
<head>
<title>Improvements</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">丰富</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/improvements-abcde0b64f9b?source=collection_archive---------18-----------------------#2021-03-31">https://medium.com/analytics-vidhya/improvements-abcde0b64f9b?source=collection_archive---------18-----------------------#2021-03-31</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/783c83d883b4414e74654bb8dd841909.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-RV5RseC9FygSxF4lUrRSA.jpeg"/></div></div></figure><h1 id="5b5a" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">背景</h1><p id="415e" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">最近在一个叫Codeforces的网站上做一些编程。我想这是一个提高我编程技能的好机会，因为我正在放春假。Codeforces提供了许多困难问题的档案。由于我在竞争性编程方面相当缺乏经验，我只能做评分为800的问题。我几乎不费吹灰之力就连续完成了大约10道这样的题，但当我完成一道名为“计算函数”的题时，遇到了更多的挑战。</p><figure class="km kn ko kp fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kl"><img src="../Images/922dd2166768f8c175b55952f5b2d32d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UjmVvHfqJhrECrz0kqbaZg.png"/></div></div><figcaption class="kq kr et er es ks kt bd b be z dx translated">问题详情</figcaption></figure><h1 id="a435" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">示范</h1><p id="be3a" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">当我第一次看到这个问题时，我想我可以对输入使用Python range()函数，并将它们添加到一个列表中。创建完列表后，我将遍历列表并检查元素的索引是奇数还是偶数。如果它是奇数，我会从一个我设置为0的<strong class="jp hi">答案</strong>变量中减去它。如果是偶数，我会把它加到<strong class="jp hi">答案</strong>变量中。在循环所有的数字后，我会打印出答案。</p><pre class="km kn ko kp fd ku kv kw kx aw ky bi"><span id="aaf8" class="kz iq hh kv b fi la lb l lc ld">info = int(input())<br/>values = [int(x) for x in range(info + 1)]<br/>answer = 0<br/>for i, value in enumerate(values):<br/>    if i % 2 == 0:<br/>        answer -= int(value)<br/>    else:<br/>        answer += int(value)</span><span id="8a9a" class="kz iq hh kv b fi le lb l lc ld">print(answer)</span></pre><p id="017d" class="pw-post-body-paragraph jn jo hh jp b jq lf js jt ju lg jw jx jy lh ka kb kc li ke kf kg lj ki kj kk ha bi translated">我上面的解决方案对一些测试案例有效，但是当输入是一个相当大的数字时，速度会大大降低。列表理解和检查每个数字的模是非常耗时的。这个解决方案是草率的，甚至不能满足每次测试1秒钟的时间限制。它的时间复杂度为O(n ),所以输入越大，程序运行越慢。我不得不更努力地思考，看看是否有什么模式。</p><p id="519d" class="pw-post-body-paragraph jn jo hh jp b jq lf js jt ju lg jw jx jy lh ka kb kc li ke kf kg lj ki kj kk ha bi translated">首先，我决定去掉模数和列表理解，因为它们肯定会使我的程序变慢。我没有检查一个数字是否是偶数，而是在减法和加法之间切换，因为我知道第一个数字总是负数。尽管做出了这些努力，但仍超过了1秒的时限。这可能是因为解也像前一个一样运行在O(n)中。</p><pre class="km kn ko kp fd ku kv kw kx aw ky bi"><span id="2a96" class="kz iq hh kv b fi la lb l lc ld">info = int(input())<br/>answer = 0<br/>negative = True<br/>for i in range(1, info + 1):<br/>    if negative:<br/>        answer -= int(i)<br/>    else:<br/>        answer += int(i)<br/>    negative = not negative</span><span id="bfe0" class="kz iq hh kv b fi le lb l lc ld">print(answer)</span></pre><p id="3ef6" class="pw-post-body-paragraph jn jo hh jp b jq lf js jt ju lg jw jx jy lh ka kb kc li ke kf kg lj ki kj kk ha bi translated">一旦我注意到问题底部的注释部分，我的解决方案就会呈现在我面前。在这里，我注意到如果数字是偶数，序列将由多对1组成。例如，数字6将由-1 + 2，-3 + 4，-5 + 6组成，所有这些数字都等同于1。这些较小的方程加起来都等于3，基本上就是6除以2。对于奇数，情况是相同的，除了从序列中减去输入的数字。例如，数字7将由数字6的所有小等式组成，但总和将减去7。这意味着f(7)将是3 -7，也就是-4。</p><pre class="km kn ko kp fd ku kv kw kx aw ky bi"><span id="b17c" class="kz iq hh kv b fi la lb l lc ld">info = int(input())<br/>answer = info // 2<br/>if info &amp; 1 != 0:<br/>    answer -= info</span><span id="14ff" class="kz iq hh kv b fi le lb l lc ld">print(answer)</span></pre><p id="fd4f" class="pw-post-body-paragraph jn jo hh jp b jq lf js jt ju lg jw jx jy lh ka kb kc li ke kf kg lj ki kj kk ha bi translated">在上面的代码片段中，我像第一个解决方案一样接受输入，但随后发现所有偶数的函数都是这个数除以2，所以我为此设置了一个答案变量。对于奇数，我使用了一个按位操作符作为快速检查数字是否是奇数的方法，因为我以前每个案例都超过了时间。然后，它会从先前偶数的函数中减去输入的数字。再次以7为例，7 // 2会是3，这是6的函数的答案，6是前面的偶数。然后从3中减去输入值7，得到的结果是-4。这个解的运行时间为O(1 ),所以不管输入有多大，解的时间都是常数。</p><h1 id="9d34" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">思想</h1><p id="5b89" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">我认为在解决这个问题的过程中，我从总体上提高了我作为程序员和问题解决者的整体技能。有时候用蛮力来解决问题，就像我在第一个解决方案中做的那样，是行不通的。为了在时间和空间的限制下解决这个问题，我不得不更深入地分析这个问题。花时间想一个比直接解决问题更有效的解决方案是很重要的，因为这并不总是有效的。我希望我的代码和思想的进展能够帮助任何刚接触竞争性编程的人。感谢阅读。</p><h1 id="a641" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">参考</h1><p id="02a8" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">code forces:<a class="ae lk" href="https://codeforces.com/" rel="noopener ugc nofollow" target="_blank">https://codeforces.com/</a><br/>计算函数:<a class="ae lk" href="https://codeforces.com/contest/486/problem/A" rel="noopener ugc nofollow" target="_blank">https://codeforces.com/contest/486/problem/A</a></p><h1 id="8fb9" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">放弃</h1><p id="9bd9" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">我只做过被认为容易的问题，所以我的代码不会是最干净或最有效的。我对竞争性编程也很陌生，因为我有很多东西要学。我写这些文章希望能学到更多，与其他感兴趣的人分享我的学习，并在此过程中提高我的写作技能。感谢阅读。</p></div></div>    
</body>
</html>