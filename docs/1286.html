<html>
<head>
<title>How to do everything in one line in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Python在一行中完成所有工作</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/how-to-do-everything-in-one-line-minifying-python-code-d2a247a7ed0e?source=collection_archive---------20-----------------------#2021-02-22">https://medium.com/analytics-vidhya/how-to-do-everything-in-one-line-minifying-python-code-d2a247a7ed0e?source=collection_archive---------20-----------------------#2021-02-22</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/4d620e6b25783e1aff6d469c73f2dc52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*UmB2IZBdNg48_Fwr.jpg"/></div></div></figure><p id="6945" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这是<a class="ae jn" href="https://kgdavidson.co.uk/category/python-bare-minima/" rel="noopener ugc nofollow" target="_blank">系列</a>的一部分，讨论在尽可能短的时间内全面掌握Python编程语言所需的一切。不管你是初学者还是专家，我都希望你能学到一些新东西。</p></div><div class="ab cl jo jp go jq" role="separator"><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt"/></div><div class="ha hb hc hd he"><p id="609f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">编写python代码时，您可能希望代码更短。这可能是由于字符限制或为了使代码看起来更整洁。这些技巧对于像<a class="ae jn" href="https://www.codingame.com/home" rel="noopener ugc nofollow" target="_blank">代码冲突</a>这样的编码挑战特别有用，在这种情况下，你用更少的字符就能获胜。</p><h1 id="ed4d" class="jv jw hh bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">交换变量</h1><figure class="kt ku kv kw fd ii"><div class="bz dy l di"><div class="kx ky l"/></div></figure><p id="840a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">一条将获得大量里程的线是一条交换变量而不使用临时变量的线。在Python中，你可以简单地使用多重赋值符号。</p><figure class="kt ku kv kw fd ii"><div class="bz dy l di"><div class="kx ky l"/></div></figure><p id="2a3a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">缩小IF语句的第一种方法是简单地将所有代码移到一行。这假设只有一个操作要运行，并且不需要使用else。通常根本不建议这样做。</p><p id="356f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">第二种方法是，如果条件为真，则写结果，然后写“如果”条件。如果您需要一个简短的if/else语句，后面还可以跟一个“else”和结果false。如图所示，整个语句可以放在变量声明之后或print语句中，只有结果会被设置或打印。</p><p id="d5d7" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在我看来，最后的、最短的、也是最好的方法是利用列表。很多人说使用if/else语句是不好的做法，所以这是一种完全摆脱它们的有效方法。代码是通过创建一个列表来编写的，第0项为假结果，第1项为真结果。然后，您可以使用该条件从该列表中提取适当的结果。</p><p id="ca1a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这是可行的，因为条件只能是真或假。在代码中，True和False完全等同于1和0。因此，条件只能被认为是1或0。这意味着我们可以只使用条件来处理任何数组中的第0项或第1项。</p><p id="ac3b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这甚至可以更进一步，将lambdas放入数组中以调用函数或运行代码，并在用“()”运行它们之前通过条件寻址它们，所有这些都在一行中。</p><figure class="kt ku kv kw fd ii"><div class="bz dy l di"><div class="kx ky l"/></div></figure><p id="1b37" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">一行中的for循环有时被称为列表或字典理解，因为它通常输出一个列表或字典。</p><p id="a450" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Python有两个函数非常匹配列表理解的结果。第一个是地图功能。正常的列表理解实现了同样的事情，本质上创建了一个新的列表，其中输入列表中的每个元素都被函数或操作修改了。</p><p id="035a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">第二个是过滤功能，用条件列表理解代替。这和普通的列表理解是一样的。重要的是，它还通过if语句过滤掉不希望包含在结果列表中的项目。</p><p id="5536" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">最后是字典理解。除了它必须接受一个元组列表之外，它的工作方式基本相同。这适用于每个元组中的一个元素成为键，另一个元素成为值的情况。有很多方法可以通过拆分每个元素来使用1D列表，但是这不是一个初学者的路线。</p><figure class="kt ku kv kw fd ii"><div class="bz dy l di"><div class="kx ky l"/></div></figure><p id="9057" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">SUM函数只是将列表中的所有元素相加，然后输出结果。</p><p id="eed9" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">REPLACE函数用于替换字符串中的子字符串。该函数还允许您选择应该替换子字符串出现的次数。默认情况下，替换所有引用。</p><p id="8ecf" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">反转和反向功能略有不同，但作用相同。两者都反转或翻转输入列表。唯一的区别是REVERSED返回输入列表的反转版本，而REVERSE在列表上被调用并反转它，不返回任何内容。</p><p id="5239" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">类似地，只需在变量名后添加“[::-1]”，就可以反转字符串。</p><p id="073b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">希望所有这些提示和技巧能让你更加注意什么时候可以更有效地编码，并帮助你想出更有创造性的解决方案来解决你的编码问题。</p><p id="c5dd" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><em class="kz">原载于2021年2月22日</em><a class="ae jn" href="https://kgdavidson.co.uk/python-bare-minima--how-to-do-everything-in-one-line-minifying-python-code/" rel="noopener ugc nofollow" target="_blank"><em class="kz">【https://kgdavidson.co.uk】</em></a><em class="kz">。</em></p></div></div>    
</body>
</html>