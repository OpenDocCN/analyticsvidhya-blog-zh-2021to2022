<html>
<head>
<title>Project Data Analysis for Retail : Sales Performance Report</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">零售项目数据分析:销售业绩报告</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/project-data-analysis-for-retail-sales-performance-report-f974f9b0c315?source=collection_archive---------2-----------------------#2021-11-22">https://medium.com/analytics-vidhya/project-data-analysis-for-retail-sales-performance-report-f974f9b0c315?source=collection_archive---------2-----------------------#2021-11-22</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="e77f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">使用SQL衡量零售店销售业绩</strong></p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jc"><img src="../Images/9d30540eaefba25a0474cdc807b436f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1252/format:webp/1*4z5lzZSi3sqE0E4yKT52Wg.jpeg"/></div></div><figcaption class="jo jp et er es jq jr bd b be z dx translated">资料来源:自由图片</figcaption></figure></div><div class="ab cl js jt go ju" role="separator"><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx"/></div><div class="ha hb hc hd he"><h1 id="e2d4" class="jz ka hh bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">背景项目</h1><p id="2bd3" class="pw-post-body-paragraph ie if hh ig b ih kx ij ik il ky in io ip kz ir is it la iv iw ix lb iz ja jb ha bi translated">通过DQLab提供的这份承诺书，就在这里，用于给定数据集，包括从2009年到2012年的交易文档，由5500行组成，这是订单信誉区域，价格为“订单完成”、“订单退回”和“订单取消”。</p></div><div class="ab cl js jt go ju" role="separator"><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx"/></div><div class="ha hb hc hd he"><h1 id="3b68" class="jz ka hh bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">给了什么任务？</h1><p id="83d1" class="pw-post-body-paragraph ie if hh ig b ih kx ij ik il ky in io ip kz ir is it la iv iw ix lb iz ja jb ha bi translated">通过所提供的信息，DQLab商店的主管希望了解:</p><ol class=""><li id="d67d" class="lc ld hh ig b ih ii il im ip le it lf ix lg jb lh li lj lk bi translated">DQLab从2009年到2012年订单数量和订单状态为“已完成”的总销售额的整体绩效</li><li id="e2dd" class="lc ld hh ig b ih ll il lm ip ln it lo ix lp jb lh li lj lk bi translated">2011年和2012年DQLab在产品子类别中的整体表现形成对比</li><li id="8e91" class="lc ld hh ig b ih ll il lm ip ln it lo ix lp jb lh li lj lk bi translated">通过计算一年中所有促销活动的消耗率，了解到目前为止所开展的促销活动的有效性和效率</li><li id="3f45" class="lc ld hh ig b ih ll il lm ip ln it lo ix lp jb lh li lj lk bi translated">通过计算2012年子类别产品的整体促销活动的消耗率，了解到目前为止开展的促销活动的有效性和效率</li><li id="0a8a" class="lc ld hh ig b ih ll il lm ip ln it lo ix lp jb lh li lj lk bi translated">每年的客户分析</li><li id="96df" class="lc ld hh ig b ih ll il lm ip ln it lo ix lp jb lh li lj lk bi translated">每年新客户的分析范围</li></ol></div><div class="ab cl js jt go ju" role="separator"><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx"/></div><div class="ha hb hc hd he"><h1 id="e8dc" class="jz ka hh bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">数据集简介</h1><p id="b1ce" class="pw-post-body-paragraph ie if hh ig b ih kx ij ik il ky in io ip kz ir is it la iv iw ix lb iz ja jb ha bi translated">这个任务的所有事实都保存在名为dqlab_store_sales的桌面中。您可以在下面看到数据集的外观:</p><pre class="jd je jf jg fd lq lr ls lt aw lu bi"><span id="0f25" class="lv ka hh lr b fi lw lx l ly lz">#table information<br/> DESC dqlab_sales_store;<br/> <br/>#first 5 records<br/> SELECT *<br/> FROM dqlab_sales_store<br/> LIMIT 5;</span></pre><p id="8363" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">输出:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es ma"><img src="../Images/26892991bf27e548238f2a6363bcf360.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HbS80XpkjPxUNsmCK9Vssw.png"/></div></div><figcaption class="jo jp et er es jq jr bd b be z dx translated">图1 : dqlab_sales_store表信息</figcaption></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es mb"><img src="../Images/f84c2c7ab2d9c697205cbefe529cee3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2LsWBKvxdo8P4uYn4AqVAA.png"/></div></div><figcaption class="jo jp et er es jq jr bd b be z dx translated">图dqlab _ sales _ store表的前5行外观</figcaption></figure></div><div class="ab cl js jt go ju" role="separator"><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx"/></div><div class="ha hb hc hd he"><h1 id="d26b" class="jz ka hh bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">让我们解决这个项目吧！</h1><ol class=""><li id="8f7f" class="lc ld hh ig b ih kx il ky ip mc it md ix me jb lh li lj lk bi translated"><strong class="ig hi">历年总体表现</strong></li></ol><pre class="jd je jf jg fd lq lr ls lt aw lu bi"><span id="0852" class="lv ka hh lr b fi lw lx l ly lz">SELECT YEAR(order_date) years,<br/>        SUM(sales) sales,<br/>        COUNT(order_status) 'number of orders'<br/> FROM dqlab_sales_store<br/> WHERE order_status = 'Order Finished'<br/> GROUP BY 1;</span></pre><p id="258c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">order_date区域有一个日期格式，我们可以通过使用YEAR()函数得到日期结构的12个月阶段。接下来，我们使用SUM()特性获取总销售额，然后使用COUNT()特性获取订单数量。不要忘记添加WHERE子句来过滤order_status，只是为了完成订单。最后，要获得按年计算的成本，我们需要在查询中按1分组，因为12个月主题位于第一列。</p><p id="9cb7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">输出:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es mf"><img src="../Images/0465c1a25260f0b1021132559c7830c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1058/format:webp/1*JQKny_hsudJpdnc3F67e7Q.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx translated">图3:销售和订单数量</figcaption></figure><p id="da51" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们可以看到，DQLab一年来的全部收入都被修改了。最好的整体收入是在2009年，之后就不会再有更高的收入了。但与订单种类不同的是，它在2011年被取消了。虽然这些年来这种交易并不太普遍。</p><p id="79fa" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> 2。子类别的总体表现</strong></p><pre class="jd je jf jg fd lq lr ls lt aw lu bi"><span id="25a0" class="lv ka hh lr b fi lw lx l ly lz">SELECT YEAR(order_date) as years,<br/>        product_sub_category,<br/>        sum(sales) as sales<br/> FROM dqlab_sales_store<br/> WHERE YEAR(order_date) BETWEEN 2011 AND 2012 AND order_status = 'Order Finished'<br/> GROUP BY years, product_sub_category<br/> ORDER BY years, sales DESC;</span></pre><p id="dd8e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">输出:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es mg"><img src="../Images/1a22ef543f53832ee52fb0039ab085e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1288/format:webp/1*20mQykLnTwkI45yzhv0dFA.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx translated">图4:2011年和2012年按子类别划分的销售额</figcaption></figure><pre class="jd je jf jg fd lq lr ls lt aw lu bi"><span id="0904" class="lv ka hh lr b fi lw lx l ly lz">SELECT *,<br/>        ROUND((sales2012-sales2011)*100/sales2012, 1) 'sales growth (%)'<br/> FROM(<br/>      SELECT product_sub_category,<br/>             SUM( IF( YEAR(order_date) = 2011, sales, 0)) sales2011,<br/>             SUM( IF( YEAR(order_date) = 2012, sales, 0)) sales2012<br/>      FROM dqlab_sales_store<br/>      WHERE order_status = 'Order Completed'<br/>      GROUPS BY product_sub_category<br/>     ) sub_category<br/> MESSAGE AFTER 4 DESC;</span></pre><p id="aba8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这里的数据透视表用来评估2011年和2012年的全部收入。我们可以使用SUM()特性通过IF()特性来观察。SUM()用于获得完整的收入，IF()用于通过我们喜欢指定的12个月进行筛选。</p><p id="61ff" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">输出:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es mh"><img src="../Images/1e980265cee82f11b8fc231d16abd9e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EgsWsPmW4jxkKk03v-0q9Q.png"/></div></div><figcaption class="jo jp et er es jq jr bd b be z dx translated">图5:将2011年和2012年的子类别总销售额与增长销售额进行比较</figcaption></figure><p id="7580" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">大部分增加的收入是领先的增长，通过一个好的价值来证明。但有一些子类别商品在2011年至2012年的收入下降，这证明了一个糟糕的价值。<em class="mi">标签、复印机&amp;传真</em>和<em class="mi">桌子</em>是收入下降最多的类别。</p><p id="fad3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> 3。按年份划分的推广效果和效率</strong></p><pre class="jd je jf jg fd lq lr ls lt aw lu bi"><span id="a2b0" class="lv ka hh lr b fi lw lx l ly lz">SELECT YEAR(order_date) years,<br/>        SUM(sales) sales,<br/>        SUM(discount_value) 'promotion_value',<br/>        ROUND( SUM(discount_value)*100/SUM(sales), 2) 'burn_rate_percentage'<br/> FROM dqlab_sales_store<br/> WHERE order_status = 'Order Finished'<br/> GROUP BY 1;</span></pre><p id="4b8e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在本项目中，燃烧率评估用于了解促销的效果和有效性。它是通过评估完全销售的促销成本总和来实现的。这里DQLab希望burn价格不要超过4.5%。燃烧价格计算证明如下:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es mj"><img src="../Images/e7a06bf9d4d071d3125f9fbf96d2dadb.png" data-original-src="https://miro.medium.com/v2/resize:fit:926/format:webp/1*3Vu2QBQlzqn2kcHaIPuqTA.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx translated">图6:燃烧速率公式</figcaption></figure><p id="93d6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">输出:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es mk"><img src="../Images/fa60ea96c881a0d9f3a78753cd5f3903.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u39M0AJsz_JiARiEddsPtA.png"/></div></div><figcaption class="jo jp et er es jq jr bd b be z dx translated">图7:每年的燃烧率</figcaption></figure><p id="2573" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">结果告诉我们，总的来说，每12个月的烧伤价格都在4.5%以上。这表明，已经开展的促销活动还没有能够将燃烧费用降低到最多4.5%。通过对每个产品的问题进行分组，我们可以找出哪个产品对造成的燃烧价格高于预期做出了巨大贡献。</p><p id="8e53" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> 4。通过使用产品子类别</strong>提升有效性和效率</p><pre class="jd je jf jg fd lq lr ls lt aw lu bi"><span id="5ec1" class="lv ka hh lr b fi lw lx l ly lz">SELECT YEAR(order_date) years,<br/>        product_sub_category,<br/>        product_category,<br/>        SUM(sales) sales,<br/>        SUM(discount_value) promotion_value,<br/>        ROUND(SUM(discount_value)*100/SUM(sales),2) 'burn_rate_percentage'<br/> FROM dqlab_sales_store<br/> WHERE YEAR(order_date) = 2012<br/>       AND order_status = 'Order Finished'<br/> GROUP BY 3, 2, 1<br/> ORDER BY 4 DESC;</span></pre><p id="900c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">输出:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es mb"><img src="../Images/1f4c5b1f1b41ddc51a6ce26c52207e0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*74nQeTOiILF8DcGHUIWaHw.png"/></div></div><figcaption class="jo jp et er es jq jr bd b be z dx translated">图8:按产品分类的燃烧率</figcaption></figure><p id="9914" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">只有5个子类产品的燃烧费用低于4.5 %。事实证明，在前5排，它们是从<em class="mi">橡皮筋</em>到<em class="mi">电话</em>和<em class="mi">通讯</em>开始的。鉴于<em class="mi">标签</em>与DQLab商店的预期燃烧费用最高价格相差0.02%。</p><p id="84a1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">非常有趣的是，从这些结果中，我们意识到许多子类别的产品燃烧负荷大于4.5%。</p><p id="4cf8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> 5。每年的客户交易量</strong></p><pre class="jd je jf jg fd lq lr ls lt aw lu bi"><span id="2f63" class="lv ka hh lr b fi lw lx l ly lz">SELECT YEAR(order_date) years,<br/>        COUNT(DISTINCT customer) 'number of customers'<br/> FROM dqlab_sales_store<br/> WHERE order_status = 'Order Finished'<br/> GROUP BY 1;</span></pre><p id="167f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">每年客户变化的计算不包含再生产价值。这就是为什么在这个问题中使用DISTINCT来获得客户号码的特殊价格。</p><p id="141a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">输出:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es ml"><img src="../Images/3b264bd875db0b78e4ab9fe23ccdb5d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:756/format:webp/1*wlHTMnftUI3Ix-ENg_nF0A.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx translated">图9:按年度划分的客户数量</figcaption></figure><p id="3ca2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">总体而言，客户的多样性没有太大变化。但幸运的是，我们没有出现顾客数量的大幅下降。我们可以看到，客户数量往往在580-590之间。</p><p id="d513" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> 6。历年新客户</strong></p><pre class="jd je jf jg fd lq lr ls lt aw lu bi"><span id="3df4" class="lv ka hh lr b fi lw lx l ly lz">SELECT YEAR(first_order) years,<br/>        COUNT(customer) 'new customer'<br/> FROM(<br/>        SELECT customers,<br/>               MIN(order_date) first_order<br/>        FROM dqlab_sales_store<br/>        WHERE order_status = 'Order Finished'<br/>        GROUP BY 1) first<br/> GROUP BY 1;</span></pre><p id="7d5a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为了每年获得各种各样的新客户，我们只希望从每个客户那里获得第一次交易的信息。我们可以利用<em class="mi">一阶</em>科目上的MIN()特性得到它，然后计算客户的变化量。</p><p id="0fb5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">输出:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es mm"><img src="../Images/3380d99f7191d0008cabb58fea51458a.png" data-original-src="https://miro.medium.com/v2/resize:fit:690/format:webp/1*07VzZh3SsYavAQ1FKC_deA.png"/></div></div><figcaption class="jo jp et er es jq jr bd b be z dx translated">图10:按年度划分的新客户数量</figcaption></figure><p id="0d72" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">每12个月新增客户的热潮正在消退。仅2012年就接待了11家新客户。但是，如果我们返回的最终结果早于(图9 ),那么客户的多样性将继续保持总体水平。这告诉我们，在新客户没有减少的情况下，许多先前的客户仍然返回DQLab商店进行交易。</p></div><div class="ab cl js jt go ju" role="separator"><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx"/></div><div class="ha hb hc hd he"><h1 id="e72e" class="jz ka hh bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">摘要</h1><p id="ac65" class="pw-post-body-paragraph ie if hh ig b ih kx ij ik il ky in io ip kz ir is it la iv iw ix lb iz ja jb ha bi translated">根据我们所做的记录评估，我们可以得出以下结论:</p><ol class=""><li id="50b6" class="lc ld hh ig b ih ii il im ip le it lf ix lg jb lh li lj lk bi translated"><strong class="ig hi">DQLab店铺的整体收入和订单种类整体波动</strong>，2009年最容易冒充全部收入的地方。与此同时，订单数量在2011年加速增长，尽管现在增长幅度并不太大。</li><li id="171e" class="lc ld hh ig b ih ll il lm ip ln it lo ix lp jb lh li lj lk bi translated"><strong class="ig hi">总收入主要基于2011年至2012年期间收到的总体增长的商品子类别</strong>。但是有一些是所得收入递减的，它们是<em class="mi">电器、书柜、桌子、标签、复印机&amp;传真</em>。</li><li id="cd23" class="lc ld hh ig b ih ll il lm ip ln it lo ix lp jb lh li lj lk bi translated"><strong class="ig hi">全年的燃烧率仍高于4.5%。</strong>这表明促销的效果和有效性并没有像DQLab商店希望的那样实现。</li><li id="ed76" class="lc ld hh ig b ih ll il lm ip ln it lo ix lp jb lh li lj lk bi translated"><strong class="ig hi">有很多商品的烧价都在4.5%以上。这就是为什么每年的总燃烧费用在4.5%以上。燃烧费用低于4.5%的唯一商品是<em class="mi">橡皮筋、信封、椅子&amp;椅垫、桌子和电话&amp;通讯。</em></strong></li><li id="9aa0" class="lc ld hh ig b ih ll il lm ip ln it lo ix lp jb lh li lj lk bi translated"><strong class="ig hi">历年的客户范围趋于稳定，在580–590左右</strong>。</li><li id="c7ba" class="lc ld hh ig b ih ll il lm ip ln it lo ix lp jb lh li lj lk bi translated"><strong class="ig hi">新增客户数量逐年下降，</strong>2012年新增客户数量最低，为11家。</li></ol></div></div>    
</body>
</html>