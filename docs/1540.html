<html>
<head>
<title>How to build a Speech Synthesizer using Python.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Python构建语音合成器？</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/speech-synthesizer-using-python-b3f1c83a1fc8?source=collection_archive---------4-----------------------#2021-03-07">https://medium.com/analytics-vidhya/speech-synthesizer-using-python-b3f1c83a1fc8?source=collection_archive---------4-----------------------#2021-03-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/ca858c0bcb8f8042a54cd6bf282a52ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*USVXYhX5D7R0Fy7o9EtGLQ.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><a class="ae iu" href="https://unsplash.com/@unstable_affliction?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">伊万·班杜拉</a>在<a class="ae iu" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</figcaption></figure><h1 id="60bf" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated"><strong class="ak">简介</strong></h1><p id="02bf" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi kr translated">他们在那里！在这篇文章中，我们将讨论如何创建和定制一个简单而强大的语音合成器，将任何文本输入转换成语音。您可以选择将其保存为音频文件，或者让它为您大声朗读出来。这是一个分步指南，每个步骤都有完整的代码片段。对于那些想要完整代码的人，我在文章末尾添加了Github资源库链接。</p><h1 id="8846" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated"><strong class="ak">要求</strong></h1><ul class=""><li id="775e" class="la lb hi jv b jw jx ka kb ke lc ki ld km le kq lf lg lh li bi translated">python(显然。3+推荐)</li><li id="ccad" class="la lb hi jv b jw lj ka lk ke ll ki lm km ln kq lf lg lh li bi translated">pyttsx3(它是Python中的一个文本到语音转换库。)</li><li id="8005" class="la lb hi jv b jw lj ka lk ke ll ki lm km ln kq lf lg lh li bi translated">一个代码编辑器，我用的是Jupyter Notebook，你可以用Vscode/Atom/Sublime或者任何你选择的。</li></ul><blockquote class="lo lp lq"><p id="5028" class="jt ju lr jv b jw ls jy jz ka lt kc kd lu lv kg kh lw lx kk kl ly lz ko kp kq hb bi translated">使用<code class="du ma mb mc md b">pip install pyttsx3</code>安装pyttsx3库。</p></blockquote><h1 id="aa85" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated"><strong class="ak">概述</strong></h1><p id="0ca1" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">这里是本文涵盖的所有主题的完整列表。</p><ul class=""><li id="0f65" class="la lb hi jv b jw ls ka lt ke me ki mf km mg kq lf lg lh li bi translated">如何使用pyttsx3库进行tts转换？</li><li id="d716" class="la lb hi jv b jw lj ka lk ke ll ki lm km ln kq lf lg lh li bi translated">在男声和女声之间转换。</li><li id="19ca" class="la lb hi jv b jw lj ka lk ke ll ki lm km ln kq lf lg lh li bi translated">改变语速和输出音频的音量。</li><li id="c72f" class="la lb hi jv b jw lj ka lk ke ll ki lm km ln kq lf lg lh li bi translated">如何将您的演讲保存为音频文件？</li></ul><h1 id="37f7" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated"><strong class="ak">说了这么多，我们开始吧</strong></h1><ul class=""><li id="c054" class="la lb hi jv b jw jx ka kb ke lc ki ld km le kq lf lg lh li bi translated">让我们从导入pyttsx3库开始</li></ul><pre class="mh mi mj mk fd ml md mm mn aw mo bi"><span id="7a2e" class="mp iw hi md b fi mq mr l ms mt">import pyttsx3</span></pre><ul class=""><li id="eb47" class="la lb hi jv b jw ls ka lt ke me ki mf km mg kq lf lg lh li bi translated">现在我们用一个变量来初始化它。这是一个变量，我们将用它来调用库的所有函数，以便在整个代码中使用。让我们将转换器命名为“合成器”。</li></ul><pre class="mh mi mj mk fd ml md mm mn aw mo bi"><span id="ff91" class="mp iw hi md b fi mq mr l ms mt">synthesizer = pyttsx3.init()</span></pre><ul class=""><li id="aabe" class="la lb hi jv b jw ls ka lt ke me ki mf km mg kq lf lg lh li bi translated">我们可以给“合成器”一个静态或动态输入源。</li><li id="40ab" class="la lb hi jv b jw lj ka lk ke ll ki lm km ln kq lf lg lh li bi translated">“say”功能告诉合成器读出给定的文本，而“save_to_file”功能告诉它将音频保存为文件。</li><li id="2953" class="la lb hi jv b jw lj ka lk ke ll ki lm km ln kq lf lg lh li bi translated">然后，我们告诉合成器运行转换过程。</li><li id="ca34" class="la lb hi jv b jw lj ka lk ke ll ki lm km ln kq lf lg lh li bi translated">要将文本转换成语音并朗读出来:</li></ul><h2 id="4eae" class="mp iw hi bd ix mu mv mw jb mx my mz jf ke na nb jj ki nc nd jn km ne nf jr ng bi translated"><strong class="ak">静态输入:</strong></h2><pre class="mh mi mj mk fd ml md mm mn aw mo bi"><span id="42b3" class="mp iw hi md b fi mq mr l ms mt">synthesizer.say("Hello World") <br/>synthesizer.runAndWait() <br/>synthesizer.stop()</span></pre><h2 id="abba" class="mp iw hi bd ix mu mv mw jb mx my mz jf ke na nb jj ki nc nd jn km ne nf jr ng bi translated">或者</h2><h2 id="652a" class="mp iw hi bd ix mu mv mw jb mx my mz jf ke na nb jj ki nc nd jn km ne nf jr ng bi translated"><strong class="ak">动态输入:</strong></h2><pre class="mh mi mj mk fd ml md mm mn aw mo bi"><span id="5b4e" class="mp iw hi md b fi mq mr l ms mt">my_text = input("Enter the text: ")<br/>synthesizer.say(my_text) <br/>synthesizer.runAndWait() <br/>synthesizer.stop()</span></pre><ul class=""><li id="cce1" class="la lb hi jv b jw ls ka lt ke me ki mf km mg kq lf lg lh li bi translated">要将转换后的语音存储在音频文件中:</li></ul><h2 id="1285" class="mp iw hi bd ix mu mv mw jb mx my mz jf ke na nb jj ki nc nd jn km ne nf jr ng bi translated">静态输入:</h2><pre class="mh mi mj mk fd ml md mm mn aw mo bi"><span id="c660" class="mp iw hi md b fi mq mr l ms mt">synthesizer.save_to_file("Hello World", 'test.mp3')<br/>synthesizer.runAndWait()</span></pre><h2 id="1834" class="mp iw hi bd ix mu mv mw jb mx my mz jf ke na nb jj ki nc nd jn km ne nf jr ng bi translated">或者</h2><h2 id="4647" class="mp iw hi bd ix mu mv mw jb mx my mz jf ke na nb jj ki nc nd jn km ne nf jr ng bi translated">动态输入:</h2><pre class="mh mi mj mk fd ml md mm mn aw mo bi"><span id="720d" class="mp iw hi md b fi mq mr l ms mt">synthesizer.save_to_file(my_text, 'test.mp3')<br/>synthesizer.runAndWait()</span></pre><blockquote class="lo lp lq"><p id="aac8" class="jt ju lr jv b jw ls jy jz ka lt kc kd lu lv kg kh lw lx kk kl ly lz ko kp kq hb bi translated">在上面的例子中，我将音频保存到文件“test.mp3”</p></blockquote><figure class="mh mi mj mk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nh"><img src="../Images/482d23e05b6d1c890755d48f017d1d40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wv30hV-JRu2zGv8B4gE8-A.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">照片由<a class="ae iu" href="https://unsplash.com/@clemhlrdt?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">克莱门特·赫拉尔多</a>在<a class="ae iu" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h1 id="3852" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated"><strong class="ak">定制您的合成器</strong></h1><ul class=""><li id="6a56" class="la lb hi jv b jw jx ka kb ke lc ki ld km le kq lf lg lh li bi translated">为了查看您系统中的声音列表，我们获取可用的声音并将它们存储在变量“voices”中。</li></ul><pre class="mh mi mj mk fd ml md mm mn aw mo bi"><span id="68c3" class="mp iw hi md b fi mq mr l ms mt">voices = synthesizer.getProperty('voices')</span></pre><ul class=""><li id="d00c" class="la lb hi jv b jw ls ka lt ke me ki mf km mg kq lf lg lh li bi translated">现在，为了显示声音和它们的属性。</li></ul><pre class="mh mi mj mk fd ml md mm mn aw mo bi"><span id="ebf3" class="mp iw hi md b fi mq mr l ms mt">for voice in voices: <br/>    print("Voice:") <br/>    print("ID: %s" %voice.id) <br/>    print("Name: %s" %voice.name) <br/>    print("Age: %s" %voice.age) <br/>    print("Gender: %s" %voice.gender) <br/>    print("Languages Known: %s" %voice.languages)</span></pre><ul class=""><li id="a965" class="la lb hi jv b jw ls ka lt ke me ki mf km mg kq lf lg lh li bi translated">我们看到默认有两个声音，一个男性，一个女性。如果没有另外指定，合成器将男声设置为默认。</li><li id="844d" class="la lb hi jv b jw lj ka lk ke ll ki lm km ln kq lf lg lh li bi translated">索引0设置男性声音，而索引1设置女性声音。</li></ul><h2 id="ce3b" class="mp iw hi bd ix mu mv mw jb mx my mz jf ke na nb jj ki nc nd jn km ne nf jr ng bi translated">对于男性:</h2><pre class="mh mi mj mk fd ml md mm mn aw mo bi"><span id="0ed1" class="mp iw hi md b fi mq mr l ms mt">synthesizer.setProperty('voice', voices[0].id)  </span></pre><h2 id="f5a3" class="mp iw hi bd ix mu mv mw jb mx my mz jf ke na nb jj ki nc nd jn km ne nf jr ng bi translated"><strong class="ak">女性:</strong></h2><pre class="mh mi mj mk fd ml md mm mn aw mo bi"><span id="150b" class="mp iw hi md b fi mq mr l ms mt">synthesizer.setProperty('voice', voices[1].id)   </span></pre><ul class=""><li id="0deb" class="la lb hi jv b jw ls ka lt ke me ki mf km mg kq lf lg lh li bi translated">如果您想使用语音键而不是索引值，那么，</li></ul><h2 id="1412" class="mp iw hi bd ix mu mv mw jb mx my mz jf ke na nb jj ki nc nd jn km ne nf jr ng bi translated"><strong class="ak">男:</strong></h2><pre class="mh mi mj mk fd ml md mm mn aw mo bi"><span id="0ef2" class="mp iw hi md b fi mq mr l ms mt">voice_id = "HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Speech\Voices\Tokens\TTS_MS_EN-US_DAVID_11.0"<br/>synthesizer.setProperty('voice', voice_id)</span></pre><h2 id="50db" class="mp iw hi bd ix mu mv mw jb mx my mz jf ke na nb jj ki nc nd jn km ne nf jr ng bi translated"><strong class="ak">女:</strong></h2><pre class="mh mi mj mk fd ml md mm mn aw mo bi"><span id="41be" class="mp iw hi md b fi mq mr l ms mt">voice_id = "HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Speech\Voices\Tokens\TTS_MS_EN-US_ZIRA_11.0"<br/>synthesizer.setProperty('voice', voice_id)</span></pre><ul class=""><li id="6367" class="la lb hi jv b jw ls ka lt ke me ki mf km mg kq lf lg lh li bi translated">如果您想查看或更改语速和音量，那么</li></ul><h2 id="064c" class="mp iw hi bd ix mu mv mw jb mx my mz jf ke na nb jj ki nc nd jn km ne nf jr ng bi translated"><strong class="ak">对于语速:</strong></h2><pre class="mh mi mj mk fd ml md mm mn aw mo bi"><span id="321a" class="mp iw hi md b fi mq mr l ms mt">rate = synthesizer.getProperty('rate')<br/>print(rate)<br/>synthesizer.setProperty('rate', 150)</span></pre><blockquote class="lo lp lq"><p id="1614" class="jt ju lr jv b jw ls jy jz ka lt kc kd lu lv kg kh lw lx kk kl ly lz ko kp kq hb bi translated">我已经把速度调到150了。</p></blockquote><h2 id="de0f" class="mp iw hi bd ix mu mv mw jb mx my mz jf ke na nb jj ki nc nd jn km ne nf jr ng bi translated">对于音量:</h2><pre class="mh mi mj mk fd ml md mm mn aw mo bi"><span id="9b0f" class="mp iw hi md b fi mq mr l ms mt">volume = synthesizer.getProperty('volume')<br/>print(volume)<br/>synthesizer.setProperty('volume', 0.7)</span></pre><blockquote class="lo lp lq"><p id="a029" class="jt ju lr jv b jw ls jy jz ka lt kc kd lu lv kg kh lw lx kk kl ly lz ko kp kq hb bi translated">我已经把音量调到0.7了</p></blockquote><h1 id="c687" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">结论:</h1><p id="17a4" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">希望这对你有帮助！以后一定要关注更多这样的文章！下面是GitHub上完整代码的链接:<a class="ae iu" href="https://github.com/FabChris01/Speech-Synthesizer" rel="noopener ugc nofollow" target="_blank">https://github.com/FabChris01/Speech-Synthesizer</a></p><p id="fbf5" class="pw-post-body-paragraph jt ju hi jv b jw ls jy jz ka lt kc kd ke lv kg kh ki lx kk kl km lz ko kp kq hb bi translated">谢谢你的来访！快乐学习！</p></div></div>    
</body>
</html>