<html>
<head>
<title>Exploratory Analysis on Lego Dataset</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">乐高数据集的探索性分析</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/exploratory-analysis-on-lego-dataset-8967e37fc5dd?source=collection_archive---------6-----------------------#2021-03-01">https://medium.com/analytics-vidhya/exploratory-analysis-on-lego-dataset-8967e37fc5dd?source=collection_archive---------6-----------------------#2021-03-01</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/4147f378dece079f31a41867e58c14f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lECgOfTRbXN-vELeyqheFQ.jpeg"/></div></div></figure><div class=""/><p id="6c8d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">作为一个对乐高感兴趣的年轻人，我一直想分析乐高数据集，以了解趋势、主题和布景的变化。此分析受此模式分析<a class="ae jo" href="https://mode.com/blog/lego-data-analysis/" rel="noopener ugc nofollow" target="_blank">帖子</a>的启发</p><ul class=""><li id="abda" class="jp jq ht is b it iu ix iy jb jr jf js jj jt jn ju jv jw jx bi translated">数据源</li></ul><p id="acd3" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">数据集来自网站<a class="ae jo" href="https://rebrickable.com/" rel="noopener ugc nofollow" target="_blank">可重新点击</a>。它提供了一个数据库存储乐高项目-集，零件和迷你图。每日数据可通过CSV下载或API访问</p><figure class="jz ka kb kc fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es jy"><img src="../Images/8227b2641e139c95695d1f4560f9f12d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lFhU7rUXlFlMaUysp-Khow.png"/></div></div></figure><p id="9c36" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先，我直观地检查了每个数据集，以理解每个表的结构和表之间的关系。考虑库存数据集不是乐高公司库存的真实反映。我的分析主要集中在布景、主题、部件和颜色上。</p><p id="b53a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">器械包表格包含器械包数量、名称、年份、主题标识、零件数量等列。</p><p id="925f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">主题表包含Id、name和parent_id列。</p><ul class=""><li id="a67a" class="jp jq ht is b it iu ix iy jb jr jf js jj jt jn ju jv jw jx bi translated">数据争论</li></ul><p id="69e9" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">加入theme_id=Id后，我们有了从1949年到2021年的集合和主题信息的统一视图。在16691个唯一集合记录中，9625个记录具有主题parent_id。num_parts高度右倾，基于这样一个事实:中位数(41) <mean percentile="" num_parts="" is="" the="" extreme="" outlier="" pieces="" of="" parts="" belong="" to="" set="" class="ae jo" href="https://www.toysnbricks.com/lego-the-ultimate-battle-for-chima-set-10004-pieces/" rel="noopener ugc nofollow" target="_blank">奇马终极之战将于2015年上映。处理如此大量的零件是一个相当大的挑战！</mean></p><figure class="jz ka kb kc fd hk er es paragraph-image"><div class="er es kd"><img src="../Images/a5fedac0da3539cf86b2d3fb5671c671.png" data-original-src="https://miro.medium.com/v2/resize:fit:998/format:webp/1*qNqj_hbsecC_efYNICg39A.png"/></div></figure><p id="1eac" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">主题表中有133个父主题。主题表上的自联接将子集映射到父主题(parent_id=id)。最终组合的数据集(set_theme)如下图，基于此，我在代码中用包plotly.express，px作为别名创建了一些交互可视化。</p><figure class="jz ka kb kc fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ke"><img src="../Images/f573c2ab0eea9c3bab808c1d4d506b55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x0M-v4qJ3J70SMddt8kTiA.png"/></div></div></figure><p id="4d5a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">数据分析结果</p><ul class=""><li id="5ae5" class="jp jq ht is b it iu ix iy jb jr jf js jj jt jn ju jv jw jx bi translated">每个不同父主题的零件数量</li></ul><p id="923c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">从2000年开始，随着主题的日益多样化，每套零件的数量成倍增加。好几个创作者主题(深紫色)的套装都有2000多件。《星球大战》主题套装在2000年左右开始出现在系列中，接近《星球大战:第一集——幽灵的威胁》的上映时间。</p><figure class="jz ka kb kc fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kf"><img src="../Images/2729e4f0ba43509271d9c64ef341e448.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yzpz9jfRrJUjJOts6a6tRg.png"/></div></div></figure><ul class=""><li id="a8c8" class="jp jq ht is b it iu ix iy jb jr jf js jj jt jn ju jv jw jx bi translated">设定每年的数量</li></ul><p id="b91f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在1970年之前，大部分布景来自主题系统，该系统具有较高的布景数量，然后最高布景数量在1971-1979年逐渐转移到主题乐高乐园(第一个乐高乐园游乐度假村于1968年开业)，在1981-2010年转移到Duplo、Universal Building Set、Binocial。从2011年开始，可收藏的迷你人偶主题有很多套。你可能想知道乐高小人是否值得收藏，看看这篇<a class="ae jo" href="https://blog.minifigures.com/are-lego-minifigures-worth-collecting/" rel="noopener ugc nofollow" target="_blank">帖子</a>。</p><figure class="jz ka kb kc fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kg"><img src="../Images/9c823d1f9dd60a5d57fa649de02cd438.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aed3mxHcq0E1QSp1YrPJFQ.png"/></div></div></figure><p id="f763" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">将所有主题结合在一起，在过去的72年中，每年器械包计数的总体趋势是上升的。到目前为止，最高峰是在2015年(集数是304)。这反映了乐高的<a class="ae jo" href="https://en.wikipedia.org/wiki/The_Lego_Group" rel="noopener ugc nofollow" target="_blank">财务状况</a>:2015年上半年营业额为141.42亿丹麦克朗，以当地货币计算，较2014年同期增长18%。2015年上半年的销售额受到所有地理区域两位数增长和强大产品创新的推动，如<a class="ae jo" href="https://en.wikipedia.org/wiki/Lego_Ninjago" rel="noopener ugc nofollow" target="_blank">乐高Ninjago </a>、<a class="ae jo" href="https://en.wikipedia.org/wiki/Lego_Elves" rel="noopener ugc nofollow" target="_blank">乐高精灵</a>和<a class="ae jo" href="https://en.wikipedia.org/wiki/Lego_Creator" rel="noopener ugc nofollow" target="_blank">乐高创造者</a>。</p><figure class="jz ka kb kc fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kh"><img src="../Images/1a4aff64b882bb1e6f0a43b186005faa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FH6ea4VygJynh7D02Zqx5w.png"/></div></div></figure><ul class=""><li id="fb6b" class="jp jq ht is b it iu ix iy jb jr jf js jj jt jn ju jv jw jx bi translated">每年组合的器械包和零件数量</li></ul><p id="c772" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我不想单独查看器械包数量和零件号，而是希望有一个统一的视图来呈现这两个数据点的趋势。总的来说，器械包数量和平均零件数量逐年上升。每年零件数的中位数总是小于平均零件数，进一步证实了零件数的分布是右偏的。</p><p id="c5bc" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">中值:除了1960年(部分263的中值#)、1968年(部分123的中值#)、1976年(部分119的中值#)之外，中值都在范围(0，75)之间。</p><p id="2d0a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在1976年之前，中值和平均值非常接近，这部分是由于器械包数量少造成的，但是在2000年之后，差距变大了，除了器械包数量增加之外，这主要是由于某些器械包中的零件数量多造成的。</p><figure class="jz ka kb kc fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ki"><img src="../Images/c013264dd920bed771e5f02ecbb48330.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7uJiQpn2nNtH7fbUMCm4Xw.png"/></div></div></figure><ul class=""><li id="dc5d" class="jp jq ht is b it iu ix iy jb jr jf js jj jt jn ju jv jw jx bi translated">21世纪的流行主题</li></ul><p id="8acd" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，仔细看看21世纪的布景和主题。为了定义流行度，我使用了从2000年到现在每个主题的最高总集数作为代理。排名前20的热门主题从《星球大战》、《忍者神龟》、蝙蝠侠电影到《超级马里奥》。</p><figure class="jz ka kb kc fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kj"><img src="../Images/9ebd6bc590d67a4c30b27a43586731cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dik4WkWerH4XQe0U2spA6Q.png"/></div></div></figure><p id="eee9" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">每个主题在部分的数量上有相当不同的分布。就像我们之前提到的，零件数量最多的一组是奇马终极之战。一般来说,《星球大战》、《忍者神龟》、《电影忍者神龟》、《蝙蝠侠》和《技术》都有大量的角色，这增加了场景的复杂性和趣味性。Brickheads是我最想购买的产品之一:价格实惠，设计多样，而且非常容易组装。</p><figure class="jz ka kb kc fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kk"><img src="../Images/8c29c178497c5e7296759f88994c3129.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J2ApwzJ9-_qPkk8bDPsbww.png"/></div></div></figure><ul class=""><li id="1f76" class="jp jq ht is b it iu ix iy jb jr jf js jj jt jn ju jv jw jx bi translated">零件颜色</li></ul><p id="b37c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">与集合、主题表相比，颜色表没有用于与其他表进行映射的质量连接键，在7788个set_themes_year记录中，只有33个记录映射了有效的颜色元素。在这种情况下，我把库存_零件和颜色一起分析了。在过去的72年里，最常用的5种颜色是黑色、白色、浅蓝灰色、红色和深蓝灰色。</p><figure class="jz ka kb kc fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kl"><img src="../Images/70e2af12f898e2e9d5c348c3047f881a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cdr4psBKo6vtdHZmm6A89g.png"/></div></div></figure><p id="519d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">外卖:</p><ul class=""><li id="d184" class="jp jq ht is b it iu ix iy jb jr jf js jj jt jn ju jv jw jx bi translated">2000年后，乐高发布了更多受流行电影启发的不同主题的套装，如《星球大战》、《蝙蝠侠》。</li><li id="428a" class="jp jq ht is b it km ix kn jb ko jf kp jj kq jn ju jv jw jx bi translated">在过去的72年中，设定主题的变化表明了多元化的乐高产品战略:开发乐高乐园和制作Ninjago电视系列。</li><li id="9e05" class="jp jq ht is b it km ix kn jb ko jf kp jj kq jn ju jv jw jx bi translated">随着每套部件数量的逐年增加，乐高积木套组的复杂程度也在增加。</li></ul><p id="2270" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">附加信息:</p><ul class=""><li id="533a" class="jp jq ht is b it iu ix iy jb jr jf js jj jt jn ju jv jw jx bi translated">该分析是在来自可重新点击网站的2021年2月28日的数据集上进行的。它不是实时分析，并且在数据点定期刷新后会发生变化。</li><li id="0306" class="jp jq ht is b it km ix kn jb ko jf kp jj kq jn ju jv jw jx bi translated">图表是通过plotly.express包创建的，由于网站的限制，图表没有交互性。</li><li id="b8da" class="jp jq ht is b it km ix kn jb ko jf kp jj kq jn ju jv jw jx bi translated">如果你想知道填充这些图表的代码，请在这里找到Github代码<a class="ae jo" href="https://github.com/solozyf/LegoDataSet" rel="noopener ugc nofollow" target="_blank"/></li></ul></div></div>    
</body>
</html>