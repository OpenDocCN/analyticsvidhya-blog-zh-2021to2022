<html>
<head>
<title>Facial Landmark Detection in Real-Time using OpenCV &amp; Dlib</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">利用OpenCV &amp; Dlib实时检测人脸标志点</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/facial-landmark-detection-in-real-time-using-opencv-dlib-adbba9255329?source=collection_archive---------6-----------------------#2021-01-26">https://medium.com/analytics-vidhya/facial-landmark-detection-in-real-time-using-opencv-dlib-adbba9255329?source=collection_archive---------6-----------------------#2021-01-26</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div class="er es ie"><img src="../Images/4112714f07e10b5fea7af25b63ee9f8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1132/1*Z7l76DYuZCBqlZ8u_PVfOw.gif"/></div></figure><p id="7561" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">面部标志可以帮助我们预测许多事情，它可以用于情绪检测，痛苦检测，甚至是司机在驾驶时是否睡着了。我们将使用预训练的模型来检测面部周围的标志。</p><h2 id="d7d7" class="jj jk hh bd jl jm jn jo jp jq jr js jt iw ju jv jw ja jx jy jz je ka kb kc kd bi translated"><strong class="ak">导入素材</strong></h2><p id="cd2d" class="pw-post-body-paragraph il im hh in b io ke iq ir is kf iu iv iw kg iy iz ja kh jc jd je ki jg jh ji ha bi translated">让我们导入所需的库如<strong class="in hi"> OpenCV、</strong><a class="ae kj" href="https://pypi.org/project/dlib/" rel="noopener ugc nofollow" target="_blank"><strong class="in hi">dlib</strong></a><strong class="in hi">&amp;numpy</strong></p><figure class="kk kl km kn fd ii"><div class="bz dy l di"><div class="ko kp l"/></div></figure><h2 id="9351" class="jj jk hh bd jl jm jn jo jp jq jr js jt iw ju jv jw ja jx jy jz je ka kb kc kd bi translated">定义地标</h2><p id="4504" class="pw-post-body-paragraph il im hh in b io ke iq ir is kf iu iv iw kg iy iz ja kh jc jd je ki jg jh ji ha bi translated">我们将在该模型上绘制总共68个地标(我们也可以替换它，以便在边缘设备中实时检测仅5个地标)</p><figure class="kk kl km kn fd ii"><div class="bz dy l di"><div class="ko kp l"/></div></figure><h2 id="6648" class="jj jk hh bd jl jm jn jo jp jq jr js jt iw ju jv jw ja jx jy jz je ka kb kc kd bi translated">绘制形状</h2><p id="4cbe" class="pw-post-body-paragraph il im hh in b io ke iq ir is kf iu iv iw kg iy iz ja kh jc jd je ki jg jh ji ha bi translated">现在让我们定义一些函数来画出地标的点和形状</p><figure class="kk kl km kn fd ii"><div class="bz dy l di"><div class="ko kp l"/></div></figure><h2 id="5879" class="jj jk hh bd jl jm jn jo jp jq jr js jt iw ju jv jw ja jx jy jz je ka kb kc kd bi translated">模型和预测器</h2><p id="4416" class="pw-post-body-paragraph il im hh in b io ke iq ir is kf iu iv iw kg iy iz ja kh jc jd je ki jg jh ji ha bi translated">现在让我们初始化模型(我们有两个模型，一个用于检测68个地标，另一个用于5个地标，我将注释掉5个地标)。我们还将使用<strong class="in hi"> dlib的形状预测函数</strong>来检测给定人脸中的标志</p><figure class="kk kl km kn fd ii"><div class="bz dy l di"><div class="ko kp l"/></div></figure><h2 id="e1a2" class="jj jk hh bd jl jm jn jo jp jq jr js jt iw ju jv jw ja jx jy jz je ka kb kc kd bi translated">启动摄像头</h2><p id="4e53" class="pw-post-body-paragraph il im hh in b io ke iq ir is kf iu iv iw kg iy iz ja kh jc jd je ki jg jh ji ha bi translated">可以用<strong class="in hi"> Cv2。VideoCapture(0) </strong>用于访问您计算机中的网络摄像头，但为了方便起见，我在视频中使用了这一模式，我们将保存输出，但您也可以使用上述功能实时使用它。</p><figure class="kk kl km kn fd ii"><div class="bz dy l di"><div class="ko kp l"/></div></figure><h2 id="c39d" class="jj jk hh bd jl jm jn jo jp jq jr js jt iw ju jv jw ja jx jy jz je ka kb kc kd bi translated">运行并保存</h2><p id="01b6" class="pw-post-body-paragraph il im hh in b io ke iq ir is kf iu iv iw kg iy iz ja kh jc jd je ki jg jh ji ha bi translated">让我们使用给定的视频输入来运行这个模型，我将把输出保存为<strong class="in hi"><em class="kq">output.mp4</em></strong>，但是您也可以使用<strong class="in hi"> cv2.imshow() </strong>函数来实时查看输出</p><figure class="kk kl km kn fd ii"><div class="bz dy l di"><div class="ko kp l"/></div></figure><p id="84d4" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">你可以从<a class="ae kj" href="https://github.com/Pavankunchala/Deep-Learning/blob/master/Facial_landmarks/facial_landmarks_dlib.py" rel="noopener ugc nofollow" target="_blank"> <strong class="in hi">这里</strong> </a>找到博客的代码</p><p id="55b1" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi"> PS </strong>:如果你有任何疑问可以在这里给我发邮件<a class="ae kj" href="http://pavankunchalapk@gmail.com/" rel="noopener ugc nofollow" target="_blank">，你可以在我的linkedin上从</a><a class="ae kj" href="https://www.linkedin.com/in/pavan-kumar-reddy-kunchala/" rel="noopener ugc nofollow" target="_blank"> <strong class="in hi">这里</strong> </a> <strong class="in hi"> </strong>联系我，你也可以在我的Github上从<a class="ae kj" href="https://github.com/Pavankunchala" rel="noopener ugc nofollow" target="_blank"> <strong class="in hi">这里</strong> </a>查看我的其他代码(里面有很酷的东西)</p><p id="fcc8" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">我也在寻找深度学习和计算机视觉领域的自由职业机会，如果你愿意合作，请给我发邮件(<a class="ae kj" href="mailto:pavankunchalapk@gmail.com" rel="noopener ugc nofollow" target="_blank">pavankunchalapk@gmail.com</a>)</p><p id="5562" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">祝你有美好的一天！</p></div></div>    
</body>
</html>