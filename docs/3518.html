<html>
<head>
<title>Tweets Scraping using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python抓取推文</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/twitter-scrapping-using-python-55a466b2f597?source=collection_archive---------3-----------------------#2021-07-06">https://medium.com/analytics-vidhya/twitter-scrapping-using-python-55a466b2f597?source=collection_archive---------3-----------------------#2021-07-06</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/246f0aa4d76e1713a271d9856e4e1315.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_f7HcciAngTDztBRRrSqig.jpeg"/></div></div></figure><p id="b850" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">今天，我将向你展示我们如何使用python中的一个库snscrape来抓取推文。</p><h1 id="1604" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">结果</h1><ol class=""><li id="773b" class="km kn hi is b it ko ix kp jb kq jf kr jj ks jn kt ku kv kw bi translated">基于标签或时间戳抓取推文。</li><li id="1ee0" class="km kn hi is b it kx ix ky jb kz jf la jj lb jn kt ku kv kw bi translated">无限推文可以刮。</li><li id="fe47" class="km kn hi is b it kx ix ky jb kz jf la jj lb jn kt ku kv kw bi translated">抓取的数据可以保存为JSON格式。</li></ol><h1 id="9dff" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">环境设置</h1><ol class=""><li id="db97" class="km kn hi is b it ko ix kp jb kq jf kr jj ks jn kt ku kv kw bi translated">从<a class="ae lc" href="https://www.anaconda.com/products/individual" rel="noopener ugc nofollow" target="_blank">这里</a>下载Anaconda。</li><li id="6c4d" class="km kn hi is b it kx ix ky jb kz jf la jj lb jn kt ku kv kw bi translated">在这里克隆我的Tweets抓取库<a class="ae lc" href="https://github.com/hansheng0512/tweets-scrapping-using-python.git" rel="noopener ugc nofollow" target="_blank"/>。</li><li id="f6a4" class="km kn hi is b it kx ix ky jb kz jf la jj lb jn kt ku kv kw bi translated">使用命令<code class="du ld le lf lg b">conda env create -f environment.yml</code>，使用environment.yml创建一个Conda环境。</li><li id="5225" class="km kn hi is b it kx ix ky jb kz jf la jj lb jn kt ku kv kw bi translated">使用命令<code class="du ld le lf lg b">conda activate tweets-scraping</code>激活Conda环境。</li></ol><h1 id="ff07" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">例子</h1><ul class=""><li id="8379" class="km kn hi is b it ko ix kp jb kq jf kr jj ks jn lh ku kv kw bi translated">获取特定用户的所有推文。</li></ul><pre class="li lj lk ll fd lm lg ln lo aw lp bi"><span id="9492" class="lq jp hi lg b fi lr ls l lt lu">snscrape twitter-user &lt;twitter_username&gt;</span></pre><ul class=""><li id="f343" class="km kn hi is b it iu ix iy jb lv jf lw jj lx jn lh ku kv kw bi translated">获取标签为#covid19的最新100条推文。</li></ul><pre class="li lj lk ll fd lm lg ln lo aw lp bi"><span id="4c65" class="lq jp hi lg b fi lr ls l lt lu">snscrape --max-results 100 twitter-hashtag covid19</span></pre><ul class=""><li id="33fe" class="km kn hi is b it iu ix iy jb lv jf lw jj lx jn lh ku kv kw bi translated">获取标签为#covid19的最新100条推文:</li></ul><pre class="li lj lk ll fd lm lg ln lo aw lp bi"><span id="f24d" class="lq jp hi lg b fi lr ls l lt lu">snscrape --jsonl --progress --max-results 100 --since 2020-06-01 twitter-hashtag "relax until:2020-07-01" &gt; text-query-tweets.json</span></pre><h1 id="2a06" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">使用</h1><ul class=""><li id="d7c8" class="km kn hi is b it ko ix kp jb kq jf kr jj ks jn lh ku kv kw bi translated"><code class="du ld le lf lg b">--jsonl</code>以JSONL的形式获取输出。这包括snscrape提取的所有信息(例如，消息内容、日期时间、图像；细节因模块和刮刀而异)。</li><li id="8c52" class="km kn hi is b it kx ix ky jb kz jf la jj lb jn lh ku kv kw bi translated"><code class="du ld le lf lg b">--with-entity</code>获取被抓取实体上的项目，如用户或渠道。并非所有的刮刀都支持这一点。(你可以和<code class="du ld le lf lg b">--max-results 0</code>一起使用，只获取实体信息。)</li><li id="4539" class="km kn hi is b it kx ix ky jb kz jf la jj lb jn lh ku kv kw bi translated"><code class="du ld le lf lg b">--format</code>自定义输出格式。</li><li id="6175" class="km kn hi is b it kx ix ky jb kz jf la jj lb jn lh ku kv kw bi translated"><code class="du ld le lf lg b">snscrape --help</code>或<code class="du ld le lf lg b">snscrape &lt;module&gt; --help</code>提供了可用选项的详细信息。<code class="du ld le lf lg b">snscrape --help</code>还列出了所有可用的模块。</li></ul><h1 id="7d4d" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">参考</h1><ul class=""><li id="930d" class="km kn hi is b it ko ix kp jb kq jf kr jj ks jn lh ku kv kw bi translated"><a class="ae lc" href="https://github.com/MartinBeckUT/TwitterScraper/tree/master/snscrape" rel="noopener ugc nofollow" target="_blank">https://github . com/MartinBeckUT/TwitterScraper/tree/master/sn scrape</a></li></ul><h1 id="4ae4" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">关于作者:</h1><p id="e638" class="pw-post-body-paragraph iq ir hi is b it ko iv iw ix kp iz ja jb ly jd je jf lz jh ji jj ma jl jm jn hb bi translated">本文由马来西亚<a class="ae lc" href="https://arkmind.com.my" rel="noopener ugc nofollow" target="_blank"> Arkmind </a>技术负责人韩胜撰写。他对软件设计/架构相关的东西、计算机视觉以及边缘设备充满热情。他开发了几个基于人工智能的网络/移动应用程序来帮助客户解决现实世界的问题。你可以通过他的Github简介来了解他。</p></div></div>    
</body>
</html>