<html>
<head>
<title>Pivot Tables made simple with atoti</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">atoti简化了数据透视表</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/pivot-tables-made-simple-with-atoti-621b289e5f31?source=collection_archive---------7-----------------------#2021-02-24">https://medium.com/analytics-vidhya/pivot-tables-made-simple-with-atoti-621b289e5f31?source=collection_archive---------7-----------------------#2021-02-24</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="a86c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">想要创建一个惊人的仪表板吗？或者只是想让你的演示更上一层楼？那么这个帖子就很适合你！</p><p id="a00c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">作为一个刚刚进入数据科学领域的人，我每天都在学习新的东西，这些东西似乎让我的生活变得更容易，让我对这个不断变化的领域感到惊叹，并热爱致力于帮助其中每个人的社区。</p><p id="3750" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在我的一个自由职业项目中，我的客户告诉我，他们想要一个带有数据透视表的仪表板，并希望在一周内交货。现在，在我不到一年的经验下，我只听说过数据透视表是在数据分析阶段使用的函数，从未被带到前端。哦，我错了！</p><h1 id="f4b8" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated">什么是数据透视表，它们有什么用途？</h1><p id="585d" class="pw-post-body-paragraph ie if hh ig b ih ki ij ik il kj in io ip kk ir is it kl iv iw ix km iz ja jb ha bi translated">为了让像我这样的新兴分析师受益，<strong class="ig hi">数据透视表是一个统计表格，它汇总了一个更广泛的表格中的数据。它们有助于揭示数据中的有用信息</strong>。当您希望能够汇总和分析您的数据，但又不想错过看到每个贡献者的机会时，它们真的很有用。</p><figure class="ko kp kq kr fd ks er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es kn"><img src="../Images/61a65455dd2cd9cc29e5d79c43ed0465.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*0hJTF_c5fiXhY5FgmGufWA.gif"/></div></div><figcaption class="kz la et er es lb lc bd b be z dx translated">数据透视表示例</figcaption></figure><p id="74ea" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">回到我所面临的障碍，在那之前，我所有的项目只涉及使用Jupyter笔记本在后端执行我的分析，并生成报告提交，最有可能是pdf或PPT。尽管我在HTML和Django方面有一些经验，但创建一个带有交互式数据透视表的全功能仪表板不是我能在一周内完成的事情。</p><p id="c03f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">面对这个棘手的问题，我做了任何其他数据科学家都会做的事情，在谷歌上搜索了我的问题。瞧啊！，我偶然发现了这个奇妙的工具<strong class="ig hi">阿托蒂。</strong></p><h1 id="aac3" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated"><strong class="ak">了解阿托蒂并利用其力量</strong></h1><p id="7cd0" class="pw-post-body-paragraph ie if hh ig b ih ki ij ik il kj in io ip kk ir is it kl iv iw ix km iz ja jb ha bi translated"><a class="ae ld" href="https://www.atoti.io" rel="noopener ugc nofollow" target="_blank"> atoti </a>是一款工具，旨在通过有意义的可视化和现实世界的影响，帮助任何处理数据的人更轻松地分析和分享他们的发现。更好的是，它可以与您的python笔记本电脑集成，并增强您的Jupyter环境！</p><p id="55df" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">安装atoti </strong></p><p id="dac7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae ld" href="https://docs.atoti.io/latest/installation.html" rel="noopener ugc nofollow" target="_blank"> atoti可通过其Jupyter Lab扩展功能轻松安装</a>—</p><pre class="ko kp kq kr fd le lf lg lh aw li bi"><span id="b823" class="lj jd hh lf b fi lk ll l lm ln">pip install atoti[jupyterlab]</span></pre><p id="c850" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">使用atoti </strong></p><p id="816d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">鉴于我们现在已经将atoti作为python包安装，我们可以导入它并直接使用它。</p><pre class="ko kp kq kr fd le lf lg lh aw li bi"><span id="85ef" class="lj jd hh lf b fi lk ll l lm ln">import atoti as tt</span><span id="9ea1" class="lj jd hh lf b fi lo ll l lm ln">session = tt.create_session()</span></pre><p id="2a77" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">创建一个简单的数据透视表</strong></p><p id="954b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在这篇文章中，我使用一个虚拟的熊猫数据框架创建了一个数据透视表，并将其部署在一个仪表板中。<a class="ae ld" href="https://docs.atoti.io/latest/search.html?q=read_&amp;check_keywords=yes&amp;area=default" rel="noopener ugc nofollow" target="_blank"> atoti也可以取csv、parquet、numpy、spark、sql、kafka </a>等其他数据源。</p><figure class="ko kp kq kr fd ks er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es lp"><img src="../Images/fb5380073aa1504105b39da6057ab8c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qllxQGX85wUAWXaN6nVpAA.png"/></div></div><figcaption class="kz la et er es lb lc bd b be z dx translated">用于创建基本数据透视表的代码段</figcaption></figure><p id="e33f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在这里，我创建了自己的简单数据框，其中包含销售人员的姓名、销售日期和销售额。现在使用atoti，我已经创建了一个会话并部署了我的仪表板，可以通过打印的url访问它。</p><figure class="ko kp kq kr fd ks er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es kn"><img src="../Images/46afda136349748e147a92a37168e312.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*2ttPjQJarrBbZ-ajAh1yNQ.gif"/></div></div><figcaption class="kz la et er es lb lc bd b be z dx translated">创建的仪表板</figcaption></figure><p id="420d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如您所见，我们用不到20行代码创建并部署了一个专业的仪表板。</p><p id="17de" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">atoti中的数据结构化</strong></p><p id="a0d3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">atoti的核心是<em class="lq">数据立方体</em>。数据立方体是数据的多维视图，帮助我们探索、聚集、过滤和比较。它被称为多维数据集，因为数据的每个属性都可以表示为多维数据集的一个维度。立方体的轴称为<em class="lq">层级</em>，特定坐标上的单个数字指示器称为<em class="lq">度量</em>。</p><p id="bed5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们可以从他们网页的<a class="ae ld" href="https://docs.atoti.io/latest/tutorial/01-Basics.html" rel="noopener ugc nofollow" target="_blank">基础教程中更好的了解这一点。</a></p><p id="3322" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">Jupyter实验室的atoti】</strong></p><p id="04e2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">对每个数据科学家来说，atoti与Jupyter实验室的集成都是一个福音。在这里，我们可以将Jupyter笔记本中的数据立方体可视化为小部件，并将它们直接添加到仪表板中。</p><p id="d586" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">事实上，你可以给你的可视化一个标题<em class="lq"> `session.visualize("title ")`，</em>右键点击可视化，发布到app。</p><p id="e3da" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这样，在仪表板上，您可以从widgets抽屉中访问可视化内容。</p><figure class="ko kp kq kr fd ks er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es kn"><img src="../Images/797cb18aae780bfa90240fb016e6ecea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*9aBNOZANIyzMJOT2nDmMrQ.gif"/></div></div><figcaption class="kz la et er es lb lc bd b be z dx translated">Jupyter实验室中的部件</figcaption></figure><h2 id="73c1" class="lj jd hh bd je lr ls lt ji lu lv lw jm ip lx ly jq it lz ma ju ix mb mc jy md bi translated">使用atoti的其他可视化</h2><p id="309a" class="pw-post-body-paragraph ie if hh ig b ih ki ij ik il kj in io ip kk ir is it kl iv iw ix km iz ja jb ha bi translated">一般来说，我会花很多时间来设置漂亮的可视化效果，以展示给客户，因为这是作为一名数据科学家不可或缺的一部分。尽管使用Seaborn和Matplotlib并不十分困难，但不可否认它们非常耗时。阿托蒂也来救援了！</p><p id="e466" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">不到一分钟，我就直接从仪表板上创建了这个簇状条形图！阿托蒂使用plotly来制作图表</p><figure class="ko kp kq kr fd ks er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es me"><img src="../Images/667199f2864d01d986c5aa9d0ed855c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uQAmlKGfkqLjBnAoS6N0fg.png"/></div></div><figcaption class="kz la et er es lb lc bd b be z dx translated">簇状条形图</figcaption></figure><p id="cb94" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">只需点击几下鼠标，我们就可以将基础数据转换成任何可视化数据。</p><figure class="ko kp kq kr fd ks er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es kn"><img src="../Images/24308f7cdb88f2344e4085241907707b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*jHhJ1CMYnP8RpR4OV3YYtQ.gif"/></div></div><figcaption class="kz la et er es lb lc bd b be z dx translated">改变视觉化</figcaption></figure><p id="51e6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">保存仪表板</strong></p><p id="42e5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果我们配置会话，使单元元数据存储在<em class="lq">中。db </em>文件，那么我们可以直接保存仪表板的状态。这有助于在你的大型演示之前准备好你的图表/图像。您从Jupyter笔记本中导出的所有小部件也将被保存。</p><pre class="ko kp kq kr fd le lf lg lh aw li bi"><span id="2628" class="lj jd hh lf b fi lk ll l lm ln">conf = tt.config.create_config(<br/>    port=8081, metadata_db="./metadata.db"<br/>)<br/>session = tt.create_session(config=conf)</span></pre><p id="a9c6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我经常使用的另一个惊人的特性是能够将当前状态的数据透视表直接导出到。CSV文件供将来使用！</p><figure class="ko kp kq kr fd ks er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es mf"><img src="../Images/dc678c1a8744e0f7cd25909cd71d325f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5hpxU9b7OQ3KYHPDTuKo8w.png"/></div></div><figcaption class="kz la et er es lb lc bd b be z dx translated">将数据透视表导出到CSV</figcaption></figure><p id="445a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果您保存了仪表板，您还可以使用它的url与您的同事共享它！</p><h1 id="ad9e" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated">阿托蒂+</h1><p id="97d9" class="pw-post-body-paragraph ie if hh ig b ih ki ij ik il kj in io ip kk ir is it kl iv iw ix km iz ja jb ha bi translated">Atoti+是我试用过的Atoti的付费版本。与免费版本相比，它提供了一些额外的好处。其中我提到了我认为对用户最有用的两个特性。</p><p id="f3ba" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">使用Atoti+ </strong>进行品牌推广</p><p id="eadc" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">Aoti+允许用户对仪表板进行修饰性的修改。它使用户能够设置标志，图标，框架颜色，强调颜色等。如果像我一样，你正在为一个客户制作仪表板，而他们坚持要使用特定的颜色组合，这个功能就派上用场了。</p><figure class="ko kp kq kr fd ks er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es mg"><img src="../Images/226a1184539c1d3a29bf2f8f055a3540.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XWV2z_yJW5ldpPQaxQnKqw.jpeg"/></div></div><figcaption class="kz la et er es lb lc bd b be z dx translated">Atoti+品牌</figcaption></figure><p id="2b33" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">设置用户角色和认证</strong></p><p id="d83b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">使用Atoti+时，可以定义用户的角色并设置各自的约束。在我创建的示例仪表板中，我定义了一个用户和相关的角色。</p><pre class="ko kp kq kr fd le lf lg lh aw li bi"><span id="297d" class="lj jd hh lf b fi lk ll l lm ln">user = tt.config.create_basic_user(<br/>    "usersp", "usersp", roles=["ROLE_SALES1"]<br/>)<br/>basic = tt.config.create_basic_authentication(<br/>    users=[user]<br/>)<br/>role = tt.config.create_role(<br/>    name="ROLE_SALES1",<br/>    restrictions={"SalesPerson": "Jim"},<br/>)<br/>config = tt.config.create_config(<br/>    port=8081,<br/>    metadata_db="./metadata.db",<br/>    authentication=basic,<br/>    roles=[role],<br/>)</span></pre><p id="4966" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在，当我们尝试访问控制面板时，我们会看到一个屏幕，要求输入密码，然后显示受登录凭据限制的数据，所有这些都使用单个端口！</p><figure class="ko kp kq kr fd ks er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es kn"><img src="../Images/a05c0ad80cbcf472852b1788aca9e4fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*vmn6V0wo8HobC5zEXVXiYQ.gif"/></div></div><figcaption class="kz la et er es lb lc bd b be z dx translated">使用Atoti+的基于用户的登录</figcaption></figure><h1 id="d299" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated">总之…</h1><p id="9b11" class="pw-post-body-paragraph ie if hh ig b ih ki ij ik il kj in io ip kk ir is it kl iv iw ix km iz ja jb ha bi translated">我相信atoti有潜力成为数据可视化和呈现的黄金标准。正如我在本文的引言中提到的，数据科学家的整个社区是由不遗余力地帮助他人的人们组成的，我想通过向人们介绍这个简单而强大的工具来发挥自己的作用，我相信它将减轻许多人的工作量！</p></div></div>    
</body>
</html>