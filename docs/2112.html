<html>
<head>
<title>Getting Started on Amazon Rekognition and using their SDKs</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">开始使用Amazon Rekognition并使用他们的SDK</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/getting-started-on-amazon-rekognition-and-using-their-sdks-9b8e7dee3048?source=collection_archive---------9-----------------------#2021-04-05">https://medium.com/analytics-vidhya/getting-started-on-amazon-rekognition-and-using-their-sdks-9b8e7dee3048?source=collection_archive---------9-----------------------#2021-04-05</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div class="er es ie"><img src="../Images/73b34c4a702bee7d8e1226ebef93b79c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*0W3bY_v4cor_SC-rx0rA3A.png"/></div></figure><p id="5db6" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在这篇博客中，我将展示如何使用<strong class="in hi"> Amazon Rekognition服务</strong>来分析项目中的图像和视频。</p><p id="3ac2" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">如果你还没听说过这项服务，下面是对这项服务的简要描述，它将帮助你入门。</p><blockquote class="jj jk jl"><p id="f904" class="il im jm in b io ip iq ir is it iu iv jn ix iy iz jo jb jc jd jp jf jg jh ji ha bi translated"><strong class="in hi"> Amazon Rekognition </strong>使用成熟的、高度可扩展的深度学习技术，无需使用机器学习专业知识，就可以轻松地将<strong class="in hi">图像和视频分析</strong>添加到您的应用程序中。通过Amazon Rekognition，您可以<strong class="in hi">识别图像和视频中的对象、人物、文本、场景和活动</strong>、<strong class="in hi">以及检测任何不适当的内容</strong>。Amazon Rekognition还提供高度精确的面部分析和面部搜索功能，您可以使用这些功能扫描、分析和比较面部，用于各种用户验证、人数统计和公共安全用例。</p></blockquote><figure class="jr js jt ju fd ii er es paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="er es jq"><img src="../Images/d756d46382aface1ddedaee7a93fcb7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1r9ve1HCgqTE1SprNODfnw.png"/></div></div></figure><p id="2375" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">为了让您更好地了解该服务是如何工作的，我将从AWS Web控制台展示一个简短的演示，然后在您的应用程序中使用它们。</p><p id="266c" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi"> ✨来自门户网站的简短演示:</strong></p><p id="aa48" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi">步骤1: </strong> <strong class="in hi"> <em class="jm">访问服务仪表板:</em> </strong>登录您的AWS控制台，搜索Amazon Rekognition。选择Amazon Rekognition后，您将进入该服务的仪表板。</p><figure class="jr js jt ju fd ii er es paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="er es jz"><img src="../Images/02b577735efe005ccbbb1b2005d335c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hh3GZlW8HKBWSPZkNylOKg.png"/></div></div></figure><p id="e101" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi">第二步:</strong> <strong class="in hi"> <em class="jm">从给出的demo中解读</em> </strong>:在左侧可以看到可以尝试的各种选项。点击<strong class="in hi">物体和场景检测</strong>。现在，您可以看到左侧是一个示例图像，上面绘制了不同的边界框，而在右侧，您可以看到图像中存在的各种对象标签。</p><figure class="jr js jt ju fd ii er es paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="er es ka"><img src="../Images/530b87e2e715369bf9db694f1118aba0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SMJCsWwAc4TN9DCTjtIL8g.png"/></div></div></figure><p id="2bf7" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi">第三步:</strong> <strong class="in hi"> <em class="jm">上传你的自定义图片，获得结果:</em> </strong>你可以上传任意自定义图片，也可以提供源图片的URL，他们会给你标有边框的标签图片。下面是一个例子，我上传了一个自定义图像，他们为我分析并标记了图像。</p><figure class="jr js jt ju fd ii er es paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="er es kb"><img src="../Images/34e2472f58d059e60c0860dd84524baa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RAc0lh20rWyoZPevCV-pTA.png"/></div></div></figure><h2 id="2102" class="kc kd hh bd ke kf kg kh ki kj kk kl km iw kn ko kp ja kq kr ks je kt ku kv kw bi translated">解释</h2><p id="fda0" class="pw-post-body-paragraph il im hh in b io kx iq ir is ky iu iv iw kz iy iz ja la jc jd je lb jg jh ji ha bi translated">那么你看到亚马逊Rekognition让图像和视频分析变得多么容易了吗？通过Amazon Rekognition，你可以识别成千上万的物体(如自行车、电话、建筑)、场景(如停车场、海滩、城市)、人脸等。在你的图像和视频中。您只需要提供您想要检测的物体或场景的照片，其余的由服务处理。</p><h2 id="2d57" class="kc kd hh bd ke kf kg kh ki kj kk kl km iw kn ko kp ja kq kr ks je kt ku kv kw bi translated"><strong class="ak">如何使用</strong></h2><p id="ff30" class="pw-post-body-paragraph il im hh in b io kx iq ir is ky iu iv iw kz iy iz ja la jc jd je lb jg jh ji ha bi translated">现在您一定想知道如何在您的应用程序中使用它们。所以好消息是他们在几乎所有主要的编程语言中都有自己的API，并且随时可以使用。</p><figure class="jr js jt ju fd ii er es paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="er es lc"><img src="../Images/155568b0ea353b6d006740cf1e3f7b42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GlBMTACguu65rSE9OnGGjg.png"/></div></div></figure><p id="9ba8" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">通过查看他们的文档，你可以很容易地开始使用他们各自语言的API。</p><h2 id="8223" class="kc kd hh bd ke kf kg kh ki kj kk kl km iw kn ko kp ja kq kr ks je kt ku kv kw bi translated">✨Let's制造:</h2><p id="f6c0" class="pw-post-body-paragraph il im hh in b io kx iq ir is ky iu iv iw kz iy iz ja la jc jd je lb jg jh ji ha bi translated">现在我将构建一个小项目，从中你可以了解如何在你的项目中使用他们的API。我将使用python语言，该项目的工作流程将是:</p><ol class=""><li id="d148" class="ld le hh in b io ip is it iw lf ja lg je lh ji li lj lk ll bi translated">单击网络摄像头中的图像。</li><li id="77fd" class="ld le hh in b io lm is ln iw lo ja lp je lq ji li lj lk ll bi translated">上传到S3桶。</li><li id="d981" class="ld le hh in b io lm is ln iw lo ja lp je lq ji li lj lk ll bi translated">将请求发送到Amazon Rekognition服务，以检测我们项目中的标签。</li><li id="a24d" class="ld le hh in b io lm is ln iw lo ja lp je lq ji li lj lk ll bi translated">获得响应并根据您的需要处理它们。在这个项目中，我将在检测到的物体上绘制一个边界框。</li></ol><h2 id="5f61" class="kc kd hh bd ke kf kg kh ki kj kk kl km iw kn ko kp ja kq kr ks je kt ku kv kw bi translated">先决条件:</h2><p id="6a02" class="pw-post-body-paragraph il im hh in b io kx iq ir is ky iu iv iw kz iy iz ja la jc jd je lb jg jh ji ha bi translated">在继续之前，这些是您可能已经完成的一些先决条件。</p><p id="00a2" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi">第一步:</strong>建立一个<strong class="in hi"> AWS </strong>账户，创建一个IAM用户。</p><p id="5590" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi">第二步:</strong>设置<strong class="in hi">AWS</strong>T10】CLI和<strong class="in hi"> AWS </strong>和<strong class="in hi">SDK</strong>。</p><p id="0764" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">如果您在配置它们时有任何问题，可以参考我的这篇<a class="ae lr" rel="noopener" href="/analytics-vidhya/configure-aws-cli-and-execute-commands-fc16a17b0aa2"> <strong class="in hi"> <em class="jm">文章</em> </strong> </a> <strong class="in hi"> <em class="jm">。</em>T25】</strong></p><h2 id="531c" class="kc kd hh bd ke kf kg kh ki kj kk kl km iw kn ko kp ja kq kr ks je kt ku kv kw bi translated">我们开始吧:</h2><p id="185f" class="pw-post-body-paragraph il im hh in b io kx iq ir is ky iu iv iw kz iy iz ja la jc jd je lb jg jh ji ha bi translated">为此，我用<strong class="in hi"> jupyter笔记本</strong>作为我的IDE来给你们一个更好的视角</p><p id="bb02" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi">第一步:<em class="jm">从网络摄像头拍摄照片:</em> </strong>为了拍摄图像，我正在使用python的<code class="du ls lt lu lv b"><strong class="in hi">opencv</strong></code>库。您可以使用<strong class="in hi"> pip </strong>或任何其他python发布平台(如<strong class="in hi"> Anaconda)进行安装。</strong></p><pre class="jr js jt ju fd lw lv lx ly aw lz bi"><span id="9fa1" class="kc kd hh lv b fi ma mb l mc md"><strong class="lv hi"># To install opencv package<br/></strong>pip install opencv-python</span></pre><p id="f06d" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">现在，下面的代码将使用OpenCV从网络摄像头拍摄一张照片，并将其存储在当前目录中:</p><pre class="jr js jt ju fd lw lv lx ly aw lz bi"><span id="a270" class="kc kd hh lv b fi ma mb l mc md"><strong class="lv hi"># To click a photograph from webcam</strong><br/>import cv2<br/>cam = cv2.VideoCapture(0)<br/>ret, photo = cam.read()<br/>cv2.imwrite("apeksh.jpg", photo)  <br/>cam.release()</span></pre><figure class="jr js jt ju fd ii er es paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="er es me"><img src="../Images/f9a23dacdf12d9853617aa28839a4a90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NACnNgvLBBDEBxvI6LKodw.png"/></div></div></figure><p id="aec7" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在我的例子中，点击的照片如下所示:</p><figure class="jr js jt ju fd ii er es paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="er es mf"><img src="../Images/65eaacda6c6fd8b58f6973c3c2f06f45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8ABtcBgF_QZ5kvdA47qyog.png"/></div></div></figure><p id="709a" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi">第二步:<em class="jm">上传到S3桶:</em> </strong>现在，我们将上传这个图像到我们的S3桶。为了上传，我们将使用他们的<code class="du ls lt lu lv b"><strong class="in hi">boto3</strong></code> <strong class="in hi"> </strong>库连接到AWS S3 API。像安装OpenCV包一样安装boto3库。</p><pre class="jr js jt ju fd lw lv lx ly aw lz bi"><span id="9aa0" class="kc kd hh lv b fi ma mb l mc md"><strong class="lv hi"># To install boto3 SDK</strong><br/>pip install boto3</span></pre><p id="72c3" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">下面的代码将把图像上传到你的S3桶:</p><figure class="jr js jt ju fd ii er es paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="er es mg"><img src="../Images/77b72c0aa5e15fe82cbe1c402da371f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PuetfVy7C6y4rK1JXa-qXQ.png"/></div></div></figure><pre class="jr js jt ju fd lw lv lx ly aw lz bi"><span id="3b79" class="kc kd hh lv b fi ma mb l mc md"><strong class="lv hi"># To upload the image you clicked to S3 bucket</strong><br/>import boto3<br/>s3 = boto3.client('s3')<br/>s3.upload_file("apeksh.jpg","trial12g","myPhoto.jpg")</span></pre><figure class="jr js jt ju fd ii er es paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="er es mh"><img src="../Images/e9d8f3cadbe1b32103d899d383fef922.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KRkdHF0msAdxgN-gL2gg4A.png"/></div></div></figure><blockquote class="jj jk jl"><p id="6b60" class="il im jm in b io ip iq ir is it iu iv jn ix iy iz jo jb jc jd jp jf jg jh ji ha bi translated"><strong class="in hi">注意:</strong>如果你没有在他们的SDK中设置AWS概要文件，这个命令会给出一个错误。这就是我在先决条件中提到配置SDK的原因。</p></blockquote><p id="cc8e" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi">步骤3: </strong> <strong class="in hi"> <em class="jm">发送请求:</em> </strong>现在，我们将把请求发送到Amazon Rekognition，以<strong class="in hi"> <em class="jm">检测我们上传到S3桶中的图像中的标签</em> </strong>。</p><figure class="jr js jt ju fd ii er es paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="er es mi"><img src="../Images/a387e0004aa5dee4f7315424e0e18d8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YfQRnE5A7quF8L9hOjmDrA.png"/></div></div></figure><pre class="jr js jt ju fd lw lv lx ly aw lz bi"><span id="a5f2" class="kc kd hh lv b fi ma mb l mc md"><strong class="lv hi"># To send the request to AWS rekognition service</strong><br/>rekognition = boto3.client('rekognition')<br/>response = rekognition.detect_labels(<br/>    Image={<br/>        'S3Object': {<br/>            'Bucket': 'trial12g',<br/>            'Name': 'myPhoto.jpg',<br/>        }<br/>    },<br/>    MaxLabels=5,<br/>    MinConfidence=80)</span></pre><p id="4225" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi">第四步:</strong> <strong class="in hi"> <em class="jm">分析结果:</em> </strong>您可以打印输出来查看响应，并对您的数据做相应的进一步处理。</p><figure class="jr js jt ju fd ii er es paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="er es mj"><img src="../Images/f6fbddf09c361d5d3ea9211bac80fe4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XIbSgGKsSkrtEJ_-Ur0FQQ.png"/></div></div></figure><p id="7f3e" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">对我的图像的响应如下所示:</p><figure class="jr js jt ju fd ii er es paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="er es mk"><img src="../Images/af64e992a20e82ff8a69514680626e85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xg8RHSeG3hA9dOVv_f6lRw.png"/></div></div></figure><p id="1203" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi">第五步:<em class="jm">根据自己的需要处理数据:</em> </strong>现在，在得到响应后，就可以根据自己的需要处理数据，得到想要的结果了。在我的例子中，我将简单地在正确检测到的标签上画一个有界的框。</p><p id="becd" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">所以首先我分析了他们给我的四个尺寸，分别是<strong class="in hi">左</strong>、<strong class="in hi">上</strong>、<strong class="in hi">高</strong>、<strong class="in hi">宽</strong>。为了绘制矩形，cv2有一个函数需要<strong class="in hi">起点</strong>和<strong class="in hi">终点</strong>的坐标。</p><figure class="jr js jt ju fd ii er es paragraph-image"><div class="er es ml"><img src="../Images/19485b31849fed3b31421bc24e7c7cfa.png" data-original-src="https://miro.medium.com/v2/resize:fit:726/format:webp/1*v5XWrGML4E_Qkw43PRYyrg.png"/></div></figure><p id="0c8e" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">为了得到正确的坐标，这里有一个他们在文档中展示的例子</p><figure class="jr js jt ju fd ii er es paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="er es mm"><img src="../Images/d5e37704dc41a75ff4f23f7cd660a3fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3mHG6VyAHicDuNQhhWvAkw.png"/></div></div></figure><p id="75d3" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">因此，我按照这个得到我的正确坐标，并创建了满足我需要的代码。下面是我的代码，供你参考。</p><figure class="jr js jt ju fd ii"><div class="bz dy l di"><div class="mn mo l"/></div></figure><h2 id="9e4a" class="kc kd hh bd ke kf kg kh ki kj kk kl km iw kn ko kp ja kq kr ks je kt ku kv kw bi translated">💎输出:</h2><p id="580e" class="pw-post-body-paragraph il im hh in b io kx iq ir is ky iu iv iw kz iy iz ja la jc jd je lb jg jh ji ha bi translated">您可以看到图像与对象绑定在一起，就像我们在AWS门户上看到的一样。</p><figure class="jr js jt ju fd ii er es paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="er es mp"><img src="../Images/2962cf9c6edd65b495d6843aa3724885.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sbOnpBOPPkcGG9jbd8pbmA.png"/></div></div></figure><h2 id="950b" class="kc kd hh bd ke kf kg kh ki kj kk kl km iw kn ko kp ja kq kr ks je kt ku kv kw bi translated">🎯结论:</h2><p id="7f7a" class="pw-post-body-paragraph il im hh in b io kx iq ir is ky iu iv iw kz iy iz ja la jc jd je lb jg jh ji ha bi translated">在这篇文章中，我试图展示如何使用亚马逊Rekognition并使用他们的SDK与你的应用集成。我希望现在你已经对如何使用这项服务有了一个基本的概念。在这个演示中，我只展示了一个<strong class="in hi">检测标签</strong>的函数。但是现在你可以尝试他们的其他方法，比如检测人脸，在图像中搜索文本等等。他们的工作方式相似，如果你遇到困难，可以参考他们的文档。</p><blockquote class="jj jk jl"><p id="859e" class="il im jm in b io ip iq ir is it iu iv jn ix iy iz jo jb jc jd jp jf jg jh ji ha bi translated">这就是我们的博客。希望你们喜欢。下一篇博客再见。在那之前继续学习。</p></blockquote><div class="mq mr ez fb ms mt"><a href="https://github.com/Apeksh742/Amazon-Rekognition-code" rel="noopener  ugc nofollow" target="_blank"><div class="mu ab dw"><div class="mv ab mw cl cj mx"><h2 class="bd hi fi z dy my ea eb mz ed ef hg bi translated">apeksh 742/Amazon-Rekognition-code</h2><div class="na l"><h3 class="bd b fi z dy my ea eb mz ed ef dx translated">在GitHub上创建一个帐户，为Apeksh742/Amazon-Rekognition代码开发做出贡献。</h3></div><div class="nb l"><p class="bd b fp z dy my ea eb mz ed ef dx translated">github.com</p></div></div><div class="nc l"><div class="nd l ne nf ng nc nh ij mt"/></div></div></a></div><div class="mq mr ez fb ms mt"><a href="https://www.linkedin.com/in/apeksh-agarwal-0543bb192/" rel="noopener  ugc nofollow" target="_blank"><div class="mu ab dw"><div class="mv ab mw cl cj mx"><h2 class="bd hi fi z dy my ea eb mz ed ef hg bi translated">apeksh Agarwal-Intern-Linux world Informatics Pvt Ltd | LinkedIn</h2><div class="na l"><h3 class="bd b fi z dy my ea eb mz ed ef dx translated">我正在斋浦尔工程学院和研究中心攻读计算机科学的B.Tech。我在…做过几个项目</h3></div><div class="nb l"><p class="bd b fp z dy my ea eb mz ed ef dx translated">www.linkedin.com</p></div></div><div class="nc l"><div class="ni l ne nf ng nc nh ij mt"/></div></div></a></div></div></div>    
</body>
</html>