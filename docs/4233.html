<html>
<head>
<title>All About ROC and AUC</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">关于ROC和AUC的所有信息</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/all-about-roc-and-auc-480cc3885760?source=collection_archive---------12-----------------------#2021-09-10">https://medium.com/analytics-vidhya/all-about-roc-and-auc-480cc3885760?source=collection_archive---------12-----------------------#2021-09-10</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="5e7a" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">分类器的性能</h2></div><p id="2e0e" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我认识两个瑜伽士(神秘的人)。这两位瑜伽士在我所在的州非常受欢迎，他们的名气在疫情时期成倍增长。这两位瑜伽士彼此相距约250英里。这些瑜伽士受欢迎的原因是，他们可以通过看一个人的脸来判断他是阳性还是阴性。这引起了我的兴趣，我决定测试这些说法的真实性。</p><p id="1db4" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我带了100个朋友一起去。一天前，我所在地区的医疗机构对我的50位同行朋友进行了电晕测试，结果呈阳性。</p><p id="5e27" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">首先，我去找了一个叫罗瑞格的瑜伽士。Loreg看着我100个朋友的脸，宣布其中50个是电晕阳性。</p><blockquote class="js jt ju"><p id="3283" class="iw ix jv iy b iz ja ii jb jc jd il je jw jg jh ji jx jk jl jm jy jo jp jq jr ha bi translated">不要惊讶！瑜伽士并不绝对正确。怎么会？</p></blockquote><p id="20ef" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">让我们假设陪伴我的100个朋友分为两组:A组和B组。A组完全是电晕阳性的朋友，B组由电晕阴性的朋友组成。这位瑜伽士所做的是，他正确地将A组的25位朋友认定为阳性，并且错误地将B组的25位朋友也认定为阳性。</p><p id="5b1f" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在这种情况下，我们可以说:</p><ol class=""><li id="58cf" class="jz ka hh iy b iz ja jc jd jf kb jj kc jn kd jr ke kf kg kh bi translated">Loreg真实地预测25个朋友为阳性(他们实际上是阳性的)，这被称为真实阳性(TP)。</li><li id="6aa5" class="jz ka hh iy b iz ki jc kj jf kk jj kl jn km jr ke kf kg kh bi translated">此外，Loreg错误地预测25个朋友为阳性(他们实际上是阴性)，这被称为假阳性(FP)。</li><li id="9510" class="jz ka hh iy b iz ki jc kj jf kk jj kl jn km jr ke kf kg kh bi translated">我们还可以推断出，Loreg确实预测了25个朋友是负面的(他们实际上是负面的)，这被称为真负面(TN)。</li><li id="973d" class="jz ka hh iy b iz ki jc kj jf kk jj kl jn km jr ke kf kg kh bi translated">此外，Loreg错误地预测25个朋友为阴性(而实际上他们是阳性)，这被称为假阴性(FN)。</li></ol><p id="ece3" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我刚才介绍的这四个术语(TP，FP，TN，FN)，对于寻找两位修行者的真理将起到宏伟的作用。</p><p id="90da" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">让我们通过计算Loreg的<strong class="iy hi"> <em class="jv">敏感度</em> </strong>来找出他的敏感度。</p><blockquote class="js jt ju"><p id="6315" class="iw ix jv iy b iz ja ii jb jc jd il je jw jg jh ji jx jk jl jm jy jo jp jq jr ha bi translated">敏感性意味着“在所有积极的朋友中，被正确识别为积极的朋友的比例”。</p></blockquote><p id="9b7c" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">灵敏度= TP/(TP+FN)</p><p id="ac3d" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">灵敏度也称为真阳性率(TPR)。高灵敏度意味着会有更少的假阴性结果，从而更少的病例被遗漏。</p><p id="55ea" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">让我们找出真正的负利率(TNR)。TNR又叫<strong class="iy hi"><em class="jv"/></strong>。</p><p id="e75f" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">特异性=TN/(TN+FP)</p><blockquote class="js jt ju"><p id="0daf" class="iw ix jv iy b iz ja ii jb jc jd il je jw jg jh ji jx jk jl jm jy jo jp jq jr ha bi translated">特异性意味着“在所有负面因素中，被正确识别为负面因素的朋友比例。”</p></blockquote><p id="da57" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">高特异性值意味着将会有更少的假阳性结果，因此将会有更少的健康朋友的病例被诊断为患病。</p><blockquote class="js jt ju"><p id="cd1c" class="iw ix jv iy b iz ja ii jb jc jd il je jw jg jh ji jx jk jl jm jy jo jp jq jr ha bi translated">我们将永远追求高灵敏度和高特异性。</p></blockquote><p id="b4a1" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">因此，第一位瑜伽士(Loreg)的敏感度和特异度分别为0.5和0.5。</p><p id="4c40" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">特异性值50%在这里可能不是一个问题，因为在这种情况下，如果认真对待瑜伽，一半的健康人将被诊断为电晕阳性，并将被隔离。但是，50%的灵敏度值将意味着一半实际上电晕阳性的人将被瑜伽师识别为健康的，并且他们将自由地漫游而不会被隔离。一场灾难！</p><p id="3a44" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">当瑜伽士“罗瑞格”被告知他的灾难行为时，他要求第二次尝试预言，我们很高兴地给了他。</p><p id="5030" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这一次，瑜伽士聪明地提出了他的诊断。他提供了朋友是积极的可能性，而不是像朋友是积极的或消极的那样明目张胆的回答。比如他会说一个人X为正的概率是0.7。然后他让我自己找一个合适的<strong class="iy hi">阈值，</strong>，超过这个阈值，我就宣布我的朋友是阳性。例如，假设我设置了一个0.6的阈值，因为人X是阳性的概率是0.7，大于0.6，所以我会声明他是阳性的。如果我真的把阈值设为0.8，那么同一个人就会被宣布为阴性。</p><blockquote class="js jt ju"><p id="6bc9" class="iw ix jv iy b iz ja ii jb jc jd il je jw jg jh ji jx jk jl jm jy jo jp jq jr ha bi translated">这个阈值对敏感性和特异性有什么影响？</p></blockquote><p id="93a0" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">不同的阈值会有不同的特异性和灵敏度值。为了简单起见，让我们通过五个主题来理解这一点。实际状态(阳性或阴性)、Yogi的预测、阈值以及相应的灵敏度和特异性值如表1所示。</p><figure class="ko kp kq kr fd ks er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es kn"><img src="../Images/920fceb095de75299f58d160cf8fd9e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-wPkX2AQt1oHXhvwABOS3A.png"/></div></div><figcaption class="kz la et er es lb lc bd b be z dx translated">表1:瑜伽1的阈值敏感性和特异性</figcaption></figure><p id="856b" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">查看表1，我们可以推断阈值0.5提供了最大的灵敏度和同等的特异性，这是四个竞争者阈值中最好的。</p><p id="4baa" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">当我对第二位瑜伽士——俗称“林迪斯”——重复同样的程序时，他也给了我他的概率预测。然后我创建了一个类似的表，但这次是为第二个瑜伽士，表2。</p><figure class="ko kp kq kr fd ks er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es ld"><img src="../Images/f8f4aaa91e0467aecd0b8c15dca5152d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WoUqqAEN50IbQUpIqM38HA.png"/></div></div><figcaption class="kz la et er es lb lc bd b be z dx translated">表2:瑜伽2的阈值敏感性和特异性</figcaption></figure><p id="784c" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">显然，从表2中，我们可以看到，就特异性而言，没有一个阈值是可接受的；然而，0.4和0.5在灵敏度方面同样更好。</p><blockquote class="js jt ju"><p id="8e4c" class="iw ix jv iy b iz ja ii jb jc jd il je jw jg jh ji jx jk jl jm jy jo jp jq jr ha bi translated">我们如何找到最佳阈值？</p></blockquote><p id="4ea6" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">请注意，我们在上面的讨论中采用的阈值只有四个。理论上，这些阈值可以是无限的。因此，如果我们真的想知道最佳阈值，我们应该比较多个阈值(不仅仅是四个)的灵敏度和特异性值。我们必须为多个阈值创建并查看这样的表(表1和表2)。详尽！</p><figure class="ko kp kq kr fd ks er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es le"><img src="../Images/5d368541e448ed52369c072236d3a570.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*crxKnPXeDWviP2FF4qvmbw.png"/></div></div><figcaption class="kz la et er es lb lc bd b be z dx translated">图1: ROC曲线</figcaption></figure><p id="a3d4" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">解决方法是受试者工作特征(ROC)曲线。ROC曲线通过在Y轴上取灵敏度值和在X轴上取(1-特异性)值来绘制。1-特异性也称为假阳性率(FPR)。</p><p id="9b52" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">图1是利用表1中指定的所有四个阈值的灵敏度和特异性值绘制的。曲线上的两个圈起来的点表明，对于0.5的FPR，TPR(或灵敏度)值是0.66和1。因为，我们总是争取更大的灵敏度值，因此，将选择对应于上圆圈点的阈值(阈值=0.5)。</p><p id="7571" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">因此，ROC曲线提供了一种有效找到最佳临界值(或阈值)的方法。</p><blockquote class="js jt ju"><p id="e206" class="iw ix jv iy b iz ja ii jb jc jd il je jw jg jh ji jx jk jl jm jy jo jp jq jr ha bi translated">有没有什么办法，让我们可以直观的对比两位瑜伽士的表现？</p></blockquote><p id="0118" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">是啊！ROC曲线再次拯救了我们。请注意，ROC的曲线下面积(AUC)意味着该瑜伽士解释的信息比例。在图1的例子中，瑜伽士可以解释一半的信息，这并不比偶然好多少。因此，第一位修行者没有任何功德(根据我们的四个门槛)。</p><p id="054e" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">让我们画出瑜伽2号的ROC，并分析它的AUC。</p><figure class="ko kp kq kr fd ks er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es lf"><img src="../Images/93b284c37be5425a9bc45ff1ebc5b287.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eKf9TbdoQ959LbP0jbmiSg.png"/></div></div><figcaption class="kz la et er es lb lc bd b be z dx translated">图2:瑜伽士1和瑜伽士2的ROC区域</figcaption></figure><p id="7561" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">yogi 2的AUC在图2中以绿色显示，可以推断为零。</p><p id="3255" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">因此，我们可以得出结论，第一位瑜伽士(“洛雷格”)比第二位瑜伽士(“林迪斯”)好得多。总的来说，即使是第一个瑜伽师，通过看朋友的脸来预测疾病也是无效的。两个修行者被证明是假的。</p><p id="32c0" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在现实世界的机器学习应用中，瑜伽士被称为分类器。<em class="jv"> Loreg可以是基于“逻辑回归”的分类器，Lindis可以是基于“线性判别分析”的分类器</em>。</p><p id="5381" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">通过看他或她的脸来识别电晕阳性的人的问题可以是典型的分类问题。</p><p id="c35d" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">表1和表2通常不太详细，通常以“混淆矩阵”的形式呈现(图3)。</p><figure class="ko kp kq kr fd ks er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es lg"><img src="../Images/f9534b79fa1f79bb0ba256206276fa93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q4iY5c3S7O5WN7fsjvqVBA.png"/></div></div><figcaption class="kz la et er es lb lc bd b be z dx translated">图3:混淆矩阵。TP代表真阳性病例的数量，FP代表假阳性病例的数量，等等。</figcaption></figure><p id="35ef" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iy hi">呼吁</strong>:如果你喜欢我的文章，请分享到其他领域，这样搜索者会受益匪浅。还有就是，<strong class="iy hi">拍手跟</strong>。快乐(机器)学习！！！</p></div></div>    
</body>
</html>