<html>
<head>
<title>Autonomous Driving Object Detection on the Raspberry Pi 4</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Raspberry Pi 4上的自动驾驶目标检测</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/autonomous-driving-object-detection-on-the-raspberry-pi-4-175bba51d5b4?source=collection_archive---------6-----------------------#2021-01-29">https://medium.com/analytics-vidhya/autonomous-driving-object-detection-on-the-raspberry-pi-4-175bba51d5b4?source=collection_archive---------6-----------------------#2021-01-29</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="ec1f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi jc translated">使用轻量级计算硬件，如使用T4 tensor flow Lite的T2树莓Pi 4 T3，边缘的深度学习现在成为可能！</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es jl"><img src="../Images/d4dac284ace67cca1307d6aea973fd50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*em5to30607PBptloFWAy8Q.gif"/></div></div><figcaption class="jx jy et er es jz ka bd b be z dx translated">在Raspberry Pi 4上测试张量流Lite模型</figcaption></figure><p id="c675" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在这个项目中，分析了对象检测性能，以了解<strong class="ig hi"> Raspberry Pi 4 </strong>在移动车辆中安装和处理视频馈送时的表现。经过训练的模型在线运行速度为<strong class="ig hi"> 2.73 fps </strong>，对道路上的物体进行了令人印象深刻的分类和定位！</p><p id="59c6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">背景</strong></p><p id="b5d6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">物体检测</strong>在计算机视觉中是一项具有挑战性的任务。它包括通过处理图像的像素来计算物体的位置和这些预测的置信度。<strong class="ig hi">深度学习</strong>大大加快了该领域的性能，并允许在自动驾驶等领域实现高性能模型！</p><p id="3ef9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">对于不熟悉<strong class="ig hi">机器学习/深度学习/物体检测</strong>的人来说。这里有一个很棒的介绍:</p><p id="383e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae kb" href="https://www.youtube.com/watch?v=pIciURImE04&amp;t=138s&amp;ab_channel=bitsNblobsElectronics" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=pIciURImE04&amp;t = 138s&amp;ab _ channel = bitsNblobsElectronics</a></p></div><div class="ab cl kc kd go ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="ha hb hc hd he"><p id="d7b1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">模特培训详情</strong></p><p id="1b79" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">一个<strong class="ig hi">SSD-MobileNet-V2</strong>tensor flow Lite模型被训练来执行单次目标检测。作为起点，迁移学习被用于在<strong class="ig hi"> COCO数据集</strong>上训练的模型。然后使用<strong class="ig hi"> BBD100K </strong>自动驾驶数据集进行额外的训练。该数据集包含10种不同的自动驾驶类别:交通标志、交通灯、汽车、骑手、汽车、人、公共汽车、卡车、自行车和火车。在Windows 10机器上，对数据集进行训练直到丢失收敛花费了大约<strong class="ig hi"> 17个小时</strong>。</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es kj"><img src="../Images/52c906c962be94989e448df4e2be9f9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-g5c7IjG9ozmcla_bWPaLQ.png"/></div></div><figcaption class="jx jy et er es jz ka bd b be z dx translated">培训损失</figcaption></figure><p id="f13b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">作为健全性检查，一些测试图像通过模型运行，以确保它准确地检测到它被训练检测的对象类。</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es kk"><img src="../Images/57bc2b09a73c91ceadc298d6a6e28d37.png" data-original-src="https://miro.medium.com/v2/resize:fit:812/format:webp/1*hh50SdcRsSciIWU22O4wvQ.png"/></div><figcaption class="jx jy et er es jz ka bd b be z dx translated">车辆检测试验</figcaption></figure><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es kl"><img src="../Images/0e798e02248cecf2ecfbcde7a4c22cc1.png" data-original-src="https://miro.medium.com/v2/resize:fit:350/format:webp/1*KBZ3powv8H_VfZDeLhyvcw.png"/></div><figcaption class="jx jy et er es jz ka bd b be z dx translated">行人检测测试</figcaption></figure><p id="a9b8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这些测试是该模型如何在检测车辆(即使在光线较暗的情况下)和行人方面表现良好的例子！</p><p id="5ff9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">张量流模型然后被量子化。<strong class="ig hi">量化</strong>一个模型取<strong class="ig hi"> 32位</strong> <strong class="ig hi">浮点权重</strong>并还原为<strong class="ig hi"> 8位整数权重</strong>。这使得<strong class="ig hi">能够更快地检测</strong>，同时模型精度略有下降。这也允许模型在轻量级硬件上运行，如Raspberry Pi！</p></div><div class="ab cl kc kd go ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="ha hb hc hd he"><p id="d3c5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">测试设置硬件</strong></p><p id="406c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">一旦模型被训练、量化，并且所有软件在Pi上被配置，测试设置被配置。</p><p id="d4dd" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">对于该项目，使用了以下硬件组件:</p><ul class=""><li id="e792" class="km kn hh ig b ih ii il im ip ko it kp ix kq jb kr ks kt ku bi translated">Raspberry Pi 4 (4 GB内存— 1.5GHz CPU)</li><li id="a463" class="km kn hh ig b ih kv il kw ip kx it ky ix kz jb kr ks kt ku bi translated">Raspberry Pi 5MP万像素摄像头(1.3版)</li><li id="451a" class="km kn hh ig b ih kv il kw ip kx it ky ix kz jb kr ks kt ku bi translated">RGB LED</li><li id="c8f4" class="km kn hh ig b ih kv il kw ip kx it ky ix kz jb kr ks kt ku bi translated">GPIO按钮</li><li id="9993" class="km kn hh ig b ih kv il kw ip kx it ky ix kz jb kr ks kt ku bi translated">小试验板</li><li id="d5f6" class="km kn hh ig b ih kv il kw ip kx it ky ix kz jb kr ks kt ku bi translated">3.5安培USB-C电源</li></ul><figure class="jm jn jo jp fd jq er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es la"><img src="../Images/1cb88a4fc3fc2e5939a6541fe93f155a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PsM5Uq3NeOK1dmIAtphn9Q.jpeg"/></div></div><figcaption class="jx jy et er es jz ka bd b be z dx translated">安装到车辆前的硬件配置</figcaption></figure><p id="f974" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">把所有东西都连接起来后，相机被安装在一个纸巾盒上，并固定在我汽车的仪表板上。然后Pi通过我车上的115V交流电源插座供电。</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es lb"><img src="../Images/49756cb976e189f1ad26cd3ed73f53ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4mwRqyMvHiMFzRbkiFp5FA.jpeg"/></div></div><figcaption class="jx jy et er es jz ka bd b be z dx translated">安装到车辆后的硬件配置</figcaption></figure><p id="906a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">当按下GPIO按钮时，RGB LED亮起，Pi开始处理视频帧，并在行驶过程中保存到Pi。</p><p id="1ea4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">帖子顶部的gif展示了模特的表现！这里有一张来自gif的静帧，供参考！</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es lc"><img src="../Images/b6f1452da87bd1bc468ad547a6e54b54.png" data-original-src="https://miro.medium.com/v2/resize:fit:744/format:webp/1*z6WO2bKmGLFSZkTbrU6_AQ.png"/></div></figure></div><div class="ab cl kc kd go ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="ha hb hc hd he"><p id="334b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果你想亲自测试这个项目，我在这里做了一个GitHub教程:</p><div class="ld le ez fb lf lg"><a href="https://github.com/ecd1012/rpi_road_object_detection" rel="noopener  ugc nofollow" target="_blank"><div class="lh ab dw"><div class="li ab lj cl cj lk"><h2 class="bd hi fi z dy ll ea eb lm ed ef hg bi translated">ECD 1012/rpi _道路_物体_检测</h2><div class="ln l"><h3 class="bd b fi z dy ll ea eb lm ed ef dx translated">该存储库包含代码和指令，用于配置必要的硬件和软件，以运行自主…</h3></div><div class="lo l"><p class="bd b fp z dy ll ea eb lm ed ef dx translated">github.com</p></div></div><div class="lp l"><div class="lq l lr ls lt lp lu jv lg"/></div></div></a></div><p id="5e91" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果你想要视频教程，这是我在YouTube上做的视频:</p><figure class="jm jn jo jp fd jq"><div class="bz dy l di"><div class="lv lw l"/></div></figure><p id="25b4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">让我知道你的想法！</p><p id="5225" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">未来工作:</strong></p><ul class=""><li id="0508" class="km kn hh ig b ih ii il im ip ko it kp ix kq jb kr ks kt ku bi translated">随着更多的时间花在这个项目上，看看如何在多目标跟踪(MOT)系统中使用检测将会很有趣！更多多目标跟踪背景的链接:【https://en.wikipedia.org/wiki/Multiple_object_tracking T4】</li><li id="8382" class="km kn hh ig b ih kv il kw ip kx it ky ix kz jb kr ks kt ku bi translated">使用多目标跟踪将使这个项目更接近创造一辆自动驾驶汽车。:)</li></ul><h2 id="ec76" class="lx ly hh bd lz ma mb mc md me mf mg mh ip mi mj mk it ml mm mn ix mo mp mq mr bi translated">来源:</h2><ul class=""><li id="2dca" class="km kn hh ig b ih ms il mt ip mu it mv ix mw jb kr ks kt ku bi translated">链接到MobileNets论文:<a class="ae kb" href="https://arxiv.org/pdf/1704.04861.pdf" rel="noopener ugc nofollow" target="_blank">https://arxiv.org/pdf/1704.04861.pdf</a></li><li id="4eed" class="km kn hh ig b ih kv il kw ip kx it ky ix kz jb kr ks kt ku bi translated">张量流模型链接:<a class="ae kb" href="https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/tf1_detection_zoo.md" rel="noopener ugc nofollow" target="_blank">https://github . com/Tensor Flow/Models/blob/master/research/object _ detection/g3doc/tf1 _ detection _ zoo . MD</a></li><li id="c526" class="km kn hh ig b ih kv il kw ip kx it ky ix kz jb kr ks kt ku bi translated">链接到使用的训练数据集:<a class="ae kb" href="https://bdd-data.berkeley.edu/" rel="noopener ugc nofollow" target="_blank">https://bdd-data.berkeley.edu/</a></li></ul></div></div>    
</body>
</html>