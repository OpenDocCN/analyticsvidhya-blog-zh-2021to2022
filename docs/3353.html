<html>
<head>
<title>🕸 How to Create a Weighted Network From a List of Elements Sharing an Attribute With R</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">🕸如何从与r共享一个属性的元素列表中创建一个加权网络</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/how-to-create-a-weighted-network-from-a-list-of-elements-sharing-an-attribute-with-r-dccd4131f3fc?source=collection_archive---------14-----------------------#2021-06-26">https://medium.com/analytics-vidhya/how-to-create-a-weighted-network-from-a-list-of-elements-sharing-an-attribute-with-r-dccd4131f3fc?source=collection_archive---------14-----------------------#2021-06-26</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/3d73f0284e38e41654e75e9250b7a869.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*uLcXVY5zQenn9WzJ"/></div></div></figure><p id="b596" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">来源:德里布尔，S. (2012)。地铁系统的网络中心性。PloS one，7(7)，e40575。</p><p id="b313" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">网络分析是数据科学的一个分支，受到外界的广泛关注，主要是因为<strong class="ir hi">我们生活的许多方面都可以用网络</strong>来描述，比如<a class="ae jo" href="https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=&amp;cad=rja&amp;uact=8&amp;ved=2ahUKEwj55KGu787wAhVKmqQKHU_iCpEQFjALegQIBhAD&amp;url=http%3A%2F%2Fnetworkdata.ics.uci.edu%2Fnetdata%2Fhtml%2Fflorentine.html&amp;usg=AOvVaw0c0ZncX3Zq76ahJkPixNYi" rel="noopener ugc nofollow" target="_blank">十五世纪佛罗伦萨的婚姻</a>、<a class="ae jo" href="https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=&amp;cad=rja&amp;uact=8&amp;ved=2ahUKEwiowtW3787wAhUR7KQKHfTgDSoQFjAAegQIBBAD&amp;url=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FZachary%2527s_karate_club&amp;usg=AOvVaw2bK6rvTRmDU2eDilAq0dvd" rel="noopener ugc nofollow" target="_blank">体育俱乐部的友谊</a>、病毒式营销策略、地铁连接等等。</p><p id="9412" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如果你也对网络分析感兴趣，你可能想用统计计算和图形的免费软件环境<strong class="ir hi"> R来做这件事。我们还假设您想从一个列表中创建一个网络。在该列表中，每个行元素都在一个属性中列出，如下例所示。</strong></p><p id="058f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">篮球足球高尔夫球Marc 1100 John 0200 Paul 505 Micheal 005</p><p id="e0e6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><em class="jn">在本例中，参与程度从0到20不等，0表示参与者没有参与，20表示最大参与程度。</em></p><p id="d274" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在场景中，<strong class="ir hi"> Marc和Paul因为都踢足球而“联系在一起”</strong>，Marc和John因为篮球而联系在一起，Paul和Micheal因为高尔夫而联系在一起，等等。你可能还想假设马克和约翰之间的联系是篮球创造的，远高于马克和保罗在足球上的联系。正如你所想象的，这可以用许多不同的方式来利用，因为在许多情况下，一个网络可以由共享一个属性的其他个人形成(例如，购买相同产品的客户)。</p><p id="bbce" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">让我们以一个非常通用的矩阵为例，然后让我们生成<strong class="ir hi">个人之间所有可能的组合</strong>(在我们的例子中，他们将是Marc-John、Marc-Paul、Marc-Micheal、John-Paul、John-Micheal和Paul-Micheal)。</p><pre class="jp jq jr js fd jt ju jv jw aw jx bi"><span id="1c41" class="jy jz hh ju b fi ka kb l kc kd"># table with 50 random values<br/>set.seed(345)<br/>inc &lt;- matrix( rbinom(50, 1, p=0.2) , 10, 5)<br/>colnames(inc) &lt;- letters[1:5] # activities<br/>rownames(inc) &lt;- LETTERS[1:10] # individuals</span><span id="4834" class="jy jz hh ju b fi ke kb l kc kd"># generate all combinations of individuals<br/>d &lt;- data.frame(t(combn(rownames(inc), 2)), stringsAsFactors = F)</span></pre><p id="b38d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在，我们将构建一个<strong class="ir hi">函数，它将通过对每个属性的值的乘积求和来计算两个人之间的联系强度</strong>。例如，在上面的示例中，将通过应用以下公式来计算Marc和John之间的联系:</p><pre class="jp jq jr js fd jt ju jv jw aw jx bi"><span id="773d" class="jy jz hh ju b fi ka kb l kc kd">LinkStrength(Mark, John) = Football(Marc) * Football(John) + Basketball(Marc) * Basketball(John)+Golf(Marc) * Golf(John)</span><span id="d4fe" class="jy jz hh ju b fi ke kb l kc kd">sum_act &lt;- function(x){<br/>  sum = sum(inc[ d[x,"X1"],] * inc[ d[x,"X2"],])<br/>}</span><span id="43a2" class="jy jz hh ju b fi ke kb l kc kd">d$keep &lt;- sapply(1:nrow(d), sum_act)</span><span id="28dc" class="jy jz hh ju b fi ke kb l kc kd">head(d)<br/>  X1 X2 keep<br/>1  A  B    1<br/>2  A  C    0<br/>3  A  D    0<br/>4  A  E    0<br/>5  A  F    0<br/>6  A  G    0</span></pre><p id="aff9" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在，您将能够生成自己的网络对象，并分析其所有特征。</p><pre class="jp jq jr js fd jt ju jv jw aw jx bi"><span id="bbdc" class="jy jz hh ju b fi ka kb l kc kd">library(igraph)<br/>g &lt;- graph_from_data_frame(d[d$keep&gt;0,], directed = F)<br/>plot(g)</span></pre><figure class="jp jq jr js fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kf"><img src="../Images/99ba5be5ca9c9a6633f9cf69a3782fe8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*d0d9HxQb-gU2O_vy"/></div></div></figure><p id="d721" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">你呢？你在R做过网络分析吗？</p></div></div>    
</body>
</html>