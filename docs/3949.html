<html>
<head>
<title>Generate Bitmoji from face using GAN</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用GAN从face生成Bitmoji</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/generate-bitmoji-from-face-using-gan-62c9ac47a6cd?source=collection_archive---------3-----------------------#2021-08-12">https://medium.com/analytics-vidhya/generate-bitmoji-from-face-using-gan-62c9ac47a6cd?source=collection_archive---------3-----------------------#2021-08-12</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="7498" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">你有没有想过社交媒体公司是如何从你的图片生成bitmoji的？看看GAN如何从一张图片创建bitmoji。</h2></div><figure class="ix iy iz ja fd jb er es paragraph-image"><div class="er es iw"><img src="../Images/b7e99950e81aa9d3e01c7edd2f4632d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*uxNH-aZtRFuwDLBJH0EaoA.png"/></div></figure><p id="9e4b" class="pw-post-body-paragraph je jf hh jg b jh ji ii jj jk jl il jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">我们大多数人都创建了自己定制的bitmoji，并在不同的社交媒体应用程序中使用它们。早期的bitmoji是可定制的，可添加或更改的属性数量有限。但是一两年后一切都变了。现在人们可以创造出看起来和自己一模一样的bitmoji。这都要归功于深度学习模型的快速发展。但是他们是怎么做到的呢？好吧，让我们探索一下甘斯是如何为我们完成这项工作的。</p><blockquote class="ka kb kc"><p id="a5f1" class="je jf kd jg b jh ji ii jj jk jl il jm ke jo jp jq kf js jt ju kg jw jx jy jz ha bi translated">生成对抗网络是过去10年机器学习中最有趣的想法”“<strong class="jg hi"> Yann LeCun </strong>。</p></blockquote><h2 id="5ed5" class="kh ki hh bd kj kk kl km kn ko kp kq kr jn ks kt ku jr kv kw kx jv ky kz la lb bi translated">GAN快速概述</h2><figure class="ix iy iz ja fd jb er es paragraph-image"><div class="er es lc"><img src="../Images/2b86a393fd3ed8a2175beaa10b3d2bec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1276/0*9ohpyrtrhW1zvT6f"/></div><figcaption class="ld le et er es lf lg bd b be z dx translated">对甘的基本认识</figcaption></figure><p id="5bff" class="pw-post-body-paragraph je jf hh jg b jh ji ii jj jk jl il jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated"><strong class="jg hi">甘的</strong>是一个令人兴奋且快速变化的领域，它兑现了生成模型的承诺，能够在一系列问题领域生成真实的例子。<br/>最引人注目的是<strong class="jg hi">图像到图像的翻译</strong>任务，例如将夏天的照片翻译成冬天的照片或白天到夜晚的照片，以及生成甚至人类都无法辨别的物体、场景和人物的真实感照片。</p><p id="02aa" class="pw-post-body-paragraph je jf hh jg b jh ji ii jj jk jl il jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">甘的三个基本部分是-</p><ol class=""><li id="6f27" class="lh li hh jg b jh ji jk jl jn lj jr lk jv ll jz lm ln lo lp bi translated">)<strong class="jg hi">生成器</strong> —使用生成器创建输出，使用随机噪声，或者在我们的情况下，使用随机正态噪声的内核初始化器，而不是正态glorot uniform。</li><li id="ebaa" class="lh li hh jg b jh lq jk lr jn ls jr lt jv lu jz lm ln lo lp bi translated">)<strong class="jg hi">鉴别器</strong> —通过与鉴别器连接，同时传递真实(目标图像)和虚假的发生器生成输出，以检查真实或虚假。它扮演着批评家的角色。</li><li id="4a44" class="lh li hh jg b jh lq jk lr jn ls jr lt jv lu jz lm ln lo lp bi translated">)<strong class="jg hi">损失函数</strong> —基于发电机输出和鉴别器输出创建损失函数。</li></ol><p id="cb7a" class="pw-post-body-paragraph je jf hh jg b jh ji ii jj jk jl il jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">但是正常的GAN需要成对的图像，即输入和期望的输出，以便它可以学习特征。</p><h2 id="3aff" class="kh ki hh bd kj kk kl km kn ko kp kq kr jn ks kt ku jr kv kw kx jv ky kz la lb bi translated">我说的成对和不成对是什么意思？</h2><figure class="ix iy iz ja fd jb er es paragraph-image"><div class="er es lv"><img src="../Images/5c311346686209dcbfa8f369c8372a21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1244/format:webp/0*MNO5PQkSvHuLTQ5a.png"/></div></figure><p id="8d38" class="pw-post-body-paragraph je jf hh jg b jh ji ii jj jk jl il jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">但是我们想从一张看起来相似的图片中生成Bitmoji。对此，我们没有配对的数据集。此外，我们希望GAN能够自我学习，即无监督学习。那么有这样的GAN吗？</p><p id="980a" class="pw-post-body-paragraph je jf hh jg b jh ji ii jj jk jl il jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">是的，有。它被称为CycleGAN(也有其他的，但对于这一点，我们将坚持使用CycleGAN)。</p><h1 id="4642" class="lw ki hh bd kj lx ly lz kn ma mb mc kr in md io ku iq me ir kx it mf iu la mg bi translated">CycleGAN</h1><figure class="ix iy iz ja fd jb er es paragraph-image"><div class="er es mh"><img src="../Images/eaa91af438a564701aa62e6b132e1653.png" data-original-src="https://miro.medium.com/v2/resize:fit:520/format:webp/0*yXG4MNwDbiDUrDj0.png"/></div><figcaption class="ld le et er es lf lg bd b be z dx translated">CycleGAN的基本架构</figcaption></figure><p id="19ab" class="pw-post-body-paragraph je jf hh jg b jh ji ii jj jk jl il jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">想象一下CycleGAN有两个网络。它包括:</p><ul class=""><li id="da5c" class="lh li hh jg b jh ji jk jl jn lj jr lk jv ll jz mi ln lo lp bi translated">两个映射<strong class="jg hi"> <em class="kd"> G : X - &gt; Y </em> </strong>和<strong class="jg hi"> <em class="kd"> F : Y - &gt; X. </em> </strong></li><li id="33ed" class="lh li hh jg b jh lq jk lr jn ls jr lt jv lu jz mi ln lo lp bi translated">相应的敌对歧视者<strong class="jg hi"> Dx </strong>和<strong class="jg hi"> Dy。</strong></li></ul><p id="83bf" class="pw-post-body-paragraph je jf hh jg b jh ji ii jj jk jl il jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated"><strong class="jg hi">G的作用:</strong> G试图<strong class="jg hi">将</strong> X翻译成输出，通过Dy馈入，根据域y检查真假。</p><p id="863d" class="pw-post-body-paragraph je jf hh jg b jh ji ii jj jk jl il jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated"><strong class="jg hi">F的作用:</strong> F试图<strong class="jg hi">将</strong> Y翻译成输出，输出通过Dx馈入，以检查它们是否与域x无法区分</p><h2 id="bf98" class="kh ki hh bd kj kk kl km kn ko kp kq kr jn ks kt ku jr kv kw kx jv ky kz la lb bi translated">损失函数</h2><figure class="ix iy iz ja fd jb er es paragraph-image"><div class="er es mj"><img src="../Images/ac3e7021eead7549685e7abe5ff5be90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1258/format:webp/0*cXR5rAJgXSn57GQh.png"/></div><figcaption class="ld le et er es lf lg bd b be z dx translated">循环一致性损失</figcaption></figure><p id="e7b5" class="pw-post-body-paragraph je jf hh jg b jh ji ii jj jk jl il jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">循环一致性损失是CycleGAN的真正优势所在。仅仅使用g an将图像从一个域转换到另一个域是不够的。一个完整的循环是，如果模型可以转换到另一个域，并且如果它将其恢复到原始状态，那么只有一个人可以说模型已经了解了手头任务的真正特征。这就是所谓的循环损耗。</p><p id="5289" class="pw-post-body-paragraph je jf hh jg b jh ji ii jj jk jl il jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">这种损失使用直觉，即如果我们使用映射函数<strong class="jg hi"> G </strong>将样本从域<strong class="jg hi"> X </strong>转换到<strong class="jg hi"> Y </strong>，然后使用函数<strong class="jg hi"> F、</strong>将其映射回<strong class="jg hi"> X </strong>，我们离原始样本有多近。类似地，它计算将样本从Y转换到X，然后再转换回Y所产生的损耗。这种循环损耗应<strong class="jg hi">最小化</strong>。</p><h2 id="bad5" class="kh ki hh bd kj kk kl km kn ko kp kq kr jn ks kt ku jr kv kw kx jv ky kz la lb bi translated">CycleGAN建筑</h2><p id="740c" class="pw-post-body-paragraph je jf hh jg b jh mk ii jj jk ml il jm jn mm jp jq jr mn jt ju jv mo jx jy jz ha bi translated">GAN的生成器基本上是一个UNET，具有应用于潜在空间的卷积瓶颈块。对于潜在空间特征提取，使用Resnet块。</p><p id="f6e5" class="pw-post-body-paragraph je jf hh jg b jh ji ii jj jk jl il jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">块数对训练时间和结果有直接影响。对于这种情况，在不同深度的残余块上进行实验。当resnet块的深度为5时获得最佳结果，进一步增加对结果没有改善效果，只是增加了训练时间。</p><h2 id="8916" class="kh ki hh bd kj kk kl km kn ko kp kq kr jn ks kt ku jr kv kw kx jv ky kz la lb bi translated">结果</h2><p id="33ea" class="pw-post-body-paragraph je jf hh jg b jh mk ii jj jk ml il jm jn mm jp jq jr mn jt ju jv mo jx jy jz ha bi translated">该模型被训练了30个时期和总共8k个图像。甘唯一的缺点是训练时间太长，只有30个历元。</p><div class="ix iy iz ja fd ab cb"><figure class="mp jb mq mr ms mt mu paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><img src="../Images/4cca57cd941a8393465c1ce64a230bc1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*ObBq2MaReUUFs_-S-38s9g.png"/></div></figure><figure class="mp jb mz mr ms mt mu paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><img src="../Images/2a63c7c5022d5af18e1039dfb0734a50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*SVKL7n4ZN3fyhwy-feVYgw.png"/></div><figcaption class="ld le et er es lf lg bd b be z dx na di nb nc translated">良好的结果</figcaption></figure></div><p id="06fc" class="pw-post-body-paragraph je jf hh jg b jh ji ii jj jk jl il jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">考虑到有限的数据和较少的训练时间，这个结果已经足够好了。但是所有的结果都不好。</p><p id="0713" class="pw-post-body-paragraph je jf hh jg b jh ji ii jj jk jl il jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">图像翻译有时会不必要地将男性转换成女性。如果我们愿意的话，它可以被称为一个特性！但在这种情况下不会。</p><div class="ix iy iz ja fd ab cb"><figure class="mp jb nd mr ms mt mu paragraph-image"><img src="../Images/3885abe26f52c5eeb1c62149aff4c63c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1010/format:webp/1*oKhPWr__nc-Tj33E-61jeQ.png"/></figure><figure class="mp jb ne mr ms mt mu paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><img src="../Images/2925ad2b2247991de9b518f81d475772.png" data-original-src="https://miro.medium.com/v2/resize:fit:916/format:webp/1*G3tL5tXCpy997Yj29Tabpg.png"/></div><figcaption class="ld le et er es lf lg bd b be z dx nf di ng nc translated">从左到右——a)男人变成女人。b .)只是离群失败</figcaption></figure></div><p id="60c6" class="pw-post-body-paragraph je jf hh jg b jh ji ii jj jk jl il jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">另一个问题是配件。bitmoji数据集没有带配件数据集的面。因此，该模型考虑了头部的任何东西，如头发、帽子、头巾或耳机。此外，在某些情况下，阴影也成为一个问题，使输出位moji更暗。</p><div class="ix iy iz ja fd ab cb"><figure class="mp jb nh mr ms mt mu paragraph-image"><img src="../Images/051dd904c14d487b1661a0acfec8dd81.png" data-original-src="https://miro.medium.com/v2/resize:fit:986/format:webp/1*PPQMcTsvDSeOKmWBe0h-RA.png"/></figure><figure class="mp jb ni mr ms mt mu paragraph-image"><img src="../Images/18b53e4e9cb49f85b6ec726c78d62b75.png" data-original-src="https://miro.medium.com/v2/resize:fit:970/format:webp/1*vquZRT7oAaO8_QNPKnUPfQ.png"/><figcaption class="ld le et er es lf lg bd b be z dx nj di nk nc translated">从左到右— a .)假设帽子为头发。b .)与配饰搭配不好。</figcaption></figure></div><h2 id="f2e8" class="kh ki hh bd kj kk kl km kn ko kp kq kr jn ks kt ku jr kv kw kx jv ky kz la lb bi translated">未来的工作-</h2><p id="a1df" class="pw-post-body-paragraph je jf hh jg b jh mk ii jj jk ml il jm jn mm jp jq jr mn jt ju jv mo jx jy jz ha bi translated">使用人脸点检测模型提取人脸点或网格，并将其级联到生成器中，以获得更加鲁棒和准确的结果。</p></div></div>    
</body>
</html>