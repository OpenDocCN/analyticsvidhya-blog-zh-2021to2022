<html>
<head>
<title>Can we choose sport? An end to end Machine Learning Process</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我们可以选择运动吗？端到端的机器学习过程</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/can-we-choose-sport-an-end-to-end-machine-learning-process-172989404eed?source=collection_archive---------14-----------------------#2021-07-08">https://medium.com/analytics-vidhya/can-we-choose-sport-an-end-to-end-machine-learning-process-172989404eed?source=collection_archive---------14-----------------------#2021-07-08</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="c221" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">当我们在学校的时候，我们会拿到成绩单，根据各科的表现，我们会选择未来的科目。一个人的科目成绩对我们未来的努力有着巨大的影响。如果你可以根据身体健康参数来选择运动，这不是很有趣吗？成为Virat Kohli或者L梅西或者c罗，让国家骄傲，是每个孩子的梦想。</p><p id="e87a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">方法:</strong></p><p id="ca28" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">人体包括各种系统，例如肌肉骨骼系统、神经系统、心血管系统、呼吸系统以及更多，在这些系统上通过酶和催化剂的作用发生许多复杂的机制，从而产生海量数据。这种机制在没有任何解释的情况下继续，所以现在你可以想象每秒钟有多少数据来自人体。</p><p id="a1b8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">作为一门体育科学，如果你能理性地思考对特定运动至关重要的数据，那么你就能把这些数据与特定的运动需求联系起来。</p><p id="7fcd" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">体育领域的技术进步使我们能够获得各种形式的数据，无论是内在数据(人体内部)，如血液测试。DNA测试、激素、体能测试、脂肪百分比、心率、et Cetra和外在因素(人体外)如气候条件、地面类型、跑了多少次？进了几个球？等等。他们希望将主题专家纳入通过预测为运动选择构建机器学习模型的过程中。</p><p id="5432" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">ML模型需求:</strong></p><p id="07cf" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这里出现了一个问题，为什么我们要预测孩子们的运动？根据运动员的长期发展；在LTAD，从儿童早期开始有七个阶段来培养运动员成为冠军。所以，如果在儿童早期，我们可以知道哪些运动适合你的孩子；是不是会对运动参与产生巨大的影响。</p><p id="749a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">我们怎样才能做到呢？</strong></p><p id="5ee4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">正如前面讨论的运动技术和各种测试的含义，我们将能够获得数据。让我们看看数据会是什么样子:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es jc"><img src="../Images/bf7006417d7fd9154da0d7df356c63b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:986/format:webp/1*R5DmPZOrIsG3jfeWd3eYgg.png"/></div></figure><p id="63de" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们可以联系到一个数据组中的12个属性，其中如果灵活性越大，运动员就越灵活，耐力意味着在更长的时间内进行任何活动的能力，耐力值越高，力量意味着克服阻力的能力，耐力值越高，运动员就能克服阻力，速度意味着跑得越快，所以速度值越低越好， 敏捷性意味着随着方向的改变而快速奔跑的能力，因此该值越小，结果越好，而最大摄氧量意味着活动期间的最大耗氧量，因此该值越好，耐力越好。</p><p id="b453" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">描述性统计:通过五点汇总、均值和标准差对每个属性进行汇总。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jk"><img src="../Images/37a52ce48fa23ad01836b008d3675c23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1372/format:webp/1*ecfEEU-Ut6dg1OMXQ788cg.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated"><strong class="bd jt">描述性统计</strong></figcaption></figure><p id="cabf" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在体育运动中，每个属性都有其自身的重要性，因此，如果运动员与同龄人相比，具有更高比例的特定属性，那么他们就具有优势。比如说；与其他运动相比，手眼协调或敏捷性在羽毛球运动中具有重要影响，因此，如果运动员在这两个特定属性上表现更好，他可能比其他运动更适合羽毛球运动，尽管我们也可以考虑其他参数。</p><p id="c4d3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">对体育项目进行分类</strong></p><p id="587e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在数据中实现了无监督的机器学习模型，以形成三个体育聚类，例如羽毛球、足球和篮球。对于该博客，实现了相同的K- Means算法。</p><p id="d5f9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">应用K表示</strong></p><pre class="jd je jf jg fd ju jv jw jx aw jy bi"><span id="fad0" class="jz ka hh jv b fi kb kc l kd ke">from sklearn.cluster import KMeans<br/>k_means = KMeans(n_clusters= 3)<br/>k_means.fit_transform(scaled_df)</span></pre><p id="45bf" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">组的提法</strong></p><pre class="jd je jf jg fd ju jv jw jx aw jy bi"><span id="726e" class="jz ka hh jv b fi kb kc l kd ke">group.T</span></pre><p id="53a0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">通过分析局限于该组的每个属性的平均值，我们能够创建如下所述的目标变量。</p><p id="1ab6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">运动分类</strong></p><pre class="jd je jf jg fd ju jv jw jx aw jy bi"><span id="2782" class="jz ka hh jv b fi kb kc l kd ke">sns.countplot(df.Sports)</span></pre><p id="6f6c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">预测体育项目</strong></p><p id="81e7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">实现了像逻辑回归、随机森林等监督学习模型来预测运动类别。</p><pre class="jd je jf jg fd ju jv jw jx aw jy bi"><span id="eaa0" class="jz ka hh jv b fi kb kc l kd ke">from sklearn.linear_model import LogisticRegression<br/>from sklearn.ensemble import RandomForestClassifier<br/>from sklearn.svm import LinearSVC<br/>from sklearn.naive_bayes import MultinomialNB<br/>from sklearn.model_selection import cross_val_score<br/>models = [<br/> LinearSVC(),<br/> MultinomialNB(),<br/> LogisticRegression(random_state=0),<br/> RandomForestClassifier(n_estimators=200, max_depth=3, random_state=0)<br/>]<br/>CV = 5<br/>cv_df = pd.DataFrame(index=range(CV * len(models)))<br/>entries = []<br/>for model in models:<br/> model_name = model.__class__.__name__<br/> accuracies = cross_val_score(model, X, y, scoring=’accuracy’, cv=CV)<br/> for fold_idx, accuracy in enumerate(accuracies):<br/> entries.append((model_name, fold_idx, accuracy))<br/>cv_df = pd.DataFrame(entries, columns=[‘model_name’, ‘fold_idx’, ‘accuracy’])<br/>import seaborn as sns<br/>sns.boxplot(x=’model_name’, y=’accuracy’, data=cv_df)<br/>sns.stripplot(x=’model_name’, y=’accuracy’, data=cv_df, <br/> size=8, jitter=True, edgecolor=”gray”, linewidth=2)<br/>plt.show()</span></pre><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es kf"><img src="../Images/ae59efb50082a5256444ba057cd0cc85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1026/format:webp/1*sJfDWY7dhMqSLQcsrsPJBQ.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated"><strong class="bd jt">精度</strong></figcaption></figure><pre class="jd je jf jg fd ju jv jw jx aw jy bi"><span id="754a" class="jz ka hh jv b fi kb kc l kd ke">model_name<br/>LinearSVC                 0.865071<br/>LogisticRegression        0.831117<br/>MultinomialNB                  NaN<br/>RandomForestClassifier    0.844060</span></pre><p id="0152" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">分类报告</strong></p><pre class="jd je jf jg fd ju jv jw jx aw jy bi"><span id="b1ab" class="jz ka hh jv b fi kb kc l kd ke">precision    recall  f1-score   support</span><span id="2ce2" class="jz ka hh jv b fi kg kc l kd ke">0      0.939     0.984     0.961        63<br/>           1      0.979     0.959     0.969        49<br/>           2      1.000     0.963     0.981        54</span><span id="577a" class="jz ka hh jv b fi kg kc l kd ke">accuracy                          0.970       166<br/>   macro avg      0.973     0.969     0.970       166<br/>weighted avg      0.971     0.970     0.970       166</span><span id="639c" class="jz ka hh jv b fi kg kc l kd ke">precision    recall  f1-score   support</span><span id="6e50" class="jz ka hh jv b fi kg kc l kd ke">0      0.900     0.871     0.885        31<br/>           1      0.920     0.920     0.920        25<br/>           2      0.882     0.938     0.909        16</span><span id="a952" class="jz ka hh jv b fi kg kc l kd ke">accuracy                          0.903        72<br/>   macro avg      0.901     0.909     0.905        72<br/>weighted avg      0.903     0.903     0.903        72</span></pre><p id="f0f5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">混淆矩阵</strong></p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es kh"><img src="../Images/958340400c02f91b9e7a8dd414bfcee4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1004/format:webp/1*gmhbyEcIpkTVA3gZsIVqVA.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated"><strong class="bd jt">列车数据</strong></figcaption></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es ki"><img src="../Images/0631802d7aaca8ca7677b346970d467e.png" data-original-src="https://miro.medium.com/v2/resize:fit:974/format:webp/1*COwULtGosIFm-ObhQGupyQ.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated"><strong class="bd jt">测试数据</strong></figcaption></figure><p id="bf12" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">让我们建立一个函数来预测结果:</p><pre class="jd je jf jg fd ju jv jw jx aw jy bi"><span id="5743" class="jz ka hh jv b fi kb kc l kd ke">def predict_sports(Lower_Limb_Flexibility,Upper_Limb_Endurance, Lower_Limb_Endurance,Core_Endurance,<br/> Upper_Limb_Flexibility_Left, Upper_Limb_Flexibility_Right, Lower_Limb_Strength,<br/> Hand_Grip_Strength_Right, Hand_Grip_Strength_Left, Speed, Agility, Vo2_Max):<br/>a=np.zeros(len(X.columns))<br/> a[0] = Lower_Limb_Flexibility<br/> a[1] = Upper_Limb_Endurance<br/> a[2] = Lower_Limb_Endurance <br/> a[3] = Core_Endurance<br/> a[4] = Upper_Limb_Flexibility_Left<br/> a[5] = Upper_Limb_Flexibility_Right<br/> a[6] = Lower_Limb_Strength<br/> a[7] = Hand_Grip_Strength_Right<br/> a[8] = Hand_Grip_Strength_Left<br/> a[9] = Speed <br/> a[10] = Agility<br/> a[11] = Vo2_Max<br/> return (model.predict([a]))</span></pre><p id="77f5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">结果:</p><pre class="jd je jf jg fd ju jv jw jx aw jy bi"><span id="832c" class="jz ka hh jv b fi kb kc l kd ke">predict_sports(12,12,12,12,21,12,40,25,24,4,8,15)</span></pre><p id="3bac" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">部署</strong></p><p id="807b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">模型的部署是使用烧瓶完成的；最初，创建一个pickle文件来转储模型，然后创建一个列JSON文件。</p><pre class="jd je jf jg fd ju jv jw jx aw jy bi"><span id="5169" class="jz ka hh jv b fi kb kc l kd ke">import pickle<br/>with open('sports.pickle','wb') as f:<br/>    pickle.dump(model,f)</span><span id="6acd" class="jz ka hh jv b fi kg kc l kd ke">import json<br/>columns = {<br/>    'data_columns' : [col.lower() for col in X.columns]<br/>}<br/>with open("columns.json","w") as f:<br/>    f.write(json.dumps(columns))</span><span id="584e" class="jz ka hh jv b fi kg kc l kd ke"><strong class="jv hi">A HTML and CSS was used to create a Graphic User Interface as mentioned below:</strong></span></pre><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es kj"><img src="../Images/f1d754e5ec06dad0a653054d3c273fe2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uJLNhpYe_VS0dw9xwIMYLw.png"/></div></div></figure><p id="3e78" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">点击提交后:</strong></p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es kk"><img src="../Images/a6f1cce1f1a50bb37dccd39bdc92a9b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aXNcIbsyOS0A_7LBSZCWYg.png"/></div></div></figure><p id="fd17" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">结论</strong></p><p id="4274" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">创建机器学习端到端流程的目标是:</p><p id="c3c6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">a)以统计方式提供该特定运动所需的最重要的属性。</p><p id="0aad" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">b)通过整合属性在基层识别人才。</p><p id="2fc7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">从未来的角度来看，这种端到端的体育人才识别模型可以为体育科学家、教练和体育利益相关者提供帮助。</p></div></div>    
</body>
</html>