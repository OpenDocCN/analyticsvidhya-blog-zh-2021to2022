<html>
<head>
<title>How To Deal With Class Imbalance In Dataset</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何处理数据集中的类不平衡</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/how-to-deal-with-class-imbalance-in-dataset-a8e1c957602b?source=collection_archive---------16-----------------------#2021-05-19">https://medium.com/analytics-vidhya/how-to-deal-with-class-imbalance-in-dataset-a8e1c957602b?source=collection_archive---------16-----------------------#2021-05-19</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="1bee" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">处理数据不平衡的简单技巧</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jc"><img src="../Images/fc342d7d9f53bc98c0dc40fa9db197aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ZIbr628-RfVOv2xG"/></div></div><figcaption class="jo jp et er es jq jr bd b be z dx translated">吉尔特·皮耶特斯在<a class="ae js" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="eba2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">什么是阶层失衡</strong></p><p id="f43d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">类别不平衡是机器学习任务中数据的不平等分布和变化，其中一个类别往往比其他类别或分布具有更多的值。由于从单个地理区域收集数据而导致的数据的不一致和有偏差的重新采样，或者由于问题的性质，例如欺诈交易，由于在整个交易中欺诈的发生和流行较少，欺诈交易倾向于在类别之间具有有偏差的数据分布，因此可能出现类别不平衡。不平衡的出现也是因为少数民族阶层的存在，如种族、民族或部落。</p><p id="1ea3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">因此，让我们从上传数据集开始，然后打印<strong class="ig hi">性别</strong>列的值计数。</p><pre class="jd je jf jg fd jt ju jv jw aw jx bi"><span id="e7f4" class="jy jz hh ju b fi ka kb l kc kd">df=pd.read_csv('titanic_train.csv')<br/>df.Sex.value_counts()</span></pre><p id="9a89" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">输出[1]:</p><pre class="jd je jf jg fd jt ju jv jw aw jx bi"><span id="36ba" class="jy jz hh ju b fi ka kb l kc kd">male      577<br/>female    314<br/>Name: Sex, dtype: int64</span></pre><p id="d52d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在上面的输出中，由于数据的不平衡，男性类比女性类有更多的值。</p><p id="062c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">处理数据集中的类不平衡</strong><br/>1-对少数类进行过采样<br/> 2-对多数类进行欠采样</p><p id="4bf0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">对少数类进行过采样</strong> <br/>在过采样中，我们为少数类创建了更多的合成数据，以便少数类有更多的数据来匹配多数类，如果要处理的数据较少，这是值得推荐的。</p><p id="82e1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在[ 1]中:</p><pre class="jd je jf jg fd jt ju jv jw aw jx bi"><span id="a0de" class="jy jz hh ju b fi ka kb l kc kd">from sklearn.utils import resample<br/>Male=df[df.Sex=='male']<br/>Female=df[df.Sex=='female']</span><span id="bd17" class="jy jz hh ju b fi ke kb l kc kd">female_upsampled = resample(Female,<br/> replace = True,<br/> n_samples = len(Male), # Match the number  with the majority class<br/> random_state=20)</span><span id="dd0f" class="jy jz hh ju b fi ke kb l kc kd">df = pd.concat([Male, female_upsampled])</span></pre><p id="0d8b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在让我们看看这个柱子</p><pre class="jd je jf jg fd jt ju jv jw aw jx bi"><span id="4215" class="jy jz hh ju b fi ka kb l kc kd">df.Sex.value_counts()</span></pre><p id="793c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">输出[2]:</p><pre class="jd je jf jg fd jt ju jv jw aw jx bi"><span id="0971" class="jy jz hh ju b fi ka kb l kc kd">female    577<br/>male      577<br/>Name: Sex, dtype: int64</span></pre><p id="bce1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在，女性和男性阶层的人数相等。</p><p id="4a86" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">欠采样多数类</strong> <br/>在这种采样方法中，我们从多数类中移除一些数据以匹配少数类，但如果要处理的数据较少，这可能会影响模型的性能。</p><pre class="jd je jf jg fd jt ju jv jw aw jx bi"><span id="3109" class="jy jz hh ju b fi ka kb l kc kd">male_downsampled = resample(Male,<br/> replace = True, # Sample with replacement<br/> n_samples = len(Female), # Match number with the minority class<br/> random_state=20)</span><span id="a6d6" class="jy jz hh ju b fi ke kb l kc kd">df = pd.concat([women, men_downsampled])</span></pre><p id="10a9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">让我们现在也看看<strong class="ig hi">性别</strong>一栏</p><pre class="jd je jf jg fd jt ju jv jw aw jx bi"><span id="1652" class="jy jz hh ju b fi ka kb l kc kd">df.Sex.value_counts()</span></pre><p id="71f0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">输出[2]:</p><pre class="jd je jf jg fd jt ju jv jw aw jx bi"><span id="b4d5" class="jy jz hh ju b fi ka kb l kc kd">female    314<br/>male      314<br/>Name: Sex, dtype: int64</span></pre><p id="385e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">结论</strong></p><p id="2425" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">过采样和欠采样方法是处理数据不平衡的非常常见和有效的技术之一，但也可以使用其他技术，如合成少数过采样技术(SMOTH)。</p><p id="14be" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae js" href="https://alaminmusamagaga.medium.com/simple-way-to-create-a-machine-learning-app-with-flask-69a532663fd5" rel="noopener">https://alaminmusamagaga . medium . com/simple-way-to-create-a-machine-learning-app-with flask-69a 532663 FD 5</a></p><p id="9744" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae js" rel="noopener" href="/analytics-vidhya/natural-language-processing-nlp-and-process-modeling-in-precision-medicine-a55fa9ec9818">https://medium . com/analytics-vid hya/natural-language-processing-NLP-and-process-modeling-in-precision-medicine-a 55 fa 9 EC 9818</a></p></div></div>    
</body>
</html>