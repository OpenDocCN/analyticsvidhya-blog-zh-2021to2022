<html>
<head>
<title>Inbound Marketing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">集客营销</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/inbound-marketing-e7b32eef8212?source=collection_archive---------25-----------------------#2021-01-13">https://medium.com/analytics-vidhya/inbound-marketing-e7b32eef8212?source=collection_archive---------25-----------------------#2021-01-13</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="a456" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">该分析的数据库由一家技术公司提供。使用R编程进行整个分析，并分析了6个变量的5570个观察值。</p><p id="fbb4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">要了解更多信息:</p><div class="jc jd ez fb je jf"><a href="https://github.com/rachderossi/data-analysis-R" rel="noopener  ugc nofollow" target="_blank"><div class="jg ab dw"><div class="jh ab ji cl cj jj"><h2 class="bd hi fi z dy jk ea eb jl ed ef hg bi translated">GitHub-rachderossi/data-analysis-R:用R做的项目。</h2><div class="jm l"><h3 class="bd b fi z dy jk ea eb jl ed ef dx translated">该数据集包含约2，240名联系过的客户的社会人口统计和公司地理特征…</h3></div><div class="jn l"><p class="bd b fp z dy jk ea eb jl ed ef dx translated">github.com</p></div></div><div class="jo l"><div class="jp l jq jr js jo jt ju jf"/></div></div></a></div></div><div class="ab cl jv jw go jx" role="separator"><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka"/></div><div class="ha hb hc hd he"><p id="0fcb" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">一种新的创新产品即将推出，这种产品将帮助人们通过智能手机获得银行服务。目标是在巴西最没有烧烤的城市中转化1000名顾客。</p><p id="b77f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">确定活动城市的行动:</p><ol class=""><li id="b785" class="kc kd hh ig b ih ii il im ip ke it kf ix kg jb kh ki kj kk bi translated">根据银行业水平对巴西城市进行分类。</li><li id="9096" class="kc kd hh ig b ih kl il km ip kn it ko ix kp jb kh ki kj kk bi translated">估计每个城市转化的客户数量。</li></ol><p id="f4c3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">最终数据库应包含:</p><ul class=""><li id="c99e" class="kc kd hh ig b ih ii il im ip ke it kf ix kg jb kq ki kj kk bi translated">城市名称</li><li id="68ff" class="kc kd hh ig b ih kl il km ip kn it ko ix kp jb kq ki kj kk bi translated">状态</li><li id="89fc" class="kc kd hh ig b ih kl il km ip kn it ko ix kp jb kq ki kj kk bi translated">人口</li><li id="d30d" class="kc kd hh ig b ih kl il km ip kn it ko ix kp jb kq ki kj kk bi translated">银行业水平</li><li id="72f6" class="kc kd hh ig b ih kl il km ip kn it ko ix kp jb kq ki kj kk bi translated">转化的客户</li></ul><figure class="ks kt ku kv fd kw er es paragraph-image"><div class="er es kr"><img src="../Images/cefece3e73b99637fc4af10ffe0b1175.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*Sji541aBkIGiNhA1QUIC9w.gif"/></div><figcaption class="ky kz et er es la lb bd b be z dx translated">我知道罗斯，有很多事要做！！</figcaption></figure><p id="44d9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我在R中创建了一个名为join_table的文件，在这个文件中，我连接了按自治市分组的POSTOS、PAE、AGENCIES数据库，以便在一个表中包含分行数量+服务点数量+电子服务点数量的总和。</p><pre class="ks kt ku kv fd lc ld le bn lf lg bi"><span id="0f8e" class="lh li hh ld b be lj lk l ll lm"># group by municipio<br/>library(dplyr)<br/>tabela_eletronico &lt;- dados_eletronico %&gt;%<br/>                     group_by(MUNICIPIO) %&gt;%<br/>                     count()<br/>tabela_postos &lt;- dados_postos %&gt;%<br/>                 group_by(MUNICIPIO) %&gt;%<br/>                 count()<br/>tabela_agencias &lt;- dados_agencias %&gt;%<br/>                   group_by(MUNICIPIO) %&gt;%<br/>                   count()<br/># join table<br/>library(data.table)<br/>nova_tabela &lt;- rbindlist(list(tabela_agencias,tabela_eletronico,<br/>               tabela_postos), fill = FALSE) <br/>tabela_final &lt;- aggregate(. ~MUNICIPIO, data = nova_tabela,<br/>                 FUN = sum)<br/><br/># transform into excel file<br/>library(xlsx)<br/>write.xlsx(tabela_final, "freq_municipio.xls")</span></pre><p id="4925" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我在R中创建了另一个名为bank_level的文件，在那里我加入了按自治市分组的freq_municipio、pop和IDHM数据库。在进行分组之前，我必须将所有的城市用大写字母标出，并且不带重音符号，因为基数来自不同的地方，所以我必须将一切标准化。</p><pre class="ks kt ku kv fd lc ld le bn lf lg bi"><span id="639c" class="lh li hh ld b be lj lk l ll lm">library(tidyverse)<br/>library(magrittr)<br/><br/># convert to uppercase<br/>populacao %&lt;&gt;% <br/>mutate_if(is.character, toupper)<br/>IDHM %&lt;&gt;% <br/>mutate_if(is.character, toupper)<br/><br/># function to remove string accents<br/>RemoveAcentos &lt;- function(textoComAcentos) {<br/> <br/> if(!is.character(textoComAcentos)){<br/> on.exit()<br/> }<br/> <br/> letrasComAcentos &lt;- "áéíóúÁÉÍÓÚýÝàèìòùÀÈÌÒÙâêîôûÂÊÎÔÛãõÃÕñÑäëïöüÄËÏÖÜÿçÇ´`^~¨"<br/> <br/> letrasSemAcentos &lt;- "aeiouAEIOUyYaeiouAEIOUaeiouAEIOUaoAOnNaeiouAEIOUycC "<br/> <br/> textoSemAcentos &lt;- chartr(<br/> old = letrasComAcentos,<br/> new = letrasSemAcentos,<br/> x = textoComAcentos<br/> )<br/>return(textoSemAcentos)<br/>}<br/><br/># drop accents<br/>populacao %&lt;&gt;% <br/>mutate_if(is.character, RemoveAcentos)<br/>IDHM %&lt;&gt;% <br/>mutate_if(is.character, RemoveAcentos)</span></pre><p id="cb2e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">分组后，我创建了一个名为银行级别的新变量，然后创建了一个包含变量的表:自治市、州、人口、银行级别和IDHM。最后，我选择了1000个最没有烧烤的城市，并按升序排列。</p><pre class="ks kt ku kv fd lc ld le bn lf lg bi"><span id="2525" class="lh li hh ld b be lj lk l ll lm"># join databases through common municipalities<br/>nova_tabela&lt;- inner_join(freq_municipio,populacao,<br/>              IDHM,by="MUNICIPIO")<br/><br/># creating banking level<br/>nivel_bancarizacao = (nova_tabela$n)/(nova_tabela$POPULACAO)<br/>round(nivel_bancarizacao, digits = 5)<br/>nivel_bancarizacao &lt;- data.table(MUNICIPIO = nova_tabela$MUNICIPIO,<br/>                                 ESTADO = nova_tabela$ESTADO,<br/>                                 POPULACAO =nova_tabela$POPULACAO,<br/>                                 BANCARIZACAO = nivel_bancarizacao,<br/>                                 IDHM = IDHM$IDHM)<br/><br/># selecting the 1000 most unbanked cities<br/>tabela_final &lt;- arrange(nivel_bancarizacao,sort(BANCARIZACAO))<br/>tabela_final[order(tabela_final)]<br/>cidades &lt;- tabela_final[1:1000,]<br/># transform into excel file<br/>write.xlsx(cidades, "nivel_bancarizacao.xls")</span></pre><p id="cb1c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">R中最后一个名为prob_inbound的文件使用了bank_level表，该表包含了了解转换概率所需的所有变量。在我为后付费手机创建了州电话密度变量、城市人口调整系数和转换概率(百分比)之后。</p><pre class="ks kt ku kv fd lc ld le bn lf lg bi"><span id="dccf" class="lh li hh ld b be lj lk l ll lm"># state teledensity of postpaid cell phones<br/>teledensidade_estad &lt;- (nivel_bancarizacao$POS_PAGOS)/<br/>                       (nivel_bancarizacao$POPULACAO)<br/>round(teledensidade_estad, digits = 4)<br/><br/># municipal population adjustment coefficient<br/>CP &lt;- ifelse(nivel_bancarizacao$POPULACAO &lt; 5000, 5,<br/>             ifelse(nivel_bancarizacao$POPULACAO &gt; 5000 &amp; nivel_bancarizacao$POPULACAO &lt;20000, 10,<br/>                    ifelse(nivel_bancarizacao$POPULACAO &gt; 20000 &amp; nivel_bancarizacao$POPULACAO &lt;100000, 15,<br/>                           ifelse(nivel_bancarizacao$POPULACAO &gt; 100000 &amp; nivel_bancarizacao$POPULACAO &lt;500000, 20,<br/>                                  ifelse(nivel_bancarizacao$POPULACAO &gt; 500000, 25, NA)))))<br/><br/># conversion probability (in percent)<br/>prob_conversao &lt;- (nivel_bancarizacao$IDHM^CP)*(teledensidade_estad/1.5)*100</span></pre><p id="bff9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">最后，我创建了感兴趣的变量，即转化客户的数量，创建了一个表，其中包含:自治市、州、人口、银行级别和转化客户。</p><pre class="ks kt ku kv fd lc ld le bn lf lg bi"><span id="bb25" class="lh li hh ld b be lj lk l ll lm"># number of converted customers<br/>clientes_conv &lt;- (nivel_bancarizacao$POPULACAO*prob_conversao)/100<br/>round(clientes_conv, digits = 1)<br/>clientes_conv &lt;- data.table(MUNICIPIO = nivel_bancarizacao$MUNICIPIO,<br/>                            ESTADO = nivel_bancarizacao$ESTADO,<br/>                            POPULACAO =nivel_bancarizacao$POPULACAO,<br/>                            NIVEL_BANCARIZACAO = nivel_bancarizacao$BANCARIZACAO,<br/>                            CLIENTES_CONVERTIDOS = clientes_conv)</span></pre><p id="1777" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">名为entrega.final的Excel表包含实现目标所需的最少城市数列表以及每个城市的信息。</p><figure class="ks kt ku kv fd kw er es paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="er es ln"><img src="../Images/8cfc5f0d8321eab714dce020299dde00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EcdtKG9Jq5i39RGo_BR_gg.png"/></div></div></figure><figure class="ks kt ku kv fd kw er es paragraph-image"><div class="er es kr"><img src="../Images/31fdf5ed51d6111d1a22643e62942c17.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*5jWFDi2H08MmmqCyiRHmdg.gif"/></div></figure><p id="a140" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这个项目做起来很有趣，因为除了标准化变量和创建新的变量来解决问题之外，我还必须处理多个表。我希望你喜欢，看你对我的下一个故事！</p></div></div>    
</body>
</html>