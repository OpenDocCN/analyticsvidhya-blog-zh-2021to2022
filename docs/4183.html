<html>
<head>
<title>Predicting Material Backorders in Inventory Management</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">库存管理中的物料延期交货预测</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/predicting-material-backorders-in-inventory-management-90e4d0ece6ba?source=collection_archive---------7-----------------------#2021-09-06">https://medium.com/analytics-vidhya/predicting-material-backorders-in-inventory-management-90e4d0ece6ba?source=collection_archive---------7-----------------------#2021-09-06</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/25be6bab6a169d42d6529499df0520da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VISOlgWEyN3Evrs9R0Jf0g.jpeg"/></div></div></figure><p id="6c91" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这是我的案例研究和我在2017年IEEE会议上发表的研究论文的方法的预演。这篇论文的作者考虑了Kaggle竞争对手的真实世界不平衡数据集<em class="jn">你能预测产品延期交货吗？。</em></p><p id="f995" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们将深入探讨如何在库存管理过程中最大限度地减少材料延期交货。但在此之前，让我们从理论角度了解一下什么是延期交货以及如何处理它们。下面是原始研究论文的链接。</p><div class="jo jp ez fb jq jr"><a href="https://www.researchgate.net/publication/319553365_Predicting_Material_Backorders_in_Inventory_Management_using_Machine_Learning" rel="noopener  ugc nofollow" target="_blank"><div class="js ab dw"><div class="jt ab ju cl cj jv"><h2 class="bd hi fi z dy jw ea eb jx ed ef hg bi translated">(PDF)使用机器学习预测库存管理中的材料延期交货</h2><div class="jy l"><h3 class="bd b fi z dy jw ea eb jx ed ef dx translated">物料延期交货是一个常见的供应链问题，影响库存系统的服务水平和效率…</h3></div><div class="jz l"><p class="bd b fp z dy jw ea eb jx ed ef dx translated">www.researchgate.net</p></div></div><div class="ka l"><div class="kb l kc kd ke ka kf in jr"/></div></div></a></div><h1 id="d54a" class="kg kh hh bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">什么是延期交货？</h1><p id="4ffc" class="pw-post-body-paragraph ip iq hh ir b is le iu iv iw lf iy iz ja lg jc jd je lh jg jh ji li jk jl jm ha bi translated">为供应商暂时缺货的产品下的订单。延期交货表示对特定产品或服务的需求大于供应。</p><p id="7d13" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">不要将延期交货与“缺货”相混淆。在“缺货”的情况下，产品的供应或生产可能是不确定的。另一方面，延期交货是针对计划生产中的产品，这些产品由于多种因素遇到了延迟。</p><p id="06e4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在本案例研究中，我们将详细探讨这些因素，并了解哪些因素是导致产品延期交货的最重要原因。</p><h1 id="a696" class="kg kh hh bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">延期交货的一般原因是什么？</h1><p id="6a26" class="pw-post-body-paragraph ip iq hh ir b is le iu iv iw lf iy iz ja lg jc jd je lh jg jh ji li jk jl jm ha bi translated">延期交货对公司来说本质上不是坏事。这真的取决于库存和订单管理。延期交货的一些一般原因如下。</p><ul class=""><li id="a518" class="lj lk hh ir b is it iw ix ja ll je lm ji ln jm lo lp lq lr bi translated">订单未及时发出</li><li id="1b9a" class="lj lk hh ir b is ls iw lt ja lu je lv ji lw jm lo lp lq lr bi translated">仓库差异</li><li id="50ad" class="lj lk hh ir b is ls iw lt ja lu je lv ji lw jm lo lp lq lr bi translated">人为误差</li><li id="31be" class="lj lk hh ir b is ls iw lt ja lu je lv ji lw jm lo lp lq lr bi translated">工厂短缺</li><li id="7a1b" class="lj lk hh ir b is ls iw lt ja lu je lv ji lw jm lo lp lq lr bi translated">不准确的订购点</li><li id="cfe5" class="lj lk hh ir b is ls iw lt ja lu je lv ji lw jm lo lp lq lr bi translated">异常需求</li><li id="3f5d" class="lj lk hh ir b is ls iw lt ja lu je lv ji lw jm lo lp lq lr bi translated">客户便利</li></ul><h1 id="fdd6" class="kg kh hh bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated"><strong class="ak">这个项目的目标是什么？</strong></h1><p id="af0d" class="pw-post-body-paragraph ip iq hh ir b is le iu iv iw lf iy iz ja lg jc jd je lh jg jh ji li jk jl jm ha bi translated">该项目的目标是通过在事件发生前识别有延期交货风险的物料，最大限度地减少延期交货。这给了企业管理层一个适当的时间来做出反应并做出适当的改变。</p><h1 id="6707" class="kg kh hh bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">数据集和问题概述</h1><p id="1921" class="pw-post-body-paragraph ip iq hh ir b is le iu iv iw lf iy iz ja lg jc jd je lh jg jh ji li jk jl jm ha bi translated">这个问题的数据集有两个类，正类和负类。正类表示产品缺货，负类表示缺货。这使得该问题成为二元类分类问题。该数据是高度不平衡的，对于列车组，正类和负类的比率分别为1:148。大多数类别为负，即大多数产品没有延期交货。数据集有22个要素和1个类标签。下面列出了所有功能及其说明:</p><ul class=""><li id="b906" class="lj lk hh ir b is it iw ix ja ll je lm ji ln jm lo lp lq lr bi translated">sku:库存单位</li><li id="1696" class="lj lk hh ir b is ls iw lt ja lu je lv ji lw jm lo lp lq lr bi translated">national_inv:组件的当前库存水平</li><li id="80d2" class="lj lk hh ir b is ls iw lt ja lu je lv ji lw jm lo lp lq lr bi translated">提前期:登记的运输时间</li><li id="e43a" class="lj lk hh ir b is ls iw lt ja lu je lv ji lw jm lo lp lq lr bi translated">在途数量:在途数量</li><li id="08ba" class="lj lk hh ir b is ls iw lt ja lu je lv ji lw jm lo lp lq lr bi translated">forecast_3_month:预测未来3个月的销售额</li><li id="c707" class="lj lk hh ir b is ls iw lt ja lu je lv ji lw jm lo lp lq lr bi translated">forecast_6_month:预测未来6个月的销售额</li><li id="ad8a" class="lj lk hh ir b is ls iw lt ja lu je lv ji lw jm lo lp lq lr bi translated">forecast_9_month:预测未来9个月的销售额</li><li id="7290" class="lj lk hh ir b is ls iw lt ja lu je lv ji lw jm lo lp lq lr bi translated">sales_1_month:前一个月的销售数量</li><li id="3006" class="lj lk hh ir b is ls iw lt ja lu je lv ji lw jm lo lp lq lr bi translated">sales_3_month:前3个月的销售数量</li><li id="d52d" class="lj lk hh ir b is ls iw lt ja lu je lv ji lw jm lo lp lq lr bi translated">sales_6_month:前6个月的销售数量</li><li id="ac20" class="lj lk hh ir b is ls iw lt ja lu je lv ji lw jm lo lp lq lr bi translated">sales_9_month:前9个月的销售数量</li><li id="2942" class="lj lk hh ir b is ls iw lt ja lu je lv ji lw jm lo lp lq lr bi translated">min_bank:库存的最小建议数量</li><li id="4663" class="lj lk hh ir b is ls iw lt ja lu je lv ji lw jm lo lp lq lr bi translated">potential_issue:指示变量，指出项目的潜在问题</li><li id="ee00" class="lj lk hh ir b is ls iw lt ja lu je lv ji lw jm lo lp lq lr bi translated">pieces_past_due:来源中过期的零件</li><li id="70d6" class="lj lk hh ir b is ls iw lt ja lu je lv ji lw jm lo lp lq lr bi translated">perf_6_month_avg:过去6个月的来源业绩</li><li id="7a01" class="lj lk hh ir b is ls iw lt ja lu je lv ji lw jm lo lp lq lr bi translated">perf_12_month_avg:过去12个月的来源业绩</li><li id="e4ec" class="lj lk hh ir b is ls iw lt ja lu je lv ji lw jm lo lp lq lr bi translated">local_bo_qty:库存订单逾期金额</li><li id="7bfe" class="lj lk hh ir b is ls iw lt ja lu je lv ji lw jm lo lp lq lr bi translated">deck_risk:一般风险标志</li><li id="af8a" class="lj lk hh ir b is ls iw lt ja lu je lv ji lw jm lo lp lq lr bi translated">oe_constraint:一般风险标志</li><li id="231a" class="lj lk hh ir b is ls iw lt ja lu je lv ji lw jm lo lp lq lr bi translated">ppap_risk:一般风险标志</li><li id="3394" class="lj lk hh ir b is ls iw lt ja lu je lv ji lw jm lo lp lq lr bi translated">stop_auto_buy:一般风险标志</li><li id="8075" class="lj lk hh ir b is ls iw lt ja lu je lv ji lw jm lo lp lq lr bi translated">rev_stop:一般风险标志</li><li id="4edb" class="lj lk hh ir b is ls iw lt ja lu je lv ji lw jm lo lp lq lr bi translated">延期交货:产品延期交货</li></ul><p id="7c56" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">以下是数据集的链接:</p><div class="jo jp ez fb jq jr"><a href="https://github.com/rodrigosantis1/backorder_prediction/blob/master/dataset.rar" rel="noopener  ugc nofollow" target="_blank"><div class="js ab dw"><div class="jt ab ju cl cj jv"><h2 class="bd hi fi z dy jw ea eb jx ed ef hg bi translated">主Rodrigo santi 1/back order _ prediction处的back order _ prediction/dataset . rar</h2><div class="jy l"><h3 class="bd b fi z dy jw ea eb jx ed ef dx translated">库存管理环境下的延期交货预测。-补充订单_预测/数据集. rar在主…</h3></div><div class="jz l"><p class="bd b fp z dy jw ea eb jx ed ef dx translated">github.com</p></div></div><div class="ka l"><div class="lx l kc kd ke ka kf in jr"/></div></div></a></div><h1 id="4fda" class="kg kh hh bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">现有解决方案</h1><ol class=""><li id="2ec8" class="lj lk hh ir b is le iw lf ja ly je lz ji ma jm mb lp lq lr bi translated"><em class="jn">原始研究论文— (PDF)使用机器学习预测库存管理中的材料延期交货:</em> <br/>本文在拟合模型之前采用了各种欠采样、过采样技术来抑制不平衡数据集问题。我们看到，逻辑回归性能最低，而梯度推进决策树性能最高。在拟合模型之前使用的一些采样技术是随机欠采样(RUS)和合成少数过采样技术(SMOTE)。除了这些模型之外，集成学习的一个特例已经被采用，它是随机采样和集成模型的组合。这被称为Blagging，并且该模型的性能非常接近梯度增强模型。</li><li id="1e0b" class="lj lk hh ir b is ls iw lt ja lu je lv ji lw jm mb lp lq lr bi translated"><em class="jn">Srinivasa Raja的延期交货预测| Analytics Vidhya: </em> <br/>作者遵循的方法与<br/>原始研究论文的方法非常相似。除了RUS或SMOTE，博客还展示了<br/>其他采样技术，如自适应合成采样<br/> (ADASYN)、未遂欠采样、Tomek链接等等。在拟合模型之前，一些<br/>特征工程技术，如对数变换和标准化<br/>已经应用于数据。除了<br/> AUC之外，宏观F1分数也被考虑作为评估指标<br/>，因为数据中存在类别不平衡。<a class="ae mc" rel="noopener" href="/analytics-vidhya/backorder-prediction-d4f1c5362f18">https://medium . com/analytics-vid hya/back order-prediction-d4f1c 5362 f 18</a></li><li id="1793" class="lj lk hh ir b is ls iw lt ja lu je lv ji lw jm mb lp lq lr bi translated"><em class="jn">使用分布式随机森林和梯度推进机<br/>预测供应链中可能的缺货情况<br/>学习技术—大数据杂志:</em> <br/>他们使用了来自H2O.ai的分布式随机森林(DRF)和梯度推进机(GBM)算法<br/>。随机森林<br/>模型被选为基线模型，梯度推进是第二个模型<br/>。选择AUC和混淆矩阵作为模型的<br/>评估指标。在拟合H2O模型之前，应用RUS和<br/> SMOTE等采样技术。<a class="ae mc" href="https://journalofbigdata.springeropen.com/articles/10.1186/s40537-020-00345-2" rel="noopener ugc nofollow" target="_blank">https://journalofbigdata . springer open . com/articles/10.1186/s 40537-020-00345-2</a></li><li id="00c8" class="lj lk hh ir b is ls iw lt ja lu je lv ji lw jm mb lp lq lr bi translated"><em class="jn">使用深度神经网络对不平衡数据进行产品延期交货预测:</em> <br/>从现有的概述来看，现在很明显，我们可以使用神经网络，尤其是全连接网络，结合相同的采样技术，如RUS和SMOTE，来预测延期交货。该博客指出，深度学习模型在标准评估指标方面优于一些著名的分类模型。<a class="ae mc" href="https://www.tandfonline.com/doi/full/10.1080/00207543.2021.1901153?scroll=top&amp;needAccess=true" rel="noopener ugc nofollow" target="_blank">https://www . tandfonline . com/doi/full/10.1080/00207543 . 21 . 1901153？scroll = top&amp;need access = true</a></li></ol><h1 id="55db" class="kg kh hh bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">应该使用哪些性能指标？</h1><p id="9ba6" class="pw-post-body-paragraph ip iq hh ir b is le iu iv iw lf iy iz ja lg jc jd je lh jg jh ji li jk jl jm ha bi translated">在本案例研究中，我们将使用准确性。但是，我们知道，对于高度不平衡的数据集，精确度并不是一个好的衡量标准。因此，我们将采用额外的指标，如AUC曲线，它是专门为二元类分类设计的。为了更好地理解模型预测，我们还将使用混淆矩阵以及精度和召回。</p><h1 id="2fbf" class="kg kh hh bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">探索性数据分析</h1><p id="f823" class="pw-post-body-paragraph ip iq hh ir b is le iu iv iw lf iy iz ja lg jc jd je lh jg jh ji li jk jl jm ha bi translated">我们得到了一个已经分成训练集和测试集的数据集。训练集由1，687，860个数据点组成，测试集由242，075个数据点组成。两个数据集都有23个要素，其中<em class="jn">是目标标注。</em></p><p id="f720" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">特征<em class="jn"> sku </em>是标识符，因此必须从数据集中删除。在其他21个特征中(不包括类别标签<em class="jn">去了缺货</em>，我们看到其中15个是数字的，6个是分类的。所有的分类特征要么有<em class="jn">是</em>要么有<em class="jn">否</em>，这表明它们本质上是二元的。数字特征包括<em class="jn">国家库存、提前期、在途数量、预测3个月、预测6个月、预测9个月、销售1个月、销售3个月、销售6个月、销售9个月、最小银行、过期件数、绩效6个月平均、绩效12个月平均、本地业务数量</em>，分类特征包括<em class="jn">潜在问题、甲板风险、oe约束、ppap</em></p><p id="a55e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">此外，我们看到特性<em class="jn"> lead_time </em>是唯一一个缺少值的特性。训练集中<em class="jn">提前期</em>特征的空值百分比为5.98%。此外，每个要素的最后一行都有空值，因此可以删除，因为删除一行不会对整体造成任何影响。</p><p id="f43a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">从关于类别标签的每个特征的单变量分析中，我们看到大多数数字特征高度偏向积极的一面。</p><figure class="me mf mg mh fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es md"><img src="../Images/6915a4485c62fa5bff7a1d7c86e17bde.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bmlr0tK6kFDJHEEgTesbEQ.jpeg"/></div></div><figcaption class="mi mj et er es mk ml bd b be z dx translated">国家_库存、提前期和在途_数量的pdf</figcaption></figure><p id="dd8c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">从上面的图中我们看到<em class="jn">在途数量</em>的分布与<em class="jn">国家库存</em>有点类似。这两个特征都是正偏的。</p><p id="1e50" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们知道<em class="jn">提前期</em>有缺失值，因此已经删除了它们并绘制了概率密度函数。我们看到<em class="jn">提前期</em>的PDF也显示正偏度。</p><figure class="me mf mg mh fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mm"><img src="../Images/004436b9dee63f8ed01fba3b1a475643.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4IWiIyTNueD0KRqMtwh5NA.png"/></div></div><figcaption class="mi mj et er es mk ml bd b be z dx translated">所有预测功能的条形图</figcaption></figure><figure class="me mf mg mh fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mn"><img src="../Images/97528e1f023b194da4622126df7b37cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mm4GB2UPUZWb2-AIM9xLGQ.png"/></div></div><figcaption class="mi mj et er es mk ml bd b be z dx translated">所有预测功能的小提琴图</figcaption></figure><p id="4419" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">柱状图代表集中趋势的估计值(在这种情况下为平均值)。因此，从这组柱状图来看，我们可以说，在3、6和9个月的时间跨度内，正类的平均预测销售额整体下降，而负类的平均预测销售额似乎保持不变。</p><p id="7629" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">为了理解分布和iqr，我们绘制了箱线图和小提琴图<em class="jn">(小提琴图如上所示)</em>。我们看到iqr不是清晰可见的。而且有很多异常值，特别是对于所有3个特征的负类。异常值的预测范围似乎只会在未来几个月扩大。随着订单数量的增加，这是意料之中的。此外，我们看到所有三个特征的分布是相似的，所有特征都是非常正的偏斜。我们可以假设位于尾部的数据点实际上可能不是异常值。这种趋势在所有的数字特征中都可以观察到。</p><figure class="me mf mg mh fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mo"><img src="../Images/a02b486887414efebe6979ecac8c9138.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qH8H4_I1SZ3iof5wwHZRFg.png"/></div></div><figcaption class="mi mj et er es mk ml bd b be z dx translated">没有异常值的所有销售特征的计数图</figcaption></figure><p id="b925" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">当我们查看销售功能时，我们看到pdf、箱线图和小提琴图与预测功能非常相似。为了更好地理解数据，我们删除了所有四个销售特征的整个第四季度，并分别绘制了计数图。我们很快发现，在之前的几个月中，有很多产品没有售出。对于特性<em class="jn"> sales_1_month </em>，至少售出一个单位的数据点比至少售出三个单位的数据点多。对于所有其他销售特征来说，这是真实的扩展版本，即，至少售出一个单位的数据点比至少售出三个或更多单位的数据点更多。</p><figure class="me mf mg mh fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mp"><img src="../Images/84b7901c027ff770d9b81db6c892780e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e3lPIA53o79fL-iCHs_Jew.png"/></div></div><figcaption class="mi mj et er es mk ml bd b be z dx translated">无异常值的min_back计数图</figcaption></figure><p id="dac4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">从<em class="jn"> min_back </em>的计数图中，我们可以推断出大部分值趋向于零，只有极少数数据点的<em class="jn"> min_bank </em>值为三或更大。</p><p id="8ad5" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">此外，功能<em class="jn"> pieces_past_due </em>和<em class="jn"> local_bo_qty </em>与<em class="jn"> national_inv非常相似。</em>pdf和箱形图显示，它们的分布也像早期特征一样是偏斜的。</p><figure class="me mf mg mh fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mq"><img src="../Images/7f743f22d4a4596bf60f14f34b41900b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c5mmQK0v75vgUKFH-rQTCQ.png"/></div></div><figcaption class="mi mj et er es mk ml bd b be z dx translated">表现月平均特征的箱线图和小提琴图</figcaption></figure><p id="2eb0" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">从上图我们可以看到两个特征<em class="jn"> perf_6_month_avg </em>和<em class="jn"> perf_12_month_avg </em>的pdf非常相似。我们在标尺的第零点周围看到两个特征的类似高斯分布。然而，曲线极度向负轴延伸，表示负偏斜。从柱状图中，我们可以看到，对于延期交货的订单，6个月和12个月的平均来源绩效约为-3，对于未延期交货的订单，平均来源绩效约为-6至-7。箱线图和小提琴图也表明分布呈负偏态，两个类别都有一些异常值。<em class="jn"> perf_6_month_avg </em>和<em class="jn"> perf_12_month_avg </em>的中值分别为0.82和0.81，对于这两个特性，90%的点小于0.99。</p><figure class="me mf mg mh fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mr"><img src="../Images/5d8ab266264828644115b7ce8989b4bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tFZAgbzwdMroOLhwpQsrgw.jpeg"/></div></div><figcaption class="mi mj et er es mk ml bd b be z dx translated">所有一般风险标志的计数图</figcaption></figure><p id="ac95" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">从上面的计数图中，我们清楚地看到带有风险标志<em class="jn"> oe_constraint </em>和<em class="jn"> rev_stop </em>的数据点数量非常少。有相当数量的数据点的<em class="jn"> deck_risk </em>为<em class="jn"> Yes </em>并且有相当数量的数据点的<em class="jn"> ppap_risk </em>和<em class="jn"> stop_auto_buy </em>为<em class="jn"> Yes </em>。大多数数据点在训练集中没有任何风险标志。</p><h1 id="2cc5" class="kg kh hh bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">斯皮尔曼等级相关系数</h1><figure class="me mf mg mh fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ms"><img src="../Images/5240d84e8618ef3a21eb7778918ffc72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t5rCctBeDTg5NByNK-7UKg.jpeg"/></div></div><figcaption class="mi mj et er es mk ml bd b be z dx translated">斯皮尔曼等级相关系数</figcaption></figure><p id="cf5b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">从上面的热图中，我们看到<em class="jn">在途数量</em>、<em class="jn">预测_ 3 _月</em>、<em class="jn">预测_ 6 _月、预测_ 9 _月、销售_ 1 _月、销售_ 3 _月、销售_ 6 _月</em>、<em class="jn">销售_ 9 _月</em>和<em class="jn"> min_bank </em>的相关性很高。其中<em class="jn"> forecast_3_month、forecast_6_month </em>和<em class="jn"> forecast_9_month </em>三者之间的关联度比其余的更大。类似地，<em class="jn">销售_ 1 _月</em>、<em class="jn">销售_ 3 _月</em>、<em class="jn">销售_ 6 _月</em>和<em class="jn">销售_ 9 _月</em>比任何其他特征彼此更相关。我们还看到<em class="jn"> perf_6_month_avg </em>和<em class="jn"> perf_12_month_avg </em>彼此高度相关。</p><h1 id="1ea9" class="kg kh hh bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">数值特征的Kolmogorov-Smirnov检验</h1><p id="3936" class="pw-post-body-paragraph ip iq hh ir b is le iu iv iw lf iy iz ja lg jc jd je lh jg jh ji li jk jl jm ha bi translated">我们使用KS测试来了解数字特征和目标标签之间的相关性。Kolmogorov–Smirnov统计量量化了样本的经验分布函数和参考分布的累积分布函数之间的距离，或者两个样本的经验分布函数之间的距离。</p><figure class="me mf mg mh fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mt"><img src="../Images/ac9ea7d0a060cb93e5e36db778c112de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I9MDN0I8yDpy5dHX-ieprA.png"/></div></div><figcaption class="mi mj et er es mk ml bd b be z dx translated">所有数字特征的KS测试结果</figcaption></figure><figure class="me mf mg mh fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mu"><img src="../Images/e57fb97dbe4747123759ffc5a6eb0ce3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kT2ljQ2HqhvTP8k8VMJZGA.jpeg"/></div></div><figcaption class="mi mj et er es mk ml bd b be z dx translated">KS-数字特征测试</figcaption></figure><p id="628c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们可以看到，大多数特征在0处具有非常高数量的数据点。从所有数值特征的ks检验中，我们可以说大多数特征没有很好的p值，因此我们必须拒绝零假设。因此，这些分布并不相似，也没有显示出与目标变量的相关性。然而，一些特征如<em class="jn">提前期</em>、<em class="jn">绩效_ 6 _月_平均</em>、<em class="jn">绩效_ 12 _月_平均</em>显示出与目标变量足够好的相关性。</p><h1 id="3d42" class="kg kh hh bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">分类特征的随机/概率矩阵</h1><figure class="me mf mg mh fd ii"><div class="bz dy l di"><div class="mv mw l"/></div><figcaption class="mi mj et er es mk ml bd b be z dx translated">计算潜在问题的概率矩阵</figcaption></figure><figure class="me mf mg mh fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mx"><img src="../Images/89373bc2cac0ce0c40ab57fcad36cccb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2HKQjhV6VM80TVQvLjkQvQ.jpeg"/></div></div><figcaption class="mi mj et er es mk ml bd b be z dx translated">所有分类特征的概率矩阵</figcaption></figure><p id="d72c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">从上述所有分类特征的概率矩阵集合中，我们可以看到，当产品没有延期交货时，这些分类特征中的大多数都有很高的概率具有否定标志。因此，我们可以说，当一种产品没有进入延期交货时，大多数一般风险标志都是负的。</p><h1 id="3785" class="kg kh hh bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">主成分分析</h1><figure class="me mf mg mh fd ii"><div class="bz dy l di"><div class="mv mw l"/></div><figcaption class="mi mj et er es mk ml bd b be z dx translated">PCA代码</figcaption></figure><figure class="me mf mg mh fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es my"><img src="../Images/3087c164dd04419d9abeea9888bcf6df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G-zPyL6xpYTs9VBIUypEsg.png"/></div></div><figcaption class="mi mj et er es mk ml bd b be z dx translated">主成分图</figcaption></figure><p id="77bc" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们使用了降维技术，在这种情况下，主成分分析捕捉数据的本质。从上面的图中，我们看到大多数数据点位于0旁边。这个推论是正确的，因为我们在EDA中已经看到了许多值大多为0的特性。数据中存在异常值，但这些数据点本身并不一定是异常值。</p><p id="5181" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">此外，与正面类别相比，这些潜在的异常值更多地属于负面类别。并且，对于正类，几乎所有的数据点都位于0旁边。</p><h1 id="dc3f" class="kg kh hh bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">特征工程</h1><p id="c095" class="pw-post-body-paragraph ip iq hh ir b is le iu iv iw lf iy iz ja lg jc jd je lh jg jh ji li jk jl jm ha bi translated">由于特征<em class="jn">提前期</em>中有缺失值，我们进行了均值插补。此外，我们看到特征pieces_past_due和local_bo_quantity有超过95%的值为0。因此，作为一个特征工程过程，我们增加了额外的特征，显示两个特征中的每个数据点是零还是非零。</p><figure class="me mf mg mh fd ii"><div class="bz dy l di"><div class="mv mw l"/></div></figure><p id="3c88" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">除了这些特征之外，我们已经用来自概率矩阵的概率估算了所有的分类特征。我们只考虑了零类概率，并估算了所有特征的值。</p><figure class="me mf mg mh fd ii"><div class="bz dy l di"><div class="mv mw l"/></div><figcaption class="mi mj et er es mk ml bd b be z dx translated">从概率矩阵中输入概率的代码</figcaption></figure><p id="afff" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们已经为训练和测试数据集执行了所有上述特征工程技术。最终数据的形状为:定型集1687860行× 24列，测试集242075行× 24列。</p><h1 id="0cdb" class="kg kh hh bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">建立模型和评估</h1><p id="5cef" class="pw-post-body-paragraph ip iq hh ir b is le iu iv iw lf iy iz ja lg jc jd je lh jg jh ji li jk jl jm ha bi translated">在这种方法中，我们不会使用我们在原始研究论文和一些现有解决方案中使用的任何采样技术。这背后的想法不是通过添加合成数据点来破坏数据，也不是减少模型数据集的大小。因此，为了抑制不平衡数据集的问题，我们使用类权重。</p><p id="9e4a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">作为基线模型，我选择了使用scikit-learn的GridSearchCV进行超参数调整的逻辑回归。被调整的参数是<em class="jn">惩罚</em>和<em class="jn">学习率</em>。我已经建立了最好的逻辑回归模型，学习率为0.001，L1惩罚。在测试集上达到的准确度分数是0.798，而在相同测试集上的AUC是0.809。</p><p id="6516" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在这个案例研究中，我尝试了四个机器学习模型，包括具有平衡类权重的基线逻辑回归模型。已经进行了超参数调整，以充分利用每个模型。像网格搜索和随机搜索这样的技术已经被用来执行调谐。</p><figure class="me mf mg mh fd ii"><div class="bz dy l di"><div class="mv mw l"/></div><figcaption class="mi mj et er es mk ml bd b be z dx translated">使用超参数调整构建随机森林模型的代码</figcaption></figure><p id="a457" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们观察到基于树的模型比线性模型表现得更好。请查看下面关于所有四种模型(即逻辑回归、决策树、随机森林和梯度推进决策树)的所有指标的摘要。</p><figure class="me mf mg mh fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mz"><img src="../Images/019143a9f2834693bb98658f7cf71473.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yAe9nSLiYAr87t3-6NgZnQ.png"/></div></div><figcaption class="mi mj et er es mk ml bd b be z dx translated">所有4个模型的训练和测试的AUC</figcaption></figure><figure class="me mf mg mh fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es na"><img src="../Images/88275e3e2031544b12641dff36f0a876.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fFHaGz9ZvJy6GG-pphN-SA.png"/></div></div><figcaption class="mi mj et er es mk ml bd b be z dx translated">所有4种型号的总结</figcaption></figure><p id="8c60" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">从上述AUC图和总结来看，Random Forest是表现最好的模型，其AUC为92.6，非常接近原始研究论文作者获得的AUC (94.7)。我们能够在没有研究论文中使用的任何过采样或欠采样技术的情况下获得这一分数。相反，随机森林模型使用平衡子样本作为类别权重来抑制不平衡数据问题。</p><p id="ba8b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">最佳模型的准确度分数是93.8，这与逻辑回归和决策树相比是好的。然而，梯度增强决策树模型具有最高的准确性。我们没有使用这个模型，因为我们已经确定，当涉及到高度不平衡的数据时，准确性不是最好的衡量标准。</p><h1 id="6c12" class="kg kh hh bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">使用Streamlit在AWS上部署</h1><figure class="me mf mg mh fd ii"><div class="bz dy l di"><div class="mv mw l"/></div><figcaption class="mi mj et er es mk ml bd b be z dx translated">app.py的代码</figcaption></figure><p id="a302" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">最终确定模型后，我使用Streamlit API将它部署在EC2实例上。您可以点击下面的链接查看该应用程序。</p><h2 id="12f7" class="nb kh hh bd ki nc nd ne km nf ng nh kq ja ni nj ku je nk nl ky ji nm nn lc no bi translated">链接到streamlit应用:<a class="ae mc" href="http://34.238.245.11:8501/" rel="noopener ugc nofollow" target="_blank">http://34.238.245.11:8501/</a></h2><h1 id="694c" class="kg kh hh bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">未来的工作</h1><p id="3c92" class="pw-post-body-paragraph ip iq hh ir b is le iu iv iw lf iy iz ja lg jc jd je lh jg jh ji li jk jl jm ha bi translated">我们总是可以采用抽样技术来提高模型的性能。像SMOTE和ADASYN这样的技术已经被证明可以有效地抑制不平衡数据集问题。未来的工作包括使用其他机器学习模型，如支持向量机，甚至使用神经网络结合上述采样技术。</p><h2 id="8ba1" class="nb kh hh bd ki nc nd ne km nf ng nh kq ja ni nj ku je nk nl ky ji nm nn lc no bi translated">与本案例研究相关的所有代码都存放在我的GitHub个人资料中。</h2><div class="jo jp ez fb jq jr"><a href="https://github.com/pratyushmohit/backorder-prediction" rel="noopener  ugc nofollow" target="_blank"><div class="js ab dw"><div class="jt ab ju cl cj jv"><h2 class="bd hi fi z dy jw ea eb jx ed ef hg bi translated">GitHub-prayushmohit/延期交货-预测</h2><div class="jy l"><h3 class="bd b fi z dy jw ea eb jx ed ef dx translated">这是2017年IEEE大会上发表的一篇研究论文的案例研究…</h3></div><div class="jz l"><p class="bd b fp z dy jw ea eb jx ed ef dx translated">github.com</p></div></div><div class="ka l"><div class="np l kc kd ke ka kf in jr"/></div></div></a></div><h2 id="afef" class="nb kh hh bd ki nc nd ne km nf ng nh kq ja ni nj ku je nk nl ky ji nm nn lc no bi translated">通过我的LinkedIn个人资料联系我</h2><div class="jo jp ez fb jq jr"><a href="https://www.linkedin.com/in/pratyushmohit/" rel="noopener  ugc nofollow" target="_blank"><div class="js ab dw"><div class="jt ab ju cl cj jv"><h2 class="bd hi fi z dy jw ea eb jx ed ef hg bi translated">印度特伦甘纳邦prat yush Mohit-Hyderabad |职业简介| LinkedIn</h2><div class="jy l"><h3 class="bd b fi z dy jw ea eb jx ed ef dx translated">一个数据科学和机器学习的专业人士，有能力处理和解决现实世界的行业问题…</h3></div><div class="jz l"><p class="bd b fp z dy jw ea eb jx ed ef dx translated">www.linkedin.com</p></div></div><div class="ka l"><div class="nq l kc kd ke ka kf in jr"/></div></div></a></div><h1 id="0a7f" class="kg kh hh bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">参考</h1><ol class=""><li id="b44d" class="lj lk hh ir b is le iw lf ja ly je lz ji ma jm mb lp lq lr bi translated">https://www.appliedaicourse.com/<a class="ae mc" href="https://www.appliedaicourse.com/" rel="noopener ugc nofollow" target="_blank"/></li><li id="8d39" class="lj lk hh ir b is ls iw lt ja lu je lv ji lw jm mb lp lq lr bi translated"><a class="ae mc" href="https://www.researchgate.net/publication/319553365_Predicting_Material_Backorders_in_Inventory_Management_using_Machine_Learning" rel="noopener ugc nofollow" target="_blank">https://www . researchgate . net/publication/319553365 _ Predicting _ Material _ Backorders _ in _ Inventory _ Management _ using _ Machine _ Learning</a></li><li id="1137" class="lj lk hh ir b is ls iw lt ja lu je lv ji lw jm mb lp lq lr bi translated"><a class="ae mc" rel="noopener" href="/analytics-vidhya/backorder-prediction-d4f1c5362f18">https://medium . com/analytics-vid hya/back order-prediction-d4f1c 5362 f 18</a></li><li id="5300" class="lj lk hh ir b is ls iw lt ja lu je lv ji lw jm mb lp lq lr bi translated"><a class="ae mc" href="https://journalofbigdata.springeropen.com/articles/10.1186/s40537-020-00345-2" rel="noopener ugc nofollow" target="_blank">https://journalofbigdata . springer open . com/articles/10.1186/s 40537-020-00345-2</a></li><li id="552f" class="lj lk hh ir b is ls iw lt ja lu je lv ji lw jm mb lp lq lr bi translated"><a class="ae mc" href="https://www.tandfonline.com/doi/full/10.1080/00207543.2021.1901153?scroll=top&amp;needAccess=true" rel="noopener ugc nofollow" target="_blank">https://www . tandfonline . com/doi/full/10.1080/00207543 . 21 . 1901153？scroll = top&amp;need access = true</a></li></ol></div></div>    
</body>
</html>