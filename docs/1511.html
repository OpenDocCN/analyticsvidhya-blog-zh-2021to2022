<html>
<head>
<title>Mercari Price Suggestion Kaggle Challenge</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">麦卡利价格建议卡格尔挑战</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/mercari-price-suggestion-kaggle-challenge-ea49582af5b7?source=collection_archive---------6-----------------------#2021-03-05">https://medium.com/analytics-vidhya/mercari-price-suggestion-kaggle-challenge-ea49582af5b7?source=collection_archive---------6-----------------------#2021-03-05</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/dcc7f73da4524262de229ef5b6910d41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yLFjlrzffP4VivAfe2zN2Q.png"/></div></div></figure><p id="9e4f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Mercari是日本最大的社区购物应用，其办公室位于日本和美国。这样，我们可以期待一个基于日本或美国产品和客户数据的电子商务相关数据集。</p><h1 id="fdca" class="jn jo hh bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated"><strong class="ak">问题陈述:</strong></h1><p id="4151" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja kn jc jd je ko jg jh ji kp jk jl jm ha bi translated"><strong class="ir hi"> <em class="kq"> Mercari </em> </strong>想要向<strong class="ir hi">卖家</strong>提供定价建议，仅基于产品的描述和一些附加的分类属性。卖家提供各种不同品牌的新/二手产品。<br/>这些文件由产品列表组成。这些文件用制表符分隔。tsv文件)<br/> <strong class="ir hi"> train_id或test_id </strong> —列表的ID<br/><strong class="ir hi">name</strong>—列表的标题。请注意，我们已经清理了数据，删除了看起来像价格(例如$20)的文本，以避免泄漏。这些被删除的价格表示为[RM]<br/><strong class="ir hi">item _ Condition _ id</strong>—卖家提供的物品的条件<br/> <strong class="ir hi"> category_name </strong> —列表的类别<br/> <strong class="ir hi"> brand_name </strong> —品牌名称<br/> <strong class="ir hi"> price </strong> —物品的销售价格。这是你要预测的目标变量。单位是美元。这个列在test.tsv中不存在，因为这是您将要预测的。<br/> <strong class="ir hi">运费</strong> — 1如果运费由卖方支付，0由买方支付<br/> <strong class="ir hi">物品_描述</strong> —物品的完整描述。请注意，我们已经清理了数据，删除了看起来像价格(例如$20)的文本，以避免泄漏。这些删除的价格表示为[rm]</p><p id="a45c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">评价指标:</strong>均方根对数误差</p><figure class="ks kt ku kv fd ii er es paragraph-image"><div class="er es kr"><img src="../Images/e3798b98b24bfe9c47d0762e104d6534.png" data-original-src="https://miro.medium.com/v2/resize:fit:758/format:webp/1*yOE8xnCGy9mJifrFsxLrlg.png"/></div></figure><p id="74ca" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">其中:<br/> ϵ是RMSLE值(得分)<br/> n是(公共/私有)数据集中的观察总数，<br/> p_i是你对价格的预测，<br/> a_i是I的实际销售价格。<br/> log(x)是x的自然对数</p><p id="1e58" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">为什么要日志？</strong> <br/>如下图所示，价格分布向右倾斜，因此为了保持价格值之间良好的方差/分布，建议使用对数来预测价格值。因为log(0)是未定义的，所以我们给所有的值加1。</p><figure class="ks kt ku kv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kw"><img src="../Images/2c2052efc33bbb8bd4f51b0f5052300c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R86LKCnvfLzAXnTGxdzcMA.png"/></div></div><figcaption class="kx ky et er es kz la bd b be z dx translated">有无对数的价格分布</figcaption></figure><h1 id="eda7" class="jn jo hh bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated"><strong class="ak">概述:</strong></h1><p id="9e94" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja kn jc jd je ko jg jh ji kp jk jl jm ha bi translated">访问我的网站<a class="ae lb" href="https://thecuriousfalcon.com/mercari-price-challenge/" rel="noopener ugc nofollow" target="_blank">thecuriousfalcon.com</a>获得更清晰的图片和更好的解释</p><ul class=""><li id="a81f" class="lc ld hh ir b is it iw ix ja le je lf ji lg jm lh li lj lk bi translated">导入数据</li><li id="8e53" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated">探索性数据分析<br/> *探索分类数据<br/> *探索数值数据</li><li id="d847" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated">特征提取、预处理和插补<br/> *检查重复数据<br/> *检查空值<br/> *特征提取<br/> *文本预处理<br/> *插补</li><li id="c6e0" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated">矢量化和训练模型<br/> *去除异常值<br/> *矢量化分类数据<br/> *矢量化数值数据<br/> *训练模型</li><li id="701a" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated">摘要</li></ul><h1 id="fafb" class="jn jo hh bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated"><strong class="ak">导入数据</strong></h1><figure class="ks kt ku kv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/a9a2ba10647824e0d29d7bfa8f0f158f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dWWA0fkCMOBhXGEJZ7OYCQ.png"/></div></div><figcaption class="kx ky et er es kz la bd b be z dx translated"><a class="ae lb" href="https://www.kaggle.com/c/mercari-price-suggestion-challenge/data" rel="noopener ugc nofollow" target="_blank">数据集的标题行</a></figcaption></figure><figure class="ks kt ku kv fd ii er es paragraph-image"><div class="er es kr"><img src="../Images/5d337862e31acf075f3093b1454df491.png" data-original-src="https://miro.medium.com/v2/resize:fit:758/format:webp/1*Jd54hkT3GqzyxhP9D_ADvg.png"/></div><figcaption class="kx ky et er es kz la bd b be z dx translated">基本信息</figcaption></figure><p id="6c53" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">根据上述信息，空值出现在如下3个特征中:</p><ul class=""><li id="5db4" class="lc ld hh ir b is it iw ix ja le je lf ji lg jm lh li lj lk bi translated">Category_name有6327个空值(0.4%的数据不存在)</li><li id="fd38" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated">Brand_name有632，682个空值(42%的数据不存在)</li><li id="eced" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated">Item_description只有4个空值</li><li id="82b0" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated">没有重复值</li></ul><h1 id="c462" class="jn jo hh bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated"><strong class="ak">探索性数据分析</strong></h1><h2 id="06e9" class="lq jo hh bd jp lr ls lt jt lu lv lw jx ja lx ly kb je lz ma kf ji mb mc kj md bi translated"><strong class="ak">探索分类数据</strong></h2><p id="e8c2" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja kn jc jd je ko jg jh ji kp jk jl jm ha bi translated"><strong class="ir hi">类别名称:</strong></p><figure class="ks kt ku kv fd ii er es paragraph-image"><div class="er es me"><img src="../Images/9db7c2c365432c5f78870d8c66cda0e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1266/format:webp/1*AiTVFzZkmFREjRUV-_RDrw.png"/></div></figure><p id="5cd6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">观察:</strong>用户对该网站上的女装、美容产品和电子产品更感兴趣</p><p id="49e4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">项目条件标识:</strong></p><figure class="ks kt ku kv fd ii er es paragraph-image"><div class="er es mf"><img src="../Images/4241782da25c6fb6c6c3400fd129b049.png" data-original-src="https://miro.medium.com/v2/resize:fit:1028/format:webp/1*lawABBn4Q5KyCskQ1Q4f2w.png"/></div></figure><p id="5aeb" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">观察:</strong> Item_condition_id 5的观察/记录数量最少，仅占总数据的0.1%</p><p id="c647" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">发货:</strong></p><figure class="ks kt ku kv fd ii er es paragraph-image"><div class="er es mg"><img src="../Images/dd4213c0f68d71d0201b94a418ce9dd6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1018/format:webp/1*d1fF9KQAIZ_yclbW0ABu8w.png"/></div></figure><p id="1d03" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">观察:大部分运费由买家支付</p><p id="3152" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> brand_name: </strong> <br/>共有4809个品牌，以下是排名前10的品牌</p><figure class="ks kt ku kv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/ddc9c58dfd17d57679f57a64ae194759.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*30b-LVKthd_q1OLvXry2pw.png"/></div></div></figure><p id="c347" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">既然PINK、Nike和Victoria's Secret是数据集中排名最高的品牌，那么让我们来看看他们提供什么样的产品</p><figure class="ks kt ku kv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/7a8791a97897ddc54f87c970d5a5e63b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iHhlk9P1qwkN90lES1iixA.png"/></div></div><figcaption class="kx ky et er es kz la bd b be z dx translated">粉色主要提供女性服装</figcaption></figure><figure class="ks kt ku kv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/7be2abda615d0e9e0b6aa769aace14e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o6_9ocEWWzY1hBO62BAfvg.png"/></div></div><figcaption class="kx ky et er es kz la bd b be z dx translated">耐克提供妇女和儿童运动服装，主要是鞋子</figcaption></figure><figure class="ks kt ku kv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/3433e8772935e666eb8a1e1e4dbae0e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w3kU6UBhIJwlMrjHUZEqBw.png"/></div></div><figcaption class="kx ky et er es kz la bd b be z dx translated">维多利亚的秘密提供女性美容产品和服装</figcaption></figure><h2 id="842b" class="lq jo hh bd jp lr ls lt jt lu lv lw jx ja lx ly kb je lz ma kf ji mb mc kj md bi translated"><strong class="ak">探索数值数据</strong></h2><p id="b76c" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja kn jc jd je ko jg jh ji kp jk jl jm ha bi translated"><strong class="ir hi">价格:</strong></p><figure class="ks kt ku kv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/ead626cb8c8e267c7fc888d7bc75edd2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*72MSIGFVEOIsWoJRY4Xu2Q.png"/></div></div></figure><figure class="ks kt ku kv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/3c8abf3e45ea15ca83633142f27e54b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PU7ia1MVk31zwX94zorc0Q.png"/></div></div></figure><figure class="ks kt ku kv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/5767702b54df7d2adc126c4a9be26820.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3PYjGXDz7GCKuqbO4ziiKA.png"/></div></div></figure><p id="ffb0" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">观察:</strong></p><ul class=""><li id="2f27" class="lc ld hh ir b is it iw ix ja le je lf ji lg jm lh li lj lk bi translated">考虑到产品的多样性，有超过80%的产品成本低于50美元</li><li id="32da" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated">与仅分布价格相比，对数价格具有更好的分布和扩散。</li><li id="c7b6" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated">基于对数的度量，如均方根对数误差，可用于预测模型的准确性。</li></ul><h2 id="5f43" class="lq jo hh bd jp lr ls lt jt lu lv lw jx ja lx ly kb je lz ma kf ji mb mc kj md bi translated"><strong class="ak">特征间的相关性</strong></h2><figure class="ks kt ku kv fd ii er es paragraph-image"><div class="er es mh"><img src="../Images/77e8455199b88b7ca0f165e36e5ed685.png" data-original-src="https://miro.medium.com/v2/resize:fit:874/format:webp/1*6qYXmaMRXoIwcniEnD2oRg.png"/></div></figure><figure class="ks kt ku kv fd ii er es paragraph-image"><div class="er es mi"><img src="../Images/304aa82236056e9f9f10ce60ac323fe1.png" data-original-src="https://miro.medium.com/v2/resize:fit:890/format:webp/1*P5gA1FwF49fBig2738Hj6g.png"/></div></figure><figure class="ks kt ku kv fd ii er es paragraph-image"><div class="er es mj"><img src="../Images/29e3b8bc37f1b6b8d59e68882edcd8f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:882/format:webp/1*efoTC-dXQ1MZthZo29k69g.png"/></div></figure><ol class=""><li id="5c2b" class="lc ld hh ir b is it iw ix ja le je lf ji lg jm mk li lj lk bi translated">从上述相关性中，可以观察到<strong class="ir hi">物品状况、运输</strong>与价格成反比。</li><li id="3d38" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm mk li lj lk bi translated">它可以解释为<strong class="ir hi"> item_condition_id </strong>从1到5增加，价格可能降低，即1是最佳条件，5是最差条件。</li><li id="3142" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm mk li lj lk bi translated">由于观察是基于各种产品，建议根据品种，即<strong class="ir hi">类别名称或品牌名称，来寻找相关性。</strong></li></ol><h2 id="dcb0" class="lq jo hh bd jp lr ls lt jt lu lv lw jx ja lx ly kb je lz ma kf ji mb mc kj md bi translated"><strong class="ak">品牌间的相关性</strong></h2><figure class="ks kt ku kv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/d8e3263f1746fd26a1dc98a6b574661a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pFaQTXo7tZGwZDz2pBK1Jw.png"/></div></div></figure><h2 id="e013" class="lq jo hh bd jp lr ls lt jt lu lv lw jx ja lx ly kb je lz ma kf ji mb mc kj md bi translated"><strong class="ak">基于类别的相关性</strong></h2><figure class="ks kt ku kv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/028892735d79f83f1c02138b6879cb95.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ejOMZMG7K-iUxeUVia_Uuw.png"/></div></div></figure><ul class=""><li id="bc85" class="lc ld hh ir b is it iw ix ja le je lf ji lg jm lh li lj lk bi translated">根据上述基于品牌名称和类别的相关性，可以观察到物品状况、运输都与价格成反比。</li><li id="ae63" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated">它可以解释为item_condition_id从1增加到5，价格可能会降低，即1是最佳条件，5是最差条件</li><li id="eb69" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated">运费从0-1增加，也就是说，如果运费由买方支付，价格就会增加。</li></ul><h1 id="74a2" class="jn jo hh bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated"><strong class="ak">特征提取、文本预处理和插补</strong></h1><h2 id="150d" class="lq jo hh bd jp lr ls lt jt lu lv lw jx ja lx ly kb je lz ma kf ji mb mc kj md bi translated"><strong class="ak">检查重复数据:</strong></h2><figure class="ks kt ku kv fd ii er es paragraph-image"><div class="er es ml"><img src="../Images/41aec7d2309ecb6807647792ed8cb1a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:976/format:webp/1*eHOrdIZ11Q6W7LXOXslrDQ.png"/></div></figure><figure class="ks kt ku kv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/3ea556c348c33ab589bc7298125635e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TOriptH1CnYZXOu-5OZFnA.png"/></div></div></figure><figure class="ks kt ku kv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/d1a9fad06b562c11cad633c3f14a903f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZfEKL0JzA41omXZrKatgOw.png"/></div></div></figure><p id="0788" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">观察:</strong></p><ul class=""><li id="2417" class="lc ld hh ir b is it iw ix ja le je lf ji lg jm lh li lj lk bi translated">数据集不包含重复记录</li><li id="4f50" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated">当名称、项目描述被视为0.5%数据重复时</li><li id="8d41" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated">当名称、项目描述、价格被视为0.16%时，数据是重复的</li></ul><h2 id="81ce" class="lq jo hh bd jp lr ls lt jt lu lv lw jx ja lx ly kb je lz ma kf ji mb mc kj md bi translated"><strong class="ak">检查空数据:</strong></h2><figure class="ks kt ku kv fd ii er es paragraph-image"><div class="er es mm"><img src="../Images/4b744d4ba6d88e304f89413dfc9827b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1338/format:webp/1*f31ZVsSD3MrUnXC9XC3YVg.png"/></div></figure><figure class="ks kt ku kv fd ii er es paragraph-image"><div class="er es mn"><img src="../Images/9bda5c75c0871de4937a2faebd1aa710.png" data-original-src="https://miro.medium.com/v2/resize:fit:1132/format:webp/1*sqyv_Tq88k_Eqw9a1qwLPw.png"/></div></figure><p id="2063" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">观察:</strong></p><ul class=""><li id="5314" class="lc ld hh ir b is it iw ix ja le je lf ji lg jm lh li lj lk bi translated">5%的记录没有项目描述</li><li id="9936" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated">42%的唱片没有品牌名称</li><li id="aab2" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated">0.4%的记录没有类别</li></ul><h2 id="7676" class="lq jo hh bd jp lr ls lt jt lu lv lw jx ja lx ly kb je lz ma kf ji mb mc kj md bi translated"><strong class="ak">特征提取—概要:</strong></h2><p id="d2b8" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja kn jc jd je ko jg jh ji kp jk jl jm ha bi translated"><em class="kq">名称和项目描述连接在一起</em></p><figure class="ks kt ku kv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mo"><img src="../Images/9b22be1fdd31c214c8bd5ab92791858b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x-mr3cT4lWz9Q8Hma_hedw.png"/></div></div></figure><h2 id="0e95" class="lq jo hh bd jp lr ls lt jt lu lv lw jx ja lx ly kb je lz ma kf ji mb mc kj md bi translated"><strong class="ak">特征提取——极性、数量_句子、数量_变化_计数、数量_值_总和、数量_值、日期_索引:</strong></h2><p id="1300" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja kn jc jd je ko jg jh ji kp jk jl jm ha bi translated">这里使用textblob和spacy库来提取这些特征</p><ul class=""><li id="0914" class="lc ld hh ir b is it iw ix ja le je lf ji lg jm lh li lj lk bi translated"><strong class="ir hi"> polarity = </strong>使用“textblob”库的“summary”的极性得分</li><li id="6cc4" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated"><strong class="ir hi">数量_句子= </strong>摘要中的句子数量</li><li id="55c2" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated">num_variety_count = 各种数字数据(基数、序数、货币等)的数量。)</li><li id="1f7f" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated"><strong class="ir hi">数量值总和= </strong>数值数据的值总和</li><li id="8b52" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated"><strong class="ir hi">数量值= </strong>汇总中产品数量</li><li id="a261" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated">检查日期是否存在，然后返回1，否则返回0(日期指示器)</li></ul><figure class="ks kt ku kv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/37bdc22b54517725559d0e3b7bc81925.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d9e4rWdbblOUlJMRznkdBQ.png"/></div></div></figure><p id="afea" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">item_description的极性可以确定产品的状况有多好，并且它可以与item_condition_id相关联。</p><figure class="ks kt ku kv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/35dc65a088d31404add60011e51d64df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tYEG4X4cBUhqB13KggISFQ.png"/></div></div></figure><p id="de8a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在对文本数据进行预处理之前，使用<strong class="ir hi">“text blob”</strong>库找到物品描述的极性，因为文本可能包含停用词、以更强的方式表达卖家观点的特殊符号，并且我们可以获得文本的真实极性。<br/> <strong class="ir hi">观察:</strong>极性值高，其item_condition_id为1，低，其item_condition_id为5，即根据用户提供的描述，item_condition_id为5的产品状况不佳。</p><h2 id="9b07" class="lq jo hh bd jp lr ls lt jt lu lv lw jx ja lx ly kb je lz ma kf ji mb mc kj md bi translated"><strong class="ak">特征提取— cos_sim: </strong></h2><p id="74ae" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja kn jc jd je ko jg jh ji kp jk jl jm ha bi translated">利用空间库实现标题和条目描述的余弦相似度</p><figure class="ks kt ku kv fd ii er es paragraph-image"><div class="er es mp"><img src="../Images/65d44b57bdf4dcbe2175773f5d28f38c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1394/format:webp/1*e40ECYW_JaGMtImbhCj9Xw.png"/></div></figure><h2 id="9cbb" class="lq jo hh bd jp lr ls lt jt lu lv lw jx ja lx ly kb je lz ma kf ji mb mc kj md bi translated"><strong class="ak">特征工程:数量平均值</strong></h2><p id="4b02" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja kn jc jd je ko jg jh ji kp jk jl jm ha bi translated"><em class="kq">汇总文本中数值的平均值。</em> <br/>数量平均值= <em class="kq">数量值总和/数量变化计数</em></p><figure class="ks kt ku kv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mq"><img src="../Images/8bd5f6b33c4ac308c146a7976a1bcf73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yMVvkgXRqBEmUW8CRC8p9Q.png"/></div></div></figure><h2 id="a03a" class="lq jo hh bd jp lr ls lt jt lu lv lw jx ja lx ly kb je lz ma kf ji mb mc kj md bi translated"><strong class="ak">特征工程:log_num_avg </strong></h2><p id="8b2c" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja kn jc jd je ko jg jh ji kp jk jl jm ha bi translated"><em class="kq">‘数量_平均值’特征的对数值</em><br/><em class="kq">log _数量_总和= log(数量_平均值+1) </em></p><figure class="ks kt ku kv fd ii er es paragraph-image"><div class="er es mr"><img src="../Images/f2919e16a0522d63e70df801e5bd75dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/1*XBKlG8cKWhLSuY8nsu8LBQ.png"/></div></figure><h2 id="9b47" class="lq jo hh bd jp lr ls lt jt lu lv lw jx ja lx ly kb je lz ma kf ji mb mc kj md bi translated"><strong class="ak">插补—品牌名称:</strong></h2><p id="ad0c" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja kn jc jd je ko jg jh ji kp jk jl jm ha bi translated">由于Brand_name具有最多的空值，并且Brand可以定义产品的价格，所以必须找到填充空Brand _ name的方法。</p><ol class=""><li id="1497" class="lc ld hh ir b is it iw ix ja le je lf ji lg jm mk li lj lk bi translated">一种方法是在“item_description”和“name”特征中找到品牌名称。name和Item _ descrption的值被连接并存储到一个名为“summary”的新功能中。</li></ol><figure class="ks kt ku kv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/fbf85cef9ea4ea1c50e86edb9d24f376.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O4ouR2ZhQXRO_TPxwCXUxQ.png"/></div></div></figure><p id="2450" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">2.在这里，我将所有品牌名称存储在一个集合中，并在每个“摘要”中搜索品牌名称，还创建了一个品牌变化指示器来检查品牌是提供的(0)还是提取的(1)。</p><figure class="ks kt ku kv fd ii er es paragraph-image"><div class="er es ms"><img src="../Images/c95b8e6c519b68fc791c9bf537b1a39f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1310/format:webp/1*ih65zYyd8Sp7iBJ3vEXDBQ.png"/></div></figure><p id="195b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">3.有时销售者可能不会花太多精力去写合适的品牌名称</p><p id="1fc1" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">例如:卖家可能会将“维多利亚的秘密”品牌写成“维多利亚的秘密”或“维多利亚的秘密”，因此我们通过深入查看“概要”功能来搜索品牌名称。<br/>在这里，我们删除了品牌和摘要功能中的停用词和特殊字符，并添加到一个集合中，该集合用于在摘要功能中查找品牌名称。</p><h2 id="66cb" class="lq jo hh bd jp lr ls lt jt lu lv lw jx ja lx ly kb je lz ma kf ji mb mc kj md bi translated"><strong class="ak">特征提取:brnd_change </strong></h2><p id="abf3" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja kn jc jd je ko jg jh ji kp jk jl jm ha bi translated"><em class="kq">如果在插补期间添加了“品牌名称”,则这是一个指示符。</em></p><figure class="ks kt ku kv fd ii er es paragraph-image"><div class="er es mt"><img src="../Images/14a521f571fb053a9a46a43320c1af5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1316/format:webp/1*6jnG0c3Zo_EPxc0oVCIO6Q.png"/></div></figure><h2 id="c193" class="lq jo hh bd jp lr ls lt jt lu lv lw jx ja lx ly kb je lz ma kf ji mb mc kj md bi translated"><strong class="ak">文本预处理:brand_name </strong></h2><p id="99d6" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja kn jc jd je ko jg jh ji kp jk jl jm ha bi translated"><em class="kq">删除“品牌名称”功能中的特殊字符</em></p><figure class="ks kt ku kv fd ii er es paragraph-image"><div class="er es mu"><img src="../Images/4de9b484db6c3aa1f7e82c2898d0b90e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1392/format:webp/1*pD-2XGMMaxO0yfwGXVJ5uA.png"/></div></figure><h2 id="f23b" class="lq jo hh bd jp lr ls lt jt lu lv lw jx ja lx ly kb je lz ma kf ji mb mc kj md bi translated"><strong class="ak">文本预处理:摘要</strong></h2><p id="60dc" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja kn jc jd je ko jg jh ji kp jk jl jm ha bi translated"><em class="kq">删除“摘要”功能中的特殊字符和停用词</em></p><figure class="ks kt ku kv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mv"><img src="../Images/029becd5307b62dea7506c9b75c8843a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qLrjkFcKvlsQYOokRlLewQ.png"/></div></div></figure><h2 id="8c55" class="lq jo hh bd jp lr ls lt jt lu lv lw jx ja lx ly kb je lz ma kf ji mb mc kj md bi translated"><strong class="ak">插补—品牌名称(深度):</strong></h2><p id="0a88" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja kn jc jd je ko jg jh ji kp jk jl jm ha bi translated">用户可以在没有任何标点符号的项目描述中输入品牌名称，所以我们在这里是在对品牌名称和摘要数据进行预处理后搜索和输入品牌名称。</p><h2 id="03b4" class="lq jo hh bd jp lr ls lt jt lu lv lw jx ja lx ly kb je lz ma kf ji mb mc kj md bi translated"><strong class="ak">插补— brnd_change </strong></h2><p id="8150" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja kn jc jd je ko jg jh ji kp jk jl jm ha bi translated"><em class="kq">如果‘品牌名称’是通过插补过程添加的，则这是一个指示符</em></p><figure class="ks kt ku kv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mw"><img src="../Images/7892610e8b35ca400006fb8e21f110b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mXzbq7xfhP_9KEXi39S92w.png"/></div></div></figure><p id="2d23" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在brand_name中发现并添加了15000多个品牌名称。也就是说，我们添加了将近1%的品牌名称数据</p><h2 id="19ff" class="lq jo hh bd jp lr ls lt jt lu lv lw jx ja lx ly kb je lz ma kf ji mb mc kj md bi translated"><strong class="ak">文本预处理:摘要</strong></h2><p id="4994" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja kn jc jd je ko jg jh ji kp jk jl jm ha bi translated"><em class="kq">预处理“概要”特征的词条化</em></p><figure class="ks kt ku kv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mx"><img src="../Images/61a0a648a861f4b179e2e6da450a032a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1298/format:webp/1*JUexL6X68R7pPf8bFcWzHg.png"/></div></div></figure><h2 id="875c" class="lq jo hh bd jp lr ls lt jt lu lv lw jx ja lx ly kb je lz ma kf ji mb mc kj md bi translated"><strong class="ak">插补—类别名称:</strong></h2><p id="86bb" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja kn jc jd je ko jg jh ji kp jk jl jm ha bi translated"><em class="kq">根据与category_name </em> <br/> <em class="kq">匹配的字数填写类别名称，根据brand_name </em> <br/>填写每个类别，例如:“阿迪达斯”品牌</p><ul class=""><li id="5e3a" class="lc ld hh ir b is it iw ix ja le je lf ji lg jm lh li lj lk bi translated"><strong class="ir hi">步骤1 : </strong>选择品牌名称为“adidas”且没有类别的记录。</li><li id="40e7" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated"><strong class="ir hi">步骤2 : </strong>从总数据集中创建‘adidas’类别名称集合列表。</li><li id="0ba6" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated"><strong class="ir hi">步骤3 : </strong>创建一组摘要词，并迭代从步骤2获得的每个元素。我们交叉每个元素，并找出类别名称和摘要之间的常用词的长度。</li><li id="29e8" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated"><strong class="ir hi">步骤4 : </strong>步骤3中类别中最大数量的常用词可以具有该记录的类别名称。</li><li id="1a21" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated"><strong class="ir hi">步骤5 : </strong>如果没有常用词，则检查品牌名称是否是从“brnd_change”手动更改的。如果更改，则更改移除品牌名称，并在所有产品和类别中再次检查其类别。</li><li id="f73d" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated"><strong class="ir hi">步骤6 : </strong>如果是“nan”品牌名称，则检查所有类别并与摘要进行匹配，以找到适合摘要的类别</li></ul><figure class="ks kt ku kv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/ab5cded43f59cf21bd84cee6f7b48d54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ANpPPhp865TzN0O5dt6VIQ.png"/></div></div></figure><ul class=""><li id="b2eb" class="lc ld hh ir b is it iw ix ja le je lf ji lg jm lh li lj lk bi translated">检查品牌方面的空类别。如果品牌有任何空的分类名称，我们检查并收集特定品牌提供哪种产品(品牌的分类名称)作为集合列表。</li><li id="7d68" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated">将记录的摘要拆分成一个集合，并使用分类名称集合执行<strong class="ir hi">集合交集</strong>，即找到类别和摘要之间的常用词数量。类别和摘要之间的最高常用字数，摘要将属于所选品牌的类别。</li></ul><h2 id="02b9" class="lq jo hh bd jp lr ls lt jt lu lv lw jx ja lx ly kb je lz ma kf ji mb mc kj md bi translated"><strong class="ak">特征提取—类别变化</strong></h2><p id="831c" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja kn jc jd je ko jg jh ji kp jk jl jm ha bi translated"><em class="kq">如果在插补期间添加了“类别名称”,则这是一个指示符。</em></p><figure class="ks kt ku kv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es my"><img src="../Images/f2fe297c531ec8b120c7b216952e4f5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KIvDShXasrv6ev_MN5dx1A.png"/></div></div></figure><p id="6c5f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">输入类别名称后的结果:</p><figure class="ks kt ku kv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/bc9e14e95722de94c78add64a4b45a16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xpJEsTGNbP6naykjIYZd_g.png"/></div></div></figure><h2 id="979f" class="lq jo hh bd jp lr ls lt jt lu lv lw jx ja lx ly kb je lz ma kf ji mb mc kj md bi translated"><strong class="ak">特征工程:item_condition_id </strong></h2><p id="7b57" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja kn jc jd je ko jg jh ji kp jk jl jm ha bi translated"><em class="kq">将数字转换为字符串，因为它只有5个数字形式的类别。</em></p><figure class="ks kt ku kv fd ii er es paragraph-image"><div class="er es mz"><img src="../Images/270d6b7219111f33b66a58ce5bd110f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1354/format:webp/1*8gnKvwGUQXA3kQEMvs58TA.png"/></div></figure><h2 id="e1fe" class="lq jo hh bd jp lr ls lt jt lu lv lw jx ja lx ly kb je lz ma kf ji mb mc kj md bi translated"><strong class="ak">特征提取概要</strong></h2><ul class=""><li id="d9ac" class="lc ld hh ir b is kl iw km ja na je nb ji nc jm lh li lj lk bi translated">汇总=连接的名称和项目说明</li><li id="101b" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated">polarity =使用“textblob”库的“summary”的极性得分</li><li id="07da" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated">num_sentence =总结中的句子数量</li><li id="9725" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated">num_variety_count =各种数值数据的数量</li><li id="331d" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated">num_value_sum =数字数据值的总和</li><li id="1080" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated">数量值=产品数量</li><li id="fa12" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated">date_ind =如果日期存在，则为1，否则为0(日期指示器)</li><li id="58b3" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated">category_change =如果类别是在预处理后手动添加的，则为1否则为0(真实类别指示符)</li><li id="97bf" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated">brnd_change =如果品牌是在预处理后手动添加的，则1 else 0(真正的品牌指示器)</li><li id="1adb" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated">cos_sim =使用空间库的标题和项目描述的余弦相似度</li></ul><h2 id="a5fd" class="lq jo hh bd jp lr ls lt jt lu lv lw jx ja lx ly kb je lz ma kf ji mb mc kj md bi translated"><strong class="ak">特征工程/插补总结</strong></h2><ul class=""><li id="f834" class="lc ld hh ir b is kl iw km ja na je nb ji nc jm lh li lj lk bi translated"><strong class="ir hi">插补:</strong>品牌名称<br/>在摘要文本中查找品牌名称</li><li id="86ee" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated"><strong class="ir hi">文本预处理:</strong>摘要<br/>去除预处理摘要的停用词、特殊字符和词条化</li><li id="4925" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated"><strong class="ir hi">文本预处理:</strong>品牌名称<br/>去除品牌名称中的停用词、特殊字符</li><li id="ee21" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated"><strong class="ir hi">插补:</strong> brand_name (deep) <br/>对品牌名称和摘要文本进行预处理后找到品牌名称</li><li id="1d35" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated"><strong class="ir hi">特征工程:</strong> brnd_name，brand_change <br/>调整修改后的品牌名称，删除不相关的品牌名称，并在输入“category_name”时重置品牌名称的变更指示符。</li><li id="55e6" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated"><strong class="ir hi">特征工程:</strong> num_avg <br/>汇总文本中数值的平均值。<br/>数量平均值=数量值总和/数量变化计数</li><li id="5da3" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated"><strong class="ir hi">特征工程:</strong>log _ num _ avg<br/>num _ avg特征的对数值</li><li id="5c77" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated"><strong class="ir hi">特征工程:</strong> item_condition_id <br/>将数字转换为字符串，因为它只有5个数字形式的类别。</li></ul><h1 id="acef" class="jn jo hh bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated"><strong class="ak">矢量化和训练模型</strong></h1><h2 id="21c3" class="lq jo hh bd jp lr ls lt jt lu lv lw jx ja lx ly kb je lz ma kf ji mb mc kj md bi translated"><strong class="ak">剔除异常值</strong></h2><p id="390c" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja kn jc jd je ko jg jh ji kp jk jl jm ha bi translated">创建具有必要特征的最终数据帧</p><figure class="ks kt ku kv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/753829973a0925929e64de6c44c9f651.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CDstGsIChPPn5bgDoT0Lug.png"/></div></div></figure><p id="1a20" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">异常值可能有两种情况:</p><ul class=""><li id="9473" class="lc ld hh ir b is it iw ix ja le je lf ji lg jm lh li lj lk bi translated">如果价格为0，则卖家免费出售该商品</li><li id="9098" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated">如果价格太高，那么出售该商品的可能性就会降低。</li></ul><p id="2f94" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在EDA期间，观察到log(价格+1)遵循一点正态分布。因此，我们通过保留95%的数据(即价格的第二标准差)来消除极端异常值。</p><figure class="ks kt ku kv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nd"><img src="../Images/73a1f4d9ddb4ad41d3b55d6b39f72336.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jdzxWhjAVlL6Ru2RNBeasw.png"/></div></div></figure><figure class="ks kt ku kv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ne"><img src="../Images/119d895426c49bb4bcdca19cc019d41e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FnSM4pVzOffXuhXvFhrB-Q.png"/></div></div></figure><p id="3bc2" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">观察:</strong></p><ul class=""><li id="9b51" class="lc ld hh ir b is it iw ix ja le je lf ji lg jm lh li lj lk bi translated">有874条记录的价格为0，即该项目是免费的。</li><li id="0954" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated">根据价格数据的第二个标准差，剔除5%的记录。这有助于处理极端异常数据，如价格= 0/更高的价格。</li></ul><h2 id="7e4a" class="lq jo hh bd jp lr ls lt jt lu lv lw jx ja lx ly kb je lz ma kf ji mb mc kj md bi translated"><strong class="ak">训练测试分割:</strong></h2><p id="a847" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja kn jc jd je ko jg jh ji kp jk jl jm ha bi translated">75%的数据专用于训练。</p><figure class="ks kt ku kv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nf"><img src="../Images/0ec5d9da8e7816e1b4ecbe98037d782c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0XOZ3qBp2paIWsQj2rTNvg.png"/></div></div></figure><h2 id="6dc7" class="lq jo hh bd jp lr ls lt jt lu lv lw jx ja lx ly kb je lz ma kf ji mb mc kj md bi translated"><strong class="ak">矢量化分类数据</strong></h2><p id="0c4e" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja kn jc jd je ko jg jh ji kp jk jl jm ha bi translated"><strong class="ir hi"> category_name: </strong>手工/图案/配饰在数据集<br/> 1b中有1个项目。手工/图案/宝贝在数据集<br/>中有1个项目，可能有一个记录在类别字段中有附件/宝贝/{任何其他非频繁类别}，但是我们可以预测“手工/图案”的产品价格，即使有任何其他非频繁类别。</p><figure class="ks kt ku kv fd ii er es paragraph-image"><div class="er es ng"><img src="../Images/ab988fc91007e9dfe85628f2b4bdd9a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1170/format:webp/1*CXFdEqA0wAMyoL9TmGYGJg.png"/></div></figure><p id="12eb" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">品牌名称:</strong></p><figure class="ks kt ku kv fd ii er es paragraph-image"><div class="er es nh"><img src="../Images/79c2a6f4b94cc218970f445359b652b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*xje5flXfl_sCbPY5f_z-1w.png"/></div></figure><p id="4153" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> Item_condition_id: </strong></p><figure class="ks kt ku kv fd ii er es paragraph-image"><div class="er es me"><img src="../Images/c0ce07cfa77350d5376da4933972e8a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1266/format:webp/1*3yImKKwo7olrL9DQ2LHNig.png"/></div></figure><p id="3861" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">摘要:</strong> <br/>使用最小df = 10的tfidf矢量器对摘要文本进行矢量化。</p><figure class="ks kt ku kv fd ii er es paragraph-image"><div class="er es ni"><img src="../Images/ab77b8f923008bf9ee7e6ebcddd0b7a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1208/format:webp/1*sUfE5vEHz2uI14eKIh9u9Q.png"/></div></figure><p id="c963" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> shipping: </strong> <br/>数值为[0，1]的二元分类<br/>x _ train[' shipping ']. values . shape(-1，1)<br/>x _ test[' shipping ']. values . shape(-1，1)</p><p id="b136" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> brnd_change: </strong> <br/>数值为[0，1]<br/>x _ train[' brnd _ change ']. values . shape(-1，1)<br/>x _ test[' brnd _ change ']. values . shape(-1，1)</p><p id="9775" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> category_change: </strong> <br/>带数值的二元分类[0，1]<br/>x _ train[' category _ change ']. values . shape(-1，1)<br/>x _ test[' category _ change ']. values . shape(-1，1)</p><p id="b73f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> date_ind: </strong> <br/>具有数值的二进制类别【0，1】<br/>x _ train[' date _ ind ']. values . shape(-1，1)<br/>x _ test[' date _ ind ']. values . shape(-1，1)</p><h2 id="1c0c" class="lq jo hh bd jp lr ls lt jt lu lv lw jx ja lx ly kb je lz ma kf ji mb mc kj md bi translated"><strong class="ak">对数值数据进行矢量化</strong></h2><p id="c6f4" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja kn jc jd je ko jg jh ji kp jk jl jm ha bi translated">所有的数字数据都是标准化的，下面是细节。<br/> <strong class="ir hi">极性_标量:</strong>标准化‘极性’特征<br/> <strong class="ir hi"> num_sent_scalar : </strong>标准化‘数量_句子’特征<br/> <strong class="ir hi"> num_var_scalar : </strong>标准化‘数量_变化_计数’特征<br/> <strong class="ir hi"> qty_scalar : </strong>标准化‘数量_值’特征<br/> <strong class="ir hi"> log_scalar : </strong>标准化‘数量_总和’特征<br/> <strong class="ir hi"> cos_scalar : </strong>标准化‘cos</p><h2 id="aed3" class="lq jo hh bd jp lr ls lt jt lu lv lw jx ja lx ly kb je lz ma kf ji mb mc kj md bi translated"><strong class="ak">自定义评估指标</strong></h2><p id="f276" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja kn jc jd je ko jg jh ji kp jk jl jm ha bi translated">由于scikit-learn的<a class="ae lb" href="https://scikit-learn.org/stable/modules/model_evaluation.html" rel="noopener ugc nofollow" target="_blank"> <strong class="ir hi">评分参数</strong> </a> <strong class="ir hi"> </strong>中没有均方根对数误差(RMSLE)，因此创建了自定义评估指标。请参考<a class="ae lb" href="https://www.kaggle.com/c/mercari-price-suggestion-challenge/overview/evaluation" rel="noopener ugc nofollow" target="_blank"> <strong class="ir hi">链接</strong> </a> <strong class="ir hi"> </strong>了解有关此指标的更多详细信息。</p><figure class="ks kt ku kv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/1e6030f34473c15abd69e77e61ee7181.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q1yjlYzN0LiPBsBuft80aw.png"/></div></div></figure><h2 id="bfb9" class="lq jo hh bd jp lr ls lt jt lu lv lw jx ja lx ly kb je lz ma kf ji mb mc kj md bi translated"><strong class="ak">培训模式</strong></h2><p id="3f00" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja kn jc jd je ko jg jh ji kp jk jl jm ha bi translated"><strong class="ir hi">模型的超参数调整</strong> <br/>对GridSearchCV和RandomSearchCV进行函数定义，将训练数据、模型及其参数作为输入，返回交叉验证分数的数据框架。</p><p id="fde1" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">网格搜索交叉验证的函数定义:</p><figure class="ks kt ku kv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/41f9ad24fcd6d33fa8db73d143f0592d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-lTdhP0DhdJe63hG6dKTBQ.png"/></div></div></figure><p id="ae1a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">随机搜索交叉验证的函数定义:</p><figure class="ks kt ku kv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/a91729cf3ef14d44d94627f717cf6d5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8a06rSgTQ5H4eaWCXBBxaQ.png"/></div></div></figure><p id="1685" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">以下模型用于训练数据，并寻找最佳超参数以获得最佳分数，即最小RMSLE</p><ul class=""><li id="80e3" class="lc ld hh ir b is it iw ix ja le je lf ji lg jm lh li lj lk bi translated">线性回归</li><li id="28e5" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated">里脊回归</li><li id="f292" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated">XGBoost回归器</li><li id="7abc" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated">XGBoost随机森林回归器</li><li id="7f8d" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated">随机森林</li><li id="3756" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated">H1</li></ul><p id="86aa" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">使用3种不同的特征组合来训练模型和测量准确度。<br/> <strong class="ir hi">特征集1 </strong> :cat_train_bow，brand_train_bow，summ_train_bow，item_cond_train_std，shipp_train_std，polarity_train_std，brnd_change_train_std，cat_change_train_std，num_sent_train_std，num_val_train_std，dti_train_std</p><p id="1324" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">特征集2 : </strong> cat_train_bow，brand_train_bow，summ_train_bow，item_cond_train_std，cos_train_std，shipp _ train _ std，polarity_train_std，brnd_change_train_std，cat_change_train_std，num_sent_train_std，num_var_train_std，num_val_train_std，qty_train_std，dti_train_std，log_train_std</p><p id="12ce" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">特征集3 : </strong> cat_train_bow，brand_train_bow，summ_train_bow，item_cond_train_bow，cos_train_std，x _ train[' shipping ']. values . shape(-1，1)，polarity_train_std，x _ train[' brnd _ change ']. values . shape(-1，1)，x _ train[' category _ change ']. values . shape(-1，1)，num_sent_train_std，num_var_train_std，qty_train</p><p id="bea3" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">访问我的网站<a class="ae lb" href="https://thecuriousfalcon.com/mercari-price-challenge/" rel="noopener ugc nofollow" target="_blank">thecuriousfalcon.com</a>，了解各种型号性能的全部细节。</p><p id="7ec3" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">未来工作</strong></p><ul class=""><li id="69f6" class="lc ld hh ir b is it iw ix ja le je lf ji lg jm lh li lj lk bi translated">添加Word2Vec特性，Word2Vec特性可以从gensim、Spacy库和train数据中获取。</li><li id="99ea" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated">使用注意模型和检查结果训练数据。</li><li id="09d0" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated">实施变异系数以获得更多详细信息，并更好地了解数据的分布。</li><li id="cd35" class="lc ld hh ir b is ll iw lm ja ln je lo ji lp jm lh li lj lk bi translated">使用决定系数深入检查因变量与自变量的相关性。</li></ul><p id="be3a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">结论</strong></p><p id="a265" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Mercari向卖家提供数据，旨在找到一个解决方案，根据产品为卖家建议一个合适的价格。我的目标是更专注于检索数据信息，并基于检索到的信息使用各种特征工程技术，这有助于获得良好的RMSLE分数。</p><p id="3dd7" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我学到的教训是花更多的时间研究原始数据，想象你自己也在这个问题中，这样就更容易做出假设、类比、情景等。</p><p id="7965" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">来源</strong></p><p id="5de6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><a class="ae lb" href="https://thecuriousfalcon.com/mercari-price-challenge/" rel="noopener ugc nofollow" target="_blank">https://thecuriousfalcon.com/mercari-price-challenge/</a><br/><a class="ae lb" href="https://towardsdatascience.com/predict-product-success-using-nlp-models-b3e87295d97" rel="noopener" target="_blank">https://towards data science . com/predict-product-success-using-NLP-models-b3e 87295d 97</a><br/><a class="ae lb" href="https://towardsdatascience.com/build-and-compare-3-models-nlp-sentiment-prediction-67320979de61" rel="noopener" target="_blank">https://towards data science . com/build-and-compare-3-models-NLP-情操-预测-67320979 de 61</a><br/><a class="ae lb" href="https://www.youtube.com/watch?v=QFR0IHbzA30" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=QFR0IHbzA30</a><br/><a class="ae lb" href="https://www.appliedaicourse.com/" rel="noopener ugc nofollow" target="_blank">https://www.appliedaicourse.com/</a></p><blockquote class="nj nk nl"><p id="4a14" class="ip iq kq ir b is it iu iv iw ix iy iz nm jb jc jd nn jf jg jh no jj jk jl jm ha bi translated">如果你折磨数据足够长的时间，它会承认任何事情</p></blockquote></div></div>    
</body>
</html>