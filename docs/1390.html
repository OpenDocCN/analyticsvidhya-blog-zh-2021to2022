<html>
<head>
<title>Web Scraping LinkedIn Companies with Selenium and Beautiful Soup</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">网刮LinkedIn公司与硒和美丽的汤</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/web-scraping-linkedin-companies-with-selenium-and-beautiful-soup-8d8c28ebcc2a?source=collection_archive---------5-----------------------#2021-02-27">https://medium.com/analytics-vidhya/web-scraping-linkedin-companies-with-selenium-and-beautiful-soup-8d8c28ebcc2a?source=collection_archive---------5-----------------------#2021-02-27</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/e51b77b68e87fd2b5a0f98decba5c665.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k50nKcIwPGVc4So3QQajQA.jpeg"/></div></div></figure><p id="2751" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">当你想开始你的项目时，你可以使用像<a class="ae jn" href="https://www.kaggle.com/datasets" rel="noopener ugc nofollow" target="_blank"> Kaggle </a>这样的网站提供的数据集，但是你也可以通过网络搜集来获得数据。</p><p id="e927" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">你想从每个公司提取一定数量的帖子，然后应用机器学习技术。</p><p id="24f2" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这段代码的实现可以直接在我的GitHub页面找到:https://github.com/anthoguille/web_scraping_linkedin<a class="ae jn" href="https://github.com/anthoguille/web_scraping_linkedin" rel="noopener ugc nofollow" target="_blank"/></p><h1 id="d23a" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">你想从网站上搜集什么信息</h1><ol class=""><li id="150a" class="km kn hh ir b is ko iw kp ja kq je kr ji ks jm kt ku kv kw bi translated">名字</li><li id="dbed" class="km kn hh ir b is kx iw ky ja kz je la ji lb jm kt ku kv kw bi translated">日期</li><li id="6598" class="km kn hh ir b is kx iw ky ja kz je la ji lb jm kt ku kv kw bi translated">邮政</li><li id="689b" class="km kn hh ir b is kx iw ky ja kz je la ji lb jm kt ku kv kw bi translated">喜欢</li></ol><p id="d68b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">注意:您也可以添加“文章数量”，在这种情况下，我们将。</p><h1 id="596e" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">检查页面</h1><p id="0c0c" class="pw-post-body-paragraph ip iq hh ir b is ko iu iv iw kp iy iz ja lc jc jd je ld jg jh ji le jk jl jm ha bi translated">按F12或右键单击页面，然后转到检查。</p><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lf"><img src="../Images/972bbf794a325089b05a3c52a7d9818e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CzuzDBspQiQCpK_mPQ5jhg.png"/></div></div></figure><p id="e2f6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">你需要一个关于“HTML”的基础知识。然而，你可以点击网站上任何你感兴趣的信息，你就会知道HTML代码行的确切位置。</p><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lk"><img src="../Images/2968df7365c663382c2a85d794cfdaa9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ikUCT5nyr7_nYErmN6Y9VQ.png"/></div></div></figure><h1 id="db3c" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">Python代码</h1><p id="65ca" class="pw-post-body-paragraph ip iq hh ir b is ko iu iv iw kp iy iz ja lc jc jd je ld jg jh ji le jk jl jm ha bi translated">这两个Python库(BeautifulSoup和Selenium)将发挥神奇的作用。你可以按照<a class="ae jn" href="https://www.selenium.dev/documentation/en/webdriver/" rel="noopener ugc nofollow" target="_blank">文档</a>安装Selenium和web驱动。</p><p id="d4c8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">首先将库导入Python。</p><pre class="lg lh li lj fd ll lm ln lo aw lp bi"><span id="7bc4" class="lq jp hh lm b fi lr ls l lt lu">from selenium import webdriver<br/>from bs4 import BeautifulSoup<br/>from time import sleep<br/>import pandas as pd</span></pre><p id="fecb" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们将创建一个实例，以匿名模式打开浏览器，并最大化窗口。</p><pre class="lg lh li lj fd ll lm ln lo aw lp bi"><span id="9b8e" class="lq jp hh lm b fi lr ls l lt lu">options=webdriver.ChromeOptions()<br/>options.add_argument('--incognito')<br/>driver=webdriver.Chrome(options=options)<br/>driver.get('<a class="ae jn" href="https://www.linkedin.com/uas/login'" rel="noopener ugc nofollow" target="_blank">https://www.linkedin.com/uas/login'</a>)<br/>driver.maximize_window()</span></pre><p id="411f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们将发送凭据(用户名和密码)进行登录。</p><pre class="lg lh li lj fd ll lm ln lo aw lp bi"><span id="3304" class="lq jp hh lm b fi lr ls l lt lu">username = driver.find_element_by_id('username')<br/>username.send_keys('<a class="ae jn" href="mailto:avyllesca@gmail.com" rel="noopener ugc nofollow" target="_blank">y</a>our_username')<br/>password = driver.find_element_by_id('password')<br/>password.send_keys('your_password')<br/>log_in_button = driver.find_element_by_class_name('from__button--floating')<br/>log_in_button.click()</span></pre><p id="710a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">注意:你需要把你想抓取的公司的网址添加到列表中。</p><pre class="lg lh li lj fd ll lm ln lo aw lp bi"><span id="cbf4" class="lq jp hh lm b fi lr ls l lt lu">urls = [<br/>'<a class="ae jn" href="https://www.linkedin.com/company/alicorp-saa/posts/?feedView=all'" rel="noopener ugc nofollow" target="_blank">https://www.linkedin.com/company/alicorp-saa/posts/?feedView=all'</a>,</span><span id="b7b8" class="lq jp hh lm b fi lv ls l lt lu">'<a class="ae jn" href="https://www.linkedin.com/company/backus/posts/?feedView=all'" rel="noopener ugc nofollow" target="_blank">https://www.linkedin.com/company/backus/posts/?feedView=all'</a><br/>]</span></pre><p id="6208" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们将创建一个字典来保存数据。</p><pre class="lg lh li lj fd ll lm ln lo aw lp bi"><span id="92aa" class="lq jp hh lm b fi lr ls l lt lu">data = {<br/>    "name": [],<br/>    "date": [],<br/>    "post": [],<br/>    "likes": [],<br/>    "count_posts":[]<br/>}</span></pre><p id="e44d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在这里，你需要调整，看看你到底需要多少滚动，我们还需要添加动态延迟来加载页面。</p><pre class="lg lh li lj fd ll lm ln lo aw lp bi"><span id="3c94" class="lq jp hh lm b fi lr ls l lt lu">for i in range(max(0,40)):<br/>        driver.execute_script('window.scrollBy(0, 500)')<br/>        sleep(1)</span></pre><p id="4a16" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">当驱动程序完成上述动作后，<a class="ae jn" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#find-all" rel="noopener ugc nofollow" target="_blank"> BeautifulSoup </a>将解析HTML，我们可以抓取我们需要的内容。例如，如果我们需要帖子的内容。</p><pre class="lg lh li lj fd ll lm ln lo aw lp bi"><span id="ce14" class="lq jp hh lm b fi lr ls l lt lu">posts=soup.find_all('div',{'class':"occludable-update ember-view"})</span><span id="69d0" class="lq jp hh lm b fi lv ls l lt lu">post = posts[2].find('div',{'class':"feed-shared-update-v2__description-wrapper ember-view"}).span.get_text()<br/>if post:<br/>    print(post)</span></pre><p id="a22d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">结果:</p><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lw"><img src="../Images/2c312c5920e829c501cb9197d0dc5783.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AhVmZqU4pjU3snFT4jB71g.png"/></div></div></figure><p id="28d9" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">将数据放入数据帧</p><pre class="lg lh li lj fd ll lm ln lo aw lp bi"><span id="155b" class="lq jp hh lm b fi lr ls l lt lu">df = pd.DataFrame(data)<br/>df.head(10)</span></pre><p id="6866" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">结果:</p><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lx"><img src="../Images/084858fcf782d1c180754bd39e2da90f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BKU0wXyDAUsMQiVZwGas4g.png"/></div></div></figure><p id="c4a7" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">厉害！现在我们有了一个可以用于机器学习或任何分析的数据集。</p><p id="10cc" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如果你想看完整的代码，你可以访问我的库(<a class="ae jn" href="https://github.com/anthoguille/web_scraping_linkedin" rel="noopener ugc nofollow" target="_blank"> GitHub </a>)。</p></div></div>    
</body>
</html>