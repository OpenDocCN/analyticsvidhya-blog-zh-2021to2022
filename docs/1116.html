<html>
<head>
<title>Using Exhaust Sound Recordings to Calculate Engine RPM</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用排气声音记录计算发动机转速</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/using-exhaust-sound-recordings-to-calculate-engine-rpm-93d54d8a1010?source=collection_archive---------7-----------------------#2021-02-15">https://medium.com/analytics-vidhya/using-exhaust-sound-recordings-to-calculate-engine-rpm-93d54d8a1010?source=collection_archive---------7-----------------------#2021-02-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/d6719cf0337549e9778a51694af0624a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f2BrEW-wP12FxcrbIJ9uvw.jpeg"/></div></div></figure><p id="d0e0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">前一段时间，我写了一个MATLAB脚本，处理车辆的排气声音记录，分析其频谱，并计算每分钟的发动机转速。今天，我将使用3个示例录音向您展示这是如何做到的。</p><h1 id="78ac" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">数据收集</h1><p id="90f5" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">这3个声音文件首先是我自己汽车尾气的自制录音，还有2个我从YouTube车载视频下载的录音:</p><ul class=""><li id="081b" class="kr ks hi is b it iu ix iy jb kt jf ku jj kv jn kw kx ky kz bi translated"><strong class="is hj">马自达MX-5 (NC) 2.0i 158 bhp: </strong>我的车。</li><li id="2e4a" class="kr ks hi is b it la ix lb jb lc jf ld jj le jn kw kx ky kz bi translated"><strong class="is hj">2011年，Fernando Alonso驾驶法拉利150 Italia(f1):</strong>在铃鹿赛道上跑了一圈。</li><li id="5336" class="kr ks hi is b it la ix lb jb lc jf ld jj le jn kw kx ky kz bi translated"><strong class="is hj">保时捷911 GT3 991.2:</strong>0-300公里/小时的加速。</li></ul><h1 id="2f2f" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">光谱分析</h1><p id="848e" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">将在MATLAB中计算每个信号的频域，并使用其频谱图进行研究。频谱图是一种数据处理技术，利用它可以绘制信号频域的幅度分布与时间的关系。通过将最初较长的信号离散成较短长度的块(窗口)并单独计算每个块的快速傅立叶变换(FFT ),创建数字频谱图。需要预先调整这些离散化数据块的窗口和重叠。</p><h2 id="cb41" class="lf jp hi bd jq lg lh li ju lj lk ll jy jb lm ln kc jf lo lp kg jj lq lr kk ls bi translated">马自达MX-5 (NC) 2.0i 158 bhp</h2><figure class="lu lv lw lx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lt"><img src="../Images/de725dbb5d55dd0c0015b57c51a879c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4crVlBewZnYEVcxQXTK3Gg.jpeg"/></div></div></figure><h2 id="1fe1" class="lf jp hi bd jq lg lh li ju lj lk ll jy jb lm ln kc jf lo lp kg jj lq lr kk ls bi translated">法拉利150 Italia(f1)</h2><figure class="lu lv lw lx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ly"><img src="../Images/f66e67dce2c748421487057074885d4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tUo2KB3iZi7uqh56UBpwZw.jpeg"/></div></div></figure><h2 id="240b" class="lf jp hi bd jq lg lh li ju lj lk ll jy jb lm ln kc jf lo lp kg jj lq lr kk ls bi translated">保时捷911 GT3 991.2</h2><figure class="lu lv lw lx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ly"><img src="../Images/c73fab30c8977f89bef369602093ab65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5LgUs1BGs5s2gZL5W5EzaA.jpeg"/></div></div></figure><p id="75c5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">上面的三个光谱图告诉我们很多关于每种情况下发生的事情。除了第一个信号，我在静止状态下加速我的汽车，你已经可以瞥见一个典型的引擎速度图的形状，因为司机通过不同的齿轮，加速和刹车。下一个挑战将是找到基频并将其从其余不相关的频率内容中分离出来。</p><h1 id="2151" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">寻找基频</h1><p id="841d" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">除了人工生成的正弦波，自然界中所有的声音都是复杂的音调——也就是说，它们由多个正弦波组合而成。基频或一次谐波是被认为是最响亮的频率波。其余的将是基波的谐波和分音。此外，在本例中，部分频谱内容将来自其他来源(风、振动、电噪声等)产生的噪声。有不同的算法使我们能够从频谱中找到基频，并将其作为基于时域的信号，我将使用Welch的功率谱密度估计。</p><p id="d28e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">以马自达MX-5信号为例，下图显示了以下4个步骤:</p><ul class=""><li id="ef86" class="kr ks hi is b it iu ix iy jb kt jf ku jj kv jn kw kx ky kz bi translated"><strong class="is hj">录音:</strong>录音的原始数据。</li><li id="52ba" class="kr ks hi is b it la ix lb jb lc jf ld jj le jn kw kx ky kz bi translated"><strong class="is hj">声谱图:</strong>录音的频谱。</li><li id="076e" class="kr ks hi is b it la ix lb jb lc jf ld jj le jn kw kx ky kz bi translated"><strong class="is hj">声谱图&amp;基频:</strong>应用韦尔奇法求出基频的声谱图。</li><li id="a8fe" class="kr ks hi is b it la ix lb jb lc jf ld jj le jn kw kx ky kz bi translated"><strong class="is hj">基频:</strong>孤立基频。</li></ul><figure class="lu lv lw lx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lz"><img src="../Images/a3daa04af6f8f029100732afa9b24868.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ncPJAyuTOzKxND69355tqQ.jpeg"/></div></div></figure><p id="3d03" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">看上面的图，我们可以看到韦尔奇的方法如何找到基频一般是准确的，但也有一些例外，例如7秒。，8秒。或14.75秒。时间点。二次谐波的强度超过基波，干扰预测并误导结果。这可以通过微调窗口和重叠参数来改善，但这将以牺牲数据分辨率为代价。因此，人们可以决定提出一种算法来限制韦尔奇方法应用的频率范围。不过，目前我只是将错误的数据点替换为“<em class="ma"> NaN </em>”。下图显示了3种声音信号各自的基频。</p><h2 id="c2d2" class="lf jp hi bd jq lg lh li ju lj lk ll jy jb lm ln kc jf lo lp kg jj lq lr kk ls bi translated">马自达MX-5 (NC) 2.0i 158 bhp</h2><figure class="lu lv lw lx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mb"><img src="../Images/05993e5796378483696c4c7ba0e7546a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T1eq8OLFiuwc1JcJjNT_fQ.jpeg"/></div></div></figure><h2 id="f299" class="lf jp hi bd jq lg lh li ju lj lk ll jy jb lm ln kc jf lo lp kg jj lq lr kk ls bi translated">法拉利150 Italia(f1)</h2><figure class="lu lv lw lx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mc"><img src="../Images/bb651bc990a5e987cb6bcf3ea38652e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QlyH4cud9FtPnFy434snIw.jpeg"/></div></div></figure><h2 id="b23f" class="lf jp hi bd jq lg lh li ju lj lk ll jy jb lm ln kc jf lo lp kg jj lq lr kk ls bi translated">保时捷911 GT3 991.2</h2><figure class="lu lv lw lx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mb"><img src="../Images/61dafb30c2952e6417f3d3d5ae2c9f0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r3Tq1iq2Dc5nr9eq1Nnwiw.jpeg"/></div></div></figure><h1 id="d3fd" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">内燃机</h1><p id="840d" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">让我们通过了解每台发动机的一些基本信息，将基频信号转换为发动机转速信号。我们将使用气缸数和冲程数(4冲程或2冲程)。考虑到这一点，我们可以计算每秒发生的发动机爆炸次数，如下所示:</p><figure class="lu lv lw lx fd ij er es paragraph-image"><div class="er es md"><img src="../Images/fc0555120e4695dc5a439868b4eef222.png" data-original-src="https://miro.medium.com/v2/resize:fit:1170/format:webp/1*cTk9ZMbTwbSmZE7amh3HxA.jpeg"/></div></figure><p id="b6d7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">乘数参数<em class="ma"> k </em>默认为1，但由于各种异常原因，在某些情况下可能会有所不同:</p><ul class=""><li id="00e9" class="kr ks hi is b it iu ix iy jb kt jf ku jj kv jn kw kx ky kz bi translated">大爆炸点火顺序(多个气缸同时引爆)。</li><li id="7609" class="kr ks hi is b it la ix lb jb lc jf ld jj le jn kw kx ky kz bi translated">低转速时缺爆的二冲程发动机。</li><li id="d8d2" class="kr ks hi is b it la ix lb jb lc jf ld jj le jn kw kx ky kz bi translated">消除基频的歧管或消声器设计。</li></ul><h2 id="78e5" class="lf jp hi bd jq lg lh li ju lj lk ll jy jb lm ln kc jf lo lp kg jj lq lr kk ls bi translated">马自达MX-5 (NC) 2.0i 158 bhp</h2><figure class="lu lv lw lx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es me"><img src="../Images/363f9776b40819cb9e10ff7a58a3ff83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tssy-cf-zCkt3pruLDJTzg.jpeg"/></div></div></figure><h2 id="c40a" class="lf jp hi bd jq lg lh li ju lj lk ll jy jb lm ln kc jf lo lp kg jj lq lr kk ls bi translated">法拉利150 Italia(f1)</h2><figure class="lu lv lw lx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mf"><img src="../Images/b012088a772866aefc6044e2f97537b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WjRMQHhg3xEo-38MaUtbkQ.jpeg"/></div></div></figure><h2 id="bf2e" class="lf jp hi bd jq lg lh li ju lj lk ll jy jb lm ln kc jf lo lp kg jj lq lr kk ls bi translated">保时捷911 GT3 991.2</h2><figure class="lu lv lw lx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mg"><img src="../Images/e490e87a0539b6cec9928daf33a09d68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o3-_55AkLXKduW_KB5yXTw.jpeg"/></div></div></figure><h1 id="5747" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">结论</h1><p id="b39e" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">频谱分析技术是非常强大的工具，可用于从排气声音的简单音频记录中计算内燃机速度以及其他车辆指标。主要挑战在于，基频并不总是直接与谐波和其他噪声源隔离。虽然这可以通过多种方式解决，但在各种车辆和发动机类型下实现自动化并使其坚固耐用可能仍然是困难的。然而，在计算出发动机速度信号的情况下，这可以用于逆向工程其他车辆参数，例如车辆速度或发动机扭矩和功率曲线。</p></div></div>    
</body>
</html>