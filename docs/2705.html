<html>
<head>
<title>JAVA + SCALA in a Single IntelliJ Project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一个IntelliJ项目中的JAVA + SCALA</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/java-scala-in-a-single-module-in-intellij-86a3b9c76156?source=collection_archive---------2-----------------------#2021-05-14">https://medium.com/analytics-vidhya/java-scala-in-a-single-module-in-intellij-86a3b9c76156?source=collection_archive---------2-----------------------#2021-05-14</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="c3de" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">在一个IntelliJ项目模块中混合JAVA和SCALA</h2></div><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es iw"><img src="../Images/bf9a4524daada73ce70edb8dc4418f12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UUkIfFEFGxXY8j0vGCi0sg.png"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx translated">作者创建的图像</figcaption></figure><p id="57b4" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated">因此，您可能想知道是否有可能在同一个IntelliJ项目中结合JAVA和SCALA。</p><p id="8096" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated">答案是肯定的，我的IntelliJ 中有<a class="ae ki" href="https://github.com/kefeimo/SparkStreamingDashboard" rel="noopener ugc nofollow" target="_blank"> Apache Spark项目。它使用标准的maven目录，在模块目录的<code class="du kj kk kl km b">src/main</code>下有<code class="du kj kk kl km b">java</code>和<code class="du kj kk kl km b">scala</code>目录。</a></p><p id="a563" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated">网上的许多帖子都声称在同一个项目中混合存在同样的奇怪问题。如果这个问题多年来都没有得到解决，也没有真正的文章解释原因，那么你可能是那些对使用scala感到不安的人之一。</p><p id="3be9" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated">在这篇文章中，我将指导你如何在IntelliJ(社区版，版本:2021.1.1)中实现这一点</p><p id="558b" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated">事不宜迟，让我们走一遍这个过程。</p><h1 id="cbd1" class="kn ko hh bd kp kq kr ks kt ku kv kw kx in ky io kz iq la ir lb it lc iu ld le bi translated">辅导的</h1><ol class=""><li id="4976" class="lf lg hh jo b jp lh js li jv lj jz lk kd ll kh lm ln lo lp bi translated"><strong class="jo hi">创建一个新的默认POM项目</strong></li></ol><ul class=""><li id="0d9d" class="lf lg hh jo b jp jq js jt jv lq jz lr kd ls kh lt ln lo lp bi translated"><code class="du kj kk kl km b">File </code> → <code class="du kj kk kl km b">New Project</code> → <code class="du kj kk kl km b">Maven </code>(使用默认的Maven项目，不要从原型创建)→ <code class="du kj kk kl km b">Next</code></li></ul><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es lu"><img src="../Images/91b9bb85b7dab959067aa1b88a38abdb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QWkpPaaezLSLRXXI0lx4uQ.png"/></div></div></figure><ul class=""><li id="4cb1" class="lf lg hh jo b jp jq js jt jv lq jz lr kd ls kh lt ln lo lp bi translated">给项目一个<code class="du kj kk kl km b">Name </code> → <code class="du kj kk kl km b">Finish</code></li></ul><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es lv"><img src="../Images/34676229d4bc4f7247746d3ef41d75ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*32hjGuCqYHynLMkmJSbG2w.png"/></div></div></figure><p id="291b" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated">原来的<code class="du kj kk kl km b">pom.xml</code>会是这个样子。让它保持现在的样子。</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es lw"><img src="../Images/104d80c77bcd4c9d4bf91dad19244837.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yIegTEWdH8_IMyX6Nh4ukA.png"/></div></div></figure><p id="c4de" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated"><strong class="jo hi"> 2。创建一个简单的java文件</strong></p><p id="55eb" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated">右击源目录"<code class="du kj kk kl km b">java</code> " → <code class="du kj kk kl km b">new </code> → <code class="du kj kk kl km b">Java Class</code></p><p id="5863" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated">在我的例子中，我首先创建了一个包目录(<code class="du kj kk kl km b">java </code> → <code class="du kj kk kl km b">new </code> → <code class="du kj kk kl km b">Package</code>)，然后创建了一个Java类文件</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es lu"><img src="../Images/207eedb813ef6a8b9731760a3e30c55b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oQgdX2y_Yvdhp9621D8jhA.png"/></div></div></figure><p id="183b" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated">编写一些简单的代码并运行。(如果您不熟悉IntelliJ并且不确定如何运行该应用程序，请查看此<a class="ae ki" href="https://www.jetbrains.com/help/idea/creating-and-running-your-first-java-application.html" rel="noopener ugc nofollow" target="_blank">链接</a>)</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lx ly l"/></div></figure><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es lz"><img src="../Images/9a068a96daee8567d5431de142c1b017.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kB4uIwYcYZI7fXvjCN674w.png"/></div></div></figure><p id="0646" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated">结果。</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es ma"><img src="../Images/f13f50c2de6d104c83877472558c4671.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F8BKpVsApqy2Zur3hi5m2w.png"/></div></div></figure></div><div class="ab cl mb mc go md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ha hb hc hd he"><p id="906f" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated">接下来，让我们集成一些scala代码。</p><p id="3d84" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated"><strong class="jo hi"> 3。启用scala框架支持</strong></p><p id="bfa5" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated">注意这里没有<strong class="jo hi"> <em class="mi">没有</em> </strong>选项让我们在New下创建一个Scala类或对象。</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es lu"><img src="../Images/207eedb813ef6a8b9731760a3e30c55b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oQgdX2y_Yvdhp9621D8jhA.png"/></div></div></figure><p id="30ea" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated">我们需要做的是添加scala框架支持。</p><p id="9990" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated">右键单击模块名(对于我的例子是mixJavaScalaPOM)→<code class="du kj kk kl km b">Add Framework Support…</code></p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es lw"><img src="../Images/d2b6b9e44e4c5db59942e587abd27d99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3vavg1bL9VIjm4YW3H0tDg.png"/></div></div></figure><p id="db96" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated">在左侧面板中勾选<code class="du kj kk kl km b">Scala</code>选项→在<code class="du kj kk kl km b">Use library</code>中选择Scala版本(如果不存在，点击<code class="du kj kk kl km b">Create</code>并选择Scala SDK jar) → <code class="du kj kk kl km b">OK</code></p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es mj"><img src="../Images/2f442c48a53aa11dd775e9d5d4b8beef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*74wpK3virOFVrGjT1m9qig.png"/></div></div></figure><p id="f58b" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated">再次右击java源代码路径，可以看到现在有一个<code class="du kj kk kl km b">Scala Class</code>选项</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es lw"><img src="../Images/d2b48c01918cda80558b17ae36688b84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rGdNpvFZIxqmYhaJzwS60Q.png"/></div></div></figure><p id="485d" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated"><strong class="jo hi"> 4。细化文件结构</strong></p><p id="531b" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated">即使我们现在能够创建Scala类，但是将Scala文件放在java源文件路径下还是会令人困惑。让我们为Scala创建一个源文件路径。</p><p id="7808" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated">4.1在<code class="du kj kk kl km b">main</code>下新建一个名为<code class="du kj kk kl km b">scala</code>的目录</p><p id="b75f" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated">(注意颜色为灰色，表示正常目录；在Intellij约定中，源路径目录是蓝色的。)</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div class="er es mk"><img src="../Images/da220ca139e9512849e02379c1368734.png" data-original-src="https://miro.medium.com/v2/resize:fit:1166/format:webp/1*hj-hTszQ6AytJZEWSWob5A.png"/></div></figure><p id="f15c" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated">4.2将scala目录指定为源路径</p><p id="fc04" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated"><code class="du kj kk kl km b">File </code> → <code class="du kj kk kl km b">Project Structure</code> →(在提示的左边)<code class="du kj kk kl km b">Project Settings</code> → <code class="du kj kk kl km b">Modules</code></p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es ml"><img src="../Images/2e5b9130fc3c098a8e45febcf8fc40dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZOFzfvFJ04nrAjjK6OVx4w.png"/></div></div></figure><p id="90b1" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated">右键点击新创建的<code class="du kj kk kl km b">scala</code>目录→选择<code class="du kj kk kl km b">Sources</code> → <code class="du kj kk kl km b">OK</code></p><p id="e23b" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated">(注意scala目录在这个操作之后变成了蓝色)</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es mm"><img src="../Images/54817aeb62829c22a98437d79b7d54ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3eqrLS5POVW8yxGTH3fI-w.png"/></div></div></figure><figure class="ix iy iz ja fd jb er es paragraph-image"><div class="er es mn"><img src="../Images/de26c8cb470136fea6b6b010ea6699df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1014/format:webp/1*orxKGxw_MYUN5dRelSkQYQ.png"/></div></figure><p id="f6cc" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated">现在创建一个Hello-world scala对象文件并测试项目是否工作。</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lx ly l"/></div></figure><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es lw"><img src="../Images/e4ec4c077286b30c5c1c0731fec50351.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E2bAzfMmvhKOz_-vVyUIcA.png"/></div></div></figure><p id="17dd" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated">耶。<a class="ae ki" href="https://emojipedia.org/grinning-face/" rel="noopener ugc nofollow" target="_blank">😀像魔咒一样工作。</a></p><p id="ecab" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated">如果我们想打包代码，最后一步。</p><p id="0108" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated"><strong class="jo hi"> 5。为依赖项和插件配置pom文件。</strong></p><ul class=""><li id="693f" class="lf lg hh jo b jp jq js jt jv lq jz lr kd ls kh lt ln lo lp bi translated">JVM(例如，JDK-8)默认不包含scala编译器，所以如果想要打包代码并作为jar文件在JVM上运行，我们需要包含scala依赖项(即scala-library)。基于项目，还有其他依赖项要包含。</li><li id="69a3" class="lf lg hh jo b jp mo js mp jv mq jz mr kd ms kh lt ln lo lp bi translated">我们还包括一些插件(maven-compiler-plugin、maven-shade-plugin和scala-maven-plugin ),所以我们可以制作uber jar。</li></ul><p id="1751" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated">下面是更新后的pom.xml(虽然有点罗嗦)</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lx ly l"/></div></figure><p id="5d4f" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated">现在我们可以用<code class="du kj kk kl km b">mvn package</code>命令打包代码了。(我更喜欢在命令行上打包我的maven项目。但是如果你喜欢在IntelliJ内部实现相同的目标，请查看此链接。)</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div class="er es mt"><img src="../Images/12c0132771668897c28e4f9965623359.png" data-original-src="https://miro.medium.com/v2/resize:fit:1066/format:webp/1*VPxKiyzXKyHZTYv4cpL7tw.png"/></div></figure><p id="4eb9" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated">这里我们有两个jar文件。</p><ul class=""><li id="b2c7" class="lf lg hh jo b jp jq js jt jv lq jz lr kd ls kh lt ln lo lp bi translated">具有依赖关系的超级jar(mixJavaScalaPOM-1.0-snapshot . jar)</li><li id="92bc" class="lf lg hh jo b jp mo js mp jv mq jz mr kd ms kh lt ln lo lp bi translated">一个普通的jar(original-mixJavaScalaPOM-1.0-snapshot . jar)</li></ul><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es mu"><img src="../Images/2e41e8bd8b6edbba7fda22da3d7c5db9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IAeIiGVPXzIkUGIyEABr9A.png"/></div></div></figure><p id="1796" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated">现在用<code class="du kj kk kl km b">java -cp</code>命令测试软件包。</p><p id="b421" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated">(注意原始的jar(非uber jar)不适用于scala类，因为它没有打包scala库依赖项。)</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es mv"><img src="../Images/2896e74660aabd262ba01fdd03ec8a44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oioLSs1eMbSE9-OnOoV83g.png"/></div></div></figure></div><div class="ab cl mb mc go md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ha hb hc hd he"><h1 id="aaab" class="kn ko hh bd kp kq mw ks kt ku mx kw kx in my io kz iq mz ir lb it na iu ld le bi translated">摘要</h1><p id="92dd" class="pw-post-body-paragraph jm jn hh jo b jp lh ii jr js li il ju jv nb jx jy jz nc kb kc kd nd kf kg kh ha bi translated">在本教程中，我们将在IntelliJ中创建一个混合的JAVA + SCALA项目。该项目可以从<a class="ae ki" href="https://github.com/kefeimo/mixJavaScalaPOM" rel="noopener ugc nofollow" target="_blank"> Github </a>下载。如果你有任何问题，请留下评论。下次见。</p></div></div>    
</body>
</html>