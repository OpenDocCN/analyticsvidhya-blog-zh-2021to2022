<html>
<head>
<title>How to Plotting Financial Data Chart with Plotly Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Plotly Python绘制财务数据图表</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/how-to-plotting-financial-data-chart-with-plotly-python-d8b21a210f59?source=collection_archive---------2-----------------------#2021-06-22">https://medium.com/analytics-vidhya/how-to-plotting-financial-data-chart-with-plotly-python-d8b21a210f59?source=collection_archive---------2-----------------------#2021-06-22</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="3471" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">关于<a class="ae jd" href="https://developers.refinitiv.com/" rel="noopener ugc nofollow" target="_blank">路孚特开发者社区</a>的原始文章可从<a class="ae jd" href="https://developers.refinitiv.com/en/article-catalog/article/plotting-financial-data-chart-with-plotly-python-on-classic-jupy" rel="noopener ugc nofollow" target="_blank">这里</a>获得。</p><h1 id="8ac5" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">概观</h1><p id="662d" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated"><strong class="ih hj">更新</strong>:2021年6月</p><p id="5d79" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">随着数据科学家、财务编码员或交易员(又名公民开发者)的兴起，数据可视化是如何向读者(财务团队、营销团队等)呈现数据、信息及其上下文的重要部分。).好的数据分析本身不能与好的图形表示一起使用。</p><p id="6563" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Matplotlib Pyplot是一个事实上的库，用于在Python和数据科学家的世界中进行交互式绘图和数据可视化。然而，<a class="ae jd" href="https://matplotlib.org/" rel="noopener ugc nofollow" target="_blank"> Matplotlib </a>是一个巨大的库，包含了几个接口、功能和1000多页文档。</p><p id="cf64" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">还有很多其他可供选择的绘图库比如<a class="ae jd" href="https://seaborn.pydata.org/" rel="noopener ugc nofollow" target="_blank">Seaborn</a>(Matplotlib的高级接口)<a class="ae jd" href="https://www.spotify.com/us/home/" rel="noopener ugc nofollow" target="_blank"> Spotify </a>的<a class="ae jd" href="https://github.com/spotify/chartify" rel="noopener ugc nofollow" target="_blank"> Chartify </a>、<a class="ae jd" href="https://docs.bokeh.org/en/latest/" rel="noopener ugc nofollow" target="_blank"> Bokeh </a>、<a class="ae jd" href="https://plotly.com/python/" rel="noopener ugc nofollow" target="_blank"> Plotly Python </a>等。</p><p id="e551" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个示例项目演示了如何使用Plotly Python库绘制各种类型的图形。演示应用程序使用来自<a class="ae jd" href="https://developers.refinitiv.com/en/api-catalog/eikon/eikon-data-api" rel="noopener ugc nofollow" target="_blank"> Eikon数据API </a>的冠状病毒疾病(新冠肺炎)、环境、社会和治理以及财务数据作为数据集的示例。</p><h1 id="21a3" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">Plotly Python简介</h1><p id="8193" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated"><a class="ae jd" href="https://plotly.com/python/" rel="noopener ugc nofollow" target="_blank"> Plotly Python </a>是一个<a class="ae jd" href="https://plotly.com/python/is-plotly-free/" rel="noopener ugc nofollow" target="_blank">免费</a>和<a class="ae jd" href="https://github.com/plotly/plotly.py" rel="noopener ugc nofollow" target="_blank">开源</a>的Python交互式图形库。该库构建在<a class="ae jd" href="https://plotly.com/javascript/" rel="noopener ugc nofollow" target="_blank"> plotly.js </a> JavaScript库(<a class="ae jd" href="https://github.com/plotly/plotly.js" rel="noopener ugc nofollow" target="_blank"> GitHub </a>)之上。Plotly Python和Plotly JavaScript都是<a class="ae jd" href="https://plotly.com/" rel="noopener ugc nofollow" target="_blank"> Plotly </a>的Dash和Chart Studio应用套件的一部分，为数据科学家和企业提供交互式的科学数据可视化库/解决方案。</p><p id="e6ca" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">本文将重点介绍Plotly Python开源库版本<strong class="ih hj"> 4.14.3 </strong>、<strong class="ih hj"> 5.0.0 </strong>和<strong class="ih hj"> 4.5.2 </strong> (4.5.2仅针对码本环境)。</p><h2 id="e4ad" class="kh jf hi bd jg ki kj kk jk kl km kn jo iq ko kp js iu kq kr jw iy ks kt ka ku bi translated">Plotly Python和Jupyter安装</h2><p id="3b6d" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">Plotly Python在<a class="ae jd" href="https://pypi.org/project/plotly/" rel="noopener ugc nofollow" target="_blank"> PyPi </a>和<a class="ae jd" href="https://anaconda.org/conda-forge/plotly" rel="noopener ugc nofollow" target="_blank"> Conda </a>库上都可用，所以可以用下面的Python pip命令安装这个库。</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="2e0c" class="kh jf hi la b fi le lf l lg lh">$&gt; pip install plotly</span></pre><p id="ed40" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要将Plotly Python与经典Jupyter Notebook(不是JupyterLab)一起使用，可以使用以下conda命令安装Notebook和ipywidgets包:</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="28c0" class="kh jf hi la b fi le lf l lg lh">$&gt; conda install "notebook&gt;=5.3" "ipywidgets&gt;=7.5"</span></pre><p id="af3f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="li">注</em>:</p><ul class=""><li id="47dd" class="lj lk hi ih b ii ij im in iq ll iu lm iy ln jc lo lp lq lr bi translated">如果您想将Plotly Python与JupyterLab一起使用，请参考<a class="ae jd" href="https://plotly.com/python/getting-started/#jupyterlab-support" rel="noopener ugc nofollow" target="_blank"> Plotly Python — JupyterLab支持</a>页面，了解如何设置JupyterLab、JupyterLab扩展(<a class="ae jd" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank"> Node.js </a>是必需的)。</li><li id="6805" class="lj lk hi ih b ii ls im lt iq lu iu lv iy lw jc lo lp lq lr bi translated">如果您是<a class="ae jd" href="https://www.refinitiv.com/en/products/refinitiv-workspace" rel="noopener ugc nofollow" target="_blank">路孚特工作区</a>或<a class="ae jd" href="https://www.refinitiv.com/en/products/eikon-trading-software" rel="noopener ugc nofollow" target="_blank"> Eikon </a>用户，您可以从应用程序访问<a class="ae jd" href="https://www.refinitiv.com/en/products/codebook" rel="noopener ugc nofollow" target="_blank"> <em class="li">码本</em> </a>，这是一个云托管的Jupyter笔记本开发环境，用于Python脚本编写。密码本已经为你准备了Plotly <em class="li">版本4.5.2 </em>。</li></ul><h2 id="e00e" class="kh jf hi bd jg ki kj kk jk kl km kn jo iq ko kp js iu kq kr jw iy ks kt ka ku bi translated">Plotly Python示例<a class="ae jd" href="http://localhost:8888/notebooks/plotly_dapi.ipynb#Plotly-Python-Example" rel="noopener ugc nofollow" target="_blank"> </a></h2><p id="836f" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">Plotly Python的示例代码如下:</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="fe1a" class="kh jf hi la b fi le lf l lg lh">import plotly.express as px</span><span id="116e" class="kh jf hi la b fi lx lf l lg lh">fig = px.line(x=["a","b","c"], y=[1,3,2], title="sample figure")<br/>fig.show()</span></pre><figure class="kv kw kx ky fd lz er es paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="er es ly"><img src="../Images/e75a1d05f56bcd1f172614165ff21ec1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_NQClgfM_RF43YHH48UUFA.png"/></div></div></figure><h1 id="0db6" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">Eikon数据API简介</h1><p id="354d" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated"><a class="ae jd" href="https://developers.refinitiv.com/en/api-catalog/eikon/eikon-data-api" rel="noopener ugc nofollow" target="_blank">艾康数据API </a>(又名DAPI)通过无缝工作流程提供对路孚特艾康/路孚特工作区数据的访问，桌面上运行的所有应用程序使用相同的数据。该API允许开发人员通过一个具有本地Python支持的现代API来利用各种社区工具。</p><figure class="kv kw kx ky fd lz er es paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="er es mg"><img src="../Images/f0c60a56e7876bcea4e181a3941b3f8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KZoTnA39dOJnl4ThsR-tMQ.png"/></div></div></figure><p id="461e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您不熟悉Eikon Data API或Python，强烈建议您在继续下一步之前阅读以下资源。</p><ul class=""><li id="c517" class="lj lk hi ih b ii ij im in iq ll iu lm iy ln jc lo lp lq lr bi translated"><a class="ae jd" href="https://developers.refinitiv.com/en/api-catalog/eikon/eikon-data-api/tutorials#setting-up-a-python-development-environment" rel="noopener ugc nofollow" target="_blank">搭建Python开发环境</a>。</li><li id="fefd" class="lj lk hi ih b ii ls im lt iq lu iu lv iy lw jc lo lp lq lr bi translated"><a class="ae jd" href="https://developers.refinitiv.com/en/api-catalog/eikon/eikon-data-api/quick-start" rel="noopener ugc nofollow" target="_blank"> Eikon数据API快速入门</a>。</li></ul><p id="51e3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="li">注</em>:</p><ul class=""><li id="dbcc" class="lj lk hi ih b ii ij im in iq ll iu lm iy ln jc lo lp lq lr bi translated">本文基于Eikon数据API版本<strong class="ih hj"> 1.1.10 </strong>和<strong class="ih hj"> 1.1.6.post3 </strong>(在码本应用中)。</li><li id="f0ab" class="lj lk hi ih b ii ls im lt iq lu iu lv iy lw jc lo lp lq lr bi translated">关于API数据覆盖范围和数据限制，请参见<a class="ae jd" href="https://developers.refinitiv.com/en/api-catalog/eikon/eikon-data-api/documentation#eikon-data-api-usage-and-limits-guideline" rel="noopener ugc nofollow" target="_blank"> Eikon数据API使用和限制指南</a>。</li></ul><h1 id="9c79" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">先决条件</h1><p id="7689" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">此示例需要下列依赖项软件和库。</p><ol class=""><li id="0665" class="lj lk hi ih b ii ij im in iq ll iu lm iy ln jc mh lp lq lr bi translated">可访问Eikon数据API的路孚特Eikon或路孚特Workspace应用程序。</li><li id="03e2" class="lj lk hi ih b ii ls im lt iq lu iu lv iy lw jc mh lp lq lr bi translated">Python <a class="ae jd" href="https://www.anaconda.com/distribution/" rel="noopener ugc nofollow" target="_blank"> Anaconda </a>或<a class="ae jd" href="https://docs.conda.io/en/latest/miniconda.html" rel="noopener ugc nofollow" target="_blank"> MiniConda </a>分发/包管理器。</li><li id="4fa2" class="lj lk hi ih b ii ls im lt iq lu iu lv iy lw jc mh lp lq lr bi translated"><a class="ae jd" href="https://jupyter.readthedocs.io/en/latest/install/notebook-classic.html" rel="noopener ugc nofollow" target="_blank">经典Jupyter笔记本</a>或<a class="ae jd" href="https://jupyterlab.readthedocs.io/en/stable/getting_started/installation.html" rel="noopener ugc nofollow" target="_blank"> JupyterLab </a>应用</li><li id="3c6b" class="lj lk hi ih b ii ls im lt iq lu iu lv iy lw jc mh lp lq lr bi translated">互联网连接。</li></ol><p id="0873" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="li">注:</em></p><ul class=""><li id="f89f" class="lj lk hi ih b ii ij im in iq ll iu lm iy ln jc lo lp lq lr bi translated">这个项目已经通过了Python版本3.8.8和Conda版本4.10.1的认证</li></ul><p id="56a0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请联系您的路孚特代表，以帮助您获得路孚特Workspace/Eikon证书。您可以按照<a class="ae jd" href="https://developers.refinitiv.com/en/api-catalog/eikon/eikon-data-api/quick-start" rel="noopener ugc nofollow" target="_blank"> Eikon数据API快速入门</a>页面中的步骤生成/管理AppKey。</p><h1 id="b54f" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">获取数据的代码演练</h1><p id="c010" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">我们通过导入Eikon数据API、Pandas、Plotly和其他所需的库来启动代码，然后启动Data Eikon数据API会话。</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="8368" class="kh jf hi la b fi le lf l lg lh"># Eikon and Application Libraries</span><span id="7684" class="kh jf hi la b fi lx lf l lg lh">import eikon as ek<br/>import datetime<br/>import numpy as np<br/>import pandas as pd<br/>import plotly.express as px</span><span id="6b5a" class="kh jf hi la b fi lx lf l lg lh">ek.set_app_key('&lt;YOUR_APP_ID_HERE&gt;')</span></pre><h1 id="0ff9" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">新冠肺炎数据</h1><p id="0201" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">让我们从新冠肺炎数据开始，该数据可通过以下仪器模式在路孚特工作空间/路孚特艾肯平台中获得:</p><ul class=""><li id="4b74" class="lj lk hi ih b ii ij im in iq ll iu lm iy ln jc lo lp lq lr bi translated"><em class="li">【国家代码】CCOV=ECI </em>:新冠肺炎病例总数</li><li id="5ecf" class="lj lk hi ih b ii ls im lt iq lu iu lv iy lw jc lo lp lq lr bi translated"><em class="li">【国家代码】NCOV=ECI </em>:新冠肺炎新增病例</li><li id="b08d" class="lj lk hi ih b ii ls im lt iq lu iu lv iy lw jc lo lp lq lr bi translated"><em class="li">【国家代码】ACOV=ECI </em>:新冠肺炎现行案例</li><li id="69dd" class="lj lk hi ih b ii ls im lt iq lu iu lv iy lw jc lo lp lq lr bi translated"><em class="li">【国家代码】RCOV=ECI </em>:新冠肺炎恢复病例</li><li id="97bc" class="lj lk hi ih b ii ls im lt iq lu iu lv iy lw jc lo lp lq lr bi translated"><em class="li">【国家代码】DCOV=ECI </em>:新冠肺炎死亡病例</li></ul><p id="8bf1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，美国新冠肺炎数据的示例仪器有<em class="li"> USCCOV=ECI </em>、<em class="li"> USNCOV=ECI </em>、<em class="li"> USACOV=ECI </em>、<em class="li"> USRCOV=ECI </em>和<em class="li"> USDCOV=ECI </em>仪器。</p><figure class="kv kw kx ky fd lz er es paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="er es mi"><img src="../Images/ba725b8c41c3673ab946bbee33d05d35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XvvfNtfijuWwl3FyZjKHVA.png"/></div></div></figure><p id="7885" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以从Workspace/Eikon经济指标(“ECONNID”)应用程序中找到每个国家的新冠肺炎数据，然后选择国家和指标值。</p><figure class="kv kw kx ky fd lz er es paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="er es mj"><img src="../Images/dfa2fa77e101dd21f4506629db8e8f65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jdVq5_tDLFcXyK1-5y5U3w.png"/></div></div></figure><p id="78a0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">新冠肺炎数据为用户提供了以下字段的详细信息:</p><ul class=""><li id="9e51" class="lj lk hi ih b ii ij im in iq ll iu lm iy ln jc lo lp lq lr bi translated"><em class="li"> DSPLY_NMLL </em>:显示名称</li><li id="8f82" class="lj lk hi ih b ii ls im lt iq lu iu lv iy lw jc lo lp lq lr bi translated"><em class="li">国家</em>:国家代码</li><li id="d609" class="lj lk hi ih b ii ls im lt iq lu iu lv iy lw jc lo lp lq lr bi translated"><em class="li"> CF_DATE </em>:公告日期</li><li id="ee63" class="lj lk hi ih b ii ls im lt iq lu iu lv iy lw jc lo lp lq lr bi translated"><em class="li"> ECON_ACT </em>:实际值</li><li id="c594" class="lj lk hi ih b ii ls im lt iq lu iu lv iy lw jc lo lp lq lr bi translated"><em class="li">ECON _先前</em>:先前值</li></ul><p id="ce93" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将使用泰国2021年1月1日至2021年5月3日的新病例历史数据，并使用Eikon数据API <strong class="ih hj"> get_timeseries </strong>函数作为Plotly的示例数据。</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="6989" class="kh jf hi la b fi le lf l lg lh"># Thailand New Cases</span><span id="26d1" class="kh jf hi la b fi lx lf l lg lh">RIC = 'THNCOV=ECI'</span><span id="85e9" class="kh jf hi la b fi lx lf l lg lh">df_thailand_historical_new_cases = ek.get_timeseries(RIC, start_date='2021-01-01', end_date='2021-05-03', interval='daily')</span><span id="16a2" class="kh jf hi la b fi lx lf l lg lh">df_thailand_historical_new_cases.head()</span></pre><figure class="kv kw kx ky fd lz er es paragraph-image"><div class="er es mk"><img src="../Images/428afef98cee022c0bb328f33dbd2a87.png" data-original-src="https://miro.medium.com/v2/resize:fit:994/format:webp/1*O2XIWuH390DhgYHwfxIEJw.png"/></div></figure><h1 id="537a" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">用Plotly Python绘制图形</h1><p id="bdd0" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">与Matplotlib一样，Plotly也提供了各种低级、高级助手接口，用于根据开发人员的偏好创建、操作和呈现图形，如图表、绘图、地图、图表等。</p><p id="b7e6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Plotly Python图形由<a class="ae jd" href="https://plotly.com/python/figure-structure/" rel="noopener ugc nofollow" target="_blank">树状数据结构</a>表示，这些数据结构会自动序列化到JSON，以便由<strong class="ih hj"> Plotly.js </strong> JavaScript库进行渲染。Plotly提供了<a class="ae jd" href="https://plotly.com/python/graph-objects/" rel="noopener ugc nofollow" target="_blank">图形对象</a>作为将图形包装成Python类的底层接口，并提供了<a class="ae jd" href="https://plotly.com/python/plotly-express/" rel="noopener ugc nofollow" target="_blank"> Plotly Express </a>作为创建图形的高层接口。</p><h1 id="efc0" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">Plotly Express</h1><p id="9c91" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">Plotly Express 包是Plotly Python库的推荐入口点。它是数据可视化的高级接口。<strong class="ih hj"> plotly.express </strong>模块(通常导入为<code class="du ml mm mn la b">px</code>)包含可以一次创建完整图形的功能，被称为Plotly Express或PX。Plotly Express是<strong class="ih hj"> plotly </strong>库的内置部分，是创建最常见图形的推荐起点。</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="5610" class="kh jf hi la b fi le lf l lg lh">import plotly.express as px</span></pre><p id="6771" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Plotly Express提供了30多种功能来创建不同类型的图形。这些函数的API被精心设计成尽可能的一致和易于学习。</p><p id="bd4a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将从线图界面开始。</p><h2 id="593c" class="kh jf hi bd jg ki kj kk jk kl km kn jo iq ko kp js iu kq kr jw iy ks kt ka ku bi translated">用Plotly Express绘制线图</h2><p id="81ef" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated"><a class="ae jd" href="https://plotly.com/python/line-charts/" rel="noopener ugc nofollow" target="_blank">线图</a>界面是使用<strong class="ih hj"> px.line() </strong>函数创建2D线图的易用函数。</p><p id="94b6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将绘制泰国新冠肺炎新病例历史数据的单线图，以<strong class="ih hj">日期</strong>值作为X轴，以<strong class="ih hj">值</strong>作为y轴。我们需要重新构建<a class="ae jd" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html" rel="noopener ugc nofollow" target="_blank"> Pandas Dataframe </a>来包含日期索引作为数据列。</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="f4a1" class="kh jf hi la b fi le lf l lg lh"># Reset index to include Date as a data column</span><span id="ed6e" class="kh jf hi la b fi lx lf l lg lh">df_thailand_historical_new_cases.reset_index(level=0, inplace=True)<br/>df_thailand_historical_new_cases.head()</span></pre><figure class="kv kw kx ky fd lz er es paragraph-image"><div class="er es mo"><img src="../Images/e0fc48287be3cb1ed837bf905c276943.png" data-original-src="https://miro.medium.com/v2/resize:fit:774/format:webp/1*9KXftesUkCZ9t1T6ckldoA.png"/></div></figure><p id="9a97" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们用Plotly Express<strong class="ih hj">px . line()</strong>函数为折线图创建Plotly图形对象。我们将<strong class="ih hj">日期</strong>列作为x轴，<strong class="ih hj">值</strong>列作为y轴，并将图表标题信息传递给函数。</p><p id="ca1a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后我们使用Figure <strong class="ih hj"> update_traces() </strong>方法更新线条颜色等图形轨迹，使用<strong class="ih hj"> update_yaxes() </strong>方法更新图形的y轴信息。</p><p id="db1b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，我们调用Figure <strong class="ih hj"> show() </strong>函数在Jupyter笔记本上绘制图表。请注意，我们将<strong class="ih hj">‘Notebook’</strong>传递给函数，以针对经典Jupyter笔记本环境强制使用经典Jupyter笔记本渲染器。如果你正在使用JupyterLab，你可以只使用<strong class="ih hj"> fig.show() </strong>语句。</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="9f36" class="kh jf hi la b fi le lf l lg lh">fig = px.line(df_thailand_historical_new_cases, x="Date", y="VALUE", title='Thailand Covid-19 New Cases')</span><span id="852b" class="kh jf hi la b fi lx lf l lg lh">fig.update_yaxes(title_text='Number of cases') #Update Y-Axis title<br/>fig.update_traces(line_color='#FF0000') #Update Chart colo<br/>fig.show()</span></pre><p id="5144" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">结果将如下所示:</p><figure class="kv kw kx ky fd lz er es paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="er es mp"><img src="../Images/7b2a9135940427d38999cc07d67adad4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w27E6hdEvZl0IZyVeT0_pg.png"/></div></div></figure><h2 id="c135" class="kh jf hi bd jg ki kj kk jk kl km kn jo iq ko kp js iu kq kr jw iy ks kt ka ku bi translated">多线图</h2><p id="fb51" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">Plotly Express线也支持多线图形。我们使用美国、印度、巴西、法国和俄国的新冠肺炎新病例数据作为示例数据来展示从2021年1月1日到2021年5月3日的新病例趋势。</p><p id="90fb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">#定义RICs列表</p><p id="21ba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">rics = ['USNCOV=ECI '，' INNCOV=ECI '，' BRNCOV=ECI '，' FRNCOV=ECI '，' RUNCOV=ECI']</p><p id="ba59" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">#调用Eikon数据API get_timeseries函数</p><p id="a480" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">df _ historical _ total _ cases = ek . get _ time series(RICS，start _ date = ' 2021–01–01 '，end _ date = ' 2021–04–29 '，interval='daily ')</p><p id="5d49" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">df _历史_总计_案例</p><figure class="kv kw kx ky fd lz er es paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="er es mq"><img src="../Images/955e5932ceb2dc3ef9edb0cff1c7639f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VW-cimpFWGeaQPwgWMW_ZQ.png"/></div></div></figure><p id="4f13" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当前的列名是RIC名(<em class="li"> USNCOV=ECI </em>、<em class="li"> INNCOV=ECI </em>等。)很难阅读，所以我们需要首先将列名重命名为可读的国家名称。</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="fffc" class="kh jf hi la b fi le lf l lg lh">df_historical_total_cases.rename(<br/>    columns= {'USNCOV=ECI':'USA',     'INNCOV=ECI':'India','BRNCOV=ECI':'Brazil','FRNCOV=ECI':'France','RUNCOV=ECI':'Russia'},<br/>    inplace = True<br/>)<br/>df_historical_total_cases.head()</span></pre><figure class="kv kw kx ky fd lz er es paragraph-image"><div class="er es mr"><img src="../Images/d831b643f2bdd0ed076a9ac60392bab5.png" data-original-src="https://miro.medium.com/v2/resize:fit:962/format:webp/1*kWEYC7L5xft3Tu54zjxI1A.png"/></div></figure><p id="974e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后我们重置Dataframe索引，将日期作为数据列包含进来。</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="89a3" class="kh jf hi la b fi le lf l lg lh">df_historical_total_cases.reset_index(level=0, inplace=True)</span></pre><p id="5eee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了绘制多条线图，我们调用<strong class="ih hj"> px.line() </strong>函数，将列名列表作为y轴值传递。</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="59f4" class="kh jf hi la b fi le lf l lg lh">fig = px.line(df_historical_total_cases,<br/>    x="Date",<br/>    y=['USA','India','Brazil','France','Russia'],<br/>    title='World COVID-19 2021 News Cases')</span><span id="555c" class="kh jf hi la b fi lx lf l lg lh">fig.update_yaxes(title_text='Number of cases')<br/>fig.show()</span></pre><figure class="kv kw kx ky fd lz er es paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="er es ms"><img src="../Images/28c20c99680d7ee0e9beabddda378d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fSXbNdpbI5sXrDftu3I0EQ.png"/></div></div></figure><p id="b83c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请在以下资源中查看有关Plotly Express折线图的更多详细信息:</p><ul class=""><li id="cf93" class="lj lk hi ih b ii ij im in iq ll iu lm iy ln jc lo lp lq lr bi translated"><a class="ae jd" href="https://plotly.com/python/line-charts/" rel="noopener ugc nofollow" target="_blank">Python中的折线图</a>页面。</li><li id="e36c" class="lj lk hi ih b ii ls im lt iq lu iu lv iy lw jc lo lp lq lr bi translated"><a class="ae jd" href="https://plotly.com/python-api-reference/generated/plotly.express.line.html#plotly.express.line" rel="noopener ugc nofollow" target="_blank"> Plotly Express Line API参考</a>页面。</li><li id="9fb1" class="lj lk hi ih b ii ls im lt iq lu iu lv iy lw jc lo lp lq lr bi translated"><a class="ae jd" href="https://plotly.com/python/creating-and-updating-figures/#updating-figures" rel="noopener ugc nofollow" target="_blank">在Python </a>页面中创建和更新图形。</li><li id="d837" class="lj lk hi ih b ii ls im lt iq lu iu lv iy lw jc lo lp lq lr bi translated"><a class="ae jd" href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.Figure.html" rel="noopener ugc nofollow" target="_blank"> Plotly图API参考</a>页面。</li></ul><h2 id="f84d" class="kh jf hi bd jg ki kj kk jk kl km kn jo iq ko kp js iu kq kr jw iy ks kt ka ku bi translated">带有Plotly Express的饼图</h2><p id="648e" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated"><a class="ae jd" href="https://plotly.com/python/pie-charts/" rel="noopener ugc nofollow" target="_blank">饼状图</a>界面是使用<strong class="ih hj"> px.pie() </strong>函数创建循环统计图的易用函数。</p><p id="6e1c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将详细调查印度新冠肺炎今天的所有数据(总病例数、新增病例数、活跃病例数、痊愈病例数、死亡病例数)，并将数据绘制成饼状图。</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="924a" class="kh jf hi la b fi le lf l lg lh"># India COVID-19 Data All Rics</span><span id="27d5" class="kh jf hi la b fi lx lf l lg lh">rics_india_today = ['INCCOV=ECI','INNCOV=ECI','INACOV=ECI','INRCOV=ECI','INDCOV=ECI']</span><span id="bfde" class="kh jf hi la b fi lx lf l lg lh">fields = ['DSPLY_NMLL', #Display Name<br/>    'COUNTRY',    #Country code<br/>    'CF_DATE', #Announcement Date<br/>    'ECON_ACT', #Actual value<br/>    'ECON_PRIOR' #Previous value<br/>]</span><span id="8187" class="kh jf hi la b fi lx lf l lg lh">df_india_today, err = ek.get_data(rics_india_today, fields)<br/>df_india_today</span></pre><figure class="kv kw kx ky fd lz er es paragraph-image"><div class="er es mt"><img src="../Images/1fc84c37849e34f8ad2bd42f062ed53f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1394/format:webp/1*TeAFUu_nUyT77HUPU0Oozw.png"/></div></figure><p id="7024" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在某些情况下，根据执行<strong class="ih hj"> get_data </strong>函数的日期和时间(很可能是一周的第一天)，今天的数据(<em class="li"> ECON_ACT </em>字段)可能会返回(可为空的整数)。</p><p id="0140" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了处理这种情况，我们需要检查<em class="li">ECON _行为</em>列中的所有值是否为空。</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="5731" class="kh jf hi la b fi le lf l lg lh">is_ECON_ACT_null = df_india_today['ECON_ACT'].isnull().all()<br/>is_ECON_ACT_null</span><span id="310b" class="kh jf hi la b fi lx lf l lg lh"># If **is_ECON_ACT_null** is **True**, we will plot a Pie Chart with *ECON_PRIOR* value.</span><span id="82e1" class="kh jf hi la b fi lx lf l lg lh">plot_value = 'ECON_ACT'<br/>if is_ECON_ACT_null:<br/>    plot_value = 'ECON_PRIOR'</span></pre><p id="5b7b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">返回的DataFrame对象看起来不错，但有点难以阅读，因此我们将在DataFrame对象中添加一个名为<em class="li"> Description </em>的新列，其中包含有关每个仪器定义的信息。</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="60d5" class="kh jf hi la b fi le lf l lg lh"># Dictionary Definitiion Pattern<br/>covid19_rics_pattern = {<br/>    'CCOV=ECI': 'Total Cases',<br/>    'NCOV=ECI': 'New Cases',<br/>    'RCOV=ECI': 'Recover Cases',<br/>    'ACOV=ECI': 'Active Cases',<br/>    'DCOV=ECI': 'Death Cases'<br/>}</span><span id="1677" class="kh jf hi la b fi lx lf l lg lh"># Get a List of readable Country Name and Event for adding new DataFrame column</span><span id="f34f" class="kh jf hi la b fi lx lf l lg lh">def get_events_descriptions(list_rics):<br/>    list_result = []<br/>    for ric in list_rics:<br/>        event = ric[2:]<br/>        list_result.append('India {event}'.format(event = covid19_rics_pattern[event]))<br/>    return list_result</span><span id="c0a1" class="kh jf hi la b fi lx lf l lg lh">df_india_today['Description'] = get_events_descriptions(rics_india_today)<br/>df_india_today</span></pre><figure class="kv kw kx ky fd lz er es paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="er es mu"><img src="../Images/229380a47725a0707dc0cbfd2671483f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZQtm0U0RjIdQ_31aO3y3QQ.png"/></div></div></figure><p id="1ffc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，我们调用<strong class="ih hj"> px.pie() </strong>函数为饼图创建一个figure对象，其值为<strong class="ih hj"> ECON_ACT </strong>(实际值)字段和<strong class="ih hj">描述</strong>列名。</p><p id="18c3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于这个饼图，我们使用Figure <strong class="ih hj"> update_traces() </strong>方法来更新图上的文本显示格式。</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="a968" class="kh jf hi la b fi le lf l lg lh">fig = px.pie(df_india_today,<br/>    values= plot_value,<br/>    names= 'Description',<br/>    title= 'India Today Covid-19 Data',<br/>    hover_data=['CF_DATE'],<br/>    labels={'CF_DATE':'As Of'}<br/>)</span><span id="af7e" class="kh jf hi la b fi lx lf l lg lh">fig.update_traces(textposition='auto', textinfo='percent+label')<br/>fig.show()</span></pre><h2 id="3996" class="kh jf hi bd jg ki kj kk jk kl km kn jo iq ko kp js iu kq kr jw iy ks kt ka ku bi translated">对于码本用户！！</h2><p id="7bcf" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">请注意，CodeBook应用程序有一个较旧版本的Plotly Python(版本<em class="li"> 4.5.2 </em>截至2021年5月)，因此用于CodeBook的<strong class="ih hj"> px.pie() </strong>函数将略有不同。</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="f3bf" class="kh jf hi la b fi le lf l lg lh"># codebook_plotly_dapi.ipynb</span><span id="d700" class="kh jf hi la b fi lx lf l lg lh">fig = px.pie(df_india_today,<br/>    values= plot_value,<br/>    names= 'Description',<br/>    title= 'India Today Covid-19 Data'<br/>)</span><span id="6c6a" class="kh jf hi la b fi lx lf l lg lh">fig.update_traces(textposition='auto', textinfo='percent+label')</span><span id="8add" class="kh jf hi la b fi lx lf l lg lh">fig.show() # CodeBook is based on JupyerLab</span></pre><figure class="kv kw kx ky fd lz er es paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="er es mv"><img src="../Images/1ccff2ca5067af43d15ae582edf46cf6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0h47QQ6eMM9ZhkFZEwz4FA.png"/></div></div></figure><p id="d77e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请在以下资源中查看有关Plotly Express饼图的更多详细信息:</p><ul class=""><li id="5b9a" class="lj lk hi ih b ii ij im in iq ll iu lm iy ln jc lo lp lq lr bi translated"><a class="ae jd" href="https://plotly.com/python/pie-charts/" rel="noopener ugc nofollow" target="_blank">Python中的饼状图</a>页面。</li><li id="f9af" class="lj lk hi ih b ii ls im lt iq lu iu lv iy lw jc lo lp lq lr bi translated"><a class="ae jd" href="https://plotly.com/python-api-reference/generated/plotly.express.pie" rel="noopener ugc nofollow" target="_blank"> Plotly Express饼状图API参考</a>页面。</li></ul><h1 id="e330" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">Plotly图形对象</h1><p id="f25a" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated"><a class="ae jd" href="https://plotly.com/python/graph-objects/" rel="noopener ugc nofollow" target="_blank">Plotly Graph Object</a>(<strong class="ih hj">Plotly . Graph _ objects</strong>，通常作为<strong class="ih hj"> go </strong>导入)是一个底层接口，让开发人员与Plotly Graph和IPYWidgets进行交互，兼容绘制图形和管理数据细节。虽然Plotly Express提供了一种创建和定制图形的简单方法，但Plotly Graph对象允许开发人员创建和定制更高级的图形，如组条形图、烛台图、不同类型的子图等。</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="cb6a" class="kh jf hi la b fi le lf l lg lh"># Import plotly.graph_objects module</span><span id="6635" class="kh jf hi la b fi lx lf l lg lh">import plotly.graph_objects as go</span></pre><h2 id="6f61" class="kh jf hi bd jg ki kj kk jk kl km kn jo iq ko kp js iu kq kr jw iy ks kt ka ku bi translated">带有Plotly图形对象的“爆炸式”饼图</h2><p id="6d34" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">上面的饼图有一些难以阅读的部分，所以我们将使用Plotly Graph对象重新创建饼图，以从图表中提取一些扇区。</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="5584" class="kh jf hi la b fi le lf l lg lh">fig = go.Figure(data = [ go.Pie(<br/>    labels=df_india_today['Description'],<br/>    values=df_india_today[plot_value],<br/>    pull=[0, 0.2, 0, 0,0.2] #pull only some of the sectors<br/>)])</span><span id="0cb5" class="kh jf hi la b fi lx lf l lg lh">fig.update_traces(textposition='auto', textinfo='percent+label')<br/>fig.update_layout(title = 'India Today Covid-19 Data') # Set Title<br/>fig.show()</span></pre><figure class="kv kw kx ky fd lz er es paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="er es mw"><img src="../Images/dac6fbd4454ed411076c3e64b3fd896a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R08D0zyjGPV0fSvcKdfydA.png"/></div></div></figure><p id="ae89" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请注意，使用Graph对象时，可以通过<strong class="ih hj"> fig.update_layout </strong>函数的<strong class="ih hj"> title </strong>属性设置图表标题。</p><p id="92e6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请参阅以下资源中有关Plotly Graph对象条形图的更多详细信息:</p><ul class=""><li id="efb6" class="lj lk hi ih b ii ij im in iq ll iu lm iy ln jc lo lp lq lr bi translated"><a class="ae jd" href="https://plotly.github.io/plotly.py-docs/generated/plotly.graph_objects.Pie.html" rel="noopener ugc nofollow" target="_blank"> Plotly Graph对象饼状图</a>页面。</li><li id="ed41" class="lj lk hi ih b ii ls im lt iq lu iu lv iy lw jc lo lp lq lr bi translated"><a class="ae jd" href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.Figure.html" rel="noopener ugc nofollow" target="_blank"> Plotly Graph对象图API参考</a>页面。</li></ul><h2 id="df11" class="kh jf hi bd jg ki kj kk jk kl km kn jo iq ko kp js iu kq kr jw iy ks kt ka ku bi translated">带有Plotly图形对象的条形图</h2><p id="38a1" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">我们将使用电信公司的环境、社会和公司治理(ESG)数据作为条形图示例的示例数据。</p><p id="ca20" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通过在菜单中查询<em class="li"> &lt;公司名称&gt; ESG </em>，可以在Eikon/路孚特Workspace桌面应用程序中获得ESG数据。</p><figure class="kv kw kx ky fd lz er es paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="er es mx"><img src="../Images/4f181298574ee4d7feb39b8ebdd8c8e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wNXm36WBTu3LSpGEKZ2YbA.png"/></div></div></figure><p id="fb3e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以从Eikon/路孚特工作区数据项浏览器(“DIB”)应用程序中找到ESG数据字段，然后选择“环境、社会和公司治理”内容分类。</p><figure class="kv kw kx ky fd lz er es paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="er es my"><img src="../Images/c98a49a25ec3faf509e085fa65ef4c1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sqrUVQtr_2lMoBEztRc55Q.png"/></div></div></figure><p id="a1d6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，我们从<em class="li"> TR中获取ESG得分数据。通过Eikon数据API <strong class="ih hj"> get_data() </strong>函数调用TRESGScore </em>字段。</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="96c0" class="kh jf hi la b fi le lf l lg lh"># Define RICs list<br/>universe = ['VOD.L','TEF.MC','TEL.OL','DTEGn.DE']</span><span id="25ea" class="kh jf hi la b fi lx lf l lg lh">df_esg,eff = ek.get_data(universe, ['TR.TRESGScore'])<br/>df_esg</span></pre><figure class="kv kw kx ky fd lz er es paragraph-image"><div class="er es mz"><img src="../Images/a310a0015b43e437dc10ce8a2c565485.png" data-original-src="https://miro.medium.com/v2/resize:fit:662/format:webp/1*jaMWW1JRYy-Es69MOYZK0Q.png"/></div></figure><p id="9c85" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后我们用<code class="du ml mm mn la b">go.Figure</code>界面和<code class="du ml mm mn la b">go.Bar()</code>类为条形图创建一个Plotly图形，然后传递DataFrame <em class="li"> Instrument </em>列为x轴，<em class="li"> ESG Score </em>列为y轴。</p><p id="7a6e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请注意，现在我们使用Figure <code class="du ml mm mn la b">update_layout()</code>方法来更新图表标题的Figure布局。</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="3686" class="kh jf hi la b fi le lf l lg lh">colors = ['#E60000','#003145','#00ACE7','#E10075']</span><span id="597f" class="kh jf hi la b fi lx lf l lg lh">fig = go.Figure(go.Bar(x=df_esg['Instrument'],<br/>    y=df_esg['ESG Score'],<br/>    marker_color = colors<br/>)) # Create Figure</span><span id="8499" class="kh jf hi la b fi lx lf l lg lh">fig.update_xaxes(title_text='Company') # Set X-Axis title<br/>fig.update_yaxes(title_text='ESG Score') # Set &amp;-Axis title<br/>fig.update_layout(title = 'Telecommunication Companies: ESG Score')</span><span id="d93d" class="kh jf hi la b fi lx lf l lg lh">fig.show()</span></pre><figure class="kv kw kx ky fd lz er es paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="er es na"><img src="../Images/8bbf0b8bbe1366259c6a0a0542b3e677.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UUp-KiVc-DckBeVyFZhQlg.png"/></div></div></figure><p id="4a9a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是，如果不与EST争议评分进行比较，就不能单独使用ESG评分数据(字段<em class="li"> TR)。tresgcontractionsscore</em>)和ESG综合得分(field <em class="li"> TR。tresgscore</em>)。</p><p id="b327" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将要求公司名称(<em class="li"> TR。CompanyName </em>)，将ESG得分绘制成小组条形图。</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="f2cb" class="kh jf hi la b fi le lf l lg lh">df_esg,eff = ek.get_data(universe, ['TR.CompanyName',<br/>    'TR.TRESGScore',<br/>    'TR.TRESGCControversiesScore',<br/>    'TR.TRESGCScore',<br/>    'TR.TRESGCScoreGrade'])</span><span id="7b24" class="kh jf hi la b fi lx lf l lg lh">df_esg</span></pre><figure class="kv kw kx ky fd lz er es paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="er es nb"><img src="../Images/54704576bc8a192b248ee2fd3531cbbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ykiQVKOuNOkMclGEZP1t7g.png"/></div></div></figure><p id="5ea2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后我们创建多个<strong class="ih hj"> go。Bar </strong>对象的每个ESG分数，并将其传递给<strong class="ih hj"> go。图</strong>。请注意，我们需要通过<strong class="ih hj">fig . update _ layout(bar mode = ' group ')</strong>语句将布局设置为组条形图。</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="672f" class="kh jf hi la b fi le lf l lg lh">fig = go.Figure(data=[<br/>    go.Bar(name='ESG Score', x=df_esg['Company Name'], y=df_esg['ESG Score']), <br/>    go.Bar(name='ESG Controversies Score', x=df_esg['Company Name'], y=df_esg['ESG Controversies Score']),<br/>    go.Bar(name='ESG Combined Score', x=df_esg['Company Name'], y=df_esg['ESG Combined Score'])<br/>])</span><span id="2c24" class="kh jf hi la b fi lx lf l lg lh">fig.update_layout(barmode='group') # Change the bar mode<br/>fig.update_xaxes(title_text='Company')<br/>fig.update_yaxes(title_text='Environmental, Social and Corporate Governance')<br/>fig.update_layout(title = 'Telecommunication Companies: ESG Scores')</span><span id="6d14" class="kh jf hi la b fi lx lf l lg lh">fig.show()</span></pre><figure class="kv kw kx ky fd lz er es paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="er es nc"><img src="../Images/e506e866f827a222cc64557801c8a593.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A7FWJrOw5VmUjt0ew94I3g.png"/></div></div></figure><p id="c5f3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请参阅以下资源中有关Plotly Graph对象条形图的更多详细信息:</p><ul class=""><li id="9fa5" class="lj lk hi ih b ii ij im in iq ll iu lm iy ln jc lo lp lq lr bi translated"><a class="ae jd" href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.Bar.html" rel="noopener ugc nofollow" target="_blank"> Plotly Graph对象条形图</a>页面。</li></ul><h2 id="365f" class="kh jf hi bd jg ki kj kk jk kl km kn jo iq ko kp js iu kq kr jw iy ks kt ka ku bi translated">带有Plotly图形对象的烛台图表</h2><p id="2238" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">最后一个例子是使用Plotly Graph对象的<a class="ae jd" href="https://plotly.com/python/candlestick-charts/" rel="noopener ugc nofollow" target="_blank">烛台</a>图表。我们将使用比特币/美元外汇即期汇率作为适合烛台图表的示例数据集。</p><p id="897a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">比特币/美元外汇即期汇率数据在Eikon/Workspace和路孚特实时系统中以<strong class="ih hj"> BTC= </strong>工具名称提供。</p><figure class="kv kw kx ky fd lz er es paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="er es nd"><img src="../Images/eaa19948b6fa373a140d2bd1685b2c4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zzyZREycHb15oNudAXVCgw.png"/></div></div></figure><p id="c5ae" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们通过Eikon数据API <strong class="ih hj"> get_timeseries </strong>函数请求BTC的180个每日历史数据。</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="fbb3" class="kh jf hi la b fi le lf l lg lh">df_bitcoin = ek.get_timeseries(rics = 'BTC=',interval = 'daily',count = 180)</span><span id="44a9" class="kh jf hi la b fi lx lf l lg lh">df_bitcoin.head()</span></pre><figure class="kv kw kx ky fd lz er es paragraph-image"><div class="er es ne"><img src="../Images/1164b27ae3fa601a7637a25cba025508.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*eQLfeuNjMyesM0pckBXs2w.png"/></div></figure><p id="772e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，我们重新构建DataFrame索引，将<em class="li"> Date </em>列从索引列更改为数据列。</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="0258" class="kh jf hi la b fi le lf l lg lh">df_bitcoin.reset_index(level=0, inplace=True)<br/>df_bitcoin.head()</span></pre><figure class="kv kw kx ky fd lz er es paragraph-image"><div class="er es nf"><img src="../Images/46886e51bcbe13f80004ee76fb2b6506.png" data-original-src="https://miro.medium.com/v2/resize:fit:1190/format:webp/1*WexfFzgOOZIjI5HiYfkttg.png"/></div></figure><p id="be2f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，我们使用<strong class="ih hj"> go。烛台</strong>对象从Dataframe创建烛台图表，并将其传递给<strong class="ih hj"> go。图</strong>创建一个Plotly图形对象来绘制一个图形。</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="3a67" class="kh jf hi la b fi le lf l lg lh">fig = go.Figure(data=[go.Candlestick(x=df_bitcoin['Date'],<br/>    open=df_bitcoin['OPEN'],<br/>    high=df_bitcoin['HIGH'],<br/>    low=df_bitcoin['LOW'],<br/>    close=df_bitcoin['CLOSE'])])</span><span id="96eb" class="kh jf hi la b fi lx lf l lg lh">fig.update_xaxes(title_text='Date')<br/>fig.update_yaxes(title_text='Prices')<br/>fig.update_layout(xaxis_rangeslider_visible=True, <br/>     title = 'Bitcoin/US Dollar FX Spot Rate'<br/>) # Set Set Range Slider Bar and Title</span><span id="9251" class="kh jf hi la b fi lx lf l lg lh">fig.show()</span></pre><figure class="kv kw kx ky fd lz er es paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="er es ng"><img src="../Images/795d90b2533d353acc62c8477a38de21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MhV80xopjOd5SOMaMvEVWg.png"/></div></div></figure><p id="6dd1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们也可以与图表范围滑动条交互。</p><figure class="kv kw kx ky fd lz er es paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="er es nh"><img src="../Images/a53c255432653a1c6948064ce8040d8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*KIrmTBhhu6Zz5XxhgHVcww.gif"/></div></div></figure><p id="7e9c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请参阅以下资源中有关Plotly Graph对象烛台图的更多详细信息:</p><ul class=""><li id="8710" class="lj lk hi ih b ii ij im in iq ll iu lm iy ln jc lo lp lq lr bi translated"><a class="ae jd" href="https://plotly.com/python/candlestick-charts/" rel="noopener ugc nofollow" target="_blank">Python中的烛台图表</a>页面。</li><li id="d76a" class="lj lk hi ih b ii ls im lt iq lu iu lv iy lw jc lo lp lq lr bi translated"><a class="ae jd" href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.Candlestick.html" rel="noopener ugc nofollow" target="_blank">烛台图表API参考</a>页面。</li><li id="2dc0" class="lj lk hi ih b ii ls im lt iq lu iu lv iy lw jc lo lp lq lr bi translated"><a class="ae jd" href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.Figure.html" rel="noopener ugc nofollow" target="_blank"> Plotly Graph对象图API引用</a>页面。</li></ul><h1 id="f54e" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">Eikon数据API设置</h1><p id="a9ab" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">请在<a class="ae jd" href="https://developers.refinitiv.com/en/api-catalog/eikon/eikon-data-api/quick-start" rel="noopener ugc nofollow" target="_blank"> Eikon数据API快速启动页面</a>按照逐步指南设置您的Eikon数据API和AppKey。</p><h1 id="84fb" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">如何运行示例笔记本</h1><p id="002b" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">请注意，路孚特工作空间/Eikon应用程序集成了一个数据API代理，作为Eikon数据API Python库和Eikon数据平台之间的接口。因此，当您使用Eikon数据API Python库时，路孚特工作空间/Eikon应用程序必须处于运行状态。</p><p id="7979" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第一步是将示例项目文件夹从<a class="ae jd" href="https://github.com/Refinitiv-API-Samples/Article.EikonAPI.Python.PlotlyChart" rel="noopener ugc nofollow" target="_blank"> GitHub </a>解压缩或下载到您选择的目录中，然后按照GitHub资源库中的分步指南进行操作:</p><ul class=""><li id="ec19" class="lj lk hi ih b ii ij im in iq ll iu lm iy ln jc lo lp lq lr bi translated"><a class="ae jd" href="https://github.com/Refinitiv-API-Samples/Article.EikonAPI.Python.PlotlyChart#how-to-run-this-example-with-the-classic-jupyter-notebook" rel="noopener ugc nofollow" target="_blank">如何使用Classic Jupyter Notebook </a>部分运行此示例，并为Classic Jupyter Notebook环境打开<em class="li">plotly _ DAPI . ipynb</em>Notebook文件。</li><li id="baec" class="lj lk hi ih b ii ls im lt iq lu iu lv iy lw jc lo lp lq lr bi translated"><a class="ae jd" href="https://github.com/Refinitiv-API-Samples/Article.EikonAPI.Python.PlotlyChart#how-to-run-this-example-with-the-jupyterlab" rel="noopener ugc nofollow" target="_blank">如何使用JupyterLab </a>部分运行此示例，并为JupyterLab环境打开<em class="li">JupyterLab _ plotly _ DAPI . ipynb</em>笔记本文件。</li><li id="5f9a" class="lj lk hi ih b ii ls im lt iq lu iu lv iy lw jc lo lp lq lr bi translated"><a class="ae jd" href="https://github.com/Refinitiv-API-Samples/Article.EikonAPI.Python.PlotlyChart#how-to-run-this-example-with-the-codebook" rel="noopener ugc nofollow" target="_blank">如何使用CodeBook </a>部分运行此示例，然后上传并打开Eikon/Workspace CodeBook环境的<em class="li">code book _ plotly _ DAPI . ipynb</em>笔记本文件。</li></ul><h1 id="e5bb" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">解决纷争</h1><p id="c7b4" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">有时经典的Jupyter笔记本会遇到这样的问题:当您关闭笔记本窗口并重新打开它时，您的绘图会显示为空白。</p><figure class="kv kw kx ky fd lz er es paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="er es ng"><img src="../Images/61ea1cf5ba9f61a3a4ab8e336ab21aab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TYnPeEeshFdd0NWV8HIy3g.png"/></div></div></figure><p id="1dfe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以在笔记本应用程序的右上角菜单上检查笔记本文档<strong class="ih hj">是否可信</strong>。</p><figure class="kv kw kx ky fd lz er es paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="er es ni"><img src="../Images/0c2e6b7d62674c5182e19a30253d863d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9fH1RQL0Asp1OPbkEk6aJA.png"/></div></div></figure><p id="c224" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请单击该按钮以启用JavaScript在此笔记本中显示。</p><figure class="kv kw kx ky fd lz er es paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="er es nj"><img src="../Images/4d3531762bbf4192b350feabaad16352.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*aRedShxeem6U4n-oeuy_PA.gif"/></div></div></figure><p id="4343" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">作为最后的手段，你可以从内核菜单中“重启并清除输出”,然后重新运行你的笔记本。您可以在<a class="ae jd" href="https://plotly.com/python/troubleshooting/#jupyter-classic-notebook-problems" rel="noopener ugc nofollow" target="_blank"> Jupyter Classic笔记本问题</a>和<a class="ae jd" href="https://plotly.com/python/troubleshooting/#" rel="noopener ugc nofollow" target="_blank">故障排除</a>页面找到更多详细信息。</p><h1 id="b283" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">结论</h1><p id="f5a2" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">数据可视化是数据分析给读者的第一印象。数据科学家、财务编码人员和开发人员花在数据可视化过程上的时间比他们获取数据的时间还要长。这意味着数据可视化/图表库需要易于使用、灵活并且有一个好的文档。</p><p id="5230" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jd" href="https://plotly.com/python/" rel="noopener ugc nofollow" target="_blank"> Plotly Python </a>提供易于使用的/高级和低级接口，以支持广泛的开发人员技能。开发人员可以选择符合他们要求的Plotly图表对象(线条、条形图、散点图、蜡烛图等)，检查Plotly示例代码和社区页面，以创建一个源代码可读且易于维护的漂亮图表。</p><p id="3f61" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">与Matplotlib Pyplot(图表库中的主要播放器)相比，Plotly的优点和缺点如下:</p><h2 id="6153" class="kh jf hi bd jg ki kj kk jk kl km kn jo iq ko kp js iu kq kr jw iy ks kt ka ku bi translated">赞成的意见</h2><ol class=""><li id="e26d" class="lj lk hi ih b ii kc im kd iq nk iu nl iy nm jc mh lp lq lr bi translated">使用几行代码来创建和定制图表。</li><li id="62fc" class="lj lk hi ih b ii ls im lt iq lu iu lv iy lw jc mh lp lq lr bi translated">为开发人员提供30多种易于使用的各种图表对象类型。</li><li id="88fe" class="lj lk hi ih b ii ls im lt iq lu iu lv iy lw jc mh lp lq lr bi translated">有经验的开发人员可以使用低级图表对象类型来创建更强大、更灵活的图表。</li><li id="a79c" class="lj lk hi ih b ii ls im lt iq lu iu lv iy lw jc mh lp lq lr bi translated">简化文档和示例代码。</li><li id="33af" class="lj lk hi ih b ii ls im lt iq lu iu lv iy lw jc mh lp lq lr bi translated">为个人和企业开发者提供专门的<a class="ae jd" href="https://plotly.com/get-pricing/" rel="noopener ugc nofollow" target="_blank">付费支持计划</a>。</li></ol><h2 id="26ae" class="kh jf hi bd jg ki kj kk jk kl km kn jo iq ko kp js iu kq kr jw iy ks kt ka ku bi translated">骗局</h2><ol class=""><li id="38f3" class="lj lk hi ih b ii kc im kd iq nk iu nl iy nm jc mh lp lq lr bi translated">经典Jupyter笔记本和Jupyter Lab的一些API接口和安装流程是不一样的。</li><li id="ea27" class="lj lk hi ih b ii ls im lt iq lu iu lv iy lw jc mh lp lq lr bi translated">Matplotlib Pyplot基于开发者社区网站(如<a class="ae jd" href="https://stackoverflow.com/" rel="noopener ugc nofollow" target="_blank"> StackOverflow </a>)拥有更大的用户。这意味着很多Pyplot问题，问题会比Plotly更容易找到答案或解决方案。</li><li id="1a82" class="lj lk hi ih b ii ls im lt iq lu iu lv iy lw jc mh lp lq lr bi translated">Matplotlib Pyplot拥有来自官方和用户网站的更大的文档、教程和分步指南资源。</li><li id="e6d0" class="lj lk hi ih b ii ls im lt iq lu iu lv iy lw jc mh lp lq lr bi translated">当您重新打开classic Jupyter笔记本时，这些图有时会显示为空白(参见<a class="ae jd" href="https://plotly.com/python/troubleshooting/#jupyter-classic-notebook-problems" rel="noopener ugc nofollow" target="_blank">故障排除页面</a></li></ol><p id="e2b9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">同时，<a class="ae jd" href="https://developers.refinitiv.com/en/api-catalog/eikon/eikon-data-api" rel="noopener ugc nofollow" target="_blank"> Eikon数据API </a>让开发人员能够通过几行易于理解和维护的代码快速访问路孚特Eikon/路孚特工作区数据和我们最新的平台功能。</p><h1 id="f4cc" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">参考</h1><p id="de61" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">您可以从以下资源中找到有关Plotly、Eikon数据API和相关技术的更多详细信息:</p><ul class=""><li id="6946" class="lj lk hi ih b ii ij im in iq ll iu lm iy ln jc lo lp lq lr bi translated"><a class="ae jd" href="https://developers.refinitiv.com/en/api-catalog/eikon/eikon-data-api" rel="noopener ugc nofollow" target="_blank">路孚特Eikon数据API页面</a>在<a class="ae jd" href="https://developers.refinitiv.com/" rel="noopener ugc nofollow" target="_blank">路孚特开发者社区</a>网站上。</li><li id="ff70" class="lj lk hi ih b ii ls im lt iq lu iu lv iy lw jc lo lp lq lr bi translated"><a class="ae jd" href="https://plotly.com/" rel="noopener ugc nofollow" target="_blank">剧情官方页面</a>。</li><li id="a3f1" class="lj lk hi ih b ii ls im lt iq lu iu lv iy lw jc lo lp lq lr bi translated"><a class="ae jd" href="https://plotly.com/python/" rel="noopener ugc nofollow" target="_blank"> Plotly Python页面</a>。</li><li id="056b" class="lj lk hi ih b ii ls im lt iq lu iu lv iy lw jc lo lp lq lr bi translated"><a class="ae jd" href="https://github.com/plotly/plotly.py" rel="noopener ugc nofollow" target="_blank"> Plotly GitHub页面</a></li><li id="e5ac" class="lj lk hi ih b ii ls im lt iq lu iu lv iy lw jc lo lp lq lr bi translated"><a class="ae jd" href="https://plotly.com/python/plotly-express/" rel="noopener ugc nofollow" target="_blank">剧情直通车页面</a></li><li id="1907" class="lj lk hi ih b ii ls im lt iq lu iu lv iy lw jc lo lp lq lr bi translated"><a class="ae jd" href="https://plotly.com/python/graph-objects/" rel="noopener ugc nofollow" target="_blank"> Plotly图形对象页面</a></li><li id="23d8" class="lj lk hi ih b ii ls im lt iq lu iu lv iy lw jc lo lp lq lr bi translated"><a class="ae jd" href="https://plotly.com/python/creating-and-updating-figures/#updating-figures" rel="noopener ugc nofollow" target="_blank">在Python页面中创建和更新图形</a></li><li id="5bc1" class="lj lk hi ih b ii ls im lt iq lu iu lv iy lw jc lo lp lq lr bi translated"><a class="ae jd" href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.Figure.html" rel="noopener ugc nofollow" target="_blank"> Plotly图API参考页面</a></li><li id="f419" class="lj lk hi ih b ii ls im lt iq lu iu lv iy lw jc lo lp lq lr bi translated"><a class="ae jd" href="https://towardsdatascience.com/4-reasons-why-im-choosing-plotly-as-the-main-visualization-library-dc4a961a402f" rel="noopener" target="_blank">我选择Plotly作为我的主要可视化库的4个原因</a></li><li id="735a" class="lj lk hi ih b ii ls im lt iq lu iu lv iy lw jc lo lp lq lr bi translated"><a class="ae jd" href="https://developers.refinitiv.com/en/api-catalog/eikon/eikon-data-api/quick-start" rel="noopener ugc nofollow" target="_blank"> Eikon数据API快速入门指南页面</a>。</li><li id="8c05" class="lj lk hi ih b ii ls im lt iq lu iu lv iy lw jc lo lp lq lr bi translated"><a class="ae jd" href="https://developers.refinitiv.com/en/api-catalog/eikon/eikon-data-api/tutorials" rel="noopener ugc nofollow" target="_blank"> Eikon数据API教程页面</a>。</li><li id="e48d" class="lj lk hi ih b ii ls im lt iq lu iu lv iy lw jc lo lp lq lr bi translated"><a class="ae jd" href="https://community.developers.refinitiv.com/questions/37865/announcement-new-python-quants-video-tutorial-seri.html" rel="noopener ugc nofollow" target="_blank">Eikon API的Python Quants视频教程系列</a>。</li><li id="8ea9" class="lj lk hi ih b ii ls im lt iq lu iu lv iy lw jc lo lp lq lr bi translated"><a class="ae jd" href="https://developers.refinitiv.com/en/api-catalog/eikon/eikon-data-api/documentation#eikon-data-ap-is-for-python-reference-guide" rel="noopener ugc nofollow" target="_blank"> Eikon Data APY Python参考指南</a>。</li><li id="9fb8" class="lj lk hi ih b ii ls im lt iq lu iu lv iy lw jc lo lp lq lr bi translated"><a class="ae jd" href="https://developers.refinitiv.com/en/article-catalog/article/eikon-data-api-python-troubleshooting-refinitiv" rel="noopener ugc nofollow" target="_blank"> Eikon数据API故障排除文章</a>。</li><li id="163b" class="lj lk hi ih b ii ls im lt iq lu iu lv iy lw jc lo lp lq lr bi translated"><a class="ae jd" href="https://github.com/Refinitiv-API-Samples/Article.EikonAPI.Python.CoronavirusStatistic" rel="noopener ugc nofollow" target="_blank">用Eikon数据API(Python)获得最新的冠状病毒案例和时间序列统计数据</a></li></ul><p id="72d9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">关于这个例子或Eikon数据API的任何问题，请使用开发者社区<a class="ae jd" href="https://community.developers.refinitiv.com/spaces/92/eikon-scripting-apis.html" rel="noopener ugc nofollow" target="_blank"> Q &amp; A论坛</a>。</p><h1 id="4cf4" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">开源代码库</h1><p id="01d8" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated"><a class="ae jd" href="https://github.com/Refinitiv-API-Samples/Article.EikonAPI.Python.PlotlyChart" rel="noopener ugc nofollow" target="_blank">用Plotly Python GitHub库绘制金融数据图表。</a></p></div></div>    
</body>
</html>