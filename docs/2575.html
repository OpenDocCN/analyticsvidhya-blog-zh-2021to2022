<html>
<head>
<title>How to Get Started with Chatbots — Part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何开始使用聊天机器人—第2部分</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/how-to-get-started-with-chatbots-part-2-d4ea26c319bf?source=collection_archive---------10-----------------------#2021-05-03">https://medium.com/analytics-vidhya/how-to-get-started-with-chatbots-part-2-d4ea26c319bf?source=collection_archive---------10-----------------------#2021-05-03</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="7c61" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">从对话流到生产环境</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jc"><img src="../Images/89919b7a353cece51b6aaac3d8a359f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eZ_WaqdbzMyZUZ2qsy2YDg.jpeg"/></div></div><figcaption class="jo jp et er es jq jr bd b be z dx translated">在2021年，让你的“头在云端”是可以的——照片由Unsplash上的<a class="ae js" href="https://unsplash.com/@chuttersnap" rel="noopener ugc nofollow" target="_blank"> CHUTTERSNAP </a>拍摄</figcaption></figure><p id="02a0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">所以你已经在Dialogflow上建立了你的第一个聊天机器人。请给自己一个鼓励(真的，有很多活动部件和行业工具)。</p><p id="747e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这就够了，我们要利用这个动量。Google云平台已经做了很多繁重的工作，比如提供可访问的数据库、NLP，以及用自己的脚本创建云服务的能力(应用引擎即将讨论)。</p><p id="6394" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">一定要通读<a class="ae js" href="https://cloud.google.com/architecture/building-chatbot-agent-dialogflow" rel="noopener ugc nofollow" target="_blank">这篇教程</a>，用我的<a class="ae js" rel="noopener" href="/analytics-vidhya/how-to-get-started-with-chatbots-part-1-29d619759b33"> part 1文章</a>来阐明幕后发生的事情。</p><p id="0d2e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">好了，现在你已经完成了第1部分，我们今天的讨论将遵循第二个文档(<a class="ae js" href="https://cloud.google.com/architecture/securing-scaling-chatbots" rel="noopener ugc nofollow" target="_blank">https://cloud . Google . com/architecture/securing-scaling-chatbots</a>)。</p></div><div class="ab cl jt ju go jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="ha hb hc hd he"><h1 id="ec3e" class="ka kb hh bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">你从这篇文章中得到了什么:</h1><p id="1959" class="pw-post-body-paragraph ie if hh ig b ih ky ij ik il kz in io ip la ir is it lb iv iw ix lc iz ja jb ha bi translated">我不想对你撒谎。理解这一点需要一段时间，但我坚信这对于任何值得学习的东西都是正确的(这个主题当然值得努力)。</p><p id="99d8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">对读者来说，我的目标是:在这个过程中包含更多的效率、清晰和乐趣。</p></div><div class="ab cl jt ju go jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="ha hb hc hd he"><h1 id="7f6c" class="ka kb hh bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">1.webhook:从临时本地脚本到永久服务的旅程</h1><ul class=""><li id="9e30" class="ld le hh ig b ih ky il kz ip lf it lg ix lh jb li lj lk ll bi translated"><strong class="ig hi">动机:</strong>从第1部分开始，webhook将Dialogflow连接到Datastore，允许访问通过我们的数据集定义的实体，并将其托管在端口5000的本地环境中。</li><li id="32b2" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated"><strong class="ig hi"> HTTP隧道:</strong>在本地脚本托管且可用的情况下，Dialogflow仍然无法到达数据存储中的实体。这就是NGROK派上用场的地方，它通过万维网上的服务器托管webhook，使它可以访问Dialogflow。</li><li id="04ac" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated"><strong class="ig hi"> HTTP基本认证:</strong>通过文档中提供的一段代码(请尝试阅读这段<em class="lr">代码</em>)，我们可以向Dialogflow和这个脚本提供一个特定的用户名和密码，以进一步保护我们非常公开的代码。</li><li id="438d" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated"><strong class="ig hi"> Python Decorator: </strong>快速注意，上面的认证是用返回函数的函数实现的(NIFTY！).如果你对计算理论感兴趣，那就看看维基百科对高阶函数的解释。</li><li id="8df1" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated"><strong class="ig hi">App Engine:</strong>Google Cloud Platform提供这个API，用你的python代码创建服务。GCP将代码从Datalab转换成裸python，放在一个目录中，运行<code class="du ls lt lu lv b">gcloud app deploy</code>，更重要的是，运行<code class="du ls lt lu lv b">gcloud app browse</code>，它提供了一个公共URL来访问这个服务。</li></ul><h1 id="b53c" class="ka kb hh bd kc kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx bi translated">2.Iframes很好，但是自定义ui更好</h1><ul class=""><li id="cea4" class="ld le hh ig b ih ky il kz ip lf it lg ix lh jb li lj lk ll bi translated"><strong class="ig hi">有用的云shell命令:</strong>如文档所述，当运行云shell时，您需要访问您的第二个项目。这里有一个列出你的项目的方法，以防你忘记名字:<code class="du ls lt lu lv b">gcloud projects list</code>。下面是如何切换你的项目:<code class="du ls lt lu lv b">gcloud config set project &lt;project-name&gt;</code>。此外，一旦进入项目，您可能会发现没有Datalab很难导航，因此您可以使用<code class="du ls lt lu lv b">cat &lt;file-name&gt;</code>将文件输出到终端命令。或者，如果您更喜欢命令行，那么编写<code class="du ls lt lu lv b">vim &lt;file-name&gt;</code>来直接读取和编辑文件。</li><li id="b040" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated"><strong class="ig hi"> API键:</strong>警告，谷歌提供的文档尚未针对<a class="ae js" href="https://cloud.google.com/dialogflow/es/docs/quick/setup#auth" rel="noopener ugc nofollow" target="_blank"> V2 </a>进行更新。过去，您会将基于Angular的UI与Dialogflow提供的客户端访问令牌集成在一起。由于这被发现是不安全的，V2现在使用JSON，它利用服务帐户密钥。参见<a class="ae js" rel="noopener" href="/google-cloud/how-to-create-a-chatbot-using-dialogflow-enterprise-edition-and-dialogflow-api-v2-923f4a965176">这篇伟大的媒体文章</a>了解如何更安全地连接你的聊天机器人UI和API V2。</li><li id="50d9" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated"><strong class="ig hi"> NPM: </strong>这个工具和其他类似的工具(例如Yarn)提供了对现有的许多Javascript库的访问。使用NPM和一个完善的package.json，您可以安装许多库，并轻松地将package.json发送给其他开发人员，在他们的机器上创建相同的环境。在这里，它是用来整合角。</li><li id="1211" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated"><strong class="ig hi"> Angular: </strong> Angular是一个基于Javascript构建的前端框架，支持前端代码的非静态或动态实现。由于UI需要频繁调用Dialogflow，这对于更现代的界面来说是一个很好的选择。我推荐你看一看这篇<a class="ae js" rel="noopener" href="/voice-tech-podcast/building-engaging-conversational-uis-with-rich-responses-using-dialogflow-fd182b2547e3">中型文章</a>，作为你实施的指南。</li></ul><h1 id="2581" class="ka kb hh bd kc kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx bi translated">3.身份感知代理:谷歌云平台拥有一切</h1><ul class=""><li id="5b86" class="ld le hh ig b ih ky il kz ip lf it lg ix lh jb li lj lk ll bi translated"><strong class="ig hi">定义及关键术语:</strong>来自<a class="ae js" href="https://cloud.google.com/iap/docs" rel="noopener ugc nofollow" target="_blank"> IAP文档</a>:“IAP为HTTPS访问的应用建立了一个<strong class="ig hi">中央授权层</strong>，因此您可以采用应用级的访问控制模型，而不是使用网络级的<strong class="ig hi">防火墙</strong>。”换句话说，网络并不总是可信的，但是经过验证的用户和设备是可信的。</li><li id="ab1c" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated"><strong class="ig hi">代理:</strong>代理是一种介于发出请求的客户端服务器和提供资源的服务器之间的服务器。代理服务器向客户机服务器发出请求，在某种程度上屏蔽了客户机，但也允许对请求进行更多的控制。关于代理服务器如何工作以及不同种类的代理的更多信息，请参见Wiki 。</li><li id="9f09" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated"><strong class="ig hi">防火墙:</strong>这个系统监控网络中的传入和传出请求。由于这是一项应始终包括在内的安全预防措施，IAP通过基于用户的身份验证改进了这一障碍。使用这种类型的身份验证，攻击者不能通过已经信任的网络发出请求，因此是零信任模型。</li><li id="9fd0" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated"><strong class="ig hi">中央认证服务:</strong>由于我不想过多地重复这是一种基于用户的认证，我想补充一点，这是一种web协议，也用于单点登录之类的事情。</li></ul><h1 id="2dd4" class="ka kb hh bd kc kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx bi translated">我希望这能激励你进一步挖掘</h1><p id="718b" class="pw-post-body-paragraph ie if hh ig b ih ky ij ik il kz in io ip la ir is it lb iv iw ix lc iz ja jb ha bi translated">聊天机器人开发不只是一件事！在早期阶段，你必须是一个多面手才能参与进来。我发现几乎所有新兴技术都是如此，这没关系。软件工程不仅仅是寻找解决方案，而且要让它们随时可用。然后，你只需要迭代和改进，所以试着享受这样做的乐趣。</p><p id="a613" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在第3部分，我想更多地谈谈机器学习技术。感谢您的阅读，感谢您与我一起踏上这段旅程。</p></div></div>    
</body>
</html>