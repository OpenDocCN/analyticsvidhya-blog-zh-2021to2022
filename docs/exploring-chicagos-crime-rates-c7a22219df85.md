# 探索芝加哥的犯罪率

> 原文：<https://medium.com/analytics-vidhya/exploring-chicagos-crime-rates-c7a22219df85?source=collection_archive---------18----------------------->

深入探究 2012 年至 2017 年芝加哥的犯罪

卡利·威廉姆斯

# **阶段 1:探索数据**的形状&结构

## 步骤 1:获得对数据的更高层次的理解

首先，我看了看数据的形状。我看到有 1456714 行 23 列。这些列从左到右分别是未命名、ID、案件编号、日期、街区、IUCR、主要类型、描述、位置描述、逮捕、国内。巡逻，地区，病房，社区区域，联邦调查局代码，X 坐标，Y 坐标，年份，更新日期，纬度，经度，和位置。

## 步骤 2:发现数据质量问题

***问题一:*** 第一列未命名，每行包含随机数字。因为已经有了索引，所以我删除了这个专栏。

***问题二:*** 在数据框的右端附近，有纬度、经度和位置。这个位置列只是纬度和经度值的重复。我删除了这个，保留了单独的纬度和经度列，以便于处理。

***第三期:*** 几个列名由两个单词组成，中间有空格。为了简化处理，我将这些列重命名为下划线，而不是空格。

**检查缺失值&重复行**

1.  为了确保没有空行，我检查了空值。我什么也没找到。

![](img/e7dea44ccd088ef6fd4c4ac09cdfdf0b.png)

这显示了对返回所有假值的空值的检查。

2.在进行分析之前，我希望确保删除任何重复的行。我找到了 2398 行重复数据，并删除了它们。删除时，我将它们设置为保留第一个，删除第二个。

## 步骤 3:研究数据类型

接下来，我想看看数据集中有什么类型的数据，以了解我需要转换什么。

![](img/ad7da7d9cd8b1453a9fbc87eaf273682.png)

这显示了我在数据框中使用的 17 列以及它们的不同对象类型。

接下来，我想看看哪些对象/整数是类别。我怀疑可能是主要类型和地区，但我想再次检查。为此，我列出了它们的唯一值，看看它们是否是类别而不是唯一术语。我还列出了每个包含的唯一值的数量。

![](img/724c55c9b5ef15b57344ddd29ef9f541.png)

这显示了每列包含的每个唯一输出的数量。这支持了我下面的发现，主要类型，病房，社区区域，IUCR，联邦调查局代码是如此低的数量分类。

![](img/143f8cc5ab0ad832c88f6d3662a835a7.png)

这个输出支持我上面的发现，哪些列有分类值，哪些没有。我知道我需要将这些整数和对象分类。然后，我将 IUCR、沃德、社区区域、联邦调查局代码和主要类型转换成类别。

最后，我将 Date 列转换为 DateTimeIndex，以便能够在稍后的分析中使用 panda 特性。

**列&它们的描述包含在我的主数据框中:**

*   Number:用作索引的行号
*   ID:唯一的数字 ID
*   案例号:基于数字/字母的唯一 ID
*   日期:日期戳，采用 MM/DD/YYYY，HH:MM:SS 日期和时间格式
*   Block:带有街道号和街道的犯罪街区，为了保密只显示街道号的前 3 位数字。ex)索耶大道南 013XX 号
*   IUCR: 4 位数的犯罪参考号，不唯一
*   Primary_Type:简短的犯罪描述/分类
*   描述:犯罪的更长解释(通常 1-5 个字)
*   Location_Description:简短的位置描述/分类
*   逮捕:对还是错
*   国内:对还是错
*   X 坐标:位置的 X 坐标
*   Y 坐标:位置的 Y 坐标
*   纬度:位置的纬度
*   经度:位置的经度
*   年份:犯罪发生的年份

# 阶段 2:调查初始问题

> 当我查看第一阶段的数据时，我想到了几个问题。我感兴趣的三个主要问题是:

1.  芝加哥最普遍的犯罪是什么？
2.  **芝加哥的犯罪现场在一天的不同时间有什么变化？**
3.  **从 2012 年到 2017 年，芝加哥的犯罪率有什么变化？**

## 问题 1:芝加哥最普遍的犯罪是什么？

我想调查最常见的犯罪是什么。首先，我查看了每起犯罪发生频率的总体情况。为此，我创建了一个 seaborn 因子图，显示主要类型与其数量的关系。为了便于分析，我展示了前 20 名。超过这一点，每起犯罪的金额接近于零。

![](img/7c34f1f24cda768c50dd7acd0e5048fb.png)

这张图表显示了犯罪类型与其数量的关系。你可以看到，到目前为止，最常见的是盗窃，其次是殴打，刑事损害，毒品，袭击，等等。有趣的是，偷窃和殴打是最常见的犯罪。

在看到盗窃的频率后，我想进一步细分，看看什么类型的盗窃是最常见的。为此，我创建了一个新的数据帧，其中只包含盗窃数据，通过过滤主要的盗窃类型。

> 子问题:什么类型的盗窃最常见？

为了了解最常见的盗窃类型，我在盗窃数据框中绘制了盗窃描述与数量的关系。

![](img/11dc2d8bec635ab40834486a3c8d6dc4.png)

该图显示了 500 美元及以下的犯罪在盗窃类别中的主导地位。这让我看到“小偷小摸”或小规模盗窃是 2012-2017 年芝加哥最常见的犯罪。

现在我知道小额盗窃(少于 500 美元)是最常见的犯罪类型，我想知道这通常发生在哪里。为了做到这一点，我创建了一个图表，显示小型盗窃犯罪的位置细分。

> 子问题:小型盗窃犯罪发生在哪里？

为了研究这个问题，我用 seaborn factorplot 绘制了小型盗窃犯罪的前 10 个地点。

![](img/918fca2217bcf448ad20fd13958cab51.png)

这张图表显示，到目前为止，小额盗窃最常见的地方是街道。这使我推断盗窃可能来自街道上的商店和零售区，或者可能来自街道上的个人和人群。

在查看了小型盗窃犯罪的地点分类后，我发现自己在问另一个问题——芝加哥的其他犯罪倾向于发生在哪里？为了开始研究这个问题，我首先看了一张芝加哥所有犯罪最常发生的地方的更一般的图片。

> 子问题:除了盗窃之外，其他犯罪倾向于发生在哪里？

为了研究这个问题，我绘制了一个 seaborn 因子图，其中包含了犯罪发生的地点。首先，我查看了一个包含所有犯罪的图，以大致了解犯罪发生的位置。

![](img/8c26d79c65517ca08e90a2ddbeed536d.png)

在做这个分析时，我发现大多数犯罪都发生在街头。我推断这主要是因为盗窃，因为这是最常见的犯罪类型。我发现有趣的是，住宅、公寓和人行道的排名如此之高，尤其是因为它们的盗窃率如此之低。

在观察更多的总体水平时，我很好奇除了偷窃之外的其他犯罪倾向于在哪里发生。我更仔细地观察了一些更流行的犯罪，以及一些我很想探究的更极端的犯罪。为此，我又为不同类型的犯罪创建了几个数据框架。首先，我为盗窃之后最常见的四种犯罪创建了数据框架:殴打、刑事伤害、毒品和人身攻击。接下来，我为我感兴趣的其他犯罪创建了数据框架。这些是性犯罪、欺骗、入室盗窃、纵火、儿童犯罪、杀人和绑架。通过创建这些数据框架，我不仅可以查看这些犯罪的位置，还可以在我接下来的分析中继续使用这些数据框架。

首先，我调查了四种最常见的犯罪类型及其在盗窃背后的位置:殴打罪、刑事毁坏罪、毒品罪和人身伤害罪。

![](img/38da59a090d8f5a191a1c564b6e1e4b4.png)

这张图表显示了电池犯罪的地点。最常见的位置是公寓，其次是住宅，然后是人行道和街道。这让我推断大多数殴打犯罪发生在家里，然后是街上。其他地点无关紧要。

![](img/af3184eb31b09ead7cb35653670d3236.png)

这张图表显示了刑事损害犯罪的地点。其中绝大多数是在街上，其次是住宅和公寓。这也支持了街道是最常见的犯罪场所的调查结果。这让我认为芝加哥的犯罪破坏大多是在户外和公共场所进行的。

![](img/ed1ae337d8b3b743465caa3ea3c77f32.png)

我发现这张毒品最受欢迎的地方的图表很有趣。我推断，这些毒品指控中有许多不是交易就是使用毒品，所以这种情况发生在街道或人行道上是合乎逻辑的。

![](img/dcc1f8adccd1f89d318d071151c05b73.png)

这张图表显示了芝加哥袭击犯罪最常见的地点。我觉得看到街道区域(街道和人行道)几乎与家庭区域(住宅和公寓)持平很有趣。

这一分析让我推断，你在街上遭受攻击的可能性和在家里一样大。这让我质疑不同类型的袭击在街道和家庭之间会有什么不同。

> 子问题:不同类型的攻击发生在哪里？

为了研究不同类型的攻击发生在哪里的问题，首先，我必须了解不同类型的攻击是什么。为此，我使用了与分析不同类型盗窃相同的方法:通过描述创建一个 seaborn countplot。

> 子问题:袭击有哪些不同的类型？

![](img/cfbe82d0bbec82197a7b8fa1dcd6e4e4.png)

这表明绝大多数攻击是“简单的”，其次是手枪，然后是刀/切割。

这向我展示了数据库的局限性——我可以推断，因为有一个单独的主要犯罪类型类别“性犯罪”,这些简单的攻击是身体的，而不是性的。然而，我想知道一些犯罪是否被错误地描述为可以归入另一个类别的攻击，比如性犯罪。

在看到“简单”袭击在该类别中的主导地位后，我想看看不同类型的袭击是否有不同的典型位置。为了研究这一点，我首先为三种最常见的攻击类型创建了三个新的数据框架:简单、加重:手枪和加重:刀/切割。这揭示了一个数据不一致的问题:在刀攻击描述和枪攻击描述之间，分号有一个小的不一致问题。对于持刀袭击，加重和描述之间没有空隙，但是对于持枪袭击，有空隙。

![](img/04ad73fbc5901471ccbe3935821aa526.png)

这显示了加重:描述中分号的数据不一致问题。

![](img/1d193826a62285a38e5617e865cec8ff.png)

这张图表显示了简单攻击最常发生的地方。这表明这些最常见的地方是家(住宅和公寓)。

![](img/ca4dd127cdc2522f1633e64df778813a.png)

这张图表显示了手枪袭击最常见的地方。这表明这些最常见的位置是在家里，尤其是公寓。与简单的袭击相比，你可以看到，与街道相比，手枪袭击在公寓和住宅中相对更常见。

![](img/73959de94761184a695269740b12edef.png)

这显示了最常见的持刀/切割攻击发生的地方。到目前为止，这种情况最常见的地方是在街上。这与简单袭击和持枪袭击大不相同，后者在家里(公寓/住宅)比在街上更常见。

总结我对不同类型的袭击及其发生地点的调查结果，我发现持刀/切割袭击更有可能发生在街道上，而枪支袭击和简单袭击更有可能发生在家中。这让我明白，我最初的假设是，在芝加哥，无论是在家里还是在街上，同样有可能遭遇袭击，这要复杂得多。在家里，你更有可能面临持枪或简单的袭击，而在街上，你更有可能面临持刀袭击。

> 子问题:其他类型的犯罪发生在哪里？

除了研究袭击和最常见的犯罪类型之外，我还发现了几个有趣的发现，它们涉及不同类型的犯罪及其最常见的地点。最值得注意的是性犯罪、与儿童有关的犯罪、杀人和欺骗犯罪。

> 性犯罪地点

![](img/7c436f3f47ced95ad59b0db6e140dc4d.png)

这张图表显示了性犯罪最常发生的地方。到目前为止，最常见的地方是在家里(住宅或公寓)。接下来是人行道和街道，然后是学校或小巷。其他地点相当不重要。

> 与儿童相关的犯罪地点

![](img/6e44fff7651ddacb2b1eb97208df56ba.png)

这张图表显示了与儿童有关的犯罪的地点。到目前为止，最常见的地方是住宅或公寓。

> 凶杀犯罪地点

![](img/6202e8c14db6e156e193dd2b2406526f.png)

这张图表显示了芝加哥凶杀案的地点。绝大多数人认为，这类犯罪最常见的地点是在街道上。紧随其后的是公寓和小巷，其他位置都无足轻重。

> 欺骗犯罪地点

![](img/06692cc290e9136466fecefd0d43d897.png)

这张图表显示了诈骗犯罪最常见的地点。其中大部分是在住所，其次是公寓和“其他”。与大多数其他分析相比，这是一个更大的“其他”量，显示了该数据的弱点和这些类型的欺骗犯罪的潜在差异。

## 问题 2: **芝加哥的犯罪现场在一天的不同时间有什么变化？**

对于我的第二个问题，我想看看一天中发生了什么类型的犯罪。为了做到这一点，我把一天分成六个相等的四小时时间段。

![](img/ac03e9454464cd1ed6df3119e89f3738.png)

这显示了我将一天分成六个相等的时间段进行分析:早晨、中午、下午、晚上、夜晚和深夜

一旦我有了这些块，我就为它们创建数据帧。我利用 Panda 的 inter _ time 特性来做这件事。由于这是包含性的，我将每个时间设置为从整点开始，一直到该时间段第四个小时的第 59 分钟。

接下来，我想看看最常见的犯罪是什么。首先，我通过分组来查看每组的数字。

![](img/df363ed4ab3e2b8876935c91ec799a10.png)

这显示了我上午的分组代码和输出。通过按主要类型对数据进行分组，您可以在早上看到每种犯罪类型的数量。我对每个街区重复这一过程。

看到这些数字后，我想为每个时间段创建可视化效果，这样我就可以比较一天中的犯罪情况。然而，首先，我意识到我必须为所有最流行的犯罪创建一个可视化，以便给自己一个基线来比较每个时间段。我使用我之前创建的同样的可视化来分析我的第一个问题。

![](img/d9f10504ca12e63fba743b7fab48a5f0.png)

这张图表显示了五种最常见的犯罪是:盗窃、殴打、刑事伤害、毒品和人身攻击。有了这个基线，我可以继续我的分析，将每个时间段与此进行比较。

这个分析向我展示了这个数据中的另一个弱点——“其他罪行”类别。作为第六种最受欢迎的犯罪类型，很明显，犯罪被贴上“其他犯罪”的标签放入数据库。这使得分析更加困难，因为这种类型的犯罪是无法推断的，也许带有这种标签的犯罪更适合归类为其他类型。

> 早间犯罪(上午 6 点至 10 点)

![](img/6e1acddc4cee595d931f49778c0ab895.png)

这张图表显示了早上犯罪的分布情况。与基线相比，入室盗窃在早上更常见，涉及儿童的犯罪、非法侵入、抢劫和欺骗行为也是如此。毒品在早上很少出现。

> 中午犯罪(10 点至下午 2 点)

![](img/ad32f3f3e29aeb241388e6e56e3b2c25.png)

这张图表显示了中午 10 点到下午 2 点之间发生的犯罪。人身攻击比平均水平要少，在平均水平上，违反武器规定和抢劫稍微多一点。与早上相比，这里有更多的麻醉剂。

> 下午犯罪(下午 2 点至 6 点)

![](img/c09037a35715686d85b14de00b07a6f5.png)

该图显示了下午(下午 2 点至 6 点)发生的犯罪分布。与平均水平相比，电池稍微不太常见，但其他一切都相当平均。与早上相比，入室盗窃案略有减少。

> 晚间犯罪(晚上 6 点至 10 点)

![](img/a97f187032d5497dd66d15264f53419d.png)

这张图表显示了晚上 6 点到 10 点的夜间犯罪。犯罪的分布相当平均，除了机动车辆盗窃和毒品稍微更常见。此外，随着时间的推移，电池已经变得越来越普遍，并正在接近盗窃的数量。

> 夜间犯罪(晚上 10 点至凌晨 2 点)

![](img/85f49c7ccb9e7a381a66a599b66c09cb.png)

这张图表显示了发生在晚上 10 点到凌晨 2 点之间的犯罪。与一天中的平均时间和早些时候相比，殴打现在第一次比盗窃更常见，入室盗窃和抢劫继续变得不太常见。与夜间犯罪相比，毒品稍微少一些。

> 深夜犯罪(凌晨 2-6 点)

![](img/d2177c7c9f94bef453acf9ceb446db2e.png)

这张图表显示了从凌晨 2 点到 6 点的深夜犯罪。这个时间段是所有时间段中电池最多的时间段，其他犯罪的数量要少得多。麻醉剂变得远不如在夜晚或傍晚时普遍。抢劫也变得稍微更常见，性侵犯变得比任何其他时期都更常见。

> **概要:**

总结我在一天中不同时段的发现，我发现随着夜晚的推移，殴打取代盗窃成为最流行的犯罪类型。此外，毒品似乎是晚上最常见的，从晚上 6 点至 10 点，也许当白天趋于下降，因为这些犯罪往往发生在街上。性侵犯在深夜(凌晨 2-6 点)最为常见。最后，入室盗窃往往在早上和深夜最常见，也许是在人们被认为正在睡觉的时候。

## 问题 3: **从 2012 年到 2017 年，芝加哥的犯罪率有什么变化？**

我的最后一个问题是，随着时间的推移，芝加哥的犯罪现场发生了怎样的变化。犯罪是增加了，减少了，还是保持不变？为了研究这个问题，我首先创建了一个 2012 年至 2017 年犯罪总数变化的可视化。

![](img/a23fc7779634308b8047da8aa042249f.png)

这张图表显示了 2012 年至 2017 年的犯罪数量。总的趋势是到 2015 年呈下降趋势，然后到 2016 年略有上升。

值得注意的是，在 2017 年，经调查，数据远远少于此，因为在该数据库建立时，数据尚未完全输入。因此，我将只考虑 2012 年至 2016 年进行真正的分析。

在看了犯罪的综合分析后，我想看看不同类型的犯罪在这五年中是如何变化的。我决定看看五种最流行的犯罪类型，看看它们从 2012 年到 2017 年是如何变化的。这些是盗窃，殴打，刑事损害，毒品，和攻击。

> 子问题:从 2012 年到 2017 年，芝加哥最常见的犯罪类型有什么变化？

![](img/ee720c6db880231917b1e11f763ef0e2.png)

这表明盗窃复制了犯罪的主要趋势-从 2012 年到 2015 年下降，但在 2016 年有更显著的增长，从 2014 年到 2015 年略有更显著的下降。

![](img/300d297d5e5f0f8e2394f751cfd0aef2.png)

这表明电池多年来也遵循类似的趋势，但从 2014 年到 2015 年下降幅度较小，2016 年略有显著增长。

![](img/2c92f88ada3c5a631798d309ab873d99.png)

这张图表显示了芝加哥犯罪损害的趋势。这表明从 2014 年到 2015 年有所增加，而不是减少，从 2015 年到 2016 年增加更为显著。

![](img/b853655d5f550bae6aa4841d437eca0b.png)

这显示了 2012 年至 2017 年的毒品犯罪图表，显示了与其他非常不同的趋势。每年都有下降，偏离了 2015–2016 年的标准上升。相反，这种下降更为显著，显示出与麻醉品完全不同的趋势。

![](img/adc26375f83695dff9600d9633f1bf4d.png)

除了从 2014 年到 2015 年有所增加而不是减少之外，攻击行为显示出与芝加哥总体犯罪趋势相似的趋势。此外，从 2015 年到 2016 年，增幅明显高于标准水平。

在看了最流行的犯罪类型后，我想最终看看其他类型的犯罪率在这些年里是如何变化的。我查看了许多其他数据来分析这个问题，我发现最值得注意的是欺骗性犯罪、纵火和杀人。

> 子问题:从 2012 年到 2017 年，芝加哥其他类型的犯罪率有什么变化？

![](img/da6094b91a7699faa606d0f8002b9a1c.png)

这显示了 2012-2017 年芝加哥欺骗性犯罪的趋势。与更平均的犯罪趋势相比，欺骗性犯罪逐年增加。这与 2012 年至 2015 年犯罪率下降、2016 年仅上升的标准趋势形成了鲜明对比。

![](img/b14c23d192b427dd24f378dc8ff564c8.png)

这张图表显示了从 2012 年到 2017 年纵火案的急剧下降和稳步上升。这与 2015 年至 2016 年先下降后上升的标准趋势形成了对比。相反，从 2013 年开始，纵火案持续增加。

![](img/0c935fbb05105636ab61c5ee2aab4cb5.png)

这张图表显示了 2012 年至 2017 年的凶杀犯罪率。该图显示了从 2015 年到 2016 年比典型情况下更显著的增长。此外，2016 年的凶杀案数量几乎是其他年份的两倍，这是一个比其他许多类型的犯罪更显著的差异。这表明 2016 年凶杀案大幅增加。