<html>
<head>
<title>SpaCy Vs NLTK — Basic NLP Operations code and result comparison | Dev Skrol</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SpaCy Vs NLTK —基本NLP操作代码和结果比较| Dev Skrol</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/spacy-vs-nltk-basic-nlp-operations-code-and-result-comparison-dev-skrol-7d7116608265?source=collection_archive---------14-----------------------#2021-04-17">https://medium.com/analytics-vidhya/spacy-vs-nltk-basic-nlp-operations-code-and-result-comparison-dev-skrol-7d7116608265?source=collection_archive---------14-----------------------#2021-04-17</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="1198" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在本文中，我们将探索使用NLTK和spaCy的基本NLP操作的代码。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jc"><img src="../Images/1ca412d5bcc915824a6bed3722924f4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*BvGhcPWrL8ryiiJm.jpg"/></div></div></figure><h1 id="4fb7" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">NLTK</h1><p id="76f3" class="pw-post-body-paragraph ie if hh ig b ih km ij ik il kn in io ip ko ir is it kp iv iw ix kq iz ja jb ha bi translated">NLTK是一个开源库，非常适合使用Python进行计算语言学的教学和工作。</p><p id="2046" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">它也有工业实力图书馆。</p><h1 id="4676" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">宽大的</h1><p id="f175" class="pw-post-body-paragraph ie if hh ig b ih km ij ik il kn in io ip ko ir is it kp iv iw ix kq iz ja jb ha bi translated">spaCy是python中高级NLP的开源库。</p><p id="ffc5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">它是专门为生产使用而设计的，可以处理大量的文本，而NLTK和CoreNLP是专门为教学和研究目的而创建的。</p><p id="dc7d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">spaCy提供了先进的NLP技术，广泛应用于复杂的应用中，如文本摘要、文本到语音、特定领域NER、问答、情感检测等。</p><p id="90d2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我正打算一个一个地探索，并在一系列的帖子中与你分享。</p><h1 id="42ee" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">首次发布</h1><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es kr"><img src="../Images/1db8fb563388688b8fef6f89487fe574.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g_zNtoeMr6H3AmXsVMg1Xw.png"/></div></div><figcaption class="ks kt et er es ku kv bd b be z dx translated">按作者分类的图片—首次发布比较</figcaption></figure><p id="b916" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在许多博客帖子和文章中广泛提到spaCy更快，拥有其他库(NLTK、CodeNLP等)提供的几乎所有功能。但或多或少有相似的精确度。</p><p id="6d62" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在本文中，我们将分析和比较spaCy和NLTK中NLP最基本操作的代码。</p><p id="6511" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们不打算比较这些库的速度和准确性。然而，了解这两个库的代码和结果可能有助于未来的研究。</p><pre class="jd je jf jg fd kw kx ky kz aw la bi"><span id="e31a" class="lb jp hh kx b fi lc ld l le lf">#SPACY<br/>import spacy <br/><br/>#NLTK<br/>import nltk</span></pre><h1 id="7a6d" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">单词标记化</h1><p id="e7b8" class="pw-post-body-paragraph ie if hh ig b ih km ij ik il kn in io ip ko ir is it kp iv iw ix kq iz ja jb ha bi translated"><strong class="ig hi">在空间:</strong></p><pre class="jd je jf jg fd kw kx ky kz aw la bi"><span id="9055" class="lb jp hh kx b fi lc ld l le lf">text = "He is a 43 year old gentleman who is referred for consultation by Dr. Tamil Buhari.  About a week ago he slipped on the driveway at home and sustained an injury to his left ankle.  He was seen at My-City Hospital and was told he had a fracture.  He was placed in an air splint and advised to be partial weight bearing, and he is using a cane.  He is here for routine follow-up."</span><span id="3d7c" class="lb jp hh kx b fi lg ld l le lf">nlp = spacy.load("en_core_web_sm")<br/>doc = nlp(text)<br/>tokens = [token.text for token in doc]<br/>print(tokens)</span></pre><p id="52cb" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">输出:</p><pre class="jd je jf jg fd kw kx ky kz aw la bi"><span id="9d0e" class="lb jp hh kx b fi lc ld l le lf">['Most', 'of', 'the', 'outlay', 'will', 'be', 'at', 'home', '.', 'No', 'surprise', 'there', ',', 'either', '.', 'While', 'Samsung', 'has', 'expanded', 'overseas', ',', 'South', 'Korea', 'is', 'still', 'host', 'to', 'most', 'of', 'its', 'factories', 'and', 'research', 'engineers', '.']</span></pre><p id="ee03" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">在NLTK: </strong></p><pre class="jd je jf jg fd kw kx ky kz aw la bi"><span id="169a" class="lb jp hh kx b fi lc ld l le lf">from nltk.tokenize import word_tokenize<br/>print(word_tokenize(text))</span></pre><p id="2b62" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">输出:</p><pre class="jd je jf jg fd kw kx ky kz aw la bi"><span id="7328" class="lb jp hh kx b fi lc ld l le lf">['Most', 'of', 'the', 'outlay', 'will', 'be', 'at', 'home', '.', 'No', 'surprise', 'there', ',', 'either', '.', 'While', 'Samsung', 'has', 'expanded', 'overseas', ',', 'South', 'Korea', 'is', 'still', 'host', 'to', 'most', 'of', 'its', 'factories', 'and', 'research', 'engineers', '.']</span></pre><h1 id="65a4" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">句子标记化</h1><p id="2b45" class="pw-post-body-paragraph ie if hh ig b ih km ij ik il kn in io ip ko ir is it kp iv iw ix kq iz ja jb ha bi translated"><strong class="ig hi">在空间:</strong></p><pre class="jd je jf jg fd kw kx ky kz aw la bi"><span id="ea2e" class="lb jp hh kx b fi lc ld l le lf">doc = nlp(text)<br/>for sent in doc.sents:<br/>    print(sent)</span></pre><p id="3968" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">输出:</p><pre class="jd je jf jg fd kw kx ky kz aw la bi"><span id="fd26" class="lb jp hh kx b fi lc ld l le lf">He is a 43 year old gentleman who is referred for consultation by Dr. Tamil Buhari.<br/> About a week ago he slipped on the driveway at home and sustained an injury to his left ankle.  <br/>He was seen at My-City Hospital and was told he had a fracture.  <br/>He was placed in an air splint and advised to be partial weight bearing, and he is using a cane.  <br/>He is here for routine follow-up.</span></pre><p id="bde3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">在NLTK: </strong></p><pre class="jd je jf jg fd kw kx ky kz aw la bi"><span id="09c7" class="lb jp hh kx b fi lc ld l le lf">from nltk.tokenize import sent_tokenize</span></pre><p id="21ee" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">输出:</p><pre class="jd je jf jg fd kw kx ky kz aw la bi"><span id="5d65" class="lb jp hh kx b fi lc ld l le lf">['He is a 43 year old gentleman who is referred for consultation by Dr. Tamil Buhari.', 'About a week ago he slipped on the driveway at home and sustained an injury to his left ankle.', 'He was seen at My-City Hospital and was told he had a fracture.', 'He was placed in an air splint and advised to be partial weight bearing, and he is using a cane.', 'He is here for routine follow-up.']</span></pre><h1 id="5294" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">停用词删除</h1><p id="6858" class="pw-post-body-paragraph ie if hh ig b ih km ij ik il kn in io ip ko ir is it kp iv iw ix kq iz ja jb ha bi translated"><strong class="ig hi">在空间:</strong></p><pre class="jd je jf jg fd kw kx ky kz aw la bi"><span id="939a" class="lb jp hh kx b fi lc ld l le lf">text = """Most of the outlay will be at home. No surprise there, either. While Samsung has expanded overseas, South Korea is still host to most of its factories and research engineers. """<br/>﻿<br/>doc = nlp(text)<br/><br/>text_without_sw = [token.text for token in doc if token.is_stop == False]<br/>print(text_without_sw)</span></pre><p id="686f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">输出:</p><pre class="jd je jf jg fd kw kx ky kz aw la bi"><span id="79e4" class="lb jp hh kx b fi lc ld l le lf">['outlay', 'home', '.', 'surprise', ',', '.', 'Samsung', 'expanded', 'overseas', ',', 'South', 'Korea', 'host', 'factories', 'research', 'engineers', '.']</span></pre><p id="8105" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">在NLTK: </strong></p><pre class="jd je jf jg fd kw kx ky kz aw la bi"><span id="8b2c" class="lb jp hh kx b fi lc ld l le lf">from nltk.corpus import stopwords <br/>from nltk.tokenize import word_tokenize <br/>  <br/>stop_words = set(stopwords.words('english')) <br/><br/>words = text.split() <br/>text_without_sw = [token for token in words if not token in stop_words]<br/>print(text_without_sw)</span></pre><p id="0ff0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">输出:</p><pre class="jd je jf jg fd kw kx ky kz aw la bi"><span id="ff52" class="lb jp hh kx b fi lc ld l le lf">['Most', 'outlay', 'home.', 'No', 'surprise', 'there,', 'either.', 'While', 'Samsung', 'expanded', 'overseas,', 'South', 'Korea', 'still', 'host', 'factories', 'research', 'engineers.']</span></pre><h1 id="981b" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">词性标注</h1><p id="fee2" class="pw-post-body-paragraph ie if hh ig b ih km ij ik il kn in io ip ko ir is it kp iv iw ix kq iz ja jb ha bi translated"><strong class="ig hi">在空间:</strong></p><pre class="jd je jf jg fd kw kx ky kz aw la bi"><span id="4f09" class="lb jp hh kx b fi lc ld l le lf">text = """Most of the outlay will be at home. No surprise there, either. While Samsung has expanded overseas, South Korea is still host to most of its factories and research engineers. """<br/><br/>doc = nlp(text)<br/><br/>tokens_with_POS = [token.text + " - " + token.pos_ for token in doc]<br/>print(tokens_with_POS)</span></pre><p id="c806" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">输出:</p><pre class="jd je jf jg fd kw kx ky kz aw la bi"><span id="652f" class="lb jp hh kx b fi lc ld l le lf"><br/>['Most - ADJ', 'of - ADP', 'the - DET', 'outlay - NOUN', 'will - AUX', 'be - VERB', 'at - ADP', 'home - NOUN', '. - PUNCT', 'No - DET', 'surprise - NOUN', 'there - ADV', ', - PUNCT', 'either - ADV', '. - PUNCT', 'While - SCONJ', 'Samsung - PROPN', 'has - AUX', 'expanded - VERB', 'overseas - ADV', ', - PUNCT', 'South - PROPN', 'Korea - PROPN', 'is - AUX', 'still - ADV', 'host - NOUN', 'to - ADP', 'most - ADJ', 'of - ADP', 'its - PRON', 'factories - NOUN', 'and - CCONJ', 'research - NOUN', 'engineers - NOUN', '. - PUNCT']</span></pre><p id="b77b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">在NLTK: </strong></p><pre class="jd je jf jg fd kw kx ky kz aw la bi"><span id="5d44" class="lb jp hh kx b fi lc ld l le lf">from nltk.tag import pos_tag<br/><br/>sent = nltk.word_tokenize(text)<br/>sent = nltk.pos_tag(sent)<br/>print(sent)</span></pre><p id="eead" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">输出:</p><pre class="jd je jf jg fd kw kx ky kz aw la bi"><span id="f3d5" class="lb jp hh kx b fi lc ld l le lf">[('Most', 'JJS'), ('of', 'IN'), ('the', 'DT'), ('outlay', 'NN'), ('will', 'MD'), ('be', 'VB'), ('at', 'IN'), ('home', 'NN'), ('.', '.'), ('No', 'DT'), ('surprise', 'NN'), ('there', 'RB'), (',', ','), ('either', 'DT'), ('.', '.'), ('While', 'IN'), ('Samsung', 'NNP'), ('has', 'VBZ'), ('expanded', 'VBN'), ('overseas', 'RB'), (',', ','), ('South', 'NNP'), ('Korea', 'NNP'), ('is', 'VBZ'), ('still', 'RB'), ('host', 'VBN'), ('to', 'TO'), ('most', 'JJS'), ('of', 'IN'), ('its', 'PRP$'), ('factories', 'NNS'), ('and', 'CC'), ('research', 'NN'), ('engineers', 'NNS'), ('.', '.')]</span></pre><h1 id="477b" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">命名实体识别</h1><h2 id="7018" class="lb jp hh bd jq lh li lj ju lk ll lm jy ip ln lo kc it lp lq kg ix lr ls kk lt bi translated"><strong class="ak"> NER使用空间:</strong></h2><pre class="jd je jf jg fd kw kx ky kz aw la bi"><span id="dae6" class="lb jp hh kx b fi lc ld l le lf">text = """Most of the outlay will be at home. No surprise there, either. While Samsung has expanded overseas, South Korea is still host to most of its factories and research engineers. """<br/><br/>doc = nlp(text)<br/><br/>for ent in doc.ents:<br/>    print(ent.text, ent.start_char, ent.end_char, ent.label_)</span></pre><p id="4e87" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">输出:</p><pre class="jd je jf jg fd kw kx ky kz aw la bi"><span id="5cfa" class="lb jp hh kx b fi lc ld l le lf">Samsung 69 76 ORG<br/>South Korea 100 111 GPE</span></pre><h2 id="d9d3" class="lb jp hh bd jq lh li lj ju lk ll lm jy ip ln lo kc it lp lq kg ix lr ls kk lt bi translated"><strong class="ak"> NER使用NLTK: </strong></h2><p id="6852" class="pw-post-body-paragraph ie if hh ig b ih km ij ik il kn in io ip ko ir is it kp iv iw ix kq iz ja jb ha bi translated">下载NLTK单词包:</p><pre class="jd je jf jg fd kw kx ky kz aw la bi"><span id="bfa4" class="lb jp hh kx b fi lc ld l le lf">nltk.download('words')</span></pre><p id="a748" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">输出:</p><pre class="jd je jf jg fd kw kx ky kz aw la bi"><span id="bd72" class="lb jp hh kx b fi lc ld l le lf">[nltk_data] Downloading package words to<br/>[nltk_data]     C:\Users\aasha\AppData\Roaming\nltk_data...<br/>[nltk_data]   Package words is already up-to-date!</span></pre><p id="5a2b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">使用ne_chunk，pos_tag: </strong></p><p id="dd94" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">pos_tag函数接受一个标记化的句子，并返回一个带标记的词类——名词、动词等。</p><p id="e083" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">ne_chunk接受一个带词性标记的句子并返回一个树对象，该树对象标有Person、location — GPE、organization。</p><pre class="jd je jf jg fd kw kx ky kz aw la bi"><span id="de7b" class="lb jp hh kx b fi lc ld l le lf">import nltk<br/>from nltk import ne_chunk, pos_tag, word_tokenize</span><span id="caf0" class="lb jp hh kx b fi lg ld l le lf">sent = "What is the weather in Chicago today?"<br/>print(nltk.ne_chunk(nltk.pos_tag(nltk.word_tokenize(sent))))</span></pre><p id="de02" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">输出:</p><pre class="jd je jf jg fd kw kx ky kz aw la bi"><span id="e63c" class="lb jp hh kx b fi lc ld l le lf">(S<br/>  What/WP<br/>  is/VBZ<br/>  the/DT<br/>  weather/NN<br/>  in/IN<br/>  (GPE Chicago/NNP)<br/>  today/NN<br/>  ?/.)</span></pre><p id="d7ab" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">您可以注意到命名实体被标记:chicago位置被标记为GPR。</p><p id="6902" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">使用ne_chunk和pos_tag提取命名实体的完整代码:</strong></p><pre class="jd je jf jg fd kw kx ky kz aw la bi"><span id="627a" class="lb jp hh kx b fi lc ld l le lf">for sent in nltk.sent_tokenize(text):<br/>    for chunk in nltk.ne_chunk(nltk.pos_tag(nltk.word_tokenize(sent))):<br/>        if hasattr(chunk, 'label'):<br/>            print(chunk.label(), ' '.join(c[0] for c in chunk))</span></pre><p id="88c8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">输出:</strong></p><pre class="jd je jf jg fd kw kx ky kz aw la bi"><span id="8ccc" class="lb jp hh kx b fi lc ld l le lf">PERSON Samsung<br/>GPE South Korea</span></pre><h1 id="3b78" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">结论:</h1><p id="3060" class="pw-post-body-paragraph ie if hh ig b ih km ij ik il kn in io ip ko ir is it kp iv iw ix kq iz ja jb ha bi translated">现在我们已经看到了如何在NLTK和SpaCy中完成基本的NLP操作。通过比较源代码来理解两个库的基本特性将会很有用，也很容易。</p><p id="7a9c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在本系列中，我们将看到更多关于NLP技术及其应用的内容。</p><p id="3ac2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">感谢您阅读我们的文章，希望您喜欢。😊尝试所有这些技巧，玩文字游戏。</p><p id="b247" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">喜欢支持？只需点击喜欢按钮❤️.</p><p id="3765" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">快乐学习！👩‍💻</p></div><div class="ab cl lu lv go lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ha hb hc hd he"><p id="e372" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="mb">原载于2021年4月17日</em><a class="ae mc" href="https://devskrol.com/index.php/2021/04/17/spacy-vs-nltk-basic-nlp-operations-code-and-result-comparison/" rel="noopener ugc nofollow" target="_blank"><em class="mb">【https://devskrol.com】</em></a><em class="mb">。</em></p></div></div>    
</body>
</html>