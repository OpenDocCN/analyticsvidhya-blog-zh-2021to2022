<html>
<head>
<title>ARIMA</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ARIMA</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/arima-fc1f962c22d4?source=collection_archive---------1-----------------------#2021-08-09">https://medium.com/analytics-vidhya/arima-fc1f962c22d4?source=collection_archive---------1-----------------------#2021-08-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="0687" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">高级时间序列方法:自回归综合移动平均。</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ix"><img src="../Images/7050c798756d4572993d342e50d60d73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*QO7OUMfndw39T5BCdxUsHQ.png"/></div></figure><p id="81d5" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">ARIMA代表自回归综合移动平均线。</p><p id="59f8" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">ARIMA —重要概念</p><p id="a00f" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">ACF-PACF与平稳性</p><h2 id="59d2" class="kb kc hi bd kd ke kf kg kh ki kj kk kl jo km kn ko js kp kq kr jw ks kt ku kv bi translated"><strong class="ak">自相关函数</strong></h2><p id="6018" class="pw-post-body-paragraph jf jg hi jh b ji kw ij jk jl kx im jn jo ky jq jr js kz ju jv jw la jy jz ka hb bi translated">ACF:原始数据和滞后“h”时间段的相同数据之间的相关性</p><p id="be81" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">计算两个变量之间的相关系数。因为这里只有一个变量，我们需要计算自相关。</p><p id="3664" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">让我们了解一下这个系列中的数据点是如何与其前面的数据点相关联的。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es lb"><img src="../Images/f1d2bd1f889e1c85b4ce94e4399f182b.png" data-original-src="https://miro.medium.com/v2/resize:fit:992/format:webp/1*I0vNete1Pc6hiRUmwEtnXQ.png"/></div></figure><p id="e20d" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">有季节性和非季节性ARIMA模型可用于预测。</p><p id="9272" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><strong class="jh hj">非季节性ARIMA模型:</strong></p><p id="c290" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">这种方法有三个变量来说明<strong class="jh hj"> P =滞后期</strong>例如:(如果P=3，那么我们将在计算的自回归部分使用时间序列的前三个周期)P有助于调整拟合的线来预测序列</p><p id="05de" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><strong class="jh hj">纯自回归模型类似于线性回归</strong>，其中预测变量是P个前期</p><p id="47d5" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">在ARIMA模型中，我们使用差分法将时间序列转换成平稳序列(没有趋势或季节性的序列)。d指时间序列达到稳定状态所需的差分变换次数。</p><p id="5725" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">平稳时间序列是指<strong class="jh hj">均值和方差在一段时间内保持不变。</strong>数列何时平稳比较容易预测。</p><p id="d826" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><strong class="jh hj"> <em class="lc">差分是一种将非平稳时间序列转化为平稳时间序列的方法。这是为ARIMA模型准备数据的重要一步。</em>T15】</strong></p><p id="1715" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">第一差值是当前时间段和先前时间段之间的差值。如果这些值不能围绕一个恒定的平均值和方差旋转，那么我们使用第一个差分的值找到第二个差分。我们重复这个过程，直到得到一个平稳序列。</p><p id="c47c" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">确定系列是否充分差分的最佳方法是<strong class="jh hj">绘制差分系列并检查是否有恒定的均值和方差。</strong></p><p id="accb" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><strong class="jh hj"> Q </strong> =该变量表示误差分量的滞后，其中误差分量是时间序列的一部分，不能用趋势或季节性来解释</p><blockquote class="ld"><p id="c792" class="le lf hi bd lg lh li lj lk ll lm ka dx translated"><strong class="ak">自相关函数图(ACF): </strong></p></blockquote><p id="83e6" class="pw-post-body-paragraph jf jg hi jh b ji ln ij jk jl lo im jn jo lp jq jr js lq ju jv jw lr jy jz ka hb bi translated">自相关是指时间序列与其过去值的相关程度，而ACF是用于查看点之间相关性的图，直到并包括滞后单位。在ACF中，相关系数在x轴上，而滞后数在y轴上显示。</p><p id="3386" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><strong class="jh hj">自相关函数图将让您知道给定的序列与其自身是如何相关的。</strong></p><p id="dae8" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">通常在ARIMA模型中，我们使用AR或MA。我们很少使用这两种ARMA。我们使用ACF图来决定哪一个是我们应该用于时间序列的术语。</p><p id="3ca7" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">如果在滞后1，处有一个<strong class="jh hj">正自相关，那么我们使用AR模型</strong></p><p id="f42e" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">如果在滞后1，处存在<strong class="jh hj">负自相关，那么我们使用MA模型</strong></p><p id="9a61" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">绘制ACF图后，我们转向<strong class="jh hj">部分自相关函数图(PACF)。</strong>偏相关是时间序列中的观测值与先前时间步中的观测值之间的关系的总结，其中插入观测值的关系被移除。</p><p id="0049" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><strong class="jh hj">滞后K处的部分自相关是在去除了由较短滞后处的项引起的任何相关的影响之后得到的相关。</strong></p><p id="b004" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">如果PACF曲线在滞后n处下降，那么使用AR(n)模型，如果PACF曲线的下降更加平缓，那么我们使用MA项。</p><p id="6a38" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">自回归组件:纯粹的ar模型预测，仅使用过去值的组合，类似于线性回归，其中使用的AR项数量与预测中考虑的前期数量成正比。</p><p id="0c72" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><strong class="jh hj">在模型中使用AR术语时:</strong></p><ul class=""><li id="8768" class="ls lt hi jh b ji jj jl jm jo lu js lv jw lw ka lx ly lz ma bi translated">ACF图显示自相关向零衰减</li><li id="27dd" class="ls lt hi jh b ji mb jl mc jo md js me jw mf ka lx ly lz ma bi translated">PACF曲线很快接近零</li><li id="45ed" class="ls lt hi jh b ji mb jl mc jo md js me jw mf ka lx ly lz ma bi translated">平稳序列的ACF在滞后-1时为正</li></ul><p id="5184" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">移动平均线:时间序列图中的随机跳跃，其影响在两个或多个连续的时间段内都能感觉到。这些跳跃代表在我们的ARIMA模型中计算的误差，并代表MA分量将滞后的情况。一个纯粹的MA模型会像指数平滑法一样平滑这些突然的跳跃。</p><p id="21a2" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">当模型符合以下条件时，在模型中使用MA术语</p><ul class=""><li id="d366" class="ls lt hi jh b ji jj jl jm jo lu js lv jw lw ka lx ly lz ma bi translated">滞后-1时负自相关</li><li id="b0ae" class="ls lt hi jh b ji mb jl mc jo md js me jw mf ka lx ly lz ma bi translated">几个滞后之后急剧下降的ACF</li><li id="a9e5" class="ls lt hi jh b ji mb jl mc jo md js me jw mf ka lx ly lz ma bi translated">PACF逐渐减少</li></ul><p id="09b1" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">综合成分:当时间序列不稳定时，该成分开始起作用。我们必须对级数求差以使其稳定的次数就是积分分量的参数(I项)。</p><p id="9bb8" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">我们可以将我们的模型表示为ARIMA( AR，I，MA)</p><blockquote class="ld"><p id="0b0f" class="le lf hi bd lg lh li lj lk ll lm ka dx translated"><strong class="ak">季节性ARIMA (SARIMA)款式:</strong></p></blockquote><p id="2d9f" class="pw-post-body-paragraph jf jg hi jh b ji ln ij jk jl lo im jn jo lp jq jr js lq ju jv jw lr jy jz ka hb bi translated">顾名思义，当时间序列表现出季节性时，就使用这种模型。这个模型类似于ARIMA模型，我们只需要添加一些参数来解释季节</p><p id="966b" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">我们可以把萨里玛写成:</p><p id="0500" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><strong class="jh hj"> ARIMA(p，D，Q)</strong></p><ul class=""><li id="591a" class="ls lt hi jh b ji jj jl jm jo lu js lv jw lw ka lx ly lz ma bi translated">P —自回归的次数</li><li id="7b30" class="ls lt hi jh b ji mb jl mc jo md js me jw mf ka lx ly lz ma bi translated">d——差异程度</li><li id="c32d" class="ls lt hi jh b ji mb jl mc jo md js me jw mf ka lx ly lz ma bi translated">q —移动平均项的数量</li><li id="729a" class="ls lt hi jh b ji mb jl mc jo md js me jw mf ka lx ly lz ma bi translated">m —指每个季节的周期数</li><li id="f8b2" class="ls lt hi jh b ji mb jl mc jo md js me jw mf ka lx ly lz ma bi translated">(P，D，Q)-表示时间序列季节性部分的(P，D，Q)</li></ul><p id="93e9" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">季节性差异考虑了季节和当前值的差异，它是以前季节的值。</p><ul class=""><li id="dfd5" class="ls lt hi jh b ji jj jl jm jo lu js lv jw lw ka lx ly lz ma bi translated">在纯季节性AR模型中，ACF衰减缓慢，而PACF截止到零</li><li id="a17f" class="ls lt hi jh b ji mb jl mc jo md js me jw mf ka lx ly lz ma bi translated">当季节性自相关为正时，使用AR模型</li><li id="9964" class="ls lt hi jh b ji mb jl mc jo md js me jw mf ka lx ly lz ma bi translated">在纯季节性MA模型中，ACF截止到零，反之亦然</li><li id="b03f" class="ls lt hi jh b ji mb jl mc jo md js me jw mf ka lx ly lz ma bi translated">当季节性自相关为负时，使用MA模型</li></ul><p id="eba1" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">利用ARIMA建立时间序列模型。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="er es mg"><img src="../Images/18e099146590f8561141f2aac8162d8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y64BOziXfIWGIdDUuKJ7xg.png"/></div></div></figure><p id="4ed2" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><strong class="jh hj">最终步骤:</strong></p><ul class=""><li id="5aec" class="ls lt hi jh b ji jj jl jm jo lu js lv jw lw ka lx ly lz ma bi translated"><strong class="jh hj">第一步——检查平稳性:</strong>如果一个时间序列有趋势或季节性成分，在我们可以使用ARIMA预测之前，它必须是平稳的。</li><li id="b2e3" class="ls lt hi jh b ji mb jl mc jo md js me jw mf ka lx ly lz ma bi translated"><strong class="jh hj">第二步——差分:</strong>如果时间序列不是平稳的，需要通过差分来平稳化。取第一个差值，然后检查平稳性。尽可能多地接受差异。一定要检查季节差异。</li><li id="212b" class="ls lt hi jh b ji mb jl mc jo md js me jw mf ka lx ly lz ma bi translated"><strong class="jh hj">第三步——筛选出一个验证样本:</strong>这将用于验证我们的模型有多准确，使用训练测试验证分割来实现。</li><li id="7a09" class="ls lt hi jh b ji mb jl mc jo md js me jw mf ka lx ly lz ma bi translated"><strong class="jh hj">步骤4 —选择AR和MA术语:</strong>使用ACF和PACF来决定是否包括AR术语、MA术语、(或)ARMA。</li><li id="166f" class="ls lt hi jh b ji mb jl mc jo md js me jw mf ka lx ly lz ma bi translated"><strong class="jh hj">步骤5 —建立模型:</strong>建立模型，并将预测的周期数设置为N(取决于您的需求)。</li><li id="5f5e" class="ls lt hi jh b ji mb jl mc jo md js me jw mf ka lx ly lz ma bi translated"><strong class="jh hj">步骤6 —验证模型:</strong>将预测值与验证样本中的实际值进行比较。</li></ul></div></div>    
</body>
</html>