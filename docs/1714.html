<html>
<head>
<title>Did someone just say “Feature Engineering”?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">刚才有人说“特征工程”吗？</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/did-someone-just-say-feature-engineering-5d39a176789a?source=collection_archive---------17-----------------------#2021-03-14">https://medium.com/analytics-vidhya/did-someone-just-say-feature-engineering-5d39a176789a?source=collection_archive---------17-----------------------#2021-03-14</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/caa9323ff0781f08aaee83a1e9890109.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5DZZZZhIcnaTnO7spjuhmw.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated"><strong class="bd it">特色工程</strong></figcaption></figure><p id="738e" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">你可能会在这里，因为你工作的地方有人向你/你周围的人提到了“特征工程”这个术语，但你并不记得，是吗？很久以前我也遇到过这种情况。在我之前的大部分工作中，我都是作为<a class="ae js" href="https://www.antwak.com/author/1621-shivam-dutt-sharma" rel="noopener ugc nofollow" target="_blank">的产品经理</a>工作的，有几次我与数据科学家密切合作，有时我自己也戴着这顶帽子。术语“特征工程”出现得相当频繁。有很多阴影线系在上面。</p><p id="00df" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">最受欢迎的是:- </strong></p><figure class="ju jv jw jx fd ii er es paragraph-image"><div class="er es jt"><img src="../Images/cb05fda3a1fd0ac215d1d5fcd3233c1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:840/format:webp/1*ovZyCBxExPCN-XgHR43XKw.jpeg"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated"><strong class="bd it">来源:</strong><a class="ae js" href="https://elitedatascience.com/algorithm-selection" rel="noopener ugc nofollow" target="_blank">https://elitedatascience.com/algorithm-selection</a></figcaption></figure><p id="fe90" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">是的——当谈到特征工程时，这是最受数据科学家欢迎的问题陈述。此外，特征工程的思想本身促进了摆脱这种问题陈述。</p><p id="585a" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">让我看看我是否能与你分享一些知识，以便下次当你遇到这个奇特的术语时，你知道它的意思，并且你也能为讨论做出贡献。</p><figure class="ju jv jw jx fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es jy"><img src="../Images/7b8ed818d2137da28257cc0e68094370.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*iG1h4iUNAit7biq7-c4vhA.gif"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated"><strong class="bd it">功能太多，诶？</strong></figcaption></figure><p id="c457" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">让我们定义特征工程…… </strong></p><p id="a1e4" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">特征工程</strong>是为机器学习模型准备相关&amp;特定数据集的科学，以便从中获得最佳性能(结果/洞察力/准确度/精确度)。</p><p id="d722" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">让我们深入一点…… </strong></p><p id="6603" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">每当数据科学家或机器学习工程师处理数据/ ML模型时，总会涉及到一些输入数据。输入数据有特定的结构化列，在数据科学社区中通常称为<strong class="iw hi">特性</strong>。最常见的情况是，原始数据集可能并不真正具有作为ML模型的相关数据输入的所有特征，因此需要特征工程，其基本上完成在ML模型将被训练的输入数据中维护特定特征的某些特征的工作。</p><p id="b2a6" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">一个人在他/她的数据集中使用的特征对机器学习模型的结果影响最大。碰巧没有这样的算法能够单独补充由正确的特征工程给出的信息增益。</p><p id="2ad5" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我看到一篇文章，其中提到了IBM数据分析团队提出的一个观点，即<strong class="iw hi"> <em class="jz">“数据科学家将80%的时间花在数据准备上。”</em> </strong></p><figure class="ju jv jw jx fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ka"><img src="../Images/e1d0477fcbb87d9f765e3fec7ea41701.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nPfzhvJz2RjnPn28eKFYOg.jpeg"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated"><strong class="bd it">来源:</strong>【https://www.dataoptimal.com/data-cleaning-with-python-2018/】T2</figcaption></figure><p id="a9f6" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">顺便提一下；我的理解是，任何一篇文章的长度或其阅读时间，都与用户中途掉页的倾向成正比。因此，我想坚持与特征工程相关的最重要的方面。</p><p id="0c61" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">我将逐一介绍:- </strong></p><ul class=""><li id="ce25" class="kb kc hh iw b ix iy jb jc jf kd jj ke jn kf jr kg kh ki kj bi translated">特征工程中最重要的技术。</li><li id="2504" class="kb kc hh iw b ix kk jb kl jf km jj kn jn ko jr kg kh ki kj bi translated">要素工程中主要使用的重要Python库。</li><li id="9162" class="kb kc hh iw b ix kk jb kl jf km jj kn jn ko jr kg kh ki kj bi translated">总的来说，这些特征工程技术如何帮助数据科学家和产品经理。</li></ul><p id="a91e" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在我们深入上述3点之前，让我们先介绍一下Python的两个最重要的库，它们对于特征工程来说是必不可少的。</p><blockquote class="kp kq kr"><p id="6371" class="iu iv jz iw b ix iy iz ja jb jc jd je ks jg jh ji kt jk jl jm ku jo jp jq jr ha bi translated">进口熊猫作为pd <br/>进口numpy作为np</p></blockquote><p id="a152" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">特征工程中最重要的技术:- </strong></p><ol class=""><li id="fbb8" class="kb kc hh iw b ix iy jb jc jf kd jj ke jn kf jr kv kh ki kj bi translated"><strong class="iw hi">插补:</strong>统计学上对插补的标准定义是“用一些替代值替换一个数据中缺失值的过程。”</li></ol><figure class="ju jv jw jx fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kw"><img src="../Images/370fed6ac1fd9a3cc42e03f1fd13ef0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EnklOUZzpi4NZYOrZPC6zg.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated"><strong class="bd it">插补的艺术</strong></figcaption></figure><ul class=""><li id="bda9" class="kb kc hh iw b ix iy jb jc jf kd jj ke jn kf jr kg kh ki kj bi translated">数据集中的缺失值是数据科学家和机器学习工程师在尝试为机器学习准备数据时通常会遇到的最常见问题。</li><li id="71e3" class="kb kc hh iw b ix kk jb kl jf km jj kn jn ko jr kg kh ki kj bi translated">这种丢失值的常见原因可能是人为错误、数据流中断、隐私问题等等。</li><li id="17dd" class="kb kc hh iw b ix kk jb kl jf km jj kn jn ko jr kg kh ki kj bi translated">必须注意丢失的值，否则它们将影响机器学习模型的性能。</li><li id="7b9a" class="kb kc hh iw b ix kk jb kl jf km jj kn jn ko jr kg kh ki kj bi translated">一些机器学习平台在模型训练阶段自动丢弃包括缺失值的行，这进一步降低了模型性能，因为训练规模减小了。</li><li id="c8f0" class="kb kc hh iw b ix kk jb kl jf km jj kn jn ko jr kg kh ki kj bi translated">也有机器学习算法不接受具有缺失值的数据集并且通常给出错误的情况。</li></ul><p id="8cf6" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">显而易见，解决缺失值的最简单的方法是删除行或整列。没有一个标准规则来定义删除的最佳阈值，但是可以使用75%作为示例值，并删除丢失值高于该阈值的行和列。<br/> <strong class="iw hi"> <em class="jz">这个解决方案事实上已经被广泛接受，它给人的感觉和下图一样:- </em> </strong></p><figure class="ju jv jw jx fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kx"><img src="../Images/f2c113dab25b638634c9078662127242.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NcVSkwzPK-v8TXmb-plopg.jpeg"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">现代问题需要现代解决方案</figcaption></figure><p id="fcfa" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">让我们看看空值的丢弃是什么样子的？</p><ul class=""><li id="b771" class="kb kc hh iw b ix iy jb jc jf kd jj ke jn kf jr kg kh ki kj bi translated">显然，我们首先要做的是导入必要的库:- <strong class="iw hi"> <em class="jz">【熊猫】</em></strong>&amp;<strong class="iw hi"><em class="jz">【numpy】。</em> </strong></li><li id="de07" class="kb kc hh iw b ix kk jb kl jf km jj kn jn ko jr kg kh ki kj bi translated">接下来，我们阅读。包含缺失值数据的csv文件。</li></ul><figure class="ju jv jw jx fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ky"><img src="../Images/806de1f0ceab66b65d449f82913cb970.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xW7nBHlCEP66MiqFAweSig.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated"><strong class="bd it">导入所需的库&amp;读取。csv文件</strong></figcaption></figure><ul class=""><li id="7a48" class="kb kc hh iw b ix iy jb jc jf kd jj ke jn kf jr kg kh ki kj bi translated">让我们来看看。csv文件或样本数据集看起来就像我们将要处理的那样，以便处理空值。</li></ul><figure class="ju jv jw jx fd ii er es paragraph-image"><div class="er es kz"><img src="../Images/3d863587a000a1f28c66dd43aafc60a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:758/format:webp/1*nOVnAOF6jgT85UeVMfec5w.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated"><strong class="bd it">有缺失值的样本数据</strong></figcaption></figure><ul class=""><li id="e66d" class="kb kc hh iw b ix iy jb jc jf kd jj ke jn kf jr kg kh ki kj bi translated">接下来，我们定义一个阈值来删除包含空值的行。这里threshold = 0.1基本上意味着我们将删除缺失值比率大于0.1的所有行。我们如何做是以一种有点间接的方式。您会看到，我从现有数据中创建了一个新数据，只查找丢失值率小于阈值的那些行。</li></ul><figure class="ju jv jw jx fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es la"><img src="../Images/056a21fd1388cb4cc0b8de38e3c0c79e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ISJV9cXz6ZPMMn1_bgHkdg.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated"><strong class="bd it">删除空值行</strong></figcaption></figure><figure class="ju jv jw jx fd ii er es paragraph-image"><div class="er es lb"><img src="../Images/e5d3e0ae883465f78c8374482daaea4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:756/format:webp/1*Fn_JDMZLXbH65jAADhh9HQ.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated"><strong class="bd it">排除空值行的数据</strong></figcaption></figure><ul class=""><li id="0ccb" class="kb kc hh iw b ix iy jb jc jf kd jj ke jn kf jr kg kh ki kj bi translated">类似地，我们也可以采取这样的方法，当空值丢失率大于阈值时，删除列而不是行。因此，这里的Python代码行应该如下所示。此外，生成的数据帧打印如下，如果您现在看到，它已经排除了rank列，因为它有空值:-</li></ul><figure class="ju jv jw jx fd ii er es paragraph-image"><div class="er es lc"><img src="../Images/dcd2217c6c550dab36d9a4e750734c88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1030/format:webp/1*7Yn7-961i_IhwE93v5gHng.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated"><strong class="bd it">删除空值列&amp;打印结果数据帧</strong></figcaption></figure><p id="2406" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">然而，从这个角度来看，有一种比仅仅删除值更好、更受欢迎的方法，这就是所谓的<strong class="iw hi">数值插补。</strong></p><p id="0d96" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">数值插补:</strong>有什么好的？<strong class="iw hi"> </strong>它保存了数据大小。不过，有一件事需要特别考虑。非常确定您估算的缺失值是至关重要的。让我们看看这种情况下的一些例子</p><p id="f65b" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">-如果我们有一个最初包含二进制值(0 &amp; 1)的列。然而，你会发现一些NA值，而你看到的其他值只是1。那么，NA值很可能对应于0。因此，用0来估算这些NA值是安全的。</p><p id="b8df" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">-类似地，假设我们正在查看一个数据，其中有一列包含“<strong class="iw hi"> <em class="jz">【每日交易总数】”、</em> </strong>，我们发现有一些值缺失。我们可能想用<em class="jz"> </em> <strong class="iw hi"> <em class="jz">零(0) </em> </strong>来代替那些缺失的值，只要我们认为这是对我们整体问题的明智解决方案。有时，当你加入几个不同大小的牌桌时也会发生什么。因此，您会发现用0替换丢失的值是最理想的。</p><figure class="ju jv jw jx fd ii er es paragraph-image"><div class="er es ld"><img src="../Images/f52fbf05070507c4e2a476ea676f9911.png" data-original-src="https://miro.medium.com/v2/resize:fit:1242/format:webp/1*zEsA8KZwGGhoj9TM56mLfA.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated"><strong class="bd it">用0输入缺失值</strong></figcaption></figure><p id="16dd" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">-用默认值输入缺失值显然是更好的选择。但是，有时您会发现，用列的<strong class="iw hi"> <em class="jz">中位数</em> </strong>来估算缺失值是最好的估算方法。<em class="jz"> <br/> </em>原因？—任何数据的中心趋势一般充当该数据的代言人，即均值、中位数等。当我们谈论均值和中值时。我们发现中位数仍然更适合插补，因为它对数据中的异常值不敏感，而另一方面，平均值是敏感的。</p><figure class="ju jv jw jx fd ii er es paragraph-image"><div class="er es le"><img src="../Images/1dcb68af5dd486ec0d39c071ca00ed60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1222/format:webp/1*RVOzVG6m8jJxkiNJWCPKlQ.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated"><strong class="bd it">用中位数输入缺失值</strong></figcaption></figure><p id="fe38" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><em class="jz">*上面的例子演示了如何用中值替换缺失值。然而，当你看到它时，它可能不是估算缺失等级值的最佳方法。所以，作为一个警告。不要对等级数据进行基于中位数的插补。</em></p><p id="b415" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">分类插补:</strong>这种插补通常在您查看数据集时出现，该数据集对其包含的数据具有分类语气。那么在这种情况下你会怎么做？然后，基本上用某一列中出现的最大值替换该列中缺失的值。这显然不是唯一的选择，但对于处理分类列来说是一个很好的选择。<br/>有时，您可能会发现这些值基本上是均匀分布的，本身并不存在主导值。在这种情况下，您可能只想输入一个类别，如<strong class="iw hi"> <em class="jz">“其他”。</em> </strong></p><figure class="ju jv jw jx fd ii er es paragraph-image"><div class="er es lf"><img src="../Images/31708e4c37383f1c0d4036e2dc26276c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1238/format:webp/1*SBJhwhgaOWrFnmh-zfD1RA.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated"><strong class="bd it">输入最大分类列的缺失值</strong></figcaption></figure><ul class=""><li id="b785" class="kb kc hh iw b ix iy jb jc jf kd jj ke jn kf jr kg kh ki kj bi translated">上面的“等级”列的第2行和第6行缺少值。</li><li id="1694" class="kb kc hh iw b ix kk jb kl jf km jj kn jn ko jr kg kh ki kj bi translated">同样得到估算的最大值为7.0</li><li id="ec7b" class="kb kc hh iw b ix kk jb kl jf km jj kn jn ko jr kg kh ki kj bi translated"><strong class="iw hi"> <em class="jz"> *PS:这也不是填充“等级”类型列中缺失值的理想方法。以上仅为演示之用。此外，该列也不是绝对的。演示只是为了展示如何用最大值估算缺失值。</em> </strong></li></ul><p id="e482" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">未完待续:处理异常值和其他方法。</p></div></div>    
</body>
</html>