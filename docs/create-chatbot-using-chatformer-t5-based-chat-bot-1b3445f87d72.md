# å¦‚ä½•é€šè¿‡ä¸‰ä¸ªç®€å•çš„æ­¥éª¤åˆ›å»ºèŠå¤©æœºå™¨äººï¼Ÿ(T5 å˜å‹å™¨)

> åŸæ–‡ï¼š<https://medium.com/analytics-vidhya/create-chatbot-using-chatformer-t5-based-chat-bot-1b3445f87d72?source=collection_archive---------1----------------------->

> ä¸€ä¸ªå…³äºå¦‚ä½•ä½¿ç”¨æˆ‘çš„åº“åˆ›å»ºä¸€ä¸ªä¸Šä¸‹æ–‡èŠå¤©æœºå™¨äºº(ä¸éœ€è¦æ·±åº¦å­¦ä¹ ï¼Œå› ä¸ºæˆ‘å·²ç»ä¸ºä½ åšäº†)å¹¶åœ¨ Reddit/Telegram/ç§»åŠ¨åº”ç”¨ä¸Šéƒ¨ç½²å®ƒçš„ 3 æ­¥æ•™ç¨‹

![](img/96b8d857e0bc6fe7e53f882b91385a8c.png)

**ç”¨ä¾‹**

æƒ³åšä¸€ä¸ªèŠå¤©æœºå™¨äººå—ï¼Ÿ

æˆ‘ä»¬è®©ä½ å¾ˆå®¹æ˜“ï¼Œä½¿ç”¨*å­ reddits* ä½ çš„èŠå¤©æœºå™¨äººå¯ä»¥å­¦ä¹ äººä»¬å¦‚ä½•äº¤è°ˆ/å›åº”æŸäº›é—®é¢˜/å›å¤ã€‚

å¦‚æœæˆ‘å‘Šè¯‰ä½ ï¼Œä½ å‡ ä¹ä¸éœ€è¦ä»»ä½•ç¼–ç å°±å¯ä»¥å®Œæˆå®ƒï¼Œå¹¶ä¸”å¯ä»¥æŠŠå®ƒéƒ¨ç½²åˆ°ä»»ä½•ä½ æƒ³éƒ¨ç½²çš„åœ°æ–¹ã€‚

è¿™æ˜¯æˆ‘ç”¨ r/mentalhealth subreddit çš„æ•°æ®è®­ç»ƒåº“åˆ¶ä½œçš„èŠå¤©æœºå™¨äººã€‚

**æ¼”ç¤º:**

![](img/f1cade2bb369191e39d070e76230a348.png)

è®­ç»ƒæ•°æ®æ˜¯ä» reddit.com/r/mentalheath æ”¶é›†çš„

[Chatformer](https://github.com/Ar9av/transformer-nmt-chatbot) æ˜¯ Chatbot çš„ä¸€ä¸ªç«¯åˆ°ç«¯å®ç°ï¼Œå®ƒä½¿ç”¨äº†ä¸€ä¸ªå¼ºå¤§çš„è½¬æ¢å™¨æ¨¡å‹ [T5](https://ai.googleblog.com/2020/02/exploring-transfer-learning-with-t5.html) ã€‚

åœ¨è¿™é‡Œï¼Œæˆ‘å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•åˆ›å»ºã€æ›´æ–°ã€è®­ç»ƒå’Œåˆ†æèŠå¤©æœºå™¨äººï¼Œå¹¶å°†å…¶éƒ¨ç½²åœ¨ Telegram/Reddit ç­‰ä»»ä½•åœ°æ–¹ï¼Œæˆ–è€…åœ¨æ‚¨è‡ªå·±çš„ç½‘ç«™å¹³å°ä¸Šä½¿ç”¨å®ƒã€‚

*å·²ç»ç­‰ä¸åŠäº†ï¼Ÿ
æ‰“å¼€ä»¥ä¸‹ Google Colab ç¬”è®°æœ¬ï¼Œåœ¨æ—…é€”ä¸­ä½¿ç”¨ã€‚*

[*é“¾æ¥åˆ° colab ç¬”è®°æœ¬*](https://colab.research.google.com/drive/17TmAJCD2jmydaN7TDJ32Tc8FsMVYzalH?usp=sharing)

**è®­ç»ƒæ•°æ®**

æ²¡æœ‰è®­ç»ƒæ•°æ®ï¼Ÿåœ¨è„‘æµ·ä¸­æœ‰ä¸€ä¸ªåŒ…å«ä½ çš„ç”¨ä¾‹çš„å­ç¼–è¾‘å—ï¼Ÿæˆ‘ä»¬ä¼šä¿æŠ¤ä½ çš„ï¼

å¯¹äºä¸‹é¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ reddit æ¥è·å–è®­ç»ƒæ•°æ®ã€‚

# **ç¬¬ä¸€æ­¥:**

**å…‹éš†**

*   ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†æ­¤å­˜å‚¨åº“å…‹éš†åˆ°æ‚¨çš„æœ¬åœ°è®¡ç®—æœº

```
$ git clone https://github.com/Ar9av/transformer-nmt-chatbot.git
```

æ›´æ”¹å·¥ä½œç›®å½•

```
$ cd transformer-nmt-chatbot
```

**è®¾ç½®**

*   ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…éœ€æ±‚ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦ chromium é©±åŠ¨ç¨‹åºæ¥åˆ›å»ºæˆ‘ä»¬çš„è®­ç»ƒæ•°æ®

```
$ pip install -r requirements.txt
$ sudo apt-get install chromium-chromedriver
```

# **ç¬¬äºŒæ­¥:**

**åŸºäº Reddit å¯¹è¯çº¿ç´¢çš„è®­ç»ƒæ•°æ®**

æ‚¨å¯ä»¥é€šè¿‡ reddit å¯¹è¯ç›´æ¥è®­ç»ƒå®ƒï¼Œåªéœ€æä¾›æ‚¨æƒ³è¦çš„æ•°æ®çš„å­ç¼–è¾‘å’Œé¡µæ•°ã€‚

æ‚¨å¯ä»¥ä½¿ç”¨`config.yml`è¿›è¡Œé…ç½®ï¼Œå¹¶å°†`reddit_data`æ›´æ”¹ä¸º`True`ã€‚

æ‚¨å¯ä»¥åœ¨`reddit_config.yml`ä¸­æåŠå­ç›®å½•ã€é¡µé¢ã€åˆ†ç±»æ ‡å‡†ã€‚

`reddit_config.yml`çš„ç¤ºä¾‹æ¨¡æ¿

è¿ç­¹å­¦

**åŸºäºè‡ªå®šä¹‰æ•°æ®é›†çš„è®­ç»ƒæ•°æ®**

å¦‚æœæ‚¨ä½¿ç”¨è‡ªå·±çš„è‡ªå®šä¹‰æ•°æ®é›†ï¼Œè¯·ä¿æŒä»¥ä¸‹æ ¼å¼ã€‚

å°†`config.yml`ä¸­çš„å‚æ•°`reddit_data`æ”¹ä¸º`False`ã€‚

è®­ç»ƒæ•°æ®åº”è¯¥åœ¨`data`æ–‡ä»¶å¤¹ä¸­ã€‚

å¯¹è¯æ•°æ®åº”ä¿å­˜åœ¨`train.to`å’Œ`train.from`ä¸¤ä¸ªæ–‡ä»¶ä¸­ã€‚æ¯è¡Œè¡¨ç¤º from å’Œ to è¡¨å•ä¸­æ¯ä¸ªä¸€å¯¹ä¸€å¯¹è¯çš„ idã€‚

æ–‡ä»¶`train.to`:

```
Hey
How are you
```

æ–‡ä»¶`train.from`

```
Hi
I am fine
```

# ç¬¬ä¸‰æ­¥:

åä¸‹æ¥ï¼Œä½ æ‰€è¦åšçš„å°±æ˜¯è¿è¡Œä¸‹é¢çš„ä»£ç 

**åŸ¹è®­**

# é…ç½®è®­ç»ƒå‚æ•°

æ›´æ”¹`config.yml`ä¸­çš„å‚æ•°ï¼Œå°†`type`æ›´æ”¹ä¸º`train`å¹¶è¿è¡Œä»¥ä¸‹å‘½ä»¤ã€‚

```
$ python main.py
```

**å¦‚æœä¸æ˜¯ä¹¦å‘†å­å°±å¿½ç•¥**

![](img/d0bd1142f1338e0f5de0427456141f3e.png)

å¯¹äºé‚£äº›æƒ³ç©è®­ç»ƒå‚æ•°çš„ä¹¦å‘†å­æ¥è¯´ï¼Œé…ç½®å¦‚ä¸‹:

## æƒ³è¦å°†åº”ç”¨ç¨‹åºéƒ¨ç½²åˆ°å­ç¼–è¾‘å—ï¼Ÿ
T21ã€Reddit è‡ªåŠ¨å›å¤è„šæœ¬

åœ¨è®­ç»ƒå®Œä¸€ä¸ªå­ç¼–è¾‘æ•°æ®åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ¨¡å‹æ¥é€šè¿‡è¯„è®ºè¿›è¡Œå¹²é¢„ï¼Œå¹¶ä½¿ç”¨`reddit_bot.py`ç”Ÿæˆå›å¤

åœ¨`reddit_credentials.yml`ä¸­é…ç½® bot (app)ç”¨æˆ·å‡­è¯

# **ç¬¬å››æ­¥:**

æ”¾æ¾ï¼Œä½ å·²ç»å®Œæˆäº†ï¼Œå…ˆç”Ÿã€‚

å–ä¸€æ¯å°åº¦èŒ¶ï¼Œå’Œä½ çš„æ–°èŠå¤©æœºå™¨äººèŠå¤©ã€‚

![](img/7e4861b167d4ba9fc43c00875372cc12.png)

## å»ºè®®ï¼ï¼Ÿ

> ä¸ºä»€ä¹ˆä¸æŠ•ç¨¿ï¼ï¼Ÿ
> 
> -å¤‡é€‰æ–¹æ¡ˆ 1
> 
> ğŸ´å‰è¿™ä¸ªå›è´­ï¼
> 
> ğŸ”ƒä½¿ç”¨`[hhttps://github.com/Ar9av/transformer-nmt-chatbot/compare/](https://github.com/Ar9av/transformer-nmt-chatbot/compare/)`åˆ›å»ºä¸€ä¸ªæ–°çš„æ‹‰åŠ¨è¯·æ±‚ã€‚
> 
> -å¤‡é€‰æ–¹æ¡ˆ 2
> 
> ğŸ‘¯ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†æ­¤å­˜å‚¨åº“å…‹éš†åˆ°æ‚¨çš„æœ¬åœ°è®¡ç®—æœº
> 
> $ git å…‹éš†[https://github.com/Ar9av/transformer-nmt-chatbot.git](https://github.com/Ar9av/transformer-nmt-chatbot.git)

***ç–‘æƒ‘ã€å»ºè®®ï¼Œè”ç³»æˆ‘ã€‚***

[æˆ‘çš„ LinkedIn](https://www.linkedin.com/in/ar9av/)