<html>
<head>
<title>Cab Booking Prediction by using Machine Learning Algorithms</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">基于机器学习算法的出租车预约预测</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/cab-booking-prediction-by-using-machine-learning-algorithms-f6a8346772b0?source=collection_archive---------5-----------------------#2021-01-29">https://medium.com/analytics-vidhya/cab-booking-prediction-by-using-machine-learning-algorithms-f6a8346772b0?source=collection_archive---------5-----------------------#2021-01-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="33bb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">出租车预订通常是一个过程，在这个过程中，整个城市的租赁都是通过电话/应用程序自动完成的。使用该应用程序更简单，因为人们可以通过选择目的地来预订从一个地点到另一个地点的出租车，并且管理预订也很方便。对于出租车预订应用公司来说，了解出租车的供应和需求可以通过最大限度地减少等待时间来提高服务效率和改善用户体验。</p><p id="a712" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们努力实现项目目标，将历史使用模式与开放数据源(如天气数据)结合起来，预测城市中的出租车预订需求。</p><p id="1b6c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们看看这些步骤。</p><ol class=""><li id="327b" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">读取数据。</li></ol><figure class="jn jo jp jq fd jr er es paragraph-image"><div class="er es jm"><img src="../Images/9934054fcc85f318a341e020fd82732b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1132/format:webp/1*j9mwY8CHY55PeGY44AP9RQ.png"/></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">可以看到，数据中有4个文件</figcaption></figure><p id="1774" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.导入列车数据</p><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es jy"><img src="../Images/5ba40639e3e30a67314f45d16938ed40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*al08t__1bS96SFifN-EdXQ.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">列车数据中列的概述</figcaption></figure><p id="678a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.导入测试数据</p><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es kd"><img src="../Images/5bef49bfc424e584f50d645a6a6dfb08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iWVYgpQoBzgaHtUuLdem5w.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">测试数据列概述。</figcaption></figure><p id="f31d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">4.在训练和测试中检查标签数据</p><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es ke"><img src="../Images/0eae5cae69e394cd923e8030becb1874.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VYFgvow7aBYJU3v9a96bnw.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">使用Total_booking列重命名train_label数据</figcaption></figure><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es kf"><img src="../Images/161442221cc0827d4044fb8ef7c3475a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VJ4XC_s8XZKOCZ06SN62sg.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">带有Total_booking列的测试标签数据</figcaption></figure><p id="c34e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">5)将该数据附加到训练和测试中</p><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es kg"><img src="../Images/35df0e8743d5aeab73f8a32f91552850.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rvCDuY_9iWhGlf8ypmNR1A.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">可以看出，Total_booking列现在从train_label添加到train数据集</figcaption></figure><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es kh"><img src="../Images/9730304fec55230befff9d2a5027dca6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7hIMCfcMBHfdJpkleOE7TA.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">在测试数据中，我们可以看到Total_booking有NaN值</figcaption></figure><p id="1978" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">6)日期时间列同时给出了日期和时间的信息，让我们将其分为日期和时间列</p><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es ki"><img src="../Images/aac075ab97df6f0f9e8201703fbd29f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XaqFVAvgLHFIfm5UAPomlA.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">火车用</figcaption></figure><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es kj"><img src="../Images/3d060cac5b73286c3079e3c9f9bdf393.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PtN3PLYuvbkeKTvTCP-Lig.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">用于测试</figcaption></figure><p id="2d94" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">7)数据分析和可视化</p><figure class="jn jo jp jq fd jr er es paragraph-image"><div class="er es kk"><img src="../Images/5365e49ad6b9451ac32489caf8976af2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/1*abkw2WSwSu3tRDrswWNUXg.png"/></div></figure><figure class="jn jo jp jq fd jr er es paragraph-image"><div class="er es kl"><img src="../Images/d6dbd7208621b6d579697f286a6a3c18.png" data-original-src="https://miro.medium.com/v2/resize:fit:794/format:webp/1*z0gZ5VT-U-8VYrj1ZejwKQ.png"/></div></figure><figure class="jn jo jp jq fd jr er es paragraph-image"><div class="er es km"><img src="../Images/f529803a8e16466c15eebbb8fabd3272.png" data-original-src="https://miro.medium.com/v2/resize:fit:670/format:webp/1*HS9N5EkoWVfrdw-_6gGAyg.png"/></div></figure><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es kn"><img src="../Images/b00102ad2f76dd54f619091de3c0f462.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q_8fdm49gHC6G3hCKG5-SA.png"/></div></div></figure><figure class="jn jo jp jq fd jr er es paragraph-image"><div class="er es ko"><img src="../Images/569a5c406a1ca2db6f7fe6ccaf6412d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1084/format:webp/1*nCDx-4rUKgFxwetU-v40LQ.png"/></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">训练集中没有缺失值</figcaption></figure><figure class="jn jo jp jq fd jr er es paragraph-image"><div class="er es kp"><img src="../Images/397a0c73ae663da0a4dff2c01d2acb7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1030/format:webp/1*iSmrLxPDER4sTCME2I0ILw.png"/></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">特征之间的相关性</figcaption></figure><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es kq"><img src="../Images/fc31238021f9514e255845f3bfa15405.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dj628TTIwQ0FZgm6mE4Jtw.png"/></div></div></figure><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es kr"><img src="../Images/ede1cd0cf42be797262532d7b1a77232.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4ScaYGVVU_tlq3-7STwZhQ.png"/></div></div></figure><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es ks"><img src="../Images/dfca89381bd641073bcac5f6ef362670.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1hzmZI6u6up2DjvsiKedxA.png"/></div></div></figure><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es kt"><img src="../Images/62d6ea760bdd20961ecce1182163c582.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cmLuQZhPfKwOgSxUe9V8qw.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">多重共线性混淆矩阵</figcaption></figure><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es ku"><img src="../Images/90c9db9d759f89969584da151fdc9619.png" data-original-src="https://miro.medium.com/v2/resize:fit:1268/format:webp/1*y7tecJpM9wSYk1W4d-1TUA.png"/></div></div></figure><figure class="jn jo jp jq fd jr er es paragraph-image"><div class="er es kv"><img src="../Images/0b044e8d46361bf89b655a77a30e95c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:934/format:webp/1*lPFSIf94yEKFEP3AyBmRpQ.png"/></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">Total_booking列的测试数据中有空值，我们需要填充NaN值</figcaption></figure><figure class="jn jo jp jq fd jr er es paragraph-image"><div class="er es kw"><img src="../Images/97f2461b3a6b87ea1362c2e0e2905b5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1382/format:webp/1*Y9WVxkvaR2EkG9EDGDeiaQ.png"/></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">从Total_booking中的其他值中选择的值</figcaption></figure><p id="4470" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们对一些列使用标签编码器，因为它们是将它们转换成数值的对象</p><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es kx"><img src="../Images/cd3265386faf976895030cab13eede9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6CsXmKmiRWLpcn4H4gEZ1g.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">通过使用标注转换为数字要素</figcaption></figure><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es ks"><img src="../Images/cac1a0b9933a089c3fd3332b4b7738c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Fn3IlOzbL7cXPJslMdTIEg.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">可以看出，这些值现在已经被编码</figcaption></figure><figure class="jn jo jp jq fd jr er es paragraph-image"><div class="er es ky"><img src="../Images/e5575112c7ec9fc384f36786c9c38c0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*2ttBL4q70LxCXmsG6Z2KSg.png"/></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">适用于模型的所有整数数据</figcaption></figure><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es kz"><img src="../Images/e8d08b2334b3224503b670fe525b9ea7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z193Psg6SpS0uvA-61KGrw.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">搜索缺少的值</figcaption></figure><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es la"><img src="../Images/5cefd535933fe7acbb5876ae620acb87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Tf4qQE9ukXtFVYzKGHzEig.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">找出特征之间的相关性</figcaption></figure><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es lb"><img src="../Images/550055f4af58e31b123cd306dcc8f0dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K6QEqbyfRsSLljkZj46drQ.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">天气图</figcaption></figure><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es lc"><img src="../Images/df42401115a11528afc50f4f2106194d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zuVBdQdnkOOghZDhrFJQfA.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">季节图</figcaption></figure><p id="0256" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">查找异常值(如果有)</p><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es ld"><img src="../Images/a386e6aebbb18b131ccdde431371f384.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f7R2gwzubkNI_px89ImX3g.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">没有这样的离群值</figcaption></figure><p id="b447" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用train_test_split将模型拆分为训练和测试</p><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es le"><img src="../Images/272792fec3e5571750d2ff2bfa39ca30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MizZ-nF2ltYRmKOx_GHYFQ.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">x，y定义</figcaption></figure><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es lf"><img src="../Images/e613e97a55b2af788aa5c973c3a4a663.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fJHm6vh-DqbnHZOH80KLrg.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">拆分数据</figcaption></figure><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es lg"><img src="../Images/9e8acd553b1bcb7cf83fbf728510750f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J7S3-6miWOtWVvzLEUu6Yw.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">要测试的各种分类器</figcaption></figure><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es lh"><img src="../Images/484300873a5913b01c9316a54d06a708.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3uXiAg74nh8pxzBKsuscFw.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">来自分类器的分数</figcaption></figure><figure class="jn jo jp jq fd jr er es paragraph-image"><div class="er es li"><img src="../Images/771916c3e102d3e16aca20b88efa4eff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1274/format:webp/1*JlSNDleYOnqaPCSXOBfdsA.png"/></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">各种分类的精度</figcaption></figure><p id="7f4c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">执行GridSearchCV</p><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es lj"><img src="../Images/05886825016dad6613e2652967d43212.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KOGJwEEDjtXzKY8fl_pQiA.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">对于线性回归</figcaption></figure><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es lk"><img src="../Images/a0d6b1b7ad929313e5328ec71dad0b77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ba0mSlFNJUdqdH5HpodY0g.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">定义参数</figcaption></figure><figure class="jn jo jp jq fd jr er es paragraph-image"><div class="er es ll"><img src="../Images/607a7494b64ad32d957eb89db9b27b02.png" data-original-src="https://miro.medium.com/v2/resize:fit:550/format:webp/1*K26Mo4lZxG1ne-FfoBImMA.png"/></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">GridSearchCV列出的最佳参数</figcaption></figure><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es lm"><img src="../Images/6ecbdc2dda5e9a5beced24109c0900b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mUciKgodtr_9BvNq2zBqig.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">可以看出，精确度略有提高</figcaption></figure><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es ln"><img src="../Images/e66ee0eb53b7ca7812066f04179be7c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i3eT4pXHhGQGlV9NQDENzw.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">XGBRegressor上的GridSearchCV</figcaption></figure><p id="a417" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">结论</strong></p><p id="ae4a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">可以看出，精确度并不是很高，它的范围在12%到99%之间，最大平均值为19%。</p><p id="6516" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">参考文献:</strong></p><ol class=""><li id="99f9" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">如何使用grid search CV-<a class="ae lo" href="https://www.datatechnotes.com/2019/09/how-to-use-gridsearchcv-in-python.html" rel="noopener ugc nofollow" target="_blank">https://www . datatechnotes . com/2019/09/how-to-use-gridsearchcv-in-python . html</a></li><li id="4125" class="jd je hi ih b ii lp im lq iq lr iu ls iy lt jc ji jj jk jl bi translated">什么是离群值-<a class="ae lo" href="https://www.aquare.la/en/what-are-outliers-and-how-to-treat-them-in-data-analytics/" rel="noopener ugc nofollow" target="_blank">https://www . aquare . la/en/what-are-outliers-and-how-treat-them-thes-in-data-analytics/</a></li><li id="a1ba" class="jd je hi ih b ii lp im lq iq lr iu ls iy lt jc ji jj jk jl bi translated">关于各种模型-<a class="ae lo" href="https://towardsdatascience.com/predictive-modeling-picking-the-best-model-69ad407e1ee7" rel="noopener" target="_blank">https://towards data science . com/predictive-modeling-picking-the-best-model-69ad 407 E1 ee 7</a></li><li id="7d20" class="jd je hi ih b ii lp im lq iq lr iu ls iy lt jc ji jj jk jl bi translated">Github commit获取这里解释的完整代码——<a class="ae lo" href="https://github.com/saish15/Machine-Learning/blob/master/Cab_Booking.ipynb" rel="noopener ugc nofollow" target="_blank">https://github . com/saish 15/Machine-Learning/blob/master/Cab _ booking . ipynb</a></li></ol></div></div>    
</body>
</html>