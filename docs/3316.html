<html>
<head>
<title>Face Recognization Automation|and sending emails and WhatsApp messages via face detection.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">人脸识别自动化|以及通过人脸检测发送电子邮件和WhatsApp消息。</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/face-recognization-automation-and-sending-emails-and-whatsapp-messages-via-face-detection-e3091199291?source=collection_archive---------11-----------------------#2021-06-24">https://medium.com/analytics-vidhya/face-recognization-automation-and-sending-emails-and-whatsapp-messages-via-face-detection-e3091199291?source=collection_archive---------11-----------------------#2021-06-24</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><h1 id="7009" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated"><strong class="ak">使用CV2、深度学习和神经网络。</strong></h1><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jc"><img src="../Images/08b1c9813c77e1cb7f783c93bcf0c34d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DbwbgfkMyovpQTgsySB0Hw.jpeg"/></div></div><figcaption class="jo jp et er es jq jr bd b be z dx translated">人脸识别自动化</figcaption></figure><h1 id="a4fc" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">问题陈述</h1><p id="1b58" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated"><em class="kq">在这项任务中，我将介绍深度学习的力量，即识别人脸，并在WhatsApp和电子邮件上发送自动化消息。</em></p><blockquote class="kr ks kt"><p id="8e5e" class="js jt kq ju b jv ku jx jy jz kv kb kc kw kx kf kg ky kz kj kk la lb kn ko kp ha bi translated"><strong class="ju hi"> <em class="hh">注意，在阅读本文之前，你可以浏览一下我的</em> </strong> <a class="ae lc" href="https://github.com/babuakash68/Face-Recognization-Automation-and-sending-emails-and-WhatsApp-messages-via-face-detection..git" rel="noopener ugc nofollow" target="_blank"> <strong class="ju hi"> <em class="hh"> Github库</em> </strong> </a> <strong class="ju hi"> <em class="hh">获取源代码，以便更好地理解本文。</em> </strong></p></blockquote></div><div class="ab cl ld le go lf" role="separator"><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li"/></div><div class="ha hb hc hd he"><p id="0c8d" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated">根据维基百科的说法——“面部识别系统是一种能够从数字图像或视频源的视频帧中识别或验证一个人的技术。”</p><p id="c541" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated">但它在现实世界中究竟意味着什么呢？</p><p id="1285" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated">这背后的简单解释是什么？这项技术是如何工作的？哪些领域利用了它？</p><p id="d0fe" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated">本文将回答所有这些问题以及更多问题。</p><p id="76f7" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated">戴上老花镜，揭开FRT(面部识别技术)世界的神秘面纱。</p><p id="8f73" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated">模式识别、面部分析、深度学习和机器学习是面部识别系统发展的主要贡献者。深度学习是指机器学习的子集，它使机器能够在没有任何人工干预的情况下，使用受人脑启发的算法来学习和解决复杂问题。它的灵感来自于被称为人工神经网络的大脑结构和功能。</p><p id="d853" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated">这些人工神经网络模拟了组成人脑的神经元网络，以便机器能够以类似人类的方式学习和做出决定。面部识别技术通过从数据库中识别个人的面部来利用这一点，就像人类从我们的记忆中回忆不同的人一样。</p></div><div class="ab cl ld le go lf" role="separator"><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li"/></div><div class="ha hb hc hd he"><h1 id="1987" class="ie if hh bd ig ih lk ij ik il ll in io ip lm ir is it ln iv iw ix lo iz ja jb bi translated"><strong class="ak">面部识别技术是如何工作的？</strong></h1><p id="ceb5" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated"><strong class="ju hi"> <em class="kq">第一步</em>:人脸检测</strong></p><p id="1264" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated">首先，当人直视摄像机时，摄像机会检测并识别人脸。这种相机还可以从人群中检测人脸。</p><p id="1b52" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated"><strong class="ju hi"> <em class="kq">第二步:</em>人脸分析</strong></p><p id="9842" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated">从这里加载HAAR人脸分类器进行人脸识别:- <a class="ae lc" href="https://github.com/opencv/opencv/blob/master/data/haarcascades/haarcascade_frontalface_default.xml" rel="noopener ugc nofollow" target="_blank"> HaarClassifire </a>。</p><p id="06cd" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated">然后使用检测多尺度分类器检测人脸。</p><p id="06d8" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated"><strong class="ju hi"> <em class="kq">第三步:</em>将图像转换成数据</strong></p><p id="f15f" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated">一旦面部分析完成，它就被转换成面部签名，即数学公式。该签名包括代码，并被称为面纹。就像我们每个人都有独一无二的指纹一样，我们有自己独一无二的面纹，并保存到本地目录中。</p><p id="c051" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated">步骤3工作100次来收集我们自己的数据集，该数据集将用于构建我们的模型并将文件以唯一的名称保存在指定的目录中。</p><blockquote class="kr ks kt"><p id="37e8" class="js jt kq ju b jv ku jx jy jz kv kb kc kw kx kf kg ky kz kj kk la lb kn ko kp ha bi translated">文件名路径= '。/faces/user/' + str(count) +'。' jpg '</p></blockquote><p id="6bcf" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated"><strong class="ju hi"> <em class="kq">第四步:训练我们的模型进行人脸检测。</em>T9】</strong></p><p id="adfc" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated">使用LBPHFaceRecognizer，我们可以为训练创建一个虚拟模型。</p><blockquote class="kr ks kt"><p id="2848" class="js jt kq ju b jv ku jx jy jz kv kb kc kw kx kf kg ky kz kj kk la lb kn ko kp ha bi translated">akash _ model = cv2 . face _ lbphfacecognizer . create()</p></blockquote><p id="3c1d" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated">如果没有安装LBPHFaceRecognizer，您可以使用以下命令安装它:-</p><blockquote class="kr ks kt"><p id="5f21" class="js jt kq ju b jv ku jx jy jz kv kb kc kw kx kf kg ky kz kj kk la lb kn ko kp ha bi translated">pip安装opencv-contrib-python</p></blockquote><p id="69b0" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated">现在我们可以建立我们的人脸识别模型。</p><blockquote class="kr ks kt"><p id="a48a" class="js jt kq ju b jv ku jx jy jz kv kb kc kw kx kf kg ky kz kj kk la lb kn ko kp ha bi translated">akash _ model . train(NP . as array(Training _ Data)，np.asarray(Labels))</p></blockquote><p id="6863" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated"><em class="kq">至此，我们已经建立了模型，现在可以运行面部识别模型了。</em></p><p id="14e0" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated"><strong class="ju hi"> <em class="kq">第五步:使用</em> CascadeClassifier <em class="kq">检测人脸。</em> </strong></p><p id="db19" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated">使用我们创建的数据集，我们将通过使用创建的模型来识别我们自己的脸。</p><p id="3d05" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated">所以现在Pass面对的是预测模型。</p><blockquote class="kr ks kt"><p id="04ce" class="js jt kq ju b jv ku jx jy jz kv kb kc kw kx kf kg ky kz kj kk la lb kn ko kp ha bi translated"><em class="hh">results = akash _ model . predict(face)</em></p></blockquote><p id="ec66" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated"><em class="kq">结果</em>由包含标签和置信度值的元组组成。</p><p id="d034" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated">现在用我们的模型获得检测到的人脸的置信度。</p><blockquote class="kr ks kt"><p id="8905" class="js jt kq ju b jv ku jx jy jz kv kb kc kw kx kf kg ky kz kj kk la lb kn ko kp ha bi translated"><em class="hh">置信度= int(100 *(1-(结果[1])/400) ) </em></p></blockquote><p id="99c6" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated">如果获得的置信度大于80%,我们假设该人脸被我们创建数据集的同一个人正确地检测到。</p><p id="269e" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated"><strong class="ju hi">现在检测到人脸。</strong></p><h1 id="74cd" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">2.通过检测到的面部发送自动化邮件。</h1><p id="0328" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated">使用<strong class="ju hi"> <em class="kq"> smtplib </em> </strong>库更容易自动发送邮件。</p><p id="424b" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated">所以只要在你的系统中安装smtplib就可以了。</p><blockquote class="kr ks kt"><p id="fb6c" class="js jt kq ju b jv ku jx jy jz kv kb kc kw kx kf kg ky kz kj kk la lb kn ko kp ha bi translated">pip3安装smtplib</p></blockquote><p id="e7d9" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated">只需为gamail.com创建smtplib对象</p><blockquote class="kr ks kt"><p id="084d" class="js jt kq ju b jv ku jx jy jz kv kb kc kw kx kf kg ky kz kj kk la lb kn ko kp ha bi translated">smtpObj = smtplib。SMTP('smtp.gmail.com ')</p></blockquote><p id="8d41" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated">通过obj传递create identity。电子邮件( )</p><blockquote class="kr ks kt"><p id="b26c" class="js jt kq ju b jv ku jx jy jz kv kb kc kw kx kf kg ky kz kj kk la lb kn ko kp ha bi translated">smtpobj . log in("<a class="ae lc" href="mailto:akashbabu68@gmail.com" rel="noopener ugc nofollow" target="_blank">your_@gmail.com</a>，"你的_密码")</p><p id="683e" class="js jt kq ju b jv ku jx jy jz kv kb kc kw kx kf kg ky kz kj kk la lb kn ko kp ha bi translated">subject = " your _ subject "<br/>body = " your _ message！！!"</p></blockquote><p id="8bc5" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated">并使用sendmail()发送邮件</p><blockquote class="kr ks kt"><p id="cdba" class="js jt kq ju b jv ku jx jy jz kv kb kc kw kx kf kg ky kz kj kk la lb kn ko kp ha bi translated">smtpobj . sendmail(" your _ mail @ Gmail . com "，"<a class="ae lc" href="mailto:babuakash68@gmail.com" rel="noopener ugc nofollow" target="_blank">your_friend_mail@gmail.com</a>"，消息)</p></blockquote><p id="5bb4" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated"><strong class="ju hi">现在邮件发送成功。</strong></p><h1 id="b98f" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">3.通过检测到的面部发送自动化Whatsapp按摩。</h1><p id="f065" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated">对于Whatsapp消息，只需导入pywhatkit库</p><blockquote class="kr ks kt"><p id="96e1" class="js jt kq ju b jv ku jx jy jz kv kb kc kw kx kf kg ky kz kj kk la lb kn ko kp ha bi translated">将pywhatkit作为py导入</p></blockquote><p id="968b" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated">拿着你朋友的手机号和短信还有最重要的时间。</p><blockquote class="kr ks kt"><p id="5966" class="js jt kq ju b jv ku jx jy jz kv kb kc kw kx kf kg ky kz kj kk la lb kn ko kp ha bi translated">number = "+91 _ mobile _ number "<br/>mess = " Your _ message？"时间= hourse_time <br/>薄荷= timeS_minuts</p></blockquote><p id="0e4e" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated">并发送给sendwhatmsg()</p><blockquote class="kr ks kt"><p id="3029" class="js jt kq ju b jv ku jx jy jz kv kb kc kw kx kf kg ky kz kj kk la lb kn ko kp ha bi translated">py.sendwhatmsg(数量、混乱、时间、薄荷)</p></blockquote><p id="2b4d" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated"><strong class="ju hi"> WhatsApp消息发送成功</strong></p><h1 id="73ad" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">4.使用AWS在EBS中保存已识别的照片</h1><p id="be8f" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated">现在我使用AWS来保存由自动相机拍摄的截图。</p><p id="cc17" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated">在这里，我使用S3简单的AWS存储。</p><p id="669d" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated">因此，当我们创建的模型检测到人脸时，这个自动化程序立即启动EC2实例和S3桶存储。</p><p id="928b" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated">在继续之前，我们首先必须导入一些库。</p><pre class="jd je jf jg fd lp lq lr ls aw lt bi"><span id="4e95" class="lu if hh lq b fi lv lw l lx ly"><strong class="lq hi">import</strong> <strong class="lq hi">subprocess</strong> <strong class="lq hi">as</strong> <strong class="lq hi">sp</strong></span></pre><p id="aa09" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated">由这组代码EC2实例发起的<strong class="ju hi"> <em class="kq"> instance_id </em> </strong>。</p><pre class="jd je jf jg fd lp lq lr ls aw lt bi"><span id="c2ef" class="lu if hh lq b fi lv lw l lx ly"><strong class="lq hi">instance_id </strong>= sp.getoutput("aws ec2 run-instances --image-id ami-0ad704c126371a549 --instance-type t2.micro --count 1 --key-name tryaws --subnet-id subnet-ba4ea5d1  --security-group-ids sg-0f02295aa9df10e89  --tag-specifications=ResourceType=instance,Tags=[{Key=Name,Value=CV_instances}]  --query Instances[*].[InstanceId] --output text")</span></pre><p id="b58f" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated">启动EC2实例后，我们现在必须创建S3卷</p><pre class="jd je jf jg fd lp lq lr ls aw lt bi"><span id="0b1b" class="lu if hh lq b fi lv lw l lx ly"><strong class="lq hi">vol_id</strong> = sp.getoutput("aws ec2 create-volume --availability-zone ap-south-1a --size 5 --tag-specifications ResourceType=volume,Tags=[{Key=Name,Value=CV_volume}] --query VolumeId --output text")</span></pre><p id="fcc9" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated">在这里，我们已经为存储创建了S3卷<strong class="ju hi"> vol_id </strong>，现在将该卷与实例连接起来。</p><pre class="jd je jf jg fd lp lq lr ls aw lt bi"><span id="d91a" class="lu if hh lq b fi lv lw l lx ly">sp.getoutput("aws ec2 attach-volume --volume-id <strong class="lq hi">{}</strong> --instance-id <strong class="lq hi">{}</strong> --dev /dev/sdf".format(vol_id,instance_id))</span></pre><p id="ca1a" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated">使用<strong class="ju hi"> sp.getoutput( ) </strong>方法，我们在创建的EC2实例上发送图像数据。</p><p id="82a5" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated">因此，我们已经看到了使用CV2的人脸检测自动化机制的3个场景。</p><p id="9b6c" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated">希望这篇文章对你有帮助！！</p><p id="c673" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated">如有任何疑问，请通过<a class="ae lc" href="https://www.linkedin.com/in/akash-babu-mca-2019/" rel="noopener ugc nofollow" target="_blank"> Linkedin个人资料</a>联系我。</p><p id="c507" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated">关于代码，你可以访问我的Git-Hub Repo</p><p id="40cf" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated">感谢阅读！！！</p><p id="d76f" class="pw-post-body-paragraph js jt hh ju b jv ku jx jy jz kv kb kc kd kx kf kg kh kz kj kk kl lb kn ko kp ha bi translated">快乐学习: )</p></div></div>    
</body>
</html>