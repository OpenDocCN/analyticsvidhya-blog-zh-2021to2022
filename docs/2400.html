<html>
<head>
<title>A Comprehensive Guide to Creating a Basic Reddit Bot [Part 3]</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">创建基本Reddit机器人的综合指南[第3部分]</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/a-comprehensive-guide-to-creating-a-basic-reddit-bot-part-3-351817cffae2?source=collection_archive---------12-----------------------#2021-04-21">https://medium.com/analytics-vidhya/a-comprehensive-guide-to-creating-a-basic-reddit-bot-part-3-351817cffae2?source=collection_archive---------12-----------------------#2021-04-21</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="0f62" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">Reddit机器人开发101</h2></div><div class="iw ix ez fb iy iz"><a rel="noopener follow" target="_blank" href="/analytics-vidhya/a-comprehensive-guide-to-creating-a-basic-reddit-bot-part-1-15fb0e4cebcb"><div class="ja ab dw"><div class="jb ab jc cl cj jd"><h2 class="bd hi fi z dy je ea eb jf ed ef hg bi translated">创建基本Reddit机器人的综合指南[第1部分]</h2><div class="jg l"><h3 class="bd b fi z dy je ea eb jf ed ef dx translated">创建简单的交互式Reddit机器人指南的第1部分。</h3></div><div class="jh l"><p class="bd b fp z dy je ea eb jf ed ef dx translated">medium.com</p></div></div><div class="ji l"><div class="jj l jk jl jm ji jn jo iz"/></div></div></a></div><div class="iw ix ez fb iy iz"><a rel="noopener follow" target="_blank" href="/analytics-vidhya/a-comprehensive-guide-to-creating-a-basic-reddit-bot-part-2-85de2fd300cd"><div class="ja ab dw"><div class="jb ab jc cl cj jd"><h2 class="bd hi fi z dy je ea eb jf ed ef hg bi translated">创建基本Reddit机器人的综合指南[第2部分]</h2><div class="jg l"><h3 class="bd b fi z dy je ea eb jf ed ef dx translated">在本系列的第一部分中，我向您展示了如何启动和运行我们的机器人。我们知道机器人是如何访问Reddit的…</h3></div><div class="jh l"><p class="bd b fp z dy je ea eb jf ed ef dx translated">medium.com</p></div></div><div class="ji l"><div class="jp l jk jl jm ji jn jo iz"/></div></div></a></div><p id="35e7" class="pw-post-body-paragraph jq jr hh js b jt ju ii jv jw jx il jy jz ka kb kc kd ke kf kg kh ki kj kk kl ha bi translated">在本系列的第1部分和第2部分中，我们创建了一个工作机器人，它分析文章标题，搜索关键词，并将地区名称与当前的新冠肺炎统计数据进行匹配。然而，我们没有解决最后两个问题:</p><ol class=""><li id="0f29" class="km kn hh js b jt ju jw jx jz ko kd kp kh kq kl kr ks kt ku bi translated">我们的机器人不会跟踪它回复了哪些帖子。所以如果我们循环运行我们的程序，它会多次回复相同的帖子。</li><li id="4625" class="km kn hh js b jt kv jw kw jz kx kd ky kh kz kl kr ks kt ku bi translated">该机器人不会一直保持活动状态。它只有在我们运行的时候才会回复。</li></ol><figure class="lb lc ld le fd lf er es paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="er es la"><img src="../Images/198ab0f2403c316eaee236c6a128ea25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ia-UBfZll4nbEJib"/></div></div><figcaption class="ll lm et er es ln lo bd b be z dx translated">安迪·凯利在<a class="ae lp" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><h1 id="4e98" class="lq lr hh bd ls lt lu lv lw lx ly lz ma in mb io mc iq md ir me it mf iu mg mh bi translated">确保每个帖子只有一个回复</h1><p id="1e5c" class="pw-post-body-paragraph jq jr hh js b jt mi ii jv jw mj il jy jz mk kb kc kd ml kf kg kh mm kj kk kl ha bi translated">确保一个帖子只被回复一次的一个简单方法是让我们的程序创建一个文本文件，并将我们回复的每个帖子的提交ID写入其中。通过这种方式，id被存储起来，并可以在下次执行时被访问。我们可以如下实现这个方法:</p><figure class="lb lc ld le fd lf"><div class="bz dy l di"><div class="mn mo l"/></div></figure><p id="0cfe" class="pw-post-body-paragraph jq jr hh js b jt ju ii jv jw jx il jy jz ka kb kc kd ke kf kg kh ki kj kk kl ha bi translated">现在，在通过帖子寻找关键字之前，我们添加以下条件来检查当前帖子的ID是否是列表<em class="mp">ID</em>的一部分:</p><figure class="lb lc ld le fd lf"><div class="bz dy l di"><div class="mn mo l"/></div><figcaption class="ll lm et er es ln lo bd b be z dx translated">+ '\n '是因为我们在写入文件时将每个ID添加到下一行。</figcaption></figure><p id="6af8" class="pw-post-body-paragraph jq jr hh js b jt ju ii jv jw jx il jy jz ka kb kc kd ke kf kg kh ki kj kk kl ha bi translated">最后，如果当前的帖子满足所有必要的条件，一旦我们对它执行了操作，我们就将它的ID写入文本文件。</p><figure class="lb lc ld le fd lf"><div class="bz dy l di"><div class="mn mo l"/></div></figure><h1 id="5be9" class="lq lr hh bd ls lt lu lv lw lx ly lz ma in mb io mc iq md ir me it mf iu mg mh bi translated">让我们的机器人一直保持活跃</h1><p id="2aca" class="pw-post-body-paragraph jq jr hh js b jt mi ii jv jw mj il jy jz mk kb kc kd ml kf kg kh mm kj kk kl ha bi translated">对此我们有三种主要的方法。</p><ul class=""><li id="b3f6" class="km kn hh js b jt ju jw jx jz ko kd kp kh kq kl mq ks kt ku bi translated">我们可以监视已经部署了我们的bot的子reddit的活动。因此，我们的机器人只会运行时，一个新的职位了。</li><li id="6081" class="km kn hh js b jt kv jw kw jz kx kd ky kh kz kl mq ks kt ku bi translated">我们可以使用任务调度器定期执行我们的程序。</li><li id="0b14" class="km kn hh js b jt kv jw kw jz kx kd ky kh kz kl mq ks kt ku bi translated">我们可以让我们的程序永远运行，按照我们的要求在程序中使用<em class="mp">睡眠</em>功能。</li></ul><p id="8b5d" class="pw-post-body-paragraph jq jr hh js b jt ju ii jv jw jx il jy jz ka kb kc kd ke kf kg kh ki kj kk kl ha bi translated">我选择了最后一个选项。我在我的程序的主体之前添加了一个真正的条件，并在程序的最后添加了一个睡眠函数，在while函数中。</p><figure class="lb lc ld le fd lf"><div class="bz dy l di"><div class="mn mo l"/></div></figure><h1 id="ae04" class="lq lr hh bd ls lt lu lv lw lx ly lz ma in mb io mc iq md ir me it mf iu mg mh bi translated">处理covibot中的问题</h1><p id="b2af" class="pw-post-body-paragraph jq jr hh js b jt mi ii jv jw mj il jy jz mk kb kc kd ml kf kg kh mm kj kk kl ha bi translated">下面是<a class="ae lp" href="https://github.com/ashishkulkarnii/covibot" rel="noopener ugc nofollow" target="_blank"> covibot </a>(来自<a class="ae lp" rel="noopener" href="/analytics-vidhya/a-comprehensive-guide-to-creating-a-basic-reddit-bot-part-2-85de2fd300cd">第二部分</a>)在解决了上述两个问题后的样子:</p><figure class="lb lc ld le fd lf"><div class="bz dy l di"><div class="mn mo l"/></div></figure><p id="6a21" class="pw-post-body-paragraph jq jr hh js b jt ju ii jv jw jx il jy jz ka kb kc kd ke kf kg kh ki kj kk kl ha bi translated">上面的bot可以部署到服务器上并永久激活，或者如果您有办法，也可以在本地运行它。Heroku提供了大量免费的dyno小时供你使用，尤其是如果这个项目是纯实验性的。</p></div><div class="ab cl mr ms go mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ha hb hc hd he"><p id="1750" class="pw-post-body-paragraph jq jr hh js b jt ju ii jv jw jx il jy jz ka kb kc kd ke kf kg kh ki kj kk kl ha bi translated">如果你阅读了我的Reddit机器人开发指南的所有三个部分，谢谢你！</p><div class="iw ix ez fb iy iz"><a href="https://www.linkedin.com/in/ashishkulkarnii/" rel="noopener  ugc nofollow" target="_blank"><div class="ja ab dw"><div class="jb ab jc cl cj jd"><h2 class="bd hi fi z dy je ea eb jf ed ef hg bi translated">Ashish Kulkarni | LinkedIn</h2><div class="jh l"><p class="bd b fp z dy je ea eb jf ed ef dx translated">PES大学的CSE新生</p></div></div><div class="ji l"><div class="my l jk jl jm ji jn jo iz"/></div></div></a></div></div></div>    
</body>
</html>