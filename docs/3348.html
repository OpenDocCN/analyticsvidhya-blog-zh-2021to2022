<html>
<head>
<title>âœŒï¸ Automation with Python.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ç”¨Pythonå®ç°âœŒï¸è‡ªåŠ¨åŒ–ã€‚</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/analytics-vidhya/%EF%B8%8F-do-some-automate-work-with-python-a4c5d50da79c?source=collection_archive---------9-----------------------#2021-06-26">https://medium.com/analytics-vidhya/%EF%B8%8F-do-some-automate-work-with-python-a4c5d50da79c?source=collection_archive---------9-----------------------#2021-06-26</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/6df1f5b77b20040a1a0d25be55c23fe0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_sydRtY-DM559T3L5cpyKg.jpeg"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">æ¥è‡ªunsplash</figcaption></figure><p id="93ff" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">ç”¨<a class="ae jr" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/" rel="noopener ugc nofollow" target="_blank">ç¾æ±¤</a>å’Œ<a class="ae jr" href="https://pypi.org/project/requests/" rel="noopener ugc nofollow" target="_blank">è¯·æ±‚</a>åº“ä»U <a class="ae jr" href="https://unsplash.com/wallpapers" rel="noopener ugc nofollow" target="_blank"> nspla </a> shä¸‹è½½å›¾ç‰‡ã€‚</p><p id="6a96" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">é¦–å…ˆæˆ‘ä»¬éœ€è¦å®‰è£…è¯·æ±‚åº“æ¥è·å–å†…å®¹è¡¨å•<a class="ae jr" href="https://unsplash.com/wallpapers" rel="noopener ugc nofollow" target="_blank"><strong class="iv hi"><em class="js"/></strong></a></p><p id="0859" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">ç°åœ¨æ‰“å¼€ä½ çš„ç»ˆç«¯ã€‚</p><p id="d219" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">å¦‚æœæ‚¨çš„æœºå™¨ä¸Šå®‰è£…äº†pipï¼Œé‚£ä¹ˆæ‚¨å¯ä»¥åœ¨ç»ˆç«¯ä¸Šè¾“å…¥ä»¥ä¸‹æ–‡æœ¬æ¥å®‰è£…è¯·æ±‚åº“ã€‚</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="48ed" class="kc kd hh jy b fi ke kf l kg kh"><strong class="jy hi"><em class="js"> </em></strong><em class="js">pip install requests</em></span></pre><p id="a9be" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">è¿˜æœ‰æ¼‚äº®çš„æ±¤4ã€‚</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="541f" class="kc kd hh jy b fi ke kf l kg kh">pip install beautifulsoup4</span></pre><p id="13ae" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">ä½ è¿˜éœ€è¦htmlè§£æå™¨ã€‚æˆ‘ä»¬å°†ä½¿ç”¨â€œlxmlâ€</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="d75d" class="kc kd hh jy b fi ke kf l kg kh">pip install lxml</span></pre><p id="dd90" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">å¦‚æœä½ æƒ³åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒï¼Œä¹Ÿå¯ä»¥é€šè¿‡pipenvæˆ–venvæ¥å®ç°ã€‚</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="7d84" class="kc kd hh jy b fi ke kf l kg kh">//first make dir<br/>mkdir get_photos</span><span id="b7a8" class="kc kd hh jy b fi ki kf l kg kh">//change dir to get_photos<br/>cd get_photos</span><span id="ca10" class="kc kd hh jy b fi ki kf l kg kh">//now open your text editor and make file <br/>//photo_downloader.py</span><span id="e6af" class="kc kd hh jy b fi ki kf l kg kh">//if you have nvim then you can do <br/>nvim photo_downloader.py</span></pre><p id="0062" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">ç°åœ¨è®©æˆ‘ä»¬ç¼–ç ã€‚</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="467c" class="kc kd hh jy b fi ke kf l kg kh">//first import <br/>import requests<br/>from bs4 import BeautifulSoup<br/>import lxml</span></pre><p id="7a4d" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">è¯·æ±‚åº“è¢«å¯¼å…¥ï¼ŒBeautifulSoupâ€œç±»â€æ˜¯ä»bs4æ¨¡å—å¯¼å…¥çš„ã€‚æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼åœ¨python shellä¸­æ¢ç´¢æœ‰å…³bs4çš„æ›´å¤šä¿¡æ¯ã€‚</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="f368" class="kc kd hh jy b fi ke kf l kg kh">//define function which take url(unsplash)<br/>def photo_downloader(url):<br/>    request = requests.get(url,allow_redirects=True)<br/>    data = BeautifulSoup(request.content,'lxml')<br/>    </span></pre><p id="b46e" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">è¿™é‡Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªphoto_downloaderå‡½æ•°ï¼Œæˆ‘ä»¬åœ¨è¿™ä¸ªå‡½æ•°ä¸­å·¥ä½œã€‚</p><p id="bb38" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">é¦–å…ˆç”¨ä»¥urlä¸ºå‚æ•°çš„â€œrequests.getâ€æ–¹æ³•ä»ç½‘ç«™è·å–å†…å®¹ã€‚é‡‡ç”¨htmlå’Œhtmlè§£æå™¨' BeautifulSoupç±»ã€‚</p><p id="d799" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">è®¿é—®<a class="ae jr" href="https://unsplash.com/walpapers" rel="noopener ugc nofollow" target="_blank">https://unsplash.com/wallpapers</a>å¹¶åœ¨æ‚¨çš„æµè§ˆå™¨ä¸­æ£€æŸ¥</p><figure class="jt ju jv jw fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kj"><img src="../Images/f8bcf238a06875671775de91c08ffb0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gHlpmgfIITMD9lr_DdalHg.png"/></div></div></figure><p id="a5f4" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">åœ¨è¿™é‡Œæˆ‘ä»¬å‘ç°<figure>æ ‡ç­¾åˆ†éš”äº†æ¯å¼ å›¾ç‰‡ï¼Œç°åœ¨æˆ‘ä»¬å°†æŠŠæ¯å¼ <figure>æ ‡ç­¾çœ‹ä½œ</figure></figure></p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="7667" class="kc kd hh jy b fi ke kf l kg kh">    ...<br/>    all_images = data.find_all("figure",itemprop="image")<br/></span></pre><p id="6f2d" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">data.find_allå°†æœç´¢æ¯ä¸€ä¸ª<figure>å›¾ç‰‡ï¼Œä»¥åŒºåˆ«äºå›¾ç‰‡åˆ†éš”ç¬¦æ ‡ç­¾ã€‚</figure></p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="1bfa" class="kc kd hh jy b fi ke kf l kg kh">count = 0 //for change name of pictures<br/>for i in all_images:<br/>//find tag with photo downloadable href<br/>    url = i.find('a',rel="nofollow") <br/>    if url != None:<br/>        photo_url = url["href"]//take url to download<br/>        phto_bytes =requests.get(photo_url,allow_redirects=True)<br/>        with open(f'{count}wallpapers.jpg','wb') as photo:<br/>            photo.write(photo_bytes.content)<br/>            count +=1<br/>print("Done")</span><span id="6c47" class="kc kd hh jy b fi ki kf l kg kh"><br/>photo_downloader("https://unsplash.com/wallpapers")</span></pre><p id="8ef6" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">all_imagesè¿”å›iterableå¯¹è±¡ï¼Œå› æ­¤è¿­ä»£all_imagesä»¥è·å–æ¯ä¸€å¼ å›¾åƒã€‚</p><figure class="jt ju jv jw fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kk"><img src="../Images/89e0f60ee55859bd07a10a7a67915759.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*edhjCRhKYdq0wJ2gb2d71A.png"/></div></div></figure><p id="795c" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">æ ‡ç­¾<a>å…ƒç´ hrefå…·æœ‰å¯ä¸‹è½½çš„å›¾åƒurlã€‚æˆ‘ä»¬å¯ä»¥åƒå­—å…¸ä¸€æ ·è®¿é—®æ ‡ç­¾å…ƒç´ ã€‚ç°åœ¨æˆ‘ä»¬æœ‰ä¸‹è½½çš„urlï¼Œè¯·æ±‚å®ƒçš„å†…å®¹æ˜¯photo_bytesï¼Œå®ƒå°†è¿”å›çŠ¶æ€ä»£ç ã€‚å®ƒçš„å†…å®¹å°†è¢«å†™å…¥ç…§ç‰‡æ ¼å¼çš„æ–‡ä»¶ï¼Œæ‰©å±•åä¸º*.jpgã€‚åœ¨è¿™é‡Œï¼Œæ‚¨å¯ä»¥ä½¿ç”¨æ“ä½œç³»ç»Ÿæ¨¡å—ä¸‹è½½ç…§ç‰‡çš„å…¶ä»–æ–‡ä»¶å¤¹</a></p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="374d" class="kc kd hh jy b fi ke kf l kg kh">             ...<br/>             os.chdir(os.getcwd())<br/>             ...</span></pre><p id="da10" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">ç°åœ¨ç”¨å®ƒçš„å‚æ•°å€¼è°ƒç”¨å‡½æ•°</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="4ccd" class="kc kd hh jy b fi ke kf l kg kh">photo_downloader('https://unsplash.com/wallpapers')</span></pre><p id="be9b" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">å…¨éƒ¨ä»£ç ã€‚</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="8d60" class="kc kd hh jy b fi ke kf l kg kh">import requests<br/>from bs4 import BeautifulSoup<br/>import os<br/>import lxml</span><span id="c82e" class="kc kd hh jy b fi ki kf l kg kh">def photo_downloader(url):<br/>    request = requests.get(url,allow_redirects = True)<br/>    data = BeautifulSoup(request.text,'lxml')<br/>    all_image=data.find_all('figure',itemprop="image")<br/>    count =0<br/>    os.chdir('..\\pictures')<br/>    for i in all_image:<br/>        url=i.find('a',rel="nofollow")<br/>        if url != None:<br/>            i_url = url['href']<br/>            photo_bytes = requests.get(i_url,allow_redirects=True)<br/>            with open(f'{count}3d.jpg','wb') as photo:<br/>                photo.write(photo_bytes.content)<br/>                count +=1<br/><br/>    print("Done")<br/><br/><br/><br/>if __name__ == "__main__":<br/>    photo_downloader("<a class="ae jr" href="https://unsplash.com/s/photos/3d" rel="noopener ugc nofollow" target="_blank">https://unsplash.com/s/photos/3d</a>")</span></pre><p id="c6b5" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">è¿™æ˜¯ä¸ºè¿™ä¸ªåšå®¢åšçš„ï¼Œè¯•ç€è‡ªå·±è¯•éªŒä¸€ä¸‹ï¼Œç”¨ä¸€äº›å…¶ä»–çš„urlå®ç°å®ƒã€‚âœŒï¸ğŸ—ï¸</p></div></div>    
</body>
</html>