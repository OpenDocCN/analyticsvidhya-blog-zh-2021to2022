# åœ¨ AWS ä¸Šè®¾ç½®å…è´¹çš„ VPN æœåŠ¡

> åŸæ–‡ï¼š<https://medium.com/analytics-vidhya/setup-a-free-vpn-service-on-aws-613fcec6e7c6?source=collection_archive---------0----------------------->

## ä½¿ç”¨ OpenVPN è®¿é—®æœåŠ¡å™¨ï¼Œåœ¨ä¸åˆ° 5 åˆ†é’Ÿçš„æ—¶é—´å†…åœ¨ AWS ä¸Šè®¾ç½®ä¸€ä¸ªå·¥ä½œ VPN æœåŠ¡å™¨çš„ç®€å•æŒ‡å—

![](img/ee9e42563b4811161e76ee95c7c77a53.png)

é¦–å…ˆï¼Œè®©æˆ‘ä»¬åŒºåˆ†ä¸€ä¸‹**éšç§**å’Œ**åŒ¿å**ã€‚

## ä¿å¯†=åŠ å¯†=æœºå¯†

ä½ å¯ä»¥è¢«è®¤ä¸ºæ˜¯ä¿¡æ¯çš„å‘é€è€…ï¼Œä½†æ˜¯ä¿¡æ¯æœ¬èº«æ˜¯ç§˜å¯†çš„ï¼Œåªæœ‰ä½ èƒ½é˜…è¯»å®ƒã€‚

## åŒ¿å=æœªçŸ¥çš„å‘é€è€…/æ¥æ”¶è€…

ä½†ä¸ä¸€å®šæ˜¯éšç§å’Œæœºå¯†ã€‚

VPN å¯ä»¥æä¾›ä¸¤è€…æˆ–ä»…ä¸€ä¸ªã€‚å¤§å¤šæ•°ç½‘ç»œæµé‡å·²ç»ç”¨ HTTPS åŠ å¯†äº†ã€‚å› æ­¤ï¼Œåœ¨æœ€å¥½çš„æƒ…å†µä¸‹ï¼Œæ²¡æœ‰ VPNï¼Œä½ çš„ ISP æˆ–å±€åŸŸç½‘ä¸Šçš„ä»»ä½•äººéƒ½å¯ä»¥çœ‹åˆ°åŸŸåã€‚ä¸æ»¡è¶³ã€‚ä»–ä»¬çŸ¥é“æ‚¨è®¿é—®äº†å“ªäº›ç½‘ç«™ï¼Œä½†çœ‹ä¸åˆ°çº¯æ–‡æœ¬å†…å®¹ã€‚

æ·»åŠ  VPN ä¼šåˆ›å»ºåˆ° VPN æœåŠ¡å™¨çš„åŠ å¯†éš§é“ã€‚VPN æœåŠ¡å™¨å……å½“ä»£ç†ï¼Œå°†æµé‡è½¬å‘åˆ°å…¶ç›®çš„åœ°ã€‚

![](img/3234773ee03b0a73707a6f4d9ee52fb0.png)

å› æ­¤ï¼Œå¦‚æœä½ è¿æ¥åˆ°ç¬¬ä¸‰æ–¹æ‰˜ç®¡çš„ VPN æœåŠ¡å™¨ï¼Œé‚£ä¹ˆä½ çš„ ISP åªèƒ½çœ‹åˆ° VPN æœåŠ¡å™¨çš„ IP åœ°å€ã€‚ç„¶è€Œï¼ŒVPN æœåŠ¡å™¨å¯ä»¥ä¿å­˜æ—¥å¿—ï¼Œä»–ä»¬åŸºæœ¬ä¸Šå¯ä»¥çª¥æ¢ä½ çš„æµé‡ï¼Œå› ä¸ºä½ å·²ç»ç»™äº†ä»–ä»¬ä¿¡ä»»ã€‚

è‡ªæ‰˜ç®¡ VPN æ˜¯æŒ‡æ‚¨æ‰˜ç®¡è‡ªå·±çš„ VPN æœåŠ¡å™¨ã€‚æ‰€ä»¥ä½ è‚¯å®šçŸ¥é“ä½ æ˜¯å¦å†™æ—¥å¿—ã€‚è¿™æ˜¯ç›®å‰æœ€å¥½çš„æ–¹æ³•ï¼Œä½†åœ¨æŸäº›æ–¹é¢ä¹Ÿæœ‰å±€é™æ€§ã€‚

![](img/5a8745b42da7933b2bdc7b427ef83239.png)

## å¯ä»¥åœ¨ AWS ä¸­æ‰˜ç®¡ OpenVPNã€‚

è¿™æä¾›äº†ä¸€å®šç¨‹åº¦çš„åŒ¿åæ€§ï¼Œå› ä¸ºä½ å¯ä»¥é€‰æ‹©ä¸€ä¸ªä½äºé¦™æ¸¯çš„æœåŠ¡å™¨ï¼Œä½†å¦‚æœä½ æƒ³é€‰æ‹©è®¸å¤šæœåŠ¡å™¨ä½ç½®ï¼Œé‚£ä¹ˆä½ å¿…é¡»ä¸ºæ¯ä¸ªåœ°ç†ä½ç½®æ‰˜ç®¡ä¸€ä¸ªæœåŠ¡å™¨ï¼Œè¿™å¯èƒ½ä¼šå˜å¾—æ˜‚è´µã€‚

![](img/94ff720930fc841fde671febff10be61.png)

äº’è”ç½‘æµé‡é€šè¿‡ä¸€ä¸ªå®‰å…¨åŠ å¯†çš„ VPN éš§é“

# è¦æ±‚:

*   AWS å¸æˆ·â€”æ–°å¸æˆ·å…·æœ‰ 12 ä¸ªæœˆçš„å…è´¹ç­‰çº§èµ„æ ¼ï¼Œæ¯æœˆç´¯è®¡ä½¿ç”¨ 750 å°æ—¶ï¼Œå› æ­¤æ‚¨æ— éœ€ä¸ºåœ¨ AWS ä¸Šè¿è¡Œ VPN ä»˜è´¹ã€‚

# æ­¥éª¤ 1-ä» AWS å¸‚åœºå¯åŠ¨ OpenVPN è®¿é—®æœåŠ¡å™¨

**1ã€‚**ç™»å½• AWS ç®¡ç†æ§åˆ¶å°ï¼Œå¯¼èˆªåˆ° **EC2 æœåŠ¡**ã€‚

**2ã€‚**å¦‚æœæ‚¨ä½äºå°åº¦ï¼Œè¯·å°†æ‚¨çš„åœ°åŒºæ›´æ”¹ä¸º ***äºšå¤ª(æ–°åŠ å¡)ap-southeast-1ã€‚*** ç„¶åç‚¹å‡»å¯åŠ¨å®ä¾‹ã€‚

![](img/1c41cfe177ac39e67a18f993a02e4b33.png)

> ä¸å¹¸çš„æ˜¯ï¼ŒOpenVPN ä¸æ˜¯ä¸€ä¸ªéå¸¸è½»é‡çº§çš„åè®®ï¼Œæ‰€ä»¥å®ƒä¼šå¯¼è‡´ä¸€äº›ä»¤äººè®¨åŒçš„é€Ÿåº¦ä¸‹é™ã€‚å½“ç„¶ï¼Œæ ¹æ®æ‚¨æœ€åˆçš„ ISP é€Ÿåº¦ï¼Œæœ‰äº›äººå¯èƒ½ä¼šç»å†é€Ÿåº¦çš„å¤§å¹…ä¸‹é™ï¼Œè€Œå…¶ä»–äººå‡ ä¹ä¸ä¼šæ³¨æ„åˆ°ã€‚
> 
> *æ‰€ä»¥ä½ å¯ä»¥åšäº›ä»€ä¹ˆæ¥è·å¾—æ›´å¹³ç¨³çš„é€Ÿåº¦:*
> 
> ***ä½¿ç”¨ç¦»ä½ æ¯”è¾ƒè¿‘çš„æœåŠ¡å™¨*** *ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ åœ¨å°åº¦ï¼Œä¸è¦ä½¿ç”¨ç¾å›½çš„æœåŠ¡å™¨ã€‚åœ¨æ–°åŠ å¡ã€é¦™æ¸¯æˆ–å­Ÿä¹°ä½¿ç”¨ï¼Œå› ä¸ºå®ƒä»¬éƒ½ä½äºäºšå¤ªåœ°åŒºã€‚*
> 
> ä½ åº”è¯¥è¿™æ ·åšï¼Œå› ä¸º
> 
> *æ•°æ®åŒ…åœ¨æ‚¨çš„è®¾å¤‡å’ŒæœåŠ¡å™¨ä¹‹é—´çš„ä¼ è¾“é€Ÿåº¦ä¼šæ›´å¿«ã€‚*
> 
> ä½ çš„è¿æ¥ä¸å¤ªå¯èƒ½å› ä¸ºä¸¢åŒ…è€Œæ‰çº¿ã€‚

**3ã€‚**åœ¨ä»ªè¡¨ç›˜ä¸­ï¼Œç‚¹å‡»`AWS Marketplace`èœå•ï¼Œè¾“å…¥ OpenVPNã€‚é€‰æ‹©å¸¦æœ‰`Free Tier Eligible`å¾½ç« çš„ç¬¬ä¸€ä¸ªã€‚

![](img/e651e094b22655c0af872101755471cf.png)

**4ã€‚**åœ¨ä¸‹ä¸€é¡µç‚¹å‡»ç»§ç»­ï¼Œä»å®ä¾‹ç±»å‹åˆ—è¡¨ä¸­é€‰æ‹©`t2.micro`ï¼Œç‚¹å‡» ***æŸ¥çœ‹å¹¶å¯åŠ¨*** æŒ‰é’®ã€‚

**5ã€‚**åˆ›å»ºä¸€ä¸ªæ–°çš„å¯†é’¥å¯¹(æˆ–è€…ä½¿ç”¨ç°æœ‰çš„å¯†é’¥å¯¹)ï¼Œè¾“å…¥åç§°ï¼Œç„¶åå•å‡»ä¸‹è½½å¯†é’¥å¯¹ã€‚ç„¶åå•å‡»å¯åŠ¨å®ä¾‹ï¼Œç­‰å¾…å®ä¾‹è¿›å…¥è¿è¡ŒçŠ¶æ€ã€‚

# æ­¥éª¤ 2 â€”é…ç½®æœåŠ¡å™¨

*   å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯ Linux æˆ– Mac æœºå™¨ï¼Œæ‰“å¼€æ‚¨çš„ç»ˆç«¯å¹¶é€šè¿‡ SSH è¿æ¥åˆ°æ‚¨çš„æœåŠ¡å™¨ï¼Œå¦‚`openvpnas`:

```
ssh -i "{keyname}.pem" openvpnas@{Your-IPv4-Public-IP}
```

*   æ¥ä¸‹æ¥ï¼Œä¸ºåè®®é”®å…¥ **yes** ï¼Œç„¶åä¼šæç¤ºä½ æƒ³è¦å¦‚ä½•é…ç½®ä½ çš„ VPNã€‚

![](img/97e706f2b1ff58c279598b218b1e4b79.png)

*   å¯¹äºä»¥ä¸‹ä¸¤ä¸ªæç¤ºï¼Œé”®å…¥ **yes** :

```
Should client traffic be routed by default through the VPN?
> Press ENTER for default [no]: yesShould client DNS traffic be routed by default through the VPN?
> Press ENTER for default [no]: yes
```

*   åªéœ€ç‚¹å‡»å›è½¦é”®å°±å¯ä»¥ç¡®è®¤æ‰€æœ‰çš„é»˜è®¤è®¾ç½®ã€‚
*   åˆ°è¾¾ç»ˆç‚¹åï¼Œæ›´æ”¹ç”¨æˆ·çš„å¯†ç ã€‚è¾“å…¥ä¸¤æ¬¡æ–°å¯†ç ï¼Œä¸€åˆ‡å°±ç»ªã€‚

```
sudo passwd openvpn
```

*   æ¥ä¸‹æ¥ï¼Œæ‰“å¼€æµè§ˆå™¨çª—å£å¹¶é”®å…¥

```
https://{Your-IPv4-Public-IP-address}:943/admin 
```

*   ç”¨`openvpn`å’Œä½ åˆšåˆšè®¾ç½®çš„å¯†ç ç™»å½•ã€‚

![](img/4d02936cf68fc7ad63cadb5fa8810f93.png)

*   è¿›å…¥ OpenVPN çš„ç®¡ç†é¢æ¿åï¼Œç‚¹å‡»é…ç½®å¹¶è¿›å…¥â€œVPN è®¾ç½®â€

![](img/f0ddddd16ff331cb9047d70dc15c7e0e.png)

*   å‘ä¸‹æ»šåŠ¨ï¼Œç„¶ååº”ç”¨ä»¥ä¸‹æ›´æ”¹:

> *ç¡®ä¿åˆ‡æ¢åˆ°*å®¢æˆ·ç«¯äº’è”ç½‘æµé‡æ˜¯å¦åº”è¯¥é€šè¿‡ VPN è·¯ç”±ï¼Ÿ*è®¾ç½®ä¸º* ***æ˜¯***
> 
> *å°†*åˆ‡æ¢ä¸º*è®©å®¢æˆ·ç«¯ä½¿ç”¨ç‰¹å®šçš„ DNS æœåŠ¡å™¨* ***æ˜¯***
> 
> *è¿›å…¥è‡ªå®šä¹‰ DNS æœåŠ¡å™¨ï¼Œè®¾ç½®ä¸» DNS æœåŠ¡å™¨ä¸º* `*1.1.1.1*` *(CloudFlare DNS)ï¼Œæ¬¡ DNS æœåŠ¡å™¨ä¸º* `*8.8.8.8*`

![](img/97850cab8e864f793bfa658fd293fc7d.png)

*   è¦çŸ¥é“æˆ‘ä¸ºä»€ä¹ˆæ›´æ”¹ DNS æœåŠ¡å™¨:

[](https://www.howtogeek.com/664608/why-you-shouldnt-be-using-your-isps-default-dns-server/) [## ä¸ºä»€ä¹ˆä¸åº”è¯¥ä½¿ç”¨ ISP çš„é»˜è®¤ DNS æœåŠ¡å™¨

### æ‚¨çš„è®¡ç®—æœºã€ç”µè¯å’Œå…¶ä»–è®¾å¤‡é€šå¸¸ä½¿ç”¨åŸŸåç³»ç»Ÿ(DNS)æœåŠ¡å™¨ï¼Œè·¯ç”±å™¨é€šè¿‡è¯¥æœåŠ¡å™¨â€¦

www.howtogeek.com](https://www.howtogeek.com/664608/why-you-shouldnt-be-using-your-isps-default-dns-server/) 

*   ä¿å­˜è®¾ç½®ç„¶åç‚¹å‡»**æ›´æ–°è¿è¡ŒæœåŠ¡å™¨**

# æ­¥éª¤ 3 â€”ä½¿ç”¨ VPN

éœ€è¦ä¸€ä¸ª VPN å®¢æˆ·ç«¯ï¼Œå®ƒå¯ä»¥æ•è·æ‚¨å¸Œæœ›é€šè¿‡ OpenVPN éš§é“å‘é€çš„æµé‡ï¼Œå¹¶å¯¹å…¶è¿›è¡ŒåŠ å¯†ï¼Œç„¶åå°†å…¶ä¼ é€’ç»™ OpenVPN æœåŠ¡å™¨ã€‚

**ä¸€ã€**è¦è·å¾—å®˜æ–¹ OpenVPN Connect åº”ç”¨ï¼Œè¯·åœ¨æ‚¨çš„ Android è®¾å¤‡ä¸Šè¿›å…¥[è°·æ­Œ Play å•†åº—](https://play.google.com/store/apps/details?id=net.openvpn.openvpn)å¹¶å®‰è£…å®˜æ–¹ OpenVPN Connect åº”ç”¨ã€‚

![](img/8a7816de20ad0dde5c9bdb092db3872e.png)

**äºŒã€‚**æ‰“å¼€åº”ç”¨ç¨‹åº&è¾“å…¥æ­£åœ¨è¿è¡Œçš„ EC2 çš„ IPv4-Public-IP-addressï¼Œå¼€å§‹å¯¼å…¥è¿‡ç¨‹ã€‚

![](img/e9fca61c48b07047265caa514479fd7e.png)

**ä¸‰ã€‚**è¾“å…¥ç”¨æˆ·å`openvpn`å’Œæ‚¨è®¾ç½®çš„å¯†ç ã€‚

![](img/d66fd419c10e7f2c4c62c15e460684d3.png)

**å››ã€‚**å¯¼å…¥å®Œæˆåï¼Œæ‚¨å°±å¯ä»¥ä½¿ç”¨è¯¥åº”ç”¨ç¨‹åºäº†ï¼

![](img/1bc4ba549bb77dc36c5986fefa96d1d0.png)

# é€Ÿåº¦æµ‹è¯•ç»“æœ:

ä½œä¸ºå‚è€ƒï¼Œæˆ‘çš„çœŸå®ä½ç½®åœ¨å°åº¦:

![](img/80914911c5f2600a487f178ce1ee8e0e.png)

è¿™äº›æ˜¯æˆ‘åœ¨æ–°åŠ å¡æœåŠ¡å™¨ä¸Šè¿è¡Œ VPN è·å¾—çš„é€Ÿåº¦:

![](img/bc35f928f4c6a428aae7d3375c67a26e.png)

è¦åœ¨å…¶ä»–å¹³å°ä¸Šä½¿ç”¨ VPNï¼Œæ‚¨å¿…é¡»å®‰è£…ç›¸åº”çš„å®¢æˆ·ç«¯åº”ç”¨ç¨‹åº:

> [*ç”¨ Windows è¿æ¥åˆ° Access Server*](https://openvpn.net/vpn-server-resources/connecting-to-access-server-with-windows/)[*ç”¨ macOS è¿æ¥åˆ° Access Server*](https://openvpn.net/vpn-server-resources/connecting-to-access-server-with-macos/)[*ç”¨ Android è¿æ¥åˆ° Access Server*](https://openvpn.net/vpn-server-resources/connecting-to-access-server-with-android/)[*ç”¨ Apple iOS è¿æ¥åˆ° Access Server*](https://openvpn.net/vpn-server-resources/connecting-to-access-server-with-apple-ios/)[](https://openvpn.net/vpn-server-resources/connecting-to-access-server-with-linux/)

*ä½ éƒ½å‡†å¤‡å¥½äº†ï¼ä½ ç°åœ¨å¯ä»¥è¿æ¥åˆ°ä½ è‡ªå·±çš„ VPN æœåŠ¡å™¨ï¼Œäº«å—ç½‘ä¸Šå†²æµªğŸ˜ã€‚*

*å¦‚æœä½ ä»ç„¶å–œæ¬¢è´­ä¹° VPN æœåŠ¡ï¼Œé‚£ä¹ˆè¿™ä¸ªç½‘ç«™æœ‰å„ç§ VPN æœåŠ¡çš„å…¬æ­£å®¡æŸ¥:*

*[](https://thatoneprivacysite.net/vpn-section/) [## ä¸€ä¸ªæéšç§çš„å®¶ä¼™åšçš„ VPN å¯¹æ¯”

### å½“æˆ‘å¾—çŸ¥æˆ‘çš„éšç§æ¯å¤©è¢«ä¸åŒçš„å…¬å¸å¤šæ¬¡ä¾µçŠ¯æ—¶ï¼Œæˆ‘å¼€å§‹å°è¯•â€¦

thatoneprivacysite.net](https://thatoneprivacysite.net/vpn-section/)*