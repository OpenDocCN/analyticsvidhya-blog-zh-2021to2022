<html>
<head>
<title>How Grocery Stores Trick You to Buy an Item After Another</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">杂货店如何哄骗你买一件又一件商品</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/how-grocery-stores-trick-you-to-buy-an-item-after-another-1f7d9e4b3fb4?source=collection_archive---------4-----------------------#2021-08-12">https://medium.com/analytics-vidhya/how-grocery-stores-trick-you-to-buy-an-item-after-another-1f7d9e4b3fb4?source=collection_archive---------4-----------------------#2021-08-12</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><figure class="hg hh ez fb hi hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es hf"><img src="../Images/ed545afbd8e0926c0781c5fc5f0a5e1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sm-Zjr_bp5jD-V2AICxUjg.jpeg"/></div></div><figcaption class="hq hr et er es hs ht bd b be z dx translated">图片由<a class="ae hu" href="https://wallpapercave.com/w/wp9217953" rel="noopener ugc nofollow" target="_blank">壁纸洞穴</a></figcaption></figure><div class=""/><p id="9190" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><em class="js">杂货店如何决定哪一条通道穿过另一条通道，以及不同的类别和/或产品如何彼此相邻。额外收获:包括一个python代码。</em></p><p id="92ff" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">你有没有想过杂货店是如何决定哪一条过道穿过另一条过道的？还是不同品类和/或产品旁若无人？或者你可能也注意到他们是如何销售商品或捆绑商品的，比如买一送一？这就是<em class="js">联想分析</em>是什么。</p><h1 id="abef" class="jt ju hx bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">联想分析</h1><p id="7167" class="pw-post-body-paragraph iu iv hx iw b ix kr iz ja jb ks jd je jf kt jh ji jj ku jl jm jn kv jp jq jr ha bi translated"><strong class="iw hy"> <em class="js">关联分析</em> </strong>是发现隐藏在大型数据集中的有趣关系的有用方法。它使您能够识别彼此有关系的项目。它更常用于分析交易数据，这被称为市场购物篮分析，以确定哪些项目是经常购买的或在交易中一起出现的。</p><p id="9f6d" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">许多企业从日常运营中积累了大量数据。如前所述，杂货店就是一个例子。零售商对分析数据感兴趣，以便了解客户的购买行为。这些信息可用于支持商业决策，如营销促销和库存管理。</p><p id="d2af" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">关联分析产生简单的规则。一个例子是:</p><p id="88b0" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">如果{产品A}、{产品B }→{产品C}或{面包、鸡蛋}→{牛奶}</p><p id="054f" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这些是简单的“如果”“那么”类型的规则。该规则有两个前提(产品A和产品B)和一个结果(产品C)。这里，规则长度等于三，因为有三种产品，项目集是{面包，鸡蛋，牛奶}。</p><h1 id="229f" class="jt ju hx bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">关联规则学习</h1><p id="94ed" class="pw-post-body-paragraph iu iv hx iw b ix kr iz ja jb ks jd je jf kt jh ji jj ku jl jm jn kv jp jq jr ha bi translated"><strong class="iw hy"> <em class="js">关联规则学习</em> </strong>是一种发现不同数据点之间关系强度的方法。它通常用于了解哪些产品经常一起购买，如上面的面包-鸡蛋-牛奶示例中简要说明的那样。一种常用的关联学习算法叫做<em class="js"> Apriori </em>。</p><blockquote class="kw"><p id="3bea" class="kx ky hx bd kz la lb lc ld le lf jr dx translated">Apriori算法采用两步“连接”和“剪枝”来缩小搜索空间。这是一种发现最频繁项目集的迭代方法</p></blockquote><p id="405f" class="pw-post-body-paragraph iu iv hx iw b ix lg iz ja jb lh jd je jf li jh ji jj lj jl jm jn lk jp jq jr ha bi translated">先验有四个度量:<strong class="iw hy"> <em class="js">支持</em> </strong> <em class="js">，</em> <strong class="iw hy"> <em class="js">信心</em> </strong> <em class="js">，</em> <strong class="iw hy"> <em class="js">预期信心</em> </strong> <em class="js">，</em><strong class="iw hy"><em class="js"/></strong>。这四个指标中的每一个都将帮助您理解它们以自己的方式与其他项目的关系。</p><h1 id="27a6" class="jt ju hx bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">先验度量</h1><h2 id="67c8" class="ll ju hx bd jv lm ln lo jz lp lq lr kd jf ls lt kh jj lu lv kl jn lw lx kp ly bi translated"><strong class="ak">支持</strong></h2><p id="5699" class="pw-post-body-paragraph iu iv hx iw b ix kr iz ja jb ks jd je jf kt jh ji jj ku jl jm jn kv jp jq jr ha bi translated"><strong class="iw hy"> <em class="js">支持</em> </strong>给出了一个<em class="js">项目集</em>在所有事务中的频繁程度。它给出了包含产品A和产品b的所有交易的百分比。</p><figure class="ma mb mc md fd hj er es paragraph-image"><div class="er es lz"><img src="../Images/75d518fab1f86f0931e93d77dc20fb17.png" data-original-src="https://miro.medium.com/v2/resize:fit:830/format:webp/1*kpY7cmX1hCE5AfX3TTiW3g.png"/></div></figure><p id="312c" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">简而言之，包含产品A &amp; B的交易数除以总交易数。</p><p id="7f55" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这里，100/1000 =<strong class="iw hy">0.1</strong></p><p id="4f37" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这意味着所有交易的10%包含面包和牛奶。</p><h2 id="a144" class="ll ju hx bd jv lm ln lo jz lp lq lr kd jf ls lt kh jj lu lv kl jn lw lx kp ly bi translated">信心</h2><p id="eb49" class="pw-post-body-paragraph iu iv hx iw b ix kr iz ja jb ks jd je jf kt jh ji jj ku jl jm jn kv jp jq jr ha bi translated"><strong class="iw hy">例如，在包含{产品A}的所有交易中，有多少也包含{产品B}？</strong></p><figure class="ma mb mc md fd hj er es paragraph-image"><div class="er es me"><img src="../Images/456690e594d0ceac8a01ad900c7b9d9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:828/format:webp/1*bBjAq1gLAuDTQRlw0enN4w.png"/></div></figure><p id="87d5" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">置信度等于包含产品A &amp; B的交易数量除以包含产品a的交易数量</p><p id="ba57" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这里，100 / 150 = <strong class="iw hy"> 0.67 </strong></p><p id="c2f6" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这意味着在所有包含面包的交易中，67%也包含牛奶。</p><p id="696f" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hy"> <em class="js">注意:</em> </strong> <em class="js">如果您交换产品A和B的顺序，意味着产品A现在是牛奶，产品B现在是面包，那么这个指标将会改变。主要原因是牛奶比面包更容易买到；所以等式的分母会改变，置信度也会改变。</em></p><p id="a534" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在上面的信心例子中，67%的分数会让你认为面包和牛奶之间有很强的关系。但实际上，这67%中的大部分可能是因为牛奶被如此普遍地购买，以至于它们经常出现在大多数其他产品中，即使它们之间并没有特定的关系。为了规范它们，需要另外两个指标(<em class="js">预期信心</em>和<em class="js">提升</em>)。</p><h2 id="ceff" class="ll ju hx bd jv lm ln lo jz lp lq lr kd jf ls lt kh jj lu lv kl jn lw lx kp ly bi translated">预期信心</h2><p id="d9cc" class="pw-post-body-paragraph iu iv hx iw b ix kr iz ja jb ks jd je jf kt jh ji jj ku jl jm jn kv jp jq jr ha bi translated"><strong class="iw hy"> <em class="js">预期置信度</em> </strong>是包含产品b的所有交易的百分比。</p><figure class="ma mb mc md fd hj er es paragraph-image"><div class="er es mf"><img src="../Images/719919d540663aab4b9e0fc3766ba5ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:824/format:webp/1*K7Tew6r0ZJ6ylPIm5HY0tA.png"/></div></figure><p id="97cd" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">预期置信度的等式是包含产品B的交易数除以总交易数。</p><p id="72a0" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在这里，800 / 1000 = <strong class="iw hy"> 0.8 </strong></p><p id="ae72" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在我们得出预期置信度的结果之前，我们需要跳到最后一个指标，即<strong class="iw hy"> <em class="js">提升</em> </strong>。</p><h2 id="af7c" class="ll ju hx bd jv lm ln lo jz lp lq lr kd jf ls lt kh jj lu lv kl jn lw lx kp ly bi translated">电梯</h2><p id="6cea" class="pw-post-body-paragraph iu iv hx iw b ix kr iz ja jb ks jd je jf kt jh ji jj ku jl jm jn kv jp jq jr ha bi translated"><strong class="iw hy"> <em class="js"> Lift </em> </strong>是项目组合的置信度除以后件的支持度。它是<em class="js">置信度</em>超过<em class="js">预期置信度</em>的因子。Lift在控制产品B受欢迎程度的同时，告诉你产品A被购买时，产品B被购买的可能性有多大。</p><p id="917e" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在面包牛奶的例子中，它仅仅意味着当面包被购买时，牛奶被购买的可能性，同时控制牛奶的受欢迎程度。</p><p id="f7aa" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">回到<strong class="iw hy"> <em class="js">置信度</em> </strong>的例子，我们得到的结果是0.67。它显示，在所有包含面包的交易中，67%包含牛奶。那么对于<strong class="iw hy"> <em class="js">预期置信度</em> </strong>，我们的得分是0.8。这意味着在所有的交易中，80%含有牛奶。为了计算<strong class="iw hy"> <em class="js">升力</em> </strong>，我们只需将<em class="js">置信度</em>除以<em class="js">预期置信度</em>即可。所以，0.67 / 0.8等于0.83。0.83的升力指数意味着什么？这只是意味着它们出现的频率比基于牛奶购买频率的预期要少。</p><p id="8cc2" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hy"> <em class="js">注:</em> </strong> <em class="js"> A lift得分</em> <strong class="iw hy"> <em class="js">大于1 </em> </strong> <em class="js">表示产品A和B一起出现的频率高于预期。并且lift得分</em> <strong class="iw hy"> <em class="js">小于1 </em> </strong> <em class="js">表明产品A和B一起出现的频率低于预期。</em></p><p id="d6c2" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在示例中，我们只计算了面包和牛奶之间的关系。然而，在现实中，您将同时计算多个产品，您所需要的只是对每个产品的提升分数进行排序，以查看哪些产品彼此之间的关系最密切。</p><p id="cd65" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">就是这样！您现在已经理解并能够回答前面的问题，即杂货店如何决定哪一个通道在另一个通道的对面，不同的类别和/或产品如何彼此相邻，以及商品如何打折。现在去杂货店，观察产品的摆放！</p><h1 id="c81c" class="jt ju hx bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated"><strong class="ak">在Python中运行</strong></h1><p id="224e" class="pw-post-body-paragraph iu iv hx iw b ix kr iz ja jb ks jd je jf kt jh ji jj ku jl jm jn kv jp jq jr ha bi translated"><strong class="iw hy">问题来自</strong> <a class="ae hu" href="https://data-science-infinity.teachable.com/courses/data-science-infinity?affcode=716157_jcwmqdhh" rel="noopener ugc nofollow" target="_blank"> <strong class="iw hy"> <em class="js">数据科学无限课程</em> </strong> </a></p><p id="1dc9" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hy">问题概述</strong>:使用提供的数据分析酒类销售，并确定哪些产品是一起购买的，以决定哪些产品可以放在彼此附近，从而使客户的商店更容易运营，并让营销团队知道哪些产品应该做更多广告并吸引客户购买。</p><figure class="ma mb mc md fd hj"><div class="bz dy l di"><div class="mg mh l"/></div></figure><p id="57de" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hy"> <em class="js">数据集概述:</em> </strong></p><figure class="ma mb mc md fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es mi"><img src="../Images/7a779fe58c27f62e642a481a6c0dfcd8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9NxavkMPfX7lkiW1W18pNg.png"/></div></div></figure><figure class="ma mb mc md fd hj"><div class="bz dy l di"><div class="mg mh l"/></div></figure><figure class="ma mb mc md fd hj"><div class="bz dy l di"><div class="mg mh l"/></div></figure><p id="8e12" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hy"> <em class="js">结果解读</em> </strong>:如下图所示，第一行lift得分为10.17，这意味着葡萄酒礼品经常与啤酒/淡啤酒礼品一起购买。下一行是啤酒/贮藏啤酒礼品，通常是购买烈性酒&amp;,以此类推。</p><figure class="ma mb mc md fd hj er es paragraph-image"><div class="er es mj"><img src="../Images/65ca4af78d41a093d16411dd34105e6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1174/format:webp/1*OPjuCNkQGSbW0Ds1HcGftA.png"/></div></figure><p id="77ba" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">从商业角度来看，看到上面的结果将对你如何在商店中战略性地放置酒类物品有很大的帮助。</p><p id="117f" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hy"> <em class="js">参考文献:</em> </strong></p><div class="hg hh ez fb hi mk"><a href="https://open.sap.com/courses/ds3" rel="noopener  ugc nofollow" target="_blank"><div class="ml ab dw"><div class="mm ab mn cl cj mo"><h2 class="bd hy fi z dy mp ea eb mq ed ef hw bi translated">数据科学入门(2021版)</h2><div class="mr l"><h3 class="bd b fi z dy mp ea eb mq ed ef dx translated">加入这个免费的在线课程，了解数据科学。本课程将向您介绍数据的基本原理…</h3></div><div class="ms l"><p class="bd b fp z dy mp ea eb mq ed ef dx translated">open.sap.com</p></div></div><div class="mt l"><div class="mu l mv mw mx mt my ho mk"/></div></div></a></div><div class="hg hh ez fb hi mk"><a href="https://data-science-infinity.teachable.com/courses/data-science-infinity?affcode=716157_jcwmqdhh" rel="noopener  ugc nofollow" target="_blank"><div class="ml ab dw"><div class="mm ab mn cl cj mo"><h2 class="bd hy fi z dy mp ea eb mq ed ef hw bi translated">数据科学无限</h2><div class="mr l"><h3 class="bd b fi z dy mp ea eb mq ed ef dx translated">以正确的方式学习正确的内容，并提供无限的支持和指导，我致力于帮助您成为一名…</h3></div><div class="ms l"><p class="bd b fp z dy mp ea eb mq ed ef dx translated">data-science-infinity.teachable.com</p></div></div><div class="mt l"><div class="mz l mv mw mx mt my ho mk"/></div></div></a></div><p id="9c5c" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><a class="ae hu" href="https://www.softwaretestinghelp.com/apriori-algorithm/" rel="noopener ugc nofollow" target="_blank">https://www.softwaretestinghelp.com/apriori-algorithm</a></p></div></div>    
</body>
</html>