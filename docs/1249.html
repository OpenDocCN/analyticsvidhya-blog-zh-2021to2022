<html>
<head>
<title>AWS’s DynamoDB and How does it work?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">AWS的DynamoDB以及它是如何工作的？</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/awss-dynamodb-and-how-does-it-work-357fde5995cb?source=collection_archive---------20-----------------------#2021-02-21">https://medium.com/analytics-vidhya/awss-dynamodb-and-how-does-it-work-357fde5995cb?source=collection_archive---------20-----------------------#2021-02-21</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/07ebfda6c168c9c24ec8736985c58dc7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N2cWZoYU_UU_2jD3cM9LNg.jpeg"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">图片由<a class="ae it" href="https://pixabay.com/users/williamscreativity-17210051/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=5469737" rel="noopener ugc nofollow" target="_blank">Williams创作</a>来自<a class="ae it" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=5469737" rel="noopener ugc nofollow" target="_blank"> Pixabay </a></figcaption></figure><p id="de6c" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">每个开发人员，无论是前端、后端还是全栈，都必须以某种方式使用数据库。前端开发人员不需要知道数据库中使用的概念，只需要知道访问所需数据并将其添加到前端的方式。他们需要能够快速启动并运行的东西，以便开始测试他们的解决方案。AWS的DynamoDB就是这样一个工具。</p><p id="f8a3" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">DynamoDB不仅对前端开发人员来说是一个很好的工具，对所有使用数据库的人来说也是如此，从前端开发人员到数据库管理员，从非IT专业人员到IT顾问。DynamoDB拥有无服务器架构和完全托管的服务等特性，可以完成所有繁重的工作，让您完全专注于自己的业务逻辑。除了所有这些品质之外，AWS还提供每月25GB的DynamoDB数据库存储空间，并且永远免费，如果你是一名学生或者只是想摆弄这个工具的人，这将是一个惊喜。许多世界知名的组织都在使用DynamoDB，如Lyft、Airbnb、丰田、网飞、耐克和三星，dynamo db是一个很好的工具。在这篇博客中，我将探索DynamoDB即服务，它是如何工作的，以及在开始使用它之前需要知道的一些重要概念。</p><h1 id="d4b2" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated"><strong class="ak">什么是DynamoDB，它能提供什么？</strong></h1><p id="61c6" class="pw-post-body-paragraph iu iv hh iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr ha bi translated">DynamoDB是亚马逊完全托管的NoSQL键值无服务器数据库服务。与其他数据库相比，DynamoDB提供了许多优势，其中一个最令人惊叹的优点是，该服务能够根据需要进行伸缩，并且不需要从用户端提供硬件。</p><p id="601e" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">据亚马逊称，DynamoDB</p><ul class=""><li id="56ee" class="kv kw hh iw b ix iy jb jc jf kx jj ky jn kz jr la lb lc ld bi translated">大规模提供个位数毫秒级性能。</li><li id="32b3" class="kv kw hh iw b ix le jb lf jf lg jj lh jn li jr la lb lc ld bi translated">通过自动复制在该地区的多个AWS可用性区域中可用。</li><li id="be3d" class="kv kw hh iw b ix le jb lf jf lg jj lh jn li jr la lb lc ld bi translated">提供内置的安全性、备份和恢复。</li><li id="7b99" class="kv kw hh iw b ix le jb lf jf lg jj lh jn li jr la lb lc ld bi translated">非常耐用。</li><li id="9892" class="kv kw hh iw b ix le jb lf jf lg jj lh jn li jr la lb lc ld bi translated">能够每天处理10万亿次请求，每秒处理2000万次请求。</li><li id="a6a3" class="kv kw hh iw b ix le jb lf jf lg jj lh jn li jr la lb lc ld bi translated">能够提供任何规模的低延迟数据访问。</li><li id="404b" class="kv kw hh iw b ix le jb lf jf lg jj lh jn li jr la lb lc ld bi translated">提供传输和静态加密。</li><li id="0085" class="kv kw hh iw b ix le jb lf jf lg jj lh jn li jr la lb lc ld bi translated">被许多世界知名的组织使用，如lyft、Airbnb、三星、丰田、耐克、网飞等，作为Web、移动、物联网、游戏等应用的数据库。</li></ul><p id="de1f" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">所有这些品质都是非凡的，但是包含了大量的技术信息，对于数据库世界的新手来说，这些信息可能没有多大意义。在接下来的部分中，我将以简单明了的方式解释这些品质和能力。DynamoDB最重要的特性之一是它以键值对的形式存储数据。让我们深入研究一下。</p><h1 id="eb27" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated"><strong class="ak">什么是键值数据库？</strong></h1><p id="c8c8" class="pw-post-body-paragraph iu iv hh iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr ha bi translated">如果你是一个程序员，你一定很清楚键值对的概念。这个概念在几乎每一种编程语言中都被大量使用。例如，JavaScript对象以键值对的形式存储数据。下面显示了利用键值概念的JavaScript对象的实现。</p><pre class="lj lk ll lm fd ln lo lp lq aw lr bi"><span id="9139" class="ls jt hh lo b fi lt lu l lv lw">let myObject = {<br/>  name: 'Prashant',<br/>  platform: 'Medium'<br/>};</span></pre><p id="a60f" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">键-值数据库与编程中的键-值概念没有什么不同，只是数据库附带了额外的与数据库相关的特性和支持。键值概念的实现可能因供应商或数据库而异。由于键-值的概念已经使用了相当长的时间，不同的供应商根据不同的需求创造了不同的风格。</p><p id="8580" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">DynamoDB在存储的每条记录中都使用了键-值的概念，通过键来存储和检索。在使用DynamoDB时，最重要的两个术语(除了键和值)是条目和属性。项目是一组属性，而属性是不能再细分的数据元素。</p><p id="2665" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">例如，在一个名为<em class="lx">用户的表中，属性</em>将是<em class="lx">用户名、密码、电子邮件、电话号码、性别、年龄</em>、<em class="lx">等</em>，当分组时，它将成为一个项目。如果您必须以JavaScript对象的形式编写这些信息，那么它应该是这样的:</p><pre class="lj lk ll lm fd ln lo lp lq aw lr bi"><span id="1e22" class="ls jt hh lo b fi lt lu l lv lw">Let item = {<br/>    username: 'Prashant',<br/>    password: 'password',<br/>    email: 'email@email.com',<br/>    mobile: 0000000000,<br/>    gender: 'male',<br/>    age: 23<br/>}</span></pre><p id="6493" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这里的对象是一个<strong class="iw hi"> <em class="lx">项</em> </strong>(因为对象是其属性的集合)，里面所有的键值对都是<strong class="iw hi"> <em class="lx">属性</em> </strong>。您可以将一条信息记录视为一个项目。因此，一个表包含一个或多个项目，一个项目包含一个或多个属性。为了与SQL进行比较，您可以说DynamoDB项类似于SQL表的行(也称为<em class="lx">元组</em>),项的属性类似于列的属性，也称为<em class="lx">属性</em>。SQL和DynamoDB的重要区别在于，在SQL中，您需要定义模式，而在DynamoDB中，作为一个NoSQL数据库，您不需要有固定的模式。你可以在这个<a class="ae it" href="https://db-engines.com/en/system/Amazon+DynamoDB%3bMySQL" rel="noopener ugc nofollow" target="_blank">链接</a>上找到更多关于差异的信息。</p><h1 id="8d14" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated"><strong class="ak">存储和检索数据</strong></h1><p id="dcf6" class="pw-post-body-paragraph iu iv hh iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr ha bi translated">您一定想知道如何从表中检索这些信息。如果您熟悉SQL数据库，那么您应该知道，如果需要检索某个特定的记录，则使用主键或任何其他唯一键来执行检索，如果需要检索一组记录，则使用SELECT语句。DynamoDB使用了与此不同的东西，但并不完全如此。创建表时，DynamoDB要求您至少选择一个属性作为主键。</p><p id="9d45" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在DynamoDB中，主键可以有两种不同的类型。<em class="lx">分区键</em>和<em class="lx">分区键和排序键的组合</em>。分区键是DynamoDB内部哈希函数中用来确定特定数据的物理存储位置的东西。这都是在内部完成的，我们作为服务的消费者，不需要关心它。当存储多个具有相同分区键的记录时，使用分区键和排序键的组合(也称为组合键)。DynamoDB会将具有相同分区键的项存储在一起。因此，分区键和排序键的组合将有助于从其他项目中识别出一个项目。下面是一个例子。</p><pre class="lj lk ll lm fd ln lo lp lq aw lr bi"><span id="d562" class="ls jt hh lo b fi lt lu l lv lw"># item 1<br/>[ <br/> "roomId" : 'xyz',        <br/> "messageId" : '123',     <br/> "from" : "userA",<br/> "date" : "20 Feb 2021"<br/>]</span><span id="9aa0" class="ls jt hh lo b fi ly lu l lv lw">#item 2<br/>[ <br/> "roomId" : 'xyz',        <br/> "messageId" : '124',     <br/> "from" : "userB",<br/> "date" : "20 Feb 2021"<br/>]</span><span id="a354" class="ls jt hh lo b fi ly lu l lv lw">#item 3<br/>[ <br/> "roomId" : 'xyz',        <br/> "messageId" : '125',     <br/> "from" : "userC",<br/> "date" : "20 Feb 2021"<br/>]</span></pre><p id="bd80" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在本例中，“roomId”是分区键，“messageId”是排序键。这里“roomId”是帮助系统识别聊天室的数据元素，每个聊天室都有其唯一的“roomId”。“messageId”有助于识别聊天室中的特定消息。</p><p id="3f63" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这个主键的工作方式类似于SQL，但是查询结构不同，因为DynamoDB使用Restful HTTP API来查询数据库中的数据。为了检索多个记录，在DynamoDB的Restful HTTP API中有一个等同于SELECT语句的语句可以使用。使用这个API需要熟悉AWS CLI或AWS SDKs，这超出了本博客的范围。要了解更多关于使用API、CLI和更多方式使用DynamoDB的信息，请点击这里的<a class="ae it" href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/AccessingDynamoDB.html" rel="noopener ugc nofollow" target="_blank"/>。这就把我们带到了下一个DynamoDB质量，以便更深入地研究，即托管服务。</p><h1 id="e442" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated"><strong class="ak"> DynamoDB作为托管数据库即服务</strong></h1><p id="78a5" class="pw-post-body-paragraph iu iv hh iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr ha bi translated">这种品质包含了DynamoDB的所有其他品质，但也包括了许多本博客中不会涉及的概念，因为它们更多的是一个通用的数据库概念，而不是DynamoDB特有的东西，并且有许多特定的资源可以详细解释这些概念。说了这么多，我们继续。</p><p id="8e3f" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在托管服务中，消费者直接消费服务，而无需参与或关心与特定服务的管理或维护相关的任何任务。我知道这个定义很奇怪，但这是我能想到的最简单的解释。假设您的公司日常运营需要一个数据库，通常您会调配服务器(本地或云上)、安装数据库软件和补丁程序。您还需要维护这些服务器、它们的底层操作系统以及您刚刚安装在它们上面的软件。有了托管服务，您无需担心所有这些事情。您只需要启动DynamoDB服务，提供您需要的容量，并为附加功能选择几个复选框。AWS管理和维护您的服务高效运行所需的所有底层硬件和软件。DynamoDB的大部分品质和优势来自于它是一个完全托管的服务，通常分布在以下几点。</p><ul class=""><li id="2d06" class="kv kw hh iw b ix iy jb jc jf kx jj ky jn kz jr la lb lc ld bi translated"><strong class="iw hi"> <em class="lx">自动伸缩<br/> </em> </strong> DynamoDB自动伸缩你的数据库来维持服务的性能。DynamoDB要求您在创建表时选择服务容量的两个选项之一。您可以选择按需选项，根据吞吐量从一开始就扩大或缩小容量，也可以在开始时调配最小容量，然后选择自动扩展，从该最小容量开始扩大或缩小容量。在后一种情况下，即使处于空闲状态，您调配的最小容量也将始终处于分配和运行状态。DynamoDB的自动扩展功能在不影响性能和不停机的情况下进行扩展。</li><li id="89df" class="kv kw hh iw b ix le jb lf jf lg jj lh jn li jr la lb lc ld bi translated"><strong class="iw hi"> <em class="lx">可用性和容错性<br/> </em> </strong>数据被<strong class="iw hi"> <em class="lx">复制到多个可用性区域</em> </strong>，以提供高可用性和<strong class="iw hi"> <em class="lx">耐久性</em> </strong>。这也有助于将流量分散到多个服务器上，最终在任何规模下保持一致的<strong class="iw hi"> <em class="lx">个位数毫秒级性能</em> </strong>。</li><li id="d299" class="kv kw hh iw b ix le jb lf jf lg jj lh jn li jr la lb lc ld bi translated"><strong class="iw hi"> <em class="lx">传输中和静态加密<br/> </em> </strong> DynamoDB不仅在传输过程中加密数据，而且在物理硬件上存储和静态加密数据，这有助于降低复杂性和计算消耗。</li><li id="72e7" class="kv kw hh iw b ix le jb lf jf lg jj lh jn li jr la lb lc ld bi translated"><strong class="iw hi"> <em class="lx">按需备份和时间点恢复</em> </strong> DynamoDB提供全表的按需完整备份，用于长期保留。此功能允许用户创建数TB数据的备份，而不会对性能产生任何影响，停机时间也可以忽略不计。这些备份经过加密、编目，可以轻松检索，并且除非明确告知，否则不会被删除。如果启用时间点恢复，将在过去35天内维护DynamoDB表的常规增量备份，并且可以恢复到过去35天内的任何时间点。这有助于保护数据免受意外的删除和写入操作。</li></ul><h1 id="e32d" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">DynamoDB的其他特性和功能</h1><ol class=""><li id="749d" class="kv kw hh iw b ix kq jb kr jf lz jj ma jn mb jr mc lb lc ld bi translated">它提供身份和访问控制。</li><li id="b6eb" class="kv kw hh iw b ix le jb lf jf lg jj lh jn li jr mc lb lc ld bi translated">它支持ACID事务。</li><li id="9a8e" class="kv kw hh iw b ix le jb lf jf lg jj lh jn li jr mc lb lc ld bi translated">它提供生存时间，当项目过期时，它会自动从表中删除项目，以帮助降低成本和优化存储使用。</li><li id="7ca7" class="kv kw hh iw b ix le jb lf jf lg jj lh jn li jr mc lb lc ld bi translated">它提供了创建全局表的能力，以保持表和数据与多个区域同步。</li><li id="0a2e" class="kv kw hh iw b ix le jb lf jf lg jj lh jn li jr mc lb lc ld bi translated">以及作为AWS产品带来的所有其他好处，即与其他AWS产品和服务的完全集成。</li></ol><p id="1373" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">好了，伙计们。这个博客到此为止。我希望我能够为您提供足够的信息来开始使用DynamoDB。要了解更多信息，你可以随时访问AWS <a class="ae it" href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Introduction.html" rel="noopener ugc nofollow" target="_blank">网站</a>上的官方文档，在那里你会找到关于我在这篇博客中所涉及的一切的深入解释以及更多内容。</p><p id="33e5" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">如果你在这个博客中发现任何错误，请在下面留下你的评论。我很感谢你花时间阅读我的博客。非常感谢。另一个博客见。干杯。</p></div></div>    
</body>
</html>