<html>
<head>
<title>Appreciating Evaluation Metrics for Classification Models — With Case Importance.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">了解分类模型的评估指标——案例重要性。</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/appreciating-evaluation-metrics-for-classification-models-with-case-importance-86f40a1a097f?source=collection_archive---------12-----------------------#2021-06-25">https://medium.com/analytics-vidhya/appreciating-evaluation-metrics-for-classification-models-with-case-importance-86f40a1a097f?source=collection_archive---------12-----------------------#2021-06-25</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/fd3397f2a6c56daf41ed7f1f6257509f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*97fA23tHDKaEMFcJ44bxag.jpeg"/></div></div></figure><p id="045d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">一个晴朗的日子，我在报纸上看到关于印度新冠肺炎阳性和阴性病例的新闻，报道说无症状的人(没有任何新冠肺炎症状)也获得了新冠肺炎阳性检测结果，他们被隔离在家或转移到护理中心。我想知道诊断这种疾病的设备和工具是如何给出实际结果的，它们可能是错的，也可能是真的。他们的诊断有百分之多少是正确的。我决定寻找数据科学中的评估指标，以便更好地理解这一点。</p><p id="5253" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">什么是评估指标？</strong></p><p id="ad01" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">假设我们为你的分类任务建立了多个模型，在这里预测一个人是否会患疾病，但我如何决定哪一个更好？</p><p id="ca28" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我如何知道我的模型表现如何？它在预测结果方面有多好？</p><p id="c7f7" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">所有这些问题都可以借助评估指标来回答。</p><p id="3131" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">混乱矩阵</strong></p><p id="d88e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">混淆矩阵是用于评估分类模型性能的P×P矩阵，其中P是目标类别的数量。该矩阵将实际目标值与机器学习模型预测的目标值进行比较。</p><p id="f9ce" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">对于二进制分类问题，我们将有一个2 x 2矩阵，如下所示，有4个值:</p><figure class="jo jp jq jr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es jn"><img src="../Images/2011bf5110c53e797166d62a6d825128.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vob7FWx2Ta9XGe_q9V_xHg.png"/></div></div></figure><p id="3465" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">一个好的模型是TP和TN比率高，而FP和FN比率低的模型。</p><p id="3c87" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">精度</strong></p><figure class="jo jp jq jr fd ii er es paragraph-image"><div class="er es js"><img src="../Images/e5b57bf7828d1d17e42cba6c4a15fc68.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/1*0wVAcxrigIKSmmVmhBDDWw.jpeg"/></div></figure><p id="bf57" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这是在真实预测中实现的正确性的一种度量。简而言之，它告诉我们，在所有积极的预测中，有多少预测实际上是积极的。</p><p id="72ae" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">对于分类问题的评估，准确性是一个有效的选择，这些问题是平衡的，没有偏斜，或者没有类别不平衡。</p><figure class="jo jp jq jr fd ii er es paragraph-image"><div class="er es jt"><img src="../Images/30f273e1db9314a169814e0f2a03997a.png" data-original-src="https://miro.medium.com/v2/resize:fit:962/format:webp/1*SXYvhXRRRBLDr6TxdU8aMw.png"/></div></figure><p id="6965" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> <em class="ju">案例重要性- </em> </strong> <em class="ju">在评估模型的整体性能时，可以考虑准确性，假设有100封邮件，其中98封不是垃圾邮件，2封是垃圾邮件，而我们的模型预测所有邮件都不是垃圾邮件，那么我们的模型有98%的准确性，但我们在现场的实际结果并不好，因为假阴性(在我们的情况下不是垃圾邮件)可能携带一些强编码病毒，可能会影响我们的财务应用程序。</em></p><p id="17b5" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><em class="ju">我们需要了解成本评估的其他指标。</em></p><p id="ded6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">精度</strong></p><figure class="jo jp jq jr fd ii er es paragraph-image"><div class="er es jv"><img src="../Images/c1849ef2c6f05828b5480d38202d1bdd.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*219eo8ACwoIXLwhAlEisow.png"/></div></figure><p id="fd62" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这是在真实预测中实现的正确性的一种度量。简而言之，它告诉我们，在所有积极的预测中，有多少预测实际上是积极的。</p><p id="70ad" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">当我们想要非常确定我们的预测时，精度是评估度量的有效选择。</p><figure class="jo jp jq jr fd ii er es paragraph-image"><div class="er es jw"><img src="../Images/284d413f4170039ba08b42f09f3875a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:538/format:webp/1*cZxLZoKvBkBtgKAius0hQg.png"/></div></figure><p id="2ac0" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> <em class="ju">案例重要性</em></strong><em class="ju">——当误报的成本很高时，精确度很有帮助。所以我们假设问题涉及到脑瘤的检测。如果我们有一个精度非常低的模型，那么许多患者将被告知他们患有肿瘤，这将包括一些误诊。许多额外的测试和压力都岌岌可危。当假阳性过高时，那些监测结果的人在受到假警报的轰炸后会学会忽略它们。</em></p><p id="e5d4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">召回/灵敏度</strong></p><p id="770e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">它是对正确预测的实际观测值的度量，即有多少正类观测值实际上被预测为正。</p><p id="4898" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">也就是所谓的敏感。当我们想要捕捉尽可能多的正面信息时，召回是评估指标的有效选择。</p><figure class="jo jp jq jr fd ii er es paragraph-image"><div class="er es jx"><img src="../Images/b6d55499cfb031528a1a1ab419a66737.png" data-original-src="https://miro.medium.com/v2/resize:fit:492/format:webp/1*agYCLIomKbKXm82Uq80PTw.png"/></div></figure><p id="def0" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> <em class="ju">案例重要性</em></strong><em class="ju">——漏报成本高时召回有帮助。如果我们需要探测来自一个愚蠢国家的核导弹呢？假阴性会带来毁灭性的后果。如果做错了，我们都难逃一死。当假阴性频繁出现时，我们会受到我们想要避免的事情的打击。</em></p><p id="b7f1" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">特异性</strong></p><p id="b595" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">有多少实际的负数据点被模型识别为负的。</p><p id="a6ae" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">特异性值越高，意味着真阴性值越高，假阳性率越低。特异性的较低值意味着真阴性的较低值和假阳性的较高值。</p><figure class="jo jp jq jr fd ii er es paragraph-image"><div class="er es jy"><img src="../Images/838a519532d2f94f6c5eba4718ed068f.png" data-original-src="https://miro.medium.com/v2/resize:fit:436/format:webp/1*lA1AcgpTUJw2lE5IYR54Xw.png"/></div></figure><p id="4bde" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> F1得分</strong></p><p id="0881" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">F1分数是一个介于0和1之间的数字，是精确度和召回率的调和平均值。</p><p id="c67b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">F1分数在某种程度上保持了分类器的精确度和召回率之间的平衡。如果你的准确率低，F1就低，如果召回率又低，你的F1分数就低。</p><p id="155b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们使用调和平均值，因为它对非常大的值不敏感，不像简单平均值。</p><figure class="jo jp jq jr fd ii er es paragraph-image"><div class="er es jz"><img src="../Images/a638b9f8c35eace1b1a29cd0f28e96a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:752/format:webp/1*3Bh2nPhnsugKq5uhRHZNig.png"/></div></figure><p id="811b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">也就是说，良好的F1分数意味着您的误报率和漏报率较低，因此您可以正确识别真正的威胁，并且不会受到误报的干扰。F1的分数为1时被认为是完美的，而当分数为0时，模型就是彻底的失败。</p><p id="4d36" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">受试者工作特性(ROC曲线)</strong></p><p id="f292" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">ROC曲线(接收器操作特征曲线)是显示分类模型在所有分类阈值下的性能的图表。该曲线绘制了两个参数:</p><ol class=""><li id="b7b1" class="ka kb hh ir b is it iw ix ja kc je kd ji ke jm kf kg kh ki bi translated">真阳性率- TP /总阳性率</li><li id="ac98" class="ka kb hh ir b is kj iw kk ja kl je km ji kn jm kf kg kh ki bi translated">假阳性率— FP /总阴性</li></ol><p id="6b3d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">ROC曲线绘制了TPR对不同分类阈值的FPR。降低分类阈值会将更多的项目分类为阳性，从而增加假阳性和真阳性。下图显示了典型的ROC曲线。</p><figure class="jo jp jq jr fd ii er es paragraph-image"><div class="er es ko"><img src="../Images/37e4cd9a86ceeced55c61eb2d6c3e7b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*J3mtJhSY49TLsG4F6ZLXow.png"/></div></figure><figure class="jo jp jq jr fd ii er es paragraph-image"><div class="er es kp"><img src="../Images/93a8012764195dffa8b287d01dc83d5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:642/format:webp/1*7gUjcHmtBZLobAds5Ov13g.png"/></div></figure><p id="54f2" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">AUC:ROC曲线下面积</strong></p><p id="89ec" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> AUC </strong>代表“ROC曲线下面积”也就是说，AUC测量整个ROC曲线下的整个二维面积</p><p id="579b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">AUC提供了对所有可能的分类阈值的综合绩效衡量。解释AUC的一种方法是将模型对随机正例的排序高于随机负例的概率。</p><p id="37da" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">AUC值的范围从0到1。预测100%错误的模型的AUC为0.0；预测100%正确的一个具有1.0的AUC</p><p id="fcbf" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">结论:- </strong></p><p id="8730" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">所有的模型都有些错误，但有些是有用的。也就是说，所有的模型都会产生一些假阴性，一些假阳性，可能两者都有。</p><p id="d7c5" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">虽然我们可以调整模型以最小化其中一个或另一个，但我们经常面临权衡，即假阴性的减少会导致假阳性的增加，反之亦然。</p><p id="6d02" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们需要优化对您的特定问题最有用的性能指标。</p></div></div>    
</body>
</html>