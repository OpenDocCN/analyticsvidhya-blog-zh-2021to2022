<html>
<head>
<title>Lets Constructs some SQL Joins</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让我们构造一些SQL连接</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/lets-constructs-some-sql-joins-4209de3245df?source=collection_archive---------24-----------------------#2022-02-25">https://medium.com/analytics-vidhya/lets-constructs-some-sql-joins-4209de3245df?source=collection_archive---------24-----------------------#2022-02-25</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><h1 id="127f" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">SQL连接</h1></div><div class="ab cl jc jd go je" role="separator"><span class="jf bw bk jg jh ji"/><span class="jf bw bk jg jh ji"/><span class="jf bw bk jg jh"/></div><div class="ha hb hc hd he"><p id="c0c8" class="pw-post-body-paragraph jj jk hh jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg ha bi translated">当您查询大多数数据集时，您很可能需要使用一个JOIN子句。本文将带您了解何时需要使用联接、使用联接的要求以及联接的类型。</p><h2 id="32dd" class="kh if hh bd ig ki kj kk ik kl km kn io ju ko kp is jy kq kr iw kc ks kt ja ku bi translated">什么是SQL连接？</h2><p id="7c2b" class="pw-post-body-paragraph jj jk hh jl b jm kv jo jp jq kw js jt ju kx jw jx jy ky ka kb kc kz ke kf kg ha bi translated">SQL连接是在SQL(结构化查询语言)中使用的指令，用于将两个表中的数据组合到一个键上。</p><p id="4f83" class="pw-post-body-paragraph jj jk hh jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg ha bi translated">我们知道我们有2组数据daily_menu和menu_items，我们可以假设daily_menu是表A，menu_items是表b。在维恩图中，我们实际上希望将这两组数据放在一起。</p><figure class="lb lc ld le fd lf er es paragraph-image"><div class="er es la"><img src="../Images/c3ba0b479f586db7626e2cd72e0960a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1272/format:webp/0*guDPdqq5ZsjFiZGQ.png"/></div></figure><p id="8253" class="pw-post-body-paragraph jj jk hh jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg ha bi translated">有4种基本方法可以将这些数据连接在一起:内部连接、左连接、右连接或完全连接。我们将在下面详细讨论每一项。</p><p id="3ffc" class="pw-post-body-paragraph jj jk hh jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg ha bi translated">一个简单的关系数据库的例子。</p><figure class="lb lc ld le fd lf er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es li"><img src="../Images/929841a5bd6a4a31feda3e324047d8f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*eqPdIzw6RfWmyDd7.png"/></div></div></figure><h2 id="f40c" class="kh if hh bd ig ki kj kk ik kl km kn io ju ko kp is jy kq kr iw kc ks kt ja ku bi translated">内部连接</h2><p id="ea34" class="pw-post-body-paragraph jj jk hh jl b jm kv jo jp jq kw js jt ju kx jw jx jy ky ka kb kc kz ke kf kg ha bi translated">内部联接允许我们输出表A和表B中引用的记录。如果表A和表B中的记录不匹配，这些记录将不会显示在查询的输出中。</p><p id="842e" class="pw-post-body-paragraph jj jk hh jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg ha bi translated">为了在实践中做到这一点，如果我们以daily_menu和menu_items为例，下面是一个内部连接的示例查询和相应的输出。</p><pre class="lb lc ld le fd ln lo lp lq aw lr bi"><span id="0c63" class="kh if hh lo b fi ls lt l lu lv">SELECT <br/>  d.date, <br/>  i.name, <br/>  i.is_veg, <br/>  d.price, <br/>  d.units_sold <br/>FROM daily_menu d <br/>     INNER JOIN menu_items i <br/>     ON d.item_id = i.item_id;</span></pre><figure class="lb lc ld le fd lf er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es li"><img src="../Images/13078efbf49073245c89fb1fbd88f612.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*TdUN_SDGl_HtUrNL.png"/></div></div><figcaption class="lw lx et er es ly lz bd b be z dx translated">完全外部连接</figcaption></figure><p id="3760" class="pw-post-body-paragraph jj jk hh jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg ha bi translated">完全联接或完全外部联接，列出两个表中的所有记录，而不管记录在相对的表中是否匹配。同样，让我们使用上面的daily_menu和menu_item表来练习。如果我们对item_id进行完全外连接，我们将保留两个表的所有主id以及我们选择的相应列。SQL和输出表如下。</p><pre class="lb lc ld le fd ln lo lp lq aw lr bi"><span id="3476" class="kh if hh lo b fi ls lt l lu lv">SELECT <br/>  d.date, <br/>  i.name, <br/>  i.is_veg, <br/>  d.price, <br/>  d.units_sold <br/>FROM daily_menu d <br/>     FULL OUTER JOIN menu_items i <br/>     ON d.item_id = i.item_id;</span></pre><figure class="lb lc ld le fd lf er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es li"><img src="../Images/44de00d2a344b820cccf680dae637744.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*UjmUpRWzKQPYRuQ3.png"/></div></div><figcaption class="lw lx et er es ly lz bd b be z dx translated">左连接</figcaption></figure><p id="b7f0" class="pw-post-body-paragraph jj jk hh jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg ha bi translated">左连接，如上面的SQL连接图所示，将返回表A中的所有记录，以及表b中的任何匹配记录。使用daily_menu和menu_item表，下面是左连接的查询示例和结果输出。</p><pre class="lb lc ld le fd ln lo lp lq aw lr bi"><span id="9bb2" class="kh if hh lo b fi ls lt l lu lv">SELECT <br/>  d.date, <br/>  i.name, <br/>  i.is_veg, <br/>  d.price, <br/>  d.units_sold <br/>FROM daily_menu d <br/>     LEFT JOIN menu_items i <br/>     ON d.item_id = i.item_id;</span></pre><figure class="lb lc ld le fd lf er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es li"><img src="../Images/e8f9dddd85cdb2b88922c35ad874dd4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*5Il8o2KM_dT3ix89.png"/></div></div></figure><h2 id="9938" class="kh if hh bd ig ki kj kk ik kl km kn io ju ko kp is jy kq kr iw kc ks kt ja ku bi translated">右连接</h2><p id="7e2d" class="pw-post-body-paragraph jj jk hh jl b jm kv jo jp jq kw js jt ju kx jw jx jy ky ka kb kc kz ke kf kg ha bi translated">与左连接相反，右连接将返回表B中的所有记录以及表a中的任何匹配记录。同样，我们将使用daily_menu和menu_item表来编写右连接的示例查询以及结果输出。</p><pre class="lb lc ld le fd ln lo lp lq aw lr bi"><span id="21f6" class="kh if hh lo b fi ls lt l lu lv">SELECT <br/>  d.date, <br/>  i.name, <br/>  i.is_veg, <br/>  d.price, <br/>  d.units_sold <br/>FROM daily_menu d <br/>     RIGHT JOIN menu_items i <br/>     ON d.item_id = i.item_id;</span></pre><figure class="lb lc ld le fd lf er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es li"><img src="../Images/faaaf4d8cebf398f6f2dfdb7abed3ada.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*p0SfAHwLxI2_yNWM.png"/></div></div></figure></div></div>    
</body>
</html>