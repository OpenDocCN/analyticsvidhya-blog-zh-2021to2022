<html>
<head>
<title>A step-by-step analysis of Covid19 scenario using Pandas and Matplotlib (clear codes included)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Pandas和Matplotlib逐步分析Covid19场景(包括清晰代码)</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/a-step-by-step-analysis-of-covid19-scenario-using-pandas-and-matplotlib-clear-codes-included-1185a49d19c1?source=collection_archive---------1-----------------------#2021-05-11">https://medium.com/analytics-vidhya/a-step-by-step-analysis-of-covid19-scenario-using-pandas-and-matplotlib-clear-codes-included-1185a49d19c1?source=collection_archive---------1-----------------------#2021-05-11</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/57df27eee7cea1af2ec0d7d88dc51cb7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2uza2mnGMSEj8q0-TvdyRw.jpeg"/></div></div></figure><p id="ecaa" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">2020年冠状病毒爆发可以被认为是上个世纪世界面临的最大挑战之一。我在3月25日写了这篇文章，全世界死亡人数是2.745.702。与许多人的想法相反，与其他疾病相比，Covid的预后并不可怕。2014年西非爆发的埃博拉疫情中，15至44岁患者的死亡率约为70%(是的，只有十分之三的患者能够存活！).新冠肺炎的问题在于它的传染性。与埃博拉等其他疾病不同，一旦感染就需要住院治疗，对许多人来说，新冠肺炎是一种短暂而温和的疾病，有些人甚至没有症状。这样，被感染的人可以四处移动并感染许多其他人。这种疾病起源于中国，在一个如此全球化的世界里，它很快出现在每一个大洲。我不需要描述这种疾病有多严重……我相信每个正在阅读这篇文章的人都目睹了新冠肺炎给许多国家带来的混乱。新冠肺炎疫情不是世界面临的第一次疫情，但它肯定是我们第一次能够通过技术，当然还有数据来战胜它。因此，这是一个很好的机会来分析和了解这种疾病。对于这个分析，我们将使用两个Python库:Pandas来操作数据，Matplotlib用于数据可视化。这是一个简单的探索性数据分析(EDA ),但还可以做很多工作，您将看到这些库是多么容易使用和强大。</p><p id="6890" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这项工作包括:</p><ul class=""><li id="7fbd" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm js jt ju jv bi translated">数据集的整体分析</li><li id="e65e" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">通过条形图分析新冠肺炎病例和死亡总数最高的国家。</li><li id="6ae0" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">世界病例和死亡总数的演变分析。</li><li id="e6f5" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">从第一例病例到现在对巴西新冠肺炎情景的分析。</li><li id="860b" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">比较美国、印度、巴西和墨西哥的总病例数、新增病例数和死亡数的7天移动平均值。</li></ul><p id="23f7" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如果您正在开始您的数据科学世界之旅，这项工作是一个很好的机会，让您编码并了解更多关于Pandas和Matplotlib的信息。</p><h1 id="a068" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">数据采集</h1><p id="88de" class="pw-post-body-paragraph ip iq hh ir b is kz iu iv iw la iy iz ja lb jc jd je lc jg jh ji ld jk jl jm ha bi translated">本分析中的数据来自ourworldindata.org网站<a class="ae le" href="https://ourworldindata.org/" rel="noopener ugc nofollow" target="_blank">。数据关系到全世界，直到3月25日。需要强调的是，新冠肺炎是一种新疾病，例如，不可能告知Covid病例的确切数量。没有一个组织能做到这一点。这一数据的主要来源是欧洲疾病预防和控制中心(ECDC)。这些数据也是从各种来源收集的，如联合国、世界银行、全球疾病负担、Blavatnik政府学院等。).有关数据源的更多信息可在此处找到</a><a class="ae le" href="https://github.com/owid/covid-19-data/blob/master/public/data/owid-covid-codebook.csv" rel="noopener ugc nofollow" target="_blank">。</a></p><h1 id="4622" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">可变字典</h1><p id="74ca" class="pw-post-body-paragraph ip iq hh ir b is kz iu iv iw la iy iz ja lb jc jd je lc jg jh ji ld jk jl jm ha bi translated">该数据集包含59个变量。你可以在这里对这些变量<a class="ae le" href="https://github.com/owid/covid-19-data/blob/master/public/data/owid-covid-codebook.csv" rel="noopener ugc nofollow" target="_blank">进行详细描述。</a></p><h1 id="1cb5" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">导入数据集</h1><p id="8ffe" class="pw-post-body-paragraph ip iq hh ir b is kz iu iv iw la iy iz ja lb jc jd je lc jg jh ji ld jk jl jm ha bi translated">如前所述，本分析中使用的数据集是在<code class="du lf lg lh li b">ourworldindata.org</code>获得的。你可以在这里下载这些数据。。让我们将数据从<code class="du lf lg lh li b">csv</code>格式导入到变量<code class="du lf lg lh li b">df</code>中。</p><figure class="lk ll lm ln fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lj"><img src="../Images/0664a4c433e9eecaa403fc0e31af1b40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h3cxefKKZZKc5HI-_jI_xQ.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">图1 —导入数据集。</figcaption></figure><h1 id="2ebb" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">探索性数据分析</h1><p id="0de4" class="pw-post-body-paragraph ip iq hh ir b is kz iu iv iw la iy iz ja lb jc jd je lc jg jh ji ld jk jl jm ha bi translated">在这一部分，我们将探索我们的数据集。熊猫图书馆有一些方便的命令来实现它。我们开始吧！</p><h1 id="2a90" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">全面分析</h1><p id="f59f" class="pw-post-body-paragraph ip iq hh ir b is kz iu iv iw la iy iz ja lb jc jd je lc jg jh ji ld jk jl jm ha bi translated">我们通过<em class="ls">来看看数据。</em>方法头()。</p><figure class="lk ll lm ln fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lt"><img src="../Images/f342ef5360f401bce605b091c91c63ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oCc9TSmRlcS8mhtk0ZUrrg.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">图2——数据的第一印象。</figcaption></figure><p id="650e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">图3显示了我们的数据集有多大…</p><figure class="lk ll lm ln fd ii er es paragraph-image"><div class="er es lu"><img src="../Images/dfdc409ce25b06c7dd299271b24240b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1394/format:webp/1*WMaCUEOhjuKjhuql_oNNwQ.png"/></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">图3 —数据集大小。</figcaption></figure><p id="c86c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">让我们通过了解数据集的列来看看变量。</p><figure class="lk ll lm ln fd ii er es paragraph-image"><div class="er es lv"><img src="../Images/2fc8a944924b96380a8ec1891aaf8c4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1398/format:webp/1*Cz9kehtq_zoCIZMY-JIsRQ.png"/></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">图4 —数据集变量。</figcaption></figure><p id="198b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">属性<em class="ls"> dtypes </em>可以向我们显示这个数据集中每个变量的类型。图5只显示了数据集中总共59个中的12个。</p><figure class="lk ll lm ln fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lw"><img src="../Images/e5967bbb76a3e0cd02fa8a191cdf7484.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eZIwVFk4yX8e-ucCj6M4FQ.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">图5 —变量类型。</figcaption></figure><p id="1fb3" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">嗯…现在我们对这个数据集的样子有了更好的了解…我们可以计算出数据集有多大(<em class="ls"> df.shape </em>)、变量的名称(<em class="ls"> df.columns </em>)以及数据集中存在哪种变量(<em class="ls"> df.dtypes </em>)。通过查看前5行，可以看到我们的数据集中有大量的空值。我们现在就去做。让我们看看数据集中空值的百分比。</p><figure class="lk ll lm ln fd ii er es paragraph-image"><div class="er es lx"><img src="../Images/0e24e9825ea2f09e1923a68935d77424.png" data-original-src="https://miro.medium.com/v2/resize:fit:1182/format:webp/1*aBhPZZOCMc2-dcVczJusHQ.png"/></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">图6-数据集中每个要素的空值百分比。</figcaption></figure><p id="ede6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在我们的数据集中，空值的百分比变化很大。一些变量，如日期和位置，不存在空值。另一方面，关于住院治疗的信息(icu患者、每周icu入院人数等)几乎不存在，其特征是超过90%的空值。让我们来看看出现空值最多和最少的十个变量。</p><figure class="lk ll lm ln fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ly"><img src="../Images/fec718b1dcb808bf9641be9ab6497a7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E6Su9vuwSxYDtgHNn7o1WQ.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">图7 —呈现较高空值百分比的特性。</figcaption></figure><figure class="lk ll lm ln fd ii er es paragraph-image"><div class="er es lz"><img src="../Images/c71a92e4899214ea3860f298959edc1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1380/format:webp/1*n22q5pNDCOnmgtr_H0OoPQ.png"/></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">图7 —呈现较低空值百分比的特性。</figcaption></figure><p id="aec6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">遗漏了更详细的信息，但是非常重要的信息，例如<code class="du lf lg lh li b">new_cases</code>和<code class="du lf lg lh li b">new_deaths</code>几乎是完整的，因此可以在该数据中分析很多信息。</p><p id="3b58" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">要做的一件重要事情是将数据集中的日期设置为<em class="ls">日期时间</em>格式，这样我们就可以通过日期来操作数据集……让我们将日期转换成这种格式。</p><figure class="lk ll lm ln fd ii er es paragraph-image"><div class="er es ma"><img src="../Images/72106092612eeb00012ec9a792a7f3d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:948/format:webp/1*fP-PKb__-bP73b-UqSoinA.png"/></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">图8 —将日期转换成日期时间格式。</figcaption></figure></div><div class="ab cl mb mc go md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ha hb hc hd he"><h1 id="5b3b" class="kb kc hh bd kd ke mi kg kh ki mj kk kl km mk ko kp kq ml ks kt ku mm kw kx ky bi translated">分析新冠肺炎死亡人数和病例数最高的国家</h1><p id="0aa9" class="pw-post-body-paragraph ip iq hh ir b is kz iu iv iw la iy iz ja lb jc jd je lc jg jh ji ld jk jl jm ha bi translated">到目前为止，我们对数据集只有初步印象。最后，我们将探索和提取有关新冠肺炎疫情的信息。让我们利用熊猫图书馆来了解哪些国家出现了较高的死亡和Covid病例数。</p><figure class="lk ll lm ln fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mn"><img src="../Images/7c9c0e01fdc2e3c87ea9f565b430934a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PpUkqA5KNk_E7ZrsVkOXrg.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">图9-死亡人数最多的国家。</figcaption></figure><figure class="lk ll lm ln fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mo"><img src="../Images/6ed361cb578201c495e32d5bcd3d1ca7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*249bcw7RygGLoLDziwdLsA.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">图10 —病例数最高的国家。</figcaption></figure><p id="f8fa" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">可以看到该数据集中存在大陆要素。让我们删除它们，创建一个只包含位置、日期、死亡总数和病例总数的新数据框。</p><figure class="lk ll lm ln fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mp"><img src="../Images/f035a9c2bcb15a64b4026c613ce82b78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OVbltnmwCvhL4AUYaSSE_w.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">图11 —新数据框。</figcaption></figure><p id="123c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这是更好地了解世界上新冠肺炎情景的第一步。但是，有一种更好的方法来显示这些信息。我们来策划一下吧！为此，让我们使用<code class="du lf lg lh li b">Matplotlib</code>库。让我们首先绘制一个病例和死亡总数的直方图。Seaborn库只被导入到更好的Matplotlib布局(<code class="du lf lg lh li b">sns.set()</code>)。</p><figure class="lk ll lm ln fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mq"><img src="../Images/61901a11f42691a6a012352bf48f47fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rU0L0UzKqGk8d2M44YatgQ.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">图12 — Matplotlib代码表示世界上最高的死亡和病例总数直方图。</figcaption></figure><figure class="lk ll lm ln fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mr"><img src="../Images/9d517c3f24408cec7840302caf6d3837.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8aUEHxal93LvNSj3D1Zoxg.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">图13-世界上死亡人数和病例数最高的国家。</figcaption></figure><p id="bbad" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">嗯……在第一项分析中，通过比较病例数和死亡数，可以对这些国家的死亡率有一个很好的了解。例如，比较印度和巴西，很明显巴西的死亡率更高。预计一旦印度人口超过10亿，其病例数将会更高。巴西的人口是印度的四分之一，尽管如此，巴西的死亡人数和病例数都比印度高。在这个简单的分析中，同样值得注意的是，墨西哥的死亡率也很高。它甚至不在病例数最高的五个国家之列，但却造成了近20万人死亡！另一方面，法国和俄罗斯等欧洲国家的死亡率较低。英国是欧洲死亡率最高的国家，美国是全世界病例和死亡人数最多的国家。</p><p id="6ecb" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在我们来分析一下这些国家的发病数和死亡数的演变。但首先让我们看看全球死亡和病例总数。</p><h1 id="09af" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">世界新冠肺炎病例和死亡的演变</h1><p id="5bce" class="pw-post-body-paragraph ip iq hh ir b is kz iu iv iw la iy iz ja lb jc jd je lc jg jh ji ld jk jl jm ha bi translated">要做的第一件事是对新冠肺炎全球情况进行分析，以获得与世界相关的数据集部分(考虑总死亡数和病例数)，这可以由基本熊猫指挥部<code class="du lf lg lh li b">.loc[]</code>完成，如图14所示。该图中还显示了图形的Matplotlib代码。</p><figure class="lk ll lm ln fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ms"><img src="../Images/43ab08f21366025b12c28615bf4ff632.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Zy_N87ij2xS1pgtHuth7Ug.jpeg"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">图14-新冠肺炎总病例和死亡的全球分析的Matplotlib代码。</figcaption></figure><p id="66c5" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">因为我们的数据变化很大，新冠肺炎的病例和死亡人数已经用对数标度表示。这一结果表明，死亡人数的增加与病例数的增加是一致的。2020年2月出现了更高的病例和死亡增长。这可能与冠状病毒爆发的开始有关，当时没有人知道这种疾病有多严重以及如何治疗。然而，在欧洲，冬天是病毒性疾病更常见的时候。</p><figure class="lk ll lm ln fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mt"><img src="../Images/278d2295a2b7783ee9599bbca7c5a893.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s2jk4P7ru0P-r1a1eFRhJQ.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">图15-按常规和对数比例计算的世界病例和死亡总数。</figcaption></figure></div><div class="ab cl mb mc go md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ha hb hc hd he"><h1 id="de3a" class="kb kc hh bd kd ke mi kg kh ki mj kk kl km mk ko kp kq ml ks kt ku mm kw kx ky bi translated">新冠肺炎在世界上的巴西情景分析</h1><p id="2b50" class="pw-post-body-paragraph ip iq hh ir b is kz iu iv iw la iy iz ja lb jc jd je lc jg jh ji ld jk jl jm ha bi translated">现在让我们绘制巴西新冠肺炎的演变图，与世界上病例和死亡人数排名前五的国家进行比较。让我们记住，这些数据来自3月底，当时巴西正在疫情经历最糟糕的情况。图15显示了图形代码。代码的第一部分是在小数据集中分离与日期和地点(国家)相关的病例数和死亡数。第二部分是创建一个具有2个副情节的图形，以及考虑图形轴的每个国家的总病例和死亡的情节。</p><figure class="lk ll lm ln fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ms"><img src="../Images/b808e4798993a17594ea3c13f28aeed3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v6HEEFXTR-joFVMnw6RcPg.jpeg"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">图16 — Matplotlib代码，用于世界前5个国家的总病例和死亡分析。</figcaption></figure><figure class="lk ll lm ln fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mu"><img src="../Images/9399ac13b83dd49979301fb9a480b742.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cOyuGIhQnwZLhJrhttYRsg.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">图17-前5名国家的死亡和病例总数。</figcaption></figure><p id="bb4d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">众所周知，新冠肺炎首先袭击了东方国家、欧洲以及后来的美国和南美国家。巴西第一例是什么时候？让我们看看数据集的最开始…</p><figure class="lk ll lm ln fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mv"><img src="../Images/dbbdcd9a82a75772772a7fa1864cbba9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VS3WG4IqLhSKK5WqrIplAw.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">图18-在巴西发现首例新冠肺炎病例。</figcaption></figure><p id="ec52" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">嗯……通过这个简单的命令，可以看到巴西的首例新冠肺炎病例是在2月26日报告的。让我们看看巴西第一例艾滋病死亡是什么时候发生的。</p><figure class="lk ll lm ln fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mw"><img src="../Images/0bf1f1106e153e2fb91774f157817a46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FgNvh7V_sCx8y7Vr3Oc22g.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">图19-在巴西发现首例新冠肺炎死亡病例。</figcaption></figure><p id="62ef" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">对…让我们看看巴西从第一例到第一例死亡用了多少天。</p><figure class="lk ll lm ln fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mx"><img src="../Images/67c52c13d4dfa9a12f8e651f5d981505.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XWRbrGuZiBU8-YKp-ncerQ.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">图20—从巴西出现第一例新冠肺炎病例到第一例死亡的天数。</figcaption></figure><p id="9098" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">下一个分析将是前3个国家在新冠肺炎死亡和病例中的参与程度。为此，我们将使用<a class="ae le" href="https://pywaffle.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank">华夫饼图表</a>进行可视化。我们开始吧！</p><figure class="lk ll lm ln fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es my"><img src="../Images/4c7b793f65bc4dc074aa2a1bdfa28192.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fe2ujBky50Tc3uFiVejoVQ.jpeg"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">图21—华夫饼图表中使用的数据。</figcaption></figure><figure class="lk ll lm ln fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es my"><img src="../Images/c9211d5994515c74e44a606b4ad7cf01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J26skTjXFpeY5L-xOSRnFw.jpeg"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">图22 —世界上Covid病例数量最多的国家的贡献。</figcaption></figure><p id="48af" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">华夫饼图表让我们很好地了解了这些国家的贡献。但是，让我们创建一个简单的数据框，其中包含贡献率。</p><figure class="lk ll lm ln fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mz"><img src="../Images/0e4c2a4f7b0f736f109fb694c91605cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dE8NyzPKiRsgQG6rshFw8g.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">图23 —在华夫格图中每个国家占总病例的百分比。</figcaption></figure><p id="7ebe" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">太好了…让我们对死亡总数做同样的分析。</p><figure class="lk ll lm ln fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es na"><img src="../Images/054d6801666080f2e05997e6c9a92109.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0SL1SGUscga14pSjdvjaCw.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">图24—世界上Covid死亡人数最多的国家的贡献。</figcaption></figure><figure class="lk ll lm ln fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nb"><img src="../Images/c75842b9a43b22fd9edcc08752af6f5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Tkm_Gz4JV8auCiEng9Gxxw.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">图25—在华夫格图中每个国家总死亡人数的百分比。</figcaption></figure></div><div class="ab cl mb mc go md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ha hb hc hd he"><h1 id="b390" class="kb kc hh bd kd ke mi kg kh ki mj kk kl km mk ko kp kq ml ks kt ku mm kw kx ky bi translated">7天滚动平均分析</h1><p id="c829" class="pw-post-body-paragraph ip iq hh ir b is kz iu iv iw la iy iz ja lb jc jd je lc jg jh ji ld jk jl jm ha bi translated">现在让我们来看看这些国家一年中病例和死亡数量的变化。为了完成这项任务，让我们考虑一个7天滚动平均图。</p><p id="40a2" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">第一件事是创建一个包含世界和其他国家全部数据的数据框。让我们开始吧。</p><figure class="lk ll lm ln fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mz"><img src="../Images/b81c5b9728c68ca6b88366db73959f49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D3zBUaEbhiMVN3I1YHlvNA.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">图26 —为7天滚动平均分析创建数据框。</figcaption></figure><p id="5fb7" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">很好…以下步骤总结如下:</p><ul class=""><li id="9d95" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm js jt ju jv bi translated">计算每一栏中每个国家的参与情况；</li><li id="a7ca" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">用零填充被零除后留下的空值；</li><li id="0c03" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">应用一个等式将每一列转换为7天平均值；</li><li id="137e" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">在用零计算移动平均值后填充空值。</li></ul><figure class="lk ll lm ln fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nc"><img src="../Images/0d7d755f55a324014baf630ad857635d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y91n91ikPXsPy8cShoOSaA.jpeg"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">图27 —国家参与7天滚动平均分析。</figcaption></figure><figure class="lk ll lm ln fd ii er es paragraph-image"><div class="er es nd"><img src="../Images/65061bb3ab94da4f9ca59ad4aef569fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1072/format:webp/1*hGJNrLd8akXOnrG2kZUyNg.png"/></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">图28 —填充空值。</figcaption></figure><p id="75b8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在，让我们使用命令<code class="du lf lg lh li b">.apply(lambda x … )</code>使每一列成为7天滚动平均值。</p><figure class="lk ll lm ln fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ms"><img src="../Images/1bb4663f6b282d56e4552872932c6ced.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0RRK0aZ6BzfSBNc_imO-Lg.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">图29——使各列成为其自身的7天移动平均值，并填充空值。</figcaption></figure><p id="a22e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">最后，我们已经完成了数据集的准备…让我们绘制出这些国家的总病例数和新增病例数以及死亡人数。</p><figure class="lk ll lm ln fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nc"><img src="../Images/4ee649d0093971d7b83c83b4db409ec9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ScagvXG27RinBSM2QLivJw.jpeg"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">图30——国家参与新冠肺炎病例总数的演变——7天移动平均数。</figcaption></figure><figure class="lk ll lm ln fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ne"><img src="../Images/0bd194f193f44c25b17c07bf4d96ebf1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*POqlDpd78bl0FOdoyB_JJg.jpeg"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">图31-国家参与新冠肺炎总死亡人数的演变-7天移动平均数。</figcaption></figure><p id="c1c5" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">总病例数和总死亡数的7天移动平均数表明，与巴西、印度和墨西哥相比，美国的参与率要高得多。让我们做同样的事情来想象新的病例和死亡。</p><figure class="lk ll lm ln fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nf"><img src="../Images/bd4442f1127a3306222b3d2cedf60650.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J6kvQChXnuTNTRVICnxHCA.jpeg"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">图32——国家参与新冠肺炎新病例的演变——7天移动平均数。</figcaption></figure><p id="9e0a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在最后一张图中，可以看到截至4月份，美国在全球的新增病例比例达到了40%以上。当然，当时其他国家的贡献超过了巴西和印度，这两个国家的参与度不到5%。</p><p id="c29a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">一年中每个国家的参与情况有很大不同。美国出现三个新病例高峰。美国今年新增病例的减少肯定与美国政府实施的大规模疫苗接种有关。另一方面，巴西政府还不能像美国那样快地给国民接种疫苗。此外，巴西出现了另一种传染性更强的Covid变异体。巴西今天出现了世界上最多的新冠肺炎新病例。实际上，巴西的疫情已经完全失控了。在印度，新病例在10月初之前一直在增加，然后其参与度在2021年2月之前一直在下降。众所周知，印度出现了冠状病毒的新变种，现在新病例的数量已经增加。在整个疫情，墨西哥参与新病例的比例没有太大变化，现在墨西哥占世界新病例的不到1%。现在让我们分析一下这些国家的新增死亡人数。</p><figure class="lk ll lm ln fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nf"><img src="../Images/1ee266117f2c1bb6c7f8cee67cfb5656.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GSHedYoFmShDR4Bu3NoOjQ.jpeg"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">图33-国家参与新冠肺炎新增死亡的演变-7天移动平均。</figcaption></figure><p id="60e6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">上图显示了美国、印度、巴西和墨西哥全年新增死亡人数。美国、巴西和墨西哥出现了两波新冠肺炎，而印度只出现了一波。截至5月，美国占全球新增死亡人数的35%以上。今年年初，美国开始大规模接种疫苗，因此新增死亡人数呈指数下降。另一方面，巴西新增死亡人数大幅增加，如今该国占全球死亡人数的四分之一。这个悲惨的数字与疫苗接种缓慢和政府控制疫情的措施不力有关。今天，巴西每个州的公共和私人卫生系统都在崩溃。</p></div><div class="ab cl mb mc go md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ha hb hc hd he"><h1 id="b8d4" class="kb kc hh bd kd ke mi kg kh ki mj kk kl km mk ko kp kq ml ks kt ku mm kw kx ky bi translated">结论</h1><p id="c151" class="pw-post-body-paragraph ip iq hh ir b is kz iu iv iw la iy iz ja lb jc jd je lc jg jh ji ld jk jl jm ha bi translated">这项工作分析了由<a class="ae le" href="https://ourworldindata.org/" rel="noopener ugc nofollow" target="_blank"> Our World in Data </a>发布的新冠肺炎数据集，考虑了以下步骤:</p><ul class=""><li id="41e5" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm js jt ju jv bi translated">总体探索性数据分析:首先对数据集进行分析。知道数据集的大小，有哪些变量，变量的类型是什么，一些变量的最小值和最大值，每个变量的空值百分比等。</li><li id="1804" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">对新冠肺炎病例数和死亡数较高的国家的分析:使用柱状图直观显示数据。</li><li id="8e2f" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">世界新冠肺炎情景分析:世界病例和死亡总数的演变图。</li><li id="d24b" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">比较世界上巴西的新冠肺炎情景:病例和死亡总数的演变，考虑病例数最高的国家，重点关注巴西。例如，通过熊猫指令操纵数据，可以知道自巴西出现首例新冠肺炎病例以来，该国在多少天后出现首例死亡病例。</li><li id="acd4" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">对病例和死亡人数最多的国家的分析:每个国家的参与情况与世界其他国家的比较(使用华夫图)，每个国家在一年中的参与情况，以及考虑7天移动平均数的每日病例和死亡人数。</li></ul><p id="7bc6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这项工作的目标已经实现:使用Python库从真实世界的新冠肺炎数据集中分析和获取信息。这项工作给了我一个很好的机会去实践和学习更多关于熊猫和Matplotlib的知识。从这个新冠肺炎数据集获得的所有信息中，可以谈论和讨论更多的东西，但是这项工作的主要目标是真正展示如何使用这些库，因此在这项工作中只给出了更初步的结论。你可以在<a class="ae le" href="https://github.com/JoaoSiqueiraDS/Joao_Siqueira_Portifolio" rel="noopener ugc nofollow" target="_blank">我的Github </a>中找到这个项目和其他项目。</p></div></div>    
</body>
</html>