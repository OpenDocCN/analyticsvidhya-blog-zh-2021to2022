<html>
<head>
<title/>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1/>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/materialized-view-vs-view-in-postgresql-1ddb4fe86cb7?source=collection_archive---------0-----------------------#2021-06-10">https://medium.com/analytics-vidhya/materialized-view-vs-view-in-postgresql-1ddb4fe86cb7?source=collection_archive---------0-----------------------#2021-06-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="2df1" class="hg hh hi bd hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie bi translated"><strong class="ak">物化视图vs PostgreSQL中的视图</strong></h2><figure class="ig ih ii ij fd ik er es paragraph-image"><div class="er es if"><img src="../Images/9a58646c06c63768de56ae0f85acb60d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*IhPNlCxqnbVoz8fv1M4F8A.png"/></div></figure><blockquote class="in io ip"><p id="3a67" class="iq ir is it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><strong class="it jp">视图和物化视图的区别？</strong></p></blockquote><figure class="ig ih ii ij fd ik er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es jq"><img src="../Images/2bb12eca3d537dde3f1e204765236334.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YjKUApUbZ3WtgWcnqLFg-Q.png"/></div></div></figure><figure class="ig ih ii ij fd ik er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es jv"><img src="../Images/a84ddbf15fdc4e9ea5085c934456086f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xbpF3It5UJ1KttzHKx2jJQ.png"/></div></div></figure><blockquote class="in io ip"><p id="3591" class="iq ir is it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><strong class="it jp">实化视图的跟踪问题</strong></p></blockquote><ol class=""><li id="c995" class="jw jx hi it b iu iv iy iz hs jy hw jz ia ka jo kb kc kd ke bi translated">如果我们的应用程序能够容忍陈旧(旧)数据，Postgres中物化视图特性的增加代表了读取查询性能的巨大优势。</li><li id="6a51" class="jw jx hi it b iu kf iy kg hs kh hw ki ia kj jo kb kc kd ke bi translated">通过将视图的结果集展平到物理表中，它有助于减少磁盘访问和复杂的查询计算。</li><li id="62ca" class="jw jx hi it b iu kf iy kg hs kh hw ki ia kj jo kb kc kd ke bi translated"><strong class="it jp">审计实体化视图的创建、修改和刷新操作可能非常耗时。</strong></li></ol><blockquote class="in io ip"><p id="c89a" class="iq ir is it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><strong class="it jp">名为mv_stats的Postgres扩展，</strong>允许数据操作人员以更实用的方式跟踪和查询这些信息。</p><p id="27dc" class="iq ir is it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">在我们的数据库中执行:</p><p id="d390" class="iq ir is it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><strong class="it jp">创建扩展mv _ stats</strong></p><p id="91ba" class="iq ir is it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><strong class="it jp">注意:- </strong>先前创建的视图将自动添加到空白的统计数据中，并在下次刷新时更新</p><p id="bfea" class="iq ir is it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><strong class="it jp"><em class="hi">select * from mv _ stats；</em> </strong></p><p id="f167" class="iq ir is it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">作为输出，我们将获得各种参数，如mv_name、refresh_mv_last作为refresh_last、refresh_count、refresh_mv_time_last作为refresh_time_last、refresh_mv_time_total作为refresh_time_total、refresh_mv_time_min作为refresh_time_min、refresh_mv_time_max作为refresh_time_max、reset_last</p></blockquote><h2 id="e770" class="hg hh hi bd hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie bi translated">结论</h2><p id="e249" class="pw-post-body-paragraph iq ir hi it b iu kk iw ix iy kl ja jb hs km je jf hw kn ji jj ia ko jm jn jo hb bi translated"><em class="is">使用mv_stats扩展，可以提供一种简单的方法来收集和查询与创建、修改和刷新时间相关的实体化视图的统计信息，以便进行审计或性能分析。通过使用Postgres的扩展能力，它避免了从pg_stat_statements中搜索和匹配数据的过程。</em></p><p id="538c" class="pw-post-body-paragraph iq ir hi it b iu iv iw ix iy iz ja jb hs jd je jf hw jh ji jj ia jl jm jn jo hb bi translated">如果发现有用，请鼓掌🙂。</p></div></div>    
</body>
</html>