<html>
<head>
<title>How to Handle Outliers in Machine Learning</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何处理机器学习中的异常值</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/how-to-handle-outliers-in-machine-learning-5d8105c708e5?source=collection_archive---------5-----------------------#2021-04-03">https://medium.com/analytics-vidhya/how-to-handle-outliers-in-machine-learning-5d8105c708e5?source=collection_archive---------5-----------------------#2021-04-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/1e0bfb373ddd0a149e80379ca7905424.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gwCue_E8ATiaM5SWeJ7Rlg.png"/></div></div></figure><p id="93c8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi jo translated">大家好！！！！特征工程中最重要的阶段是处理异常值，因为它确保我们的模型基于准确的数据进行训练，从而产生准确的模型。</p><p id="acd3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">今天，我们将看看什么是离群值，它们的原因和后果，识别它们的各种方法，以及最后使用代码样本处理它们的各种方法。</p><p id="a1e5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">本文的代码示例和数据集可在<a class="ae jx" href="https://github.com/ashutoshsahu2015/How-to-Handle-Outliers" rel="noopener ugc nofollow" target="_blank">这里</a>获得。</p><h2 id="049e" class="jy jz hi bd ka kb kc kd ke kf kg kh ki jb kj kk kl jf km kn ko jj kp kq kr ks bi translated"><strong class="ak">什么是离群值</strong></h2><p id="4648" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">与其他结果差异很大的数据点称为异常值。</p><p id="33ed" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">异常值也可以被描述为我们的数据中与其他观察值相比不正确或异常的观察值。</p><p id="3a7e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">原因和后果</strong></p><p id="c364" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">异常值可能由测量不确定性或实验误差引起。</p><p id="19f5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">数据中的异常值会破坏和欺骗机器学习模型的训练过程，导致模型不太准确，最终表现不佳。</p><p id="c0e4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在我们知道了什么是离群值以及它们如何影响机器学习算法，让我们看看如何在我们的数据中检测它们。</p><p id="4eb8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">如何检测异常值</strong></p><p id="f9f3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">使用多种技术可以观察到数据中的异常值。在本文中，我们将研究最流行的方法，即可视化技术。</p><p id="02ab" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了找出异常值，我们可以简单地绘制箱线图。异常值是最小值和最大值之外的点，如下图所示。</p><figure class="kz la lb lc fd ij er es paragraph-image"><div class="er es ky"><img src="../Images/d730d8cc70c940fb2da7f73da9c635c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*SNAAr7HVCuRee8J4DToMLA.png"/></div><figcaption class="ld le et er es lf lg bd b be z dx translated">布洛图表示法</figcaption></figure><p id="539e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">如何测量异常值</strong></p><p id="7933" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一旦我们使用箱线图确定了数据中是否存在异常值，我们就可以测量异常值的边界。<br/>要测量异常值的边界，我们可以使用以下两种方法，这两种方法都基于数据分布。</p><p id="4bfd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> I)如果数据呈正态分布</strong></p><p id="a849" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果数据呈正态分布，我们可以使用正态分布的经验公式来确定异常值的边界。</p><p id="813e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">下限=平均值-3 *(标准偏差)</p><p id="8aac" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">上限=平均值+ 3 *(标准偏差)</p><figure class="kz la lb lc fd ij er es paragraph-image"><div class="er es ky"><img src="../Images/f2ac5d8a5411418ed9aa08135eb3092e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*VCNXu6pu_wawbCqpI2RwQw.png"/></div><figcaption class="ld le et er es lf lg bd b be z dx translated">标准偏差箱线图的正态分布</figcaption></figure><p id="ea2e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们看看下面的代码，找出数据集的异常值边界:</p><figure class="kz la lb lc fd ij"><div class="bz dy l di"><div class="lh li l"/></div></figure><p id="a047" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> II)数据是右偏还是左偏</strong></p><p id="15e7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果数据不符合正态分布或者是右偏或左偏的，我们将使用四分位间距来衡量异常值的界限。</p><p id="4ecc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">四分位距(IQR) = Q3(第75百分位)-Q1(第25百分位)</p><p id="a04a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">异常值边界的公式可以计算如下:</p><p id="4228" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">下限=第一个四分位数(Q1/第25个百分位数)——(1.5 * IQR)</p><p id="b519" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">上限=第三个四分位数(第三季度/第75个百分位数)+(1.5* IQR)</p><p id="4e75" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果异常值的最大值与上限相比非常高，将使用以下公式计算异常值的边界(也称为极端异常值):</p><p id="5490" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">下限=第一个四分位数(Q1/第25个百分位数)——(3 * IQR)</p><p id="1c51" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">上限=第三个四分位数(第三季度/第75个百分位数)+(3 * IQR)</p><p id="728b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们看看下面的代码，找出票价列的异常值边界:</p><figure class="kz la lb lc fd ij"><div class="bz dy l di"><div class="lh li l"/></div></figure><p id="6c26" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一旦我们为异常值定义了界限，就可以使用以下方法来处理异常值:</p><ol class=""><li id="cd70" class="lj lk hi is b it iu ix iy jb ll jf lm jj ln jn lo lp lq lr bi translated">删除观察</li><li id="f1e8" class="lj lk hi is b it ls ix lt jb lu jf lv jj lw jn lo lp lq lr bi translated">归罪</li></ol><p id="90a1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> 1。移除观察值</strong></p><p id="6d33" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们可以从数据中明确删除异常值观察条目，这样它们就不会影响我们模型的训练。然而，在处理小数据集时，消除观察值并不是一个好主意。</p><p id="188b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> 2。插补</strong></p><p id="3f8a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了估算异常值，我们可以使用各种估算值，确保没有数据丢失。<br/>作为估算值，我们可以在<strong class="is hj">平均值、中值、众数和边界值之间进行选择。</strong></p><figure class="kz la lb lc fd ij"><div class="bz dy l di"><div class="lh li l"/></div></figure><p id="3290" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">参考文献</strong></p><p id="e845" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae jx" href="https://towardsdatascience.com/understanding-boxplots-5e2df7bcbd51" rel="noopener" target="_blank">https://towards data science . com/understanding-box plots-5e 2 df 7 bcbd 51</a></p><p id="9299" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae jx" href="https://youtu.be/yoLpcelanpl" rel="noopener ugc nofollow" target="_blank">https://youtu.be/yoLpcelanpl</a></p><p id="a7c6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae jx" rel="noopener" href="/analytics-vidhya/how-to-remove-outliers-for-machine-learning-24620c4657e8">https://medium . com/analytics-vid hya/how-to-remove-outliers-for-machine-learning-24620 c 4657 E8</a></p><p id="3ea6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">恭喜</strong>学习了如何在对数据进行特征工程时处理异常值。</p><p id="b5ef" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">感谢你花时间阅读这篇文章。如果你喜欢这篇文章，点击👏按钮并与他人分享。你也可以在我的<a class="ae jx" href="https://ashutosh-sahu.medium.com/" rel="noopener">中</a>个人资料下查看其他有趣的文章。如果有任何问题，请在评论区留言，我会尽力回答。</p><p id="37a2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你可以在<a class="ae jx" href="https://www.linkedin.com/in/ashutoshsahu2015/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>、<a class="ae jx" href="https://www.facebook.com/ashutosh.sahu.9699" rel="noopener ugc nofollow" target="_blank">脸书</a>和<a class="ae jx" href="https://www.instagram.com/_ashutosh_sahu/" rel="noopener ugc nofollow" target="_blank"> Instagram </a>上和我联系。</p><p id="07ac" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">下次再见，朋友！！！！</p></div></div>    
</body>
</html>