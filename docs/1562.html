<html>
<head>
<title>Predicting Solar Generation Capacity for an NHS Hospital</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">预测NHS医院的太阳能发电能力</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/predicting-solar-generation-capacity-for-an-nhs-hospital-682919444666?source=collection_archive---------26-----------------------#2021-03-07">https://medium.com/analytics-vidhya/predicting-solar-generation-capacity-for-an-nhs-hospital-682919444666?source=collection_archive---------26-----------------------#2021-03-07</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="3994" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">自新冠肺炎疫情开始影响全球人民的生活，伤害几乎所有主要经济体(除了中国)以来，一年多过去了。每个国家都见证了他们的医疗工作者是多么重要，并开始欣赏他们所做的令人惊叹的工作，尽管他们不得不在非常困难的身体、经济和最重要的心理条件下工作。作为一名数据科学家，我决定通过分享专注于英国国家医疗服务系统(NHS)数据和/或利益的数据科学帖子来表达我的谢意。希望，这将是一系列的第一个。</p><p id="5747" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我将尝试回答的假设问题是:</p><p id="0a20" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> <em class="jc">“通过太阳能发电，英国国家医疗服务系统医院能变得更环保吗？”</em>T3】</strong></p><p id="ee12" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">一个地区、农场或建筑物的太阳能发电潜力取决于它接收的太阳辐照度。尽管英国可能有更多安装太阳能电池板的地方，但研究问题选择了伦敦的<strong class="ig hi"> <em class="jc">【切尔西和威斯敏斯特医院】</em> </strong>。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/efa4b11c8a8abc7d5f4c932c039d4c06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F1YSm3b1WabSSUy-mtVw9Q.png"/></div></div></figure><p id="e0ba" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">本研究将遵循以下4个步骤:</p><ol class=""><li id="1c4e" class="jp jq hh ig b ih ii il im ip jr it js ix jt jb ju jv jw jx bi translated"><strong class="ig hi">数据收集自</strong><a class="ae jy" href="https://www.renewables.ninja/about" rel="noopener ugc nofollow" target="_blank"><strong class="ig hi">renewables . ninja</strong></a><br/>如其网站所述，<em class="jc">“renewables . ninja允许你模拟位于世界任何地方的风力和太阳能发电厂的每小时输出功率！”</em> <br/>我们已经有了模拟的纬度和经度，如谷歌地图图片所示。</li><li id="72ea" class="jp jq hh ig b ih jz il ka ip kb it kc ix kd jb ju jv jw jx bi translated"><strong class="ig hi">最高性能参数选择</strong> <br/>将模拟不同的太阳能电池板角度组合，以优化太阳能发电容量系数</li><li id="6d19" class="jp jq hh ig b ih jz il ka ip kb it kc ix kd jb ju jv jw jx bi translated"><strong class="ig hi">太阳能发电量波动分析</strong> <br/>太阳能很大程度上取决于天气，它可能每小时都会波动，更不用说季节性了。将每小时/每天平均分析表现最佳的数据。</li><li id="2e98" class="jp jq hh ig b ih jz il ka ip kb it kc ix kd jb ju jv jw jx bi translated"><strong class="ig hi">结果外推<br/> </strong>屋顶表面上用于安装太阳能电池板的可用平方米面积将用于外推平均产能系数(CF ),以得出每年的MWh可再生能源产量。</li></ol><h1 id="4913" class="ke kf hh bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">开始了。</h1><p id="0820" class="pw-post-body-paragraph ie if hh ig b ih lc ij ik il ld in io ip le ir is it lf iv iw ix lg iz ja jb ha bi translated">但是首先，让我们导入我们需要的库！</p><pre class="je jf jg jh fd lh li lj lk aw ll bi"><span id="d4b9" class="lm kf hh li b fi ln lo l lp lq">import glob</span><span id="638c" class="lm kf hh li b fi lr lo l lp lq">from datetime import datetime, timedelta</span><span id="2066" class="lm kf hh li b fi lr lo l lp lq">import json<br/>import requests</span><span id="45bb" class="lm kf hh li b fi lr lo l lp lq">import pandas as pd<br/>import numpy as np</span><span id="4515" class="lm kf hh li b fi lr lo l lp lq">import seaborn as sns<br/>import matplotlib.pyplot as plt</span></pre><p id="3c2a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">1.<strong class="ig hi">通过API调用</strong> 从 <a class="ae jy" href="https://www.renewables.ninja/documentation/api/python-example" rel="noopener ugc nofollow" target="_blank"> <strong class="ig hi"> renewables.ninja收集数据</strong></a></p><p id="71ed" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">Ninja允许在用户创建配置文件后使用免费令牌调用API。由于还有API调用限制(每个令牌每分钟6次调用，每个令牌每小时50次调用)，如果需要发送大量请求，最好设计python函数来解决这个问题。一旦达到这个限制，让脚本休眠一段时间是一个有效的选择。然而，我创建了一个使用多个令牌的函数</p><pre class="je jf jg jh fd lh li lj lk aw ll bi"><span id="7e3d" class="lm kf hh li b fi ln lo l lp lq">LIST_OF_TOKENS = [<br/>         'INSERT_YOUR_TOKEN_HERE_1',<br/>         'INSERT_YOUR_TOKEN_HERE_2',<br/>         ...,<br/>         ...,<br/>         'INSERT_YOUR_TOKEN_HERE_N'<br/>         ]</span></pre><p id="fe92" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">和while循环来加速运行时间，如下所示:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ls lt l"/></div></figure><p id="7066" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">既然我们定义了这个函数，现在我们需要为我们的太阳能电池板尝试不同的角度组合，以计算容量系数并选择最佳的一个。我决定以10%的增量尝试每一个可能的角度。为了得到更精确的结果，可以用1的增量来改变列表(但这可能会延迟运行时间)。此外，我想设置系统损耗为0%。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ls lt l"/></div></figure><p id="f7a0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">2.<strong class="ig hi">最高性能参数选择</strong></p><p id="50d3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在我们收集了数据并根据570种不同的组合将其保存为CSV文件后，</p><pre class="je jf jg jh fd lh li lj lk aw ll bi"><span id="40ba" class="lm kf hh li b fi ln lo l lp lq">len(TRACKING_OPTIONS_LIST) * len(TILT_DEGREE_OPTIONS_LIST) * len(AZIMUTH_DEGREE_OPTIONS_LIST) = 570</span></pre><p id="51bd" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们需要阅读它们并比较它们的年平均容量系数。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ls lt l"/></div></figure><p id="6795" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="jc">免责声明:我在ninja.renewables上找不到关于跟踪设置在0、1和2之间差异的足够解释。然而，由于跟踪1和2的CF在不同角度没有显著变化，我决定忽略它们，只在跟踪设置为0时向前移动(顶部的热图)。</em></p><p id="008f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">优化结果</strong>:切尔西和威斯敏斯特医院在40°倾斜和170–180°方位角时观察到最高CF (14.29%)。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lu"><img src="../Images/06f354c57f7c1107884f1adc43c6c563.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GGDHFNdLYKKUn5r_9IvvIA.png"/></div></div></figure><p id="e708" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">3.<strong class="ig hi">太阳能发电容量因数波动分析</strong></p><p id="a0d5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">正如帖子开头提到的，太阳能发电取决于太阳辐照度。根据定义，太阳能电池板可以在白天发电。尽管在春天和夏天的一些非常明亮、阳光充足的时间里，CF达到80%以上，但24小时的日平均水平充其量只能低于30%。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lv"><img src="../Images/fc1bd96e80bb74af4915537ccc7830c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4FSarxzu3BFuh8UQbqkl9w.png"/></div></div></figure><p id="b021" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">下面的热图显示了基于24小时和白天光照时间的平均CF。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lw"><img src="../Images/fb36b164062ba5007d432482d4c8f387.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QxgZMicOsswcu1IPsEbg0w.png"/></div></div></figure><p id="dc13" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这就是为什么我们全年的平均容量系数较低(14.29%)，尽管一天中有一些高峰时段，一年中有一些高峰日。</p><p id="4f1b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">4.<strong class="ig hi">结果外推</strong></p><p id="1516" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">a)根据2017/18年<a class="ae jy" href="https://digital.nhs.uk/data-and-information/publications/statistical/estates-returns-information-collection/summary-page-and-dataset-for-eric-2017-18" rel="noopener ugc nofollow" target="_blank">地产回报信息收集(ERIC) </a>中包含的能源消耗数据，切尔西和威斯敏斯特医院一年消耗了14，013 MWh电力。</p><p id="88bc" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">b)根据谷歌地图的测量距离功能，从鸟瞰角度看，医院的屋顶面积约为155米x 90m米= 13 950米。</p><p id="cdd5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">c)如下图所示，几乎50%的表面区域(7000平方米)由玻璃屋顶构成，以允许自然光进入医院，换句话说，不能用于安装太阳能电池板。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lx"><img src="../Images/4e0162699bad328714bc5f5fea4a3956.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OiiRmH0-LbnPTW88m7i8Zg.jpeg"/></div></div><figcaption class="ly lz et er es ma mb bd b be z dx translated">来源:<a class="ae jy" href="https://www.mclh.co.uk/our-projects/chelsea-and-westminster-hospital-nicu-and-icu-expansion-london/" rel="noopener ugc nofollow" target="_blank">https://www . mclh . co . uk/our-projects/Chelsea-and-Westminster-hospital-NICU-and-ICU-expansion-London/</a></figcaption></figure><p id="02bf" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">d) 2kW太阳能电池板占地约14m ( <a class="ae jy" href="https://www.renewableenergyhub.co.uk/main/solar-panels/how-to-calculate-solar-panel-size-needed/#:~:text=Solar%20Panel%20Size%20Per%20kWH&amp;text=This%20means%20that%20is%20you,kwh%20of%20electricity%20per%20year." rel="noopener ugc nofollow" target="_blank"> 150平方英尺</a>)。</p><p id="9774" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">在一个没有约束和限制的假想世界里</strong>，我们可以在这家医院的屋顶上安装500块2kW的太阳能电池板，总发电量为1 MW。</p><p id="7647" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">1mw * 24小时* 365天* 14.29% CF = c .一年太阳能发电量1,252 MWh。</p><p id="91c8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这相当于医院用电量的8.93%。</p><h1 id="f475" class="ke kf hh bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated"><strong class="ak">结论</strong></h1><p id="840d" class="pw-post-body-paragraph ie if hh ig b ih lc ij ik il ld in io ip le ir is it lf iv iw ix lg iz ja jb ha bi translated">在这篇文章中，我想回答下面这个假设性的问题:<strong class="ig hi"> <em class="jc">“通过太阳能发电，一家NHS医院可以变得更加环保吗？”</em>T11】</strong></p><p id="14e8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">尽管在计算一个选定区域的太阳能发电能力时，人们可以想到无限数量的参数，但这些参数被尽量保持在最低水平，以避免过于关注细节。</p><p id="81e9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">引入了一个伟大的可再生能源数据提供商。运行了数百次模拟来获取最佳性能参数。研究了太阳能发电容量因子的波动。</p><p id="2a7b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">年平均容量系数用于推断切尔西和威斯敏斯特医院年耗电量的8.93%可以来自安装在其屋顶的太阳能发电板(一些粗略的假设适用)。</p><p id="dd0e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">最后，这篇文章的出发点是向世界上的每一位卫生保健工作者表示感谢。他们永远值得更好的！</p></div></div>    
</body>
</html>