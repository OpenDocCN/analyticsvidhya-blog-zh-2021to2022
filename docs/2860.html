<html>
<head>
<title>Running Spark, Jupyter Notebook on Amazon EC2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在亚马逊EC2上运行Spark、Jupyter笔记本</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/running-spark-jupyter-notebook-on-amazon-ec2-c6b5efe0a4e9?source=collection_archive---------3-----------------------#2021-05-21">https://medium.com/analytics-vidhya/running-spark-jupyter-notebook-on-amazon-ec2-c6b5efe0a4e9?source=collection_archive---------3-----------------------#2021-05-21</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="ab1e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">人们经常面临使用Amazon Web Services创建Amazon EC2实例并将其用于数据科学领域的困难。<br/>本文将一步步讲述如何在亚马逊EC2上安装Spark并运行Jupyter Notebook。</p><ol class=""><li id="ad6b" class="jc jd hh ig b ih ii il im ip je it jf ix jg jb jh ji jj jk bi translated"><strong class="ig hi">创建亚马逊EC2实例</strong></li></ol><div class="jl jm jn jo fd ab cb"><figure class="jp jq jr js jt ju jv paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><img src="../Images/203797eaa38767456e788fc857609b64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1134/format:webp/1*EElQ9I5oF2xtaQ02RqiELQ.png"/></div></figure><figure class="jp jq kc js jt ju jv paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><img src="../Images/35716c220ca936295bfefb25842db018.png" data-original-src="https://miro.medium.com/v2/resize:fit:868/format:webp/1*6KjlNR3k6aJyI1VDzUrE-Q.png"/></div><figcaption class="kd ke et er es kf kg bd b be z dx kh di ki kj translated">AWS屏幕截图(步骤1、2)(默认配置)</figcaption></figure></div><div class="ab cb"><figure class="jp jq kk js jt ju jv paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><img src="../Images/38aba9fa31bf90ed55329da01f12b088.png" data-original-src="https://miro.medium.com/v2/resize:fit:1008/format:webp/1*fH1oRo_rwmEP8h4BghWAUw.png"/></div></figure><figure class="jp jq kl js jt ju jv paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><img src="../Images/91e73575138a9c39a3515d983116c8b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:994/format:webp/1*x1wdE2eUVAsK7SqwBlsPWg.png"/></div><figcaption class="kd ke et er es kf kg bd b be z dx km di kn kj translated">AWS屏幕截图(步骤3、4)(默认配置)</figcaption></figure></div><p id="3ac2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在步骤5中，我们需要添加一个标签。标签使我们能够对AWS资源进行不同的分类，例如，根据目的、所有者等。当我们有许多相同类型的资源时，添加标签是很有用的，然后我们可以根据我们分配的标签快速识别特定的资源。</p><p id="3feb" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们可以在标签中提供任何键和值。在这里，我给出了Key = " <em class="ko"> spark </em>和value = " <em class="ko"> sparkmachine </em>。</p><figure class="jl jm jn jo fd jq er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es kp"><img src="../Images/ac002981d7b145b0d15039cfb00ef89c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hGnbLU8C4NhFmUUvtkKBmw.png"/></div></div><figcaption class="kd ke et er es kf kg bd b be z dx translated">AWS屏幕截图(步骤5)(添加标签)</figcaption></figure><p id="6d51" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在步骤6中，我们需要配置安全组。<br/>我们可以将此安全类型更改为“<em class="ko">所有流量</em>”，使我们能够允许来自TCP、SSH、UDP等所有协议的所有流量。<br/>它的安全性很低，但是因为我们只使用这个实例，所以它完全没问题！</p><figure class="jl jm jn jo fd jq er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es kp"><img src="../Images/f14ea81ede8f8f1fbb3b8aafa946cd42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sujHGoCqZVt6CroGUNj1sw.png"/></div></div></figure><figure class="jl jm jn jo fd jq er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es kq"><img src="../Images/ef6988f7a4d58db91f41a733722ab163.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3_FxWfQZa57QviSqWvOQPA.png"/></div></div><figcaption class="kd ke et er es kf kg bd b be z dx translated">AWS屏幕截图(步骤7)(查看实例启动)</figcaption></figure><p id="1456" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">只要我们单击launch，就会有一个对话框告诉我们创建一个密钥对。点击下拉菜单，选择“<em class="ko">创建新的密钥对</em>，并提供密钥对名称，点击“<em class="ko">下载密钥对</em>”。<br/>答<em class="ko">。pem </em>"扩展文件将被下载。我们需要安全地保存它，因为这个密钥对文件将用于身份验证，然后使用SSH帮助连接到Amazon EC2实例。</p><p id="2dd7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">点击“<em class="ko">启动实例</em>”，实例将被创建。</p><figure class="jl jm jn jo fd jq er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es kr"><img src="../Images/22660dba89156ff7d4aaeb0ed59c256a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eIuwF3ps0BA3X-LKJzZH-Q.png"/></div></div></figure><p id="9bd2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在这里，我们可以看到有一个实例正在运行。单击它可以获得公共IP、公共DNS以及关于我们创建的Amazon EC2实例的更多详细信息。</p><div class="jl jm jn jo fd ab cb"><figure class="jp jq ks js jt ju jv paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><img src="../Images/b6a3a4550cab325f27b1a2b23e424fc6.png" data-original-src="https://miro.medium.com/v2/resize:fit:982/format:webp/1*PdVmJ8HZwzUeaVyzH_w32w.png"/></div></figure><figure class="jp jq kt js jt ju jv paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><img src="../Images/c8bc9ca623cb1ebd261626148a48098a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1020/format:webp/1*cl3yMVFA16Y-pMJKcoZCCA.png"/></div></figure></div><p id="9cd2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">因此，我们已经成功地创建了Amazon EC2实例！</p><p id="3835" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">2.<strong class="ig hi">使用SSH连接到Amazon EC2</strong></p><p id="08ad" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在windows中，我们需要下载并安装<a class="ae ku" href="https://www.putty.org/" rel="noopener ugc nofollow" target="_blank"> Putty </a>软件来建立与Unix机器的SSH连接。</p><p id="7db1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> Putty </strong>需要一个扩展名为“<em class="ko">的私钥。ppk </em>"但是从亚马逊EC2实例，我们下载了"<em class="ko">。pem </em>扩展文件。要转换成Putty所需的格式，我们将使用预装Putty的<strong class="ig hi"> Puttygen </strong>软件来完成。</p><p id="d6f8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">要执行转换，加载“<em class="ko">”。pem </em>"创建EC2实例时下载的扩展文件。该文件将被加载到Putty Key Generator中，点击“<em class="ko">保存私有ke </em> y”选项，该文件将被保存在“<em class="ko">中。ppk </em>扩展名。</p><figure class="jl jm jn jo fd jq er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es kv"><img src="../Images/0876ef833028314e5fc3a9df57322870.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cSWlf_cVoLe2pZJq6dWhhg.png"/></div></div></figure><p id="1e3c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在打开Putty，让我们连接到Amazon EC2实例。</p><p id="67f5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在“<em class="ko">会话</em>选项下的“<em class="ko">主机名(或IP地址)</em>”文本框中，传递值为<strong class="ig hi"> ubuntu@【公共DNS】</strong>。<br/>这里的“<em class="ko"> ubuntu </em>”是Amazon EC2实例的默认用户名，后跟@然后从我们正在运行的Amazon EC2实例复制公共DNS并粘贴到这里。</p><p id="f67a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">接下来，转到左侧窗格中的“<em class="ko"> SSH </em>”选项，并为“<em class="ko"> Auth </em>”选项打开它。Auth选项需要一个私钥进行身份验证。单击browse并搜索Putty生成的私钥文件(。ppk ),我们刚刚使用Putty密钥生成器转换了它。</p><p id="d3ac" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">最后，单击Open，它将开始连接到Amazon EC2实例。会出现一个对话框，点击“<em class="ko">接受</em>，我们就会连接到Amazon EC2实例。</p><div class="jl jm jn jo fd ab cb"><figure class="jp jq kw js jt ju jv paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><img src="../Images/37c7ee31965f38165beeb166e348e329.png" data-original-src="https://miro.medium.com/v2/resize:fit:1004/format:webp/1*7jt83_aGvAeS5YSCoBgoIQ.png"/></div></figure><figure class="jp jq kx js jt ju jv paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><img src="../Images/2fce402430b68618f54244184a183939.png" data-original-src="https://miro.medium.com/v2/resize:fit:998/format:webp/1*SIYDrdx_IKr5uBvTTNoDRg.png"/></div></figure></div><div class="ab cb"><figure class="jp jq ky js jt ju jv paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><img src="../Images/6d159ca6cd6126f28cd5ebbf1a031ad0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1244/format:webp/1*OnBuLAWDEltsOWuOAUYh_g.png"/></div></figure><figure class="jp jq kz js jt ju jv paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><img src="../Images/e01528af174b3ff50c4fe43ca596a5d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:758/format:webp/1*QMh24v2Qo5HRtXoR2Cfp-w.png"/></div><figcaption class="kd ke et er es kf kg bd b be z dx la di lb kj translated">Putty截图</figcaption></figure></div><p id="ab3b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">3.<strong class="ig hi">设置Amazon EC2运行Jupyter Notebook </strong></p><p id="44e4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">要运行jupyter笔记本，我们首先需要在EC2机器上安装Anaconda平台。我们可以从他们的<a class="ae ku" href="https://repo.anaconda.com/archive/" rel="noopener ugc nofollow" target="_blank">库</a>下载Anaconda。</p><p id="a2ec" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">要在Linux上下载该文件，使用"<em class="ko"> wget </em>"命令，然后传递我们想要下载的Anaconda存储库文件的链接。</p><figure class="jl jm jn jo fd jq er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es lc"><img src="../Images/5de300ac4e9b9458fb303215d3295850.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1CKxnKawrgBoH-d-EDjFHw.png"/></div></div></figure><figure class="jl jm jn jo fd jq er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es ld"><img src="../Images/f7a786852df715f69fcc73e553cda100.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vRXFRvcr1pjX3CEO6BxYuQ.png"/></div></div></figure><p id="c86c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">要安装Anaconda，使用“<em class="ko"> bash </em>”命令，后跟文件名。按enter，安装过程会在需要再次按继续的地方开始，然后会打开一个协议；按回车键直到协议结束。键入“<em class="ko"> yes </em>接受协议，并再次按enter键确认在默认位置安装Anaconda的位置。</p><p id="be74" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在这整个过程之后，Anaconda平台将被安装。</p><figure class="jl jm jn jo fd jq er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es le"><img src="../Images/7164f7e5d337b6c98ee1f06f8631e61a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-8uvKphjCC9GE7W5aVJrqw.png"/></div></div></figure><figure class="jl jm jn jo fd jq er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es lf"><img src="../Images/099f42b12280dff224b0366ddf9eac0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YFGnCrsJpBnKRfT4FjSArQ.png"/></div></div></figure><figure class="jl jm jn jo fd jq er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es lg"><img src="../Images/aa3c5dc70f5aa9e879100bc0d26baa0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fUZ6fy-Ag7mP0IIb9LyZRw.png"/></div></div></figure><figure class="jl jm jn jo fd jq er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es lh"><img src="../Images/4bab38f43db46a7a1861e02242c189e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3_g3sUrN1BElXdcyHiPwSg.png"/></div></div></figure><p id="7e16" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在我们需要运行Python或Anaconda软件，而不是预装的ubuntu OS。为此，请键入"<em class="ko"> source。bashrc </em>，它将告诉Python从Anaconda工作。<br/>我们可以使用“<em class="ko">哪个python </em>”命令来检查它，让我们知道系统正在使用哪个python。</p><figure class="jl jm jn jo fd jq er es paragraph-image"><div class="er es li"><img src="../Images/ff99d8b31a2b3487b9a19ed1978388b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1370/format:webp/1*6ydRscs7OnTSx0Ia0Q32yA.png"/></div></figure><p id="f448" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在我们需要为我们的连接创建SSL证书。为此，创建一个任意名称的目录。在这里，我取得了<em class="ko">证书</em>，然后将目录更改为新创建的目录。<br/>使用下面的命令，将创建一个SSL证书，该证书的名称为“<em class="ko"> cert.pem </em>”。如果需要，我们可以更改证书名称。</p><figure class="jl jm jn jo fd jq er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es lj"><img src="../Images/b8a1847407f0dc5ad85cf07b4c80d36b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SRz_2GhQ0nhIuqZVVCqubw.png"/></div></div></figure><p id="4d34" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在此之后，我们将把证书的权限(所有者)更改为与我们合作的用户，以避免权限问题。</p><figure class="jl jm jn jo fd jq er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es lk"><img src="../Images/ce5d01948a5d4db157310024e3d6475e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R_k_iLzZzrWYIH9hn2_VOg.png"/></div></div></figure><p id="42f5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">接下来，我们需要创建<strong class="ig hi"> Jupyter笔记本配置文件</strong>。我们将使用nano文本编辑器编辑它，对Jupyter笔记本配置文件进行一些更改，以便直接从全球任何web浏览器运行。</p><figure class="jl jm jn jo fd jq er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es lf"><img src="../Images/c4eaa014f8c563f5b91186b47bce7e1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*--uEI7tk94E34QAT_ddTrw.png"/></div></div></figure><figure class="jl jm jn jo fd jq er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es ll"><img src="../Images/6eb91b58f978523075340f4130e065c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LZpAK7ezQK8KrnSBzsWTNw.png"/></div></div></figure><p id="cb31" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">仅在开始时传递Jupyter笔记本配置文件中的以下行。</p><p id="514b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> c=get_config() — </strong>帮助我们为配置创建一个对象。</p><p id="7d63" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">c = notebook app . certfile = u '/home/Ubuntu/certs/cert . PEM '</strong>—这里我们传递SSL证书。它将证书路径作为参数的值。</p><p id="e55c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> c = NotebookApp.ip = '*' </strong> —它以*为ip，意思是我们可以使用任何IP地址访问笔记本</p><p id="f0c3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">c . Notebook app . open _ browser = False</strong>—它告诉Jupyter notebook在运行Jupyter Notebook命令后不要打开浏览器。我们将在本地机器上打开它，而不是在AWS EC2机器上。</p><p id="d1c9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">c . Notebook app . port = 8888—Jupyter笔记本将在8888端口上运行</p><figure class="jl jm jn jo fd jq er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es lm"><img src="../Images/da19eabb338266da86576a4bcdd592c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZGdMsCYEMTbQaOoxEZFXYQ.png"/></div></div></figure><p id="6151" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">保存并退出文件。现在我们可以运行朱庇特笔记本了。<br/>为此，在终端中键入“<em class="ko"> jupyter notebook </em>”，jupyter notebook将开始运行。</p><figure class="jl jm jn jo fd jq er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es ln"><img src="../Images/13a33b019cb29e5c2852d196cd035b4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rYOTcdZj14Dgu2iMQbUmng.png"/></div></div></figure><p id="bdb7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">复制IP地址和令牌，并将其粘贴到本地机器的web浏览器中。</p><p id="e0f6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">不要用<a class="ae ku" href="https://[ip]:8888" rel="noopener ugc nofollow" target="_blank"><strong class="ig hi">https://【ip】:8888</strong></a>，把这个【IP】改成我们从亚马逊EC2机器上得到的公共DNS。</p><p id="0b32" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">按回车键，Jupyter笔记本就会打开。</p><figure class="jl jm jn jo fd jq er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es lo"><img src="../Images/0b225a3d7674b8d9a8dc91bf57259026.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0ImdlChOI1OYizTrchKfVA.png"/></div></div></figure><p id="2b33" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">祝贺您，我们已经成功地开始直接从我们的亚马逊EC2机器上运行Jupyter笔记本！</p><p id="76de" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> 4。设置Amazon EC2运行Spark </strong></p><p id="58e3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在我们开始之前，让我们用新的软件包来更新我们的软件包列表。要做到这一点，运行“<em class="ko"> sudo apt update </em>”，它会让我们的操作系统用ubuntu库的包列表更新它的包列表</p><figure class="jl jm jn jo fd jq er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es lp"><img src="../Images/0d44f306cb3d7c38f691fc65b8b36fbf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dI78BTKW6aHBT3KXO6T3zQ.png"/></div></div></figure><p id="412e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">我们知道Spark运行在Scala上，Scala运行在Java之上。</strong></p><p id="8750" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">所以首先，我们将安装<strong class="ig hi"> Java </strong>，然后使用下面的命令安装<strong class="ig hi"> Scala </strong>。</p><figure class="jl jm jn jo fd jq er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es lq"><img src="../Images/ab0d354042b93d9e4a08aa524e2e4421.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4eJ-AM-dVGr00pYedhMkzA.png"/></div></div><figcaption class="kd ke et er es kf kg bd b be z dx translated">Java语言（一种计算机语言，尤用于创建网站）</figcaption></figure><figure class="jl jm jn jo fd jq er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es lr"><img src="../Images/ca5d37ebe80ffab3f71ba74663742b67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eaYhV-pGMAVM3v86gXQHfA.png"/></div></div><figcaption class="kd ke et er es kf kg bd b be z dx translated">斯卡拉</figcaption></figure><p id="00d9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在我们将安装<strong class="ig hi"> py4j </strong>，它有助于将Python连接到Java。但是在那之前，我们需要告诉pip为Anaconda工作，而不是默认的ubuntu。为了做到这一点，我们需要设置到Anaconda的路径，然后使用conda安装pip。</p><figure class="jl jm jn jo fd jq er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es ls"><img src="../Images/1ff9331ba311c7b0683facde300989e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EFUdDosv6OX5iyPfloRF7Q.png"/></div></div></figure><figure class="jl jm jn jo fd jq er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es lt"><img src="../Images/fdcfbb11d39dff06900f6248d5a4e6ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C16KHbDpuL-YBiPEXIqdlw.png"/></div></div></figure><figure class="jl jm jn jo fd jq er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es lu"><img src="../Images/d277773866feabe6b64a9778d4385909.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IHk_lawb3TT2VjfKfQc4Vw.png"/></div></div><figcaption class="kd ke et er es kf kg bd b be z dx translated">安装py4j</figcaption></figure><p id="6f17" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在所有需要的东西都安装好了，我们将从他们的存储库中下载Spark并安装它。我们可以从他们的官方<a class="ae ku" href="https://archive.apache.org/dist/spark/" rel="noopener ugc nofollow" target="_blank">库</a>下载Spark。</p><p id="01ce" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">根据需要选择版本。在这里我安装的是最新版本，<strong class="ig hi"> Spark 3.1.1 </strong>(文章发表时间)，带<strong class="ig hi"> Hadoop版本3.2 </strong></p><p id="26cf" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">使用“<em class="ko"> wget </em>”命令下载文件，命令后接资源库的链接。</p><figure class="jl jm jn jo fd jq er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es lo"><img src="../Images/34f49c0a41397ddba5472c8350e813b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hBp7HK4_7zgnF9I-zTmVEA.png"/></div></div></figure><p id="7c84" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">使用下面截图中给出的tar命令提取压缩文件。Spark目录将被提取并准备好使用。</p><figure class="jl jm jn jo fd jq er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es lv"><img src="../Images/125710d666522c4acc9d5948db683274.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7qrGSr5Ldr4RNdsHYctB4A.png"/></div></div></figure><p id="0cc6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">除了这些包，我们还将使用pip安装<strong class="ig hi"> findspark </strong>包。<br/> <strong class="ig hi"> Findspark </strong>免去了为spark在Jupyter笔记本上运行创建环境变量的麻烦</p><figure class="jl jm jn jo fd jq er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es lw"><img src="../Images/a1286572bdf148055e1f6156a35d1077.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R2s0FiEc1IToaC0ouOzn1Q.png"/></div></div></figure><p id="1b9f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在我们准备在Amazon EC2中使用Spark。</p><p id="ab95" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">要运行spark，首先导入Findspark并用提取的Spark目录的路径初始化它。<br/>之后，我们只需要<strong class="ig hi">导入Pyspark </strong>，恭喜你，我们已经在我们的亚马逊EC2机器上成功运行spark了。</p><figure class="jl jm jn jo fd jq er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es lx"><img src="../Images/582b7d1d83c09c91f04626a531e37c69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TKugh-WFKrvb8XjlaJ7T0Q.png"/></div></div></figure><p id="335c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们在帖子的最后来了，我希望你明白如何在亚马逊EC2上安装Spark和运行Jupyter Notebook。</p><p id="9709" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">快乐学习！</p></div></div>    
</body>
</html>