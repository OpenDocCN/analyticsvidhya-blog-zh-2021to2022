<html>
<head>
<title>How to build a Chatbot</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何构建聊天机器人</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/how-to-build-a-chatbot-d20704f7dbb6?source=collection_archive---------15-----------------------#2021-06-30">https://medium.com/analytics-vidhya/how-to-build-a-chatbot-d20704f7dbb6?source=collection_archive---------15-----------------------#2021-06-30</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/857094827eb79072029da5d45d5e4dad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*M057RrQ304dW3zSo.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">来源:<a class="ae it" href="https://www.fingent.com/blog/capitalizing-on-ai-chatbots-will-redefine-your-business-heres-how/" rel="noopener ugc nofollow" target="_blank">https://www . fin gent . com/blog/capitalizing-on-ai-chatbots-will-redefine-your-business-heres-how/</a></figcaption></figure><p id="3cff" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在当今世界，聊天机器人已经成为每个主要行业的一部分。主要应用包括零售和电子商务、旅游和酒店、银行、金融、医疗保健、媒体和娱乐。例如，客服聊天机器人有助于消除大部分重复和冗余的工作。</p><h2 id="9971" class="js jt hh bd ju jv jw jx jy jz ka kb kc jf kd ke kf jj kg kh ki jn kj kk kl km bi translated">我们正在为银行客户服务设计一个聊天机器人。</h2><h2 id="db1d" class="js jt hh bd ju jv jw jx jy jz ka kb kc jf kd ke kf jj kg kh ki jn kj kk kl km bi translated">目录:</h2><ol class=""><li id="dc95" class="kn ko hh iw b ix kp jb kq jf kr jj ks jn kt jr ku kv kw kx bi translated">设计</li><li id="61a3" class="kn ko hh iw b ix ky jb kz jf la jj lb jn lc jr ku kv kw kx bi translated">意图分类</li><li id="4e30" class="kn ko hh iw b ix ky jb kz jf la jj lb jn lc jr ku kv kw kx bi translated">实体提取</li><li id="b8ec" class="kn ko hh iw b ix ky jb kz jf la jj lb jn lc jr ku kv kw kx bi translated">行动</li><li id="a214" class="kn ko hh iw b ix ky jb kz jf la jj lb jn lc jr ku kv kw kx bi translated">对话上下文跟踪</li><li id="5e47" class="kn ko hh iw b ix ky jb kz jf la jj lb jn lc jr ku kv kw kx bi translated">问答和历史聊天</li></ol></div><div class="ab cl ld le go lf" role="separator"><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li"/></div><div class="ha hb hc hd he"><figure class="ll lm ln lo fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lk"><img src="../Images/e0e16b7d46d25a5f8216ff3416ce9a8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KjFoTuBt7pqRycaDbHBJBg.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated"><strong class="bd ju">参考</strong>:【https://www.youtube.com/watch?v=ImzRs8eORsM】T4&amp;t = 4s</figcaption></figure><h1 id="78a2" class="lp jt hh bd ju lq lr ls jy lt lu lv kc lw lx ly kf lz ma mb ki mc md me kl mf bi translated">1.设计</h1><h2 id="6d83" class="js jt hh bd ju jv jw jx jy jz ka kb kc jf kd ke kf jj kg kh ki jn kj kk kl km bi translated">什么是聊天机器人？</h2><p id="28c0" class="pw-post-body-paragraph iu iv hh iw b ix kp iz ja jb kq jd je jf mg jh ji jj mh jl jm jn mi jp jq jr ha bi translated">聊天机器人是一种每当用户提问时都会提供答案的机器。为了做到这一点，聊天机器人首先需要理解问题的含义或语义。在这里，我们将使用两种广泛使用的技术来实现这一点，这两种技术称为意图分类和实体提取。</p><p id="8e95" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">一旦我们理解了问题的含义，那么我们需要执行某些操作来为用户生成正确的答案。在这个银行客户服务示例中，如果用户询问账户余额，那么通过执行一个简单的SQL查询，机器人可以生成答案。如果用户询问一些像住房利率这样的一般信息，那么在银行的FAQ(问答对)的帮助下，机器人可以生成答案。生成答案的另一种方法是参考历史聊天记录。</p><h1 id="7db1" class="lp jt hh bd ju lq lr ls jy lt lu lv kc lw lx ly kf lz ma mb ki mc md me kl mf bi translated">2.意图分类</h1><p id="d9e6" class="pw-post-body-paragraph iu iv hh iw b ix kp iz ja jb kq jd je jf mg jh ji jj mh jl jm jn mi jp jq jr ha bi translated">这里，给定一个来自用户的查询或问题，我们需要确定问题背后的意图。客户会问的典型问题如下。</p><ol class=""><li id="7220" class="kn ko hh iw b ix iy jb jc jf mj jj mk jn ml jr ku kv kw kx bi translated">我需要做什么来更改我的个人识别码？</li><li id="fd75" class="kn ko hh iw b ix ky jb kz jf la jj lb jn lc jr ku kv kw kx bi translated">如何激活刚到的卡？</li><li id="ca5b" class="kn ko hh iw b ix ky jb kz jf la jj lb jn lc jr ku kv kw kx bi translated">Google Pay可以用来充值吗，请帮忙？</li><li id="845e" class="kn ko hh iw b ix ky jb kz jf la jj lb jn lc jr ku kv kw kx bi translated">我可以用哪个自动取款机取款？</li><li id="ac34" class="kn ko hh iw b ix ky jb kz jf la jj lb jn lc jr ku kv kw kx bi translated">为什么我的最后一笔支票存款花了这么长时间？</li></ol><p id="e14e" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">根据客户提出的问题，我们必须创建多个意图，然后我们需要分类该问题属于哪个意图。使用多类分类可以很容易地解决这个问题。我们可以创建如下的意图。</p><pre class="ll lm ln lo fd mm mn mo mp aw mq bi"><span id="19cd" class="js jt hh mn b fi mr ms l mt mu">C1 : card_arrival<br/>C2 : card_linking<br/>C3 : exchange_rate<br/>C4 : card_payment_wrong_exchange_rate<br/>C5 : extra_charge_on_statement</span></pre><h2 id="07d9" class="js jt hh bd ju jv jw jx jy jz ka kb kc jf kd ke kf jj kg kh ki jn kj kk kl km bi translated">使用BERT进行意图分类</h2><p id="c6de" class="pw-post-body-paragraph iu iv hh iw b ix kp iz ja jb kq jd je jf mg jh ji jj mh jl jm jn mi jp jq jr ha bi translated">来自转换器的BERT-双向编码器表示是基于转换器的模型。如果我们有大量的训练数据，那么我们可以使用BERT模型来执行意图分类。但在现实世界中，我们通常只有很少的训练数据，比如每个意图10到15个句子。在这种情况下，最好使用少量镜头学习。(暹罗网)。在我们的银行数据集中，每个意向都有大量的训练数据，因此我们将使用BERT模型。</p><p id="b9ce" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">数据预处理:</strong>这是第一阶段。在这个阶段，我们首先需要删除重复项、空值、http标签、特殊字符等。清理完数据后，我们需要将文本转换成向量。为此，我们首先将句子标记化为标记，然后将其转换为标记id。</p><figure class="ll lm ln lo fd ii"><div class="bz dy l di"><div class="mv mw l"/></div></figure><pre class="ll lm ln lo fd mm mn mo mp aw mq bi"><span id="b437" class="js jt hh mn b fi mr ms l mt mu">Output: ['please', 'help', 'me', 'with', 'my', 'card', '.', 'it', 'won', "'", 't', 'activate']</span></pre><figure class="ll lm ln lo fd ii"><div class="bz dy l di"><div class="mv mw l"/></div></figure><pre class="ll lm ln lo fd mm mn mo mp aw mq bi"><span id="94c5" class="js jt hh mn b fi mr ms l mt mu">Output:[3531, 2393, 2033, 2007, 2026, 4003, 1012, 2009, 2180, 1005, 1056, 20544]</span></pre><p id="e89e" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">对于银行数据集，我们将使用BERT模型进行意向分类。我们已经从拥抱脸导入了banking77数据集。数据集总共有13，083条记录。(训练数据:10003，测试数据:3080)我们有77个标签或意向。</p><figure class="ll lm ln lo fd ii"><div class="bz dy l di"><div class="mv mw l"/></div></figure><p id="72c4" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">输出</strong>:显示前5条记录</p><figure class="ll lm ln lo fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mx"><img src="../Images/a399c50c1bc883c90c428dc9f7134c53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sekzFDyddkre6VwPiDklJw.png"/></div></div></figure><p id="da7c" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在预处理阶段完成后，我们将把输入的训练数据传递给意图分类模型。在最后阶段，我们将使用多类分类来对句子的意图进行分类。</p><h1 id="5e50" class="lp jt hh bd ju lq lr ls jy lt lu lv kc lw lx ly kf lz ma mb ki mc md me kl mf bi translated">3.实体提取</h1><p id="5be5" class="pw-post-body-paragraph iu iv hh iw b ix kp iz ja jb kq jd je jf mg jh ji jj mh jl jm jn mi jp jq jr ha bi translated">为了获得问题背后的含义，实体提取和意图分类起着重要作用。</p><p id="1f7b" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">举例</strong>:信用卡的最高限额是多少？</p><p id="8460" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在上面的例子中，使用意图分类我们可以找到上面问题的意图。(ie)意向-信用卡。我们知道这个问题与信用卡有关，但是我们不知道用户想要什么确切的信息。为了解决这个问题，我们使用了一种叫做实体提取的技术。</p><p id="afd7" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">实体抽取或命名实体识别帮助我们找到问题中的实体，进而帮助我们理解问题的确切含义。实体是诸如人名、组织、位置、医疗代码、时间表达式、数量、货币值、百分比等类别。</p><p id="9d42" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">实体</strong>:</p><p id="5248" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">信用卡<strong class="iw hi">账户_类型</strong>最高限额【T8【金额】是多少？</p><p id="3b1e" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">NER将读取句子并识别相关标签，如金额、账户类型、卡类型、支付模式等。利用这些信息，我们可以找到给定句子的意思。对于特定领域的应用，我们可以定制基于规则的系统。对于银行领域，无论何时我们发现像活期、储蓄、信用卡、借记卡这样的词，它都与Account_type有关。</p><h1 id="ce6e" class="lp jt hh bd ju lq lr ls jy lt lu lv kc lw lx ly kf lz ma mb ki mc md me kl mf bi translated">4.行动</h1><p id="6780" class="pw-post-body-paragraph iu iv hh iw b ix kp iz ja jb kq jd je jf mg jh ji jj mh jl jm jn mi jp jq jr ha bi translated">一旦我们确定了问题的含义，那么我们需要采取一定的行动，并向用户提供有效的答案或输出。如果用户请求他的储蓄账户的余额，那么我们可以执行SQL查询并提供答案。</p><h1 id="ea6a" class="lp jt hh bd ju lq lr ls jy lt lu lv kc lw lx ly kf lz ma mb ki mc md me kl mf bi translated">5.对话上下文跟踪</h1><p id="eae0" class="pw-post-body-paragraph iu iv hh iw b ix kp iz ja jb kq jd je jf mg jh ji jj mh jl jm jn mi jp jq jr ha bi translated">在现实世界中，每当用户与聊天机器人或客户服务交互时，用户不会在单一上下文中提出他的问题。为了理解用户真正想要什么，我们需要跟踪与用户的整个对话。在这里，聊天机器人需要跟踪最近的意图和实体，以了解整体情况。此外，很有可能，用户可以在对话过程中提出多个问题。</p><h1 id="9667" class="lp jt hh bd ju lq lr ls jy lt lu lv kc lw lx ly kf lz ma mb ki mc md me kl mf bi translated">6.问答和历史聊天</h1><p id="8ef8" class="pw-post-body-paragraph iu iv hh iw b ix kp iz ja jb kq jd je jf mg jh ji jj mh jl jm jn mi jp jq jr ha bi translated">在大多数公司，客户服务人员和用户之间会有大量的历史聊天记录。这些数据对得出答案非常有用。在这里，给定一个问题，聊天机器人将搜索历史聊天记录，选择相关的问题，并基于此给出答案。</p><h1 id="48f2" class="lp jt hh bd ju lq lr ls jy lt lu lv kc lw lx ly kf lz ma mb ki mc md me kl mf bi translated">参考资料:</h1><ol class=""><li id="0117" class="kn ko hh iw b ix kp jb kq jf kr jj ks jn kt jr ku kv kw kx bi translated"><a class="ae it" href="https://www.youtube.com/watch?v=ImzRs8eORsM" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=ImzRs8eORsM</a></li></ol><p id="efa1" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">2.【https://www.appliedroots.com/ T2】号</p></div></div>    
</body>
</html>