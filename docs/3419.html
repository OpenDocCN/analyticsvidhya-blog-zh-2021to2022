<html>
<head>
<title>ğŸ›’ How to Run Sales Revenue Analysis and Forecasting With R</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ğŸ›’å¦‚ä½•ç”¨rè¿è¡Œé”€å”®æ”¶å…¥åˆ†æå’Œé¢„æµ‹</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/analytics-vidhya/how-to-run-sales-revenue-analysis-and-forecasting-with-r-48b1aa89adc1?source=collection_archive---------7-----------------------#2021-06-30">https://medium.com/analytics-vidhya/how-to-run-sales-revenue-analysis-and-forecasting-with-r-48b1aa89adc1?source=collection_archive---------7-----------------------#2021-06-30</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/e5508e9069523d12aeef669a233ec0ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*UI4W23y_8lzssgdf"/></div></div></figure><p id="a3e2" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">æˆ‘å¯èƒ½ä¼šæ˜¯ç¬¬ä¸€ç™¾ä¸‡ä¸ªå†™è¿™ç¯‡æ–‡ç« çš„åšä¸»ã€‚ç„¶è€Œï¼Œè¿™æ˜¯ä¸å¯èƒ½å¦è®¤çš„:æ•°æ®é©±åŠ¨çš„å†³ç­–å¯¹äºæ¯ä¸ªå¸Œæœ›æé«˜ç”Ÿæ´»å’Œå•†ä¸šæ•ˆç‡ã€ç”Ÿäº§åŠ›å’Œå›æŠ¥çš„ä¸ªäººæˆ–ç»„ç»‡æ¥è¯´éƒ½æ˜¯å¿…ä¸å¯å°‘çš„ã€‚</p><p id="3725" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">æ€ä¹ˆä¼šï¼Ÿè®©æˆ‘ä»¬è€ƒè™‘ä¸€ä¸ªç®€å•çš„ä¾‹å­:ä¸€ä¸ªå…¸å‹çš„ä¹¦å•†é€šå¸¸çŸ¥é“å…¶æœ€åé¡¾å®¢çš„ä»¥ä¸‹äº‹å®:ä»–ä»¬ä¹°äº†å“ªäº›ä¹¦ï¼ŒèŠ±äº†å¤šå°‘é’±ã€‚å¦ä¸€æ–¹é¢ï¼Œäºšé©¬é€Šç­‰å¤§æ•°æ®é©±åŠ¨çš„é›¶å”®å•†è®©ä»–ä»¬çš„åœ¨çº¿å®¢æˆ·åœ¨ä¸€æ¬¡è´­ä¹°ä¸­äº§ç”Ÿå¤§é‡çº¿ç´¢:</p><ul class=""><li id="e65f" class="jo jp hh ir b is it iw ix ja jq je jr ji js jm jt ju jv jw bi translated">ä»–ä»¬åœ¨æ‰¾ä»€ä¹ˆã€‚</li><li id="731a" class="jo jp hh ir b is jx iw jy ja jz je ka ji kb jm jt ju jv jw bi translated">ä»–ä»¬å¦‚ä½•æµè§ˆç½‘ç«™ã€‚</li><li id="484b" class="jo jp hh ir b is jx iw jy ja jz je ka ji kb jm jt ju jv jw bi translated">ä»–ä»¬æ˜¯å¦ä»¥åŠåœ¨å¤šå¤§ç¨‹åº¦ä¸Šè¢«ä¿ƒé”€ã€ç‰¹å®šçš„é¡µé¢å¸ƒå±€ã€è¯„è®ºç­‰ç­‰æ‰€å¸å¼•ã€‚</li></ul><p id="9f81" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">æˆ‘ç›¸ä¿¡æ²¡æœ‰å¿…è¦å‘Šè¯‰ä½ å¦‚ä½•æ›´æœ‰æ•ˆåœ°èµ¢å¾—å®¢æˆ·ã€‚</p><p id="26a4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">ä½ çŒœæ€ä¹ˆç€ï¼Ÿä½ ä¸éœ€è¦æˆä¸ºä»·å€¼1.69ä¸‡äº¿ç¾å…ƒçš„å…¬å¸çš„<a class="ae kc" href="https://finance.yahoo.com/quote/AMZN/" rel="noopener ugc nofollow" target="_blank">æ¥æ“çºµæ•°æ®å’Œäº§ç”Ÿæœ‰æ„ä¹‰çš„è§è§£ï¼Œä»¥åšå‡ºæ›´å¥½çš„å†³ç­–ã€‚æˆ‘å°†è¯•å›¾é€šè¿‡åˆ†æè°·æ­Œå•†å“å•†åº—çš„æ•°æ®æ¥è¯æ˜è¿™ä¸€ç‚¹ï¼Œå°†å®ƒä»¬è½¬åŒ–ä¸ºâ€œå¯ç®¡ç†â€çš„ä¸œè¥¿ã€‚å¯¹äº§é‡è¿›è¡Œåˆæ­¥åˆ†æåï¼Œæˆ‘ä»¬å°†è®¾æ³•åšäº›é¢„æµ‹ã€‚è¿™é‡Œçš„æŒ‡å¯¼æ€§é—®é¢˜å°†æ˜¯:å“ªä¸ªç”¨æˆ·æ¥æºå°†å¸¦æ¥æ›´å¤šçš„æ”¶å…¥ï¼Ÿ</a></p><h1 id="acbb" class="kd ke hh bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">åˆå§‹åŒ–</h1><p id="290c" class="pw-post-body-paragraph ip iq hh ir b is lb iu iv iw lc iy iz ja ld jc jd je le jg jh ji lf jk jl jm ha bi translated">æˆ‘ä»¬å°†ä½¿ç”¨è°·æ­Œå•†å“å•†åº—ï¼Œå› ä¸ºå®ƒå‹å¥½åœ°é€šè¿‡éµå¾ªè¿™ä¸ªæŒ‡å—æ¥åˆ†äº«æ‰€æœ‰çš„ç»Ÿè®¡æ•°æ®å’Œç½‘ç»œåˆ†æã€‚åœ¨Rä¸­ï¼Œå°†éœ€è¦ä¸‹é¢çš„åº“ã€‚</p><pre class="lg lh li lj fd lk ll lm ln aw lo bi"><span id="f6ac" class="lp ke hh ll b fi lq lr l ls lt">library(readxl)<br/>library(tidyverse)<br/>library(dplyr)<br/>library(tidyr)<br/>library(fpp)<br/>library(astsa)<br/>library(lubridate)<br/>library(tsutils)<br/>library(smooth)</span></pre><h1 id="5ea6" class="kd ke hh bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">æ”¶è—å“</h1><p id="4e27" class="pw-post-body-paragraph ip iq hh ir b is lb iu iv iw lc iy iz ja ld jc jd je le jg jh ji lf jk jl jm ha bi translated">æˆ‘çš„ç›®æ ‡æ˜¯æœ‰ä¸€ä¸ªExcelæ–‡ä»¶ï¼ŒæŠ¥å‘Š2019å¹´å’Œ2020å¹´æ¯ä¸ªæ¥æºæ¯å¤©è·å¾—çš„ç”¨æˆ·æ•°é‡å’Œæ”¶å…¥ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬æƒ³çŸ¥é“2019å¹´1æœˆ20æ—¥çš„ä»˜è´¹è¥é”€å¸¦æ¥äº†200åç”¨æˆ·ï¼Œèµšäº†140ç¾å…ƒã€‚ä¸ºæ­¤ï¼Œè®©æˆ‘ä»¬è½¬åˆ°æ”¶è´­éƒ¨åˆ†ï¼Œåˆ›å»ºä¸€ä¸ª2019å¹´å’Œ2020å¹´ç”µå­å•†åŠ¡ç›®æ ‡çš„æŠ¥å‘Šï¼Œå…¶ä¸­ç¬¬äºŒç»´æ˜¯æ—¥æœŸã€‚ç»“æœåº”è¯¥æ˜¯è¿™æ ·çš„ã€‚</p><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lu"><img src="../Images/834068377eb4a0464e3335793b915a8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3QXKw_az-pKP6qad"/></div></div></figure><p id="0bc4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">ç°åœ¨è®©æˆ‘ä»¬åˆ©ç”¨Ræ¥ä¿®å¤è¿™ä¸ªè¡¨ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†å¯¼å…¥è¡¨ï¼Œæ­£ç¡®è®¾ç½®åˆ—çš„æ ¼å¼ï¼Œè¿‡æ»¤åˆ—å¹¶è·å¾—ä¸€ä¸ªå¹²å‡€çš„æ•°æ®é›†ã€‚</p><pre class="lg lh li lj fd lk ll lm ln aw lo bi"><span id="5d08" class="lp ke hh ll b fi lq lr l ls lt"># Import the dataset, Factor the channels and convert column date<br/>X2020 &lt;- read_excel("2020.xlsx", sheet = 2)<br/>X2020$`Default Channel Grouping` &lt;-<br/>  as.factor(X2020$`Default Channel Grouping`)<br/>X2020$Data &lt;- as.Date(X2020$Data, format = "%Y%m%d")<br/>X2020$Data &lt;- format(X2020$Data, "%Y-%m")<br/>X2020 &lt;- X2020 %&gt;%<br/>  group_by(`Default Channel Grouping`, Data) %&gt;%<br/>  summarise_if(is.numeric, sum)</span><span id="bfd8" class="lp ke hh ll b fi lv lr l ls lt"># Select few columns and rename them<br/>X2020 &lt;- X2020 %&gt;%<br/>  select(c(`Default Channel Grouping`, Data, Utenti, Entrate, Transazioni))<br/>colnames(X2020) &lt;-<br/>  c("channel", "date", "users", "revenue", "transactions")</span><span id="33d6" class="lp ke hh ll b fi lv lr l ls lt"># create a first dataframe spreading the row values to the columns values<br/>revenues1 &lt;- X2020 %&gt;%<br/>  select(channel, date, users) %&gt;%<br/>  spread(channel, users, fill = 0)</span><span id="5fa7" class="lp ke hh ll b fi lv lr l ls lt"># create a second dataframe with daily revenues<br/>revenues2 &lt;- X2020 %&gt;%<br/>  group_by(date) %&gt;%<br/>  summarise(sum = sum(revenue))</span><span id="a6ab" class="lp ke hh ll b fi lv lr l ls lt"># create a third dataframe with daily number of transactions<br/>revenues3 &lt;- X2020 %&gt;%<br/>  group_by(date) %&gt;%<br/>  summarise(trans = sum(transactions))</span><span id="4233" class="lp ke hh ll b fi lv lr l ls lt"># combine the two dataframe<br/>revenues_final &lt;- inner_join(revenues1, revenues2, "date")<br/>revenues_final &lt;- inner_join(revenues_final, revenues3, "date")</span></pre><p id="74cb" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨spreadå‡½æ•°å°†åˆ—å€¼è½¬æ¢æˆç±»åˆ«ã€‚è¿™å°±æ˜¯æˆ‘ä»¬åœ¨ç”Ÿæˆæœ€ç»ˆæ•°æ®å¸§ä¹‹å‰å°†æ•°æ®å¸§åˆ†æˆä¸‰ä»½çš„åŸå› ã€‚</p><h1 id="90a1" class="kd ke hh bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">é¦–æ¬¡åˆ†æ</h1><p id="ef5a" class="pw-post-body-paragraph ip iq hh ir b is lb iu iv iw lc iy iz ja ld jc jd je le jg jh ji lf jk jl jm ha bi translated">ç°åœ¨æˆ‘ä»¬çš„æ•°æ®æ¡†æ¶çœ‹èµ·æ¥æ›´å¥½ï¼Œæˆ‘ä»¬å¯ä»¥å¼€å§‹æ£€æŸ¥æ”¶å…¥æ–¹é¢çš„æœ€ä½³æ¸ é“ã€‚</p><pre class="lg lh li lj fd lk ll lm ln aw lo bi"><span id="8ca1" class="lp ke hh ll b fi lq lr l ls lt"># simple average of revenue<br/>X2020a &lt;- X2020 %&gt;%<br/>  group_by(channel, date) %&gt;%<br/>  summarise(a = mean(users), b = mean(revenue), c = mean(transactions))</span></pre><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lu"><img src="../Images/64a5822de71a01cdd647648bdea61bce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*iX10MJW_9LO8yRyQ"/></div></div></figure><p id="d011" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">å¯ä»¥è¯´ï¼Œæ•°æ®å·²ç»å¼€å§‹å˜å¾—æœ‰ç”¨äº†ï¼</p><h1 id="4fc2" class="kd ke hh bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">é¢„æŠ¥</h1><p id="6acf" class="pw-post-body-paragraph ip iq hh ir b is lb iu iv iw lc iy iz ja ld jc jd je le jg jh ji lf jk jl jm ha bi translated">å¦ä¸€ä¸ªäº†è§£è°·æ­Œå•†å“å•†åº—å°†ä¼šå‘ç”Ÿä»€ä¹ˆçš„æƒ³æ³•æ˜¯åº”ç”¨<a class="ae kc" href="https://www.rdocumentation.org/packages/stats/versions/3.6.2/topics/HoltWinters" rel="noopener ugc nofollow" target="_blank">éœå°”ç‰¹æ¸©ç‰¹æ–¹æ³•</a>æ¥é¢„æµ‹æœªæ¥äº‹ä»¶ã€‚Holtçš„åŒå‚æ•°æ¨¡å‹ä¹Ÿç§°ä¸ºçº¿æ€§æŒ‡æ•°å¹³æ»‘ï¼Œæ˜¯ä¸€ç§ç”¨äºé¢„æµ‹æ•°æ®è¶‹åŠ¿çš„å¸¸ç”¨å¹³æ»‘æ¨¡å‹ã€‚éœå°”ç‰¹çš„æ¨¡å‹æœ‰ä¸‰ä¸ªç‹¬ç«‹çš„æ–¹ç¨‹ï¼Œå®ƒä»¬å…±åŒäº§ç”Ÿæœ€ç»ˆçš„é¢„æµ‹ã€‚ç¬¬ä¸€ä¸ªæ˜¯åŸºæœ¬å¹³æ»‘æ–¹ç¨‹ï¼Œç›´æ¥è°ƒæ•´å‰ä¸€æœŸè¶‹åŠ¿çš„æœ€åå¹³æ»‘å€¼ã€‚è¶‹åŠ¿æœ¬èº«é€šè¿‡ç¬¬äºŒä¸ªç­‰å¼éšæ—¶é—´æ›´æ–°ï¼Œå…¶ä¸­è¶‹åŠ¿è¡¨ç¤ºä¸ºæœ€åä¸¤ä¸ªå¹³æ»‘å€¼ä¹‹é—´çš„å·®ã€‚æœ€åï¼Œç¬¬ä¸‰ä¸ªç­‰å¼ç”¨äºç”Ÿæˆæœ€ç»ˆé¢„æµ‹ã€‚éœå°”ç‰¹çš„æ¨¡å‹ä½¿ç”¨ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªç”¨äºæ•´ä½“å¹³æ»‘ï¼Œå¦ä¸€ä¸ªç”¨äºè¶‹åŠ¿å¹³æ»‘æ–¹ç¨‹ã€‚</p><p id="16fb" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">ä¸ºäº†å°†å®ƒåº”ç”¨äºæ‰€æœ‰å…«ä¸ªæµé‡æºï¼Œæˆ‘ä»¬å°†ç¼–å†™å¦‚ä¸‹å¾ªç¯ã€‚è¯·æ³¨æ„ï¼Œæˆ‘ä»¬åœ¨å¾ªç¯çš„ä¸­é—´ç”Ÿæˆäº†ä¸€ä¸ªå°†ä¸¤å¹´åˆ†ä¸º12ä¸ªæœˆçš„æ—¶é—´åºåˆ—ã€‚</p><pre class="lg lh li lj fd lk ll lm ln aw lo bi"><span id="135a" class="lp ke hh ll b fi lq lr l ls lt">channels &lt;-<br/>  c(<br/>    "Affiliates",<br/>    "Direct",<br/>    "Display",<br/>    "Organic Search",<br/>    "Paid Search",<br/>    "Referral",<br/>    "Social",<br/>    "(Other)"<br/>  )</span><span id="95c7" class="lp ke hh ll b fi lv lr l ls lt"># model generation<br/>for (i in 1:8) {<br/>  X2020i &lt;- filter(X2020, channel == channels[i])<br/>  ts &lt;-<br/>    ts(<br/>      X2020i$revenue,<br/>      start = c(2019, 1),<br/>      end = c(2020, 12),<br/>      frequency = 12<br/>    )<br/>  fit1 &lt;- hw(ts, seasonal = "additive", h = 12)<br/>  summary(fit1)<br/>  plot(fit1)<br/>  decomp &lt;- decomp(ts, outplot = 1)<br/>}</span></pre><p id="d349" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">å¯¹äºå®ƒä»¬ä¸­çš„æ¯ä¸€ä¸ªï¼Œæˆ‘ä»¬å°†æœ‰ä¸‹é¢çš„å›¾ï¼Œå‘æˆ‘ä»¬å±•ç¤ºéšåçš„è¶‹åŠ¿ã€‚</p><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lu"><img src="../Images/f9cf30e60fe8069b5108dd59d54f1b75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*45xTDpsBLatCY_jQ"/></div></div></figure><p id="6a75" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">æ€»ä½“è¶‹åŠ¿å¦‚ä¸‹:</p><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lu"><img src="../Images/e2cb375661ab9af8dea9be3d787fdf29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Ig2ZC1DpGYOuydUk"/></div></div></figure><h1 id="a6e9" class="kd ke hh bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">æ€»ç»“</h1><p id="7bac" class="pw-post-body-paragraph ip iq hh ir b is lb iu iv iw lc iy iz ja ld jc jd je le jg jh ji lf jk jl jm ha bi translated">æ ¹æ®é¢„æµ‹å’Œå·²ç»æ”¶é›†çš„æ•°æ®ï¼Œ2021å¹´çš„é¢„æœŸæœˆæ”¶å…¥å’Œæ¸ é“åˆ†é…å¦‚ä¸‹:</p><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lu"><img src="../Images/1eab0350c075505586767817c36861f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*NlefLYGq68A72-JG"/></div></div></figure><blockquote class="lw lx ly"><p id="22e7" class="ip iq jn ir b is it iu iv iw ix iy iz lz jb jc jd ma jf jg jh mb jj jk jl jm ha bi translated"><em class="hh">ä½ æœ‰æ²¡æœ‰å°è¯•è¿‡æ ¹æ®è¿‡å»çš„è§‚å¯Ÿæ¥é¢„æµ‹ä¸€äº›æ•°æ®ï¼Ÿæ€ä¹ˆæ ·ï¼Ÿ</em></p></blockquote></div></div>    
</body>
</html>