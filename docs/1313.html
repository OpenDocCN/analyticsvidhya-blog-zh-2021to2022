<html>
<head>
<title>Web-Scraping NBA All-Star Data</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">网络搜集NBA全明星数据</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/web-scraping-nba-all-star-data-8788a7136727?source=collection_archive---------16-----------------------#2021-02-23">https://medium.com/analytics-vidhya/web-scraping-nba-all-star-data-8788a7136727?source=collection_archive---------16-----------------------#2021-02-23</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="f804" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">了解如何在R中使用rvest、gateway和hablar包来抓取、清理和合并数据帧。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jc"><img src="../Images/8469e375bfce8d6f827f87371276c75b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*PtxvQZnvdhN_-wG5"/></div></div><figcaption class="jo jp et er es jq jr bd b be z dx translated">马库斯·斯皮斯克在<a class="ae js" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="ec81" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">随着2021年NBA全明星首发阵容的公布，以及3月7日NBA全明星赛的到来，你可能会有兴趣探索历届全明星的统计数据。</p><p id="94ba" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">本文将介绍使用R中的rvest包从Basketball-Reference.com收集数据集的步骤，然后在将数据用于分析之前使用看门人包清理数据。</p><p id="5c7c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">提取和清理数据后，我们将组合以下数据集进行进一步分析:</p><ol class=""><li id="4d12" class="jt ju hh ig b ih ii il im ip jv it jw ix jx jb jy jz ka kb bi translated"><a class="ae js" href="https://www.basketball-reference.com/allstar/NBA-allstar-career-stats.html" rel="noopener ugc nofollow" target="_blank"> <strong class="ig hi">全明星球员:</strong> </a>列出了所有NBA全明星球员以及他们在所有全明星赛中的平均数据。</li><li id="4eb0" class="jt ju hh ig b ih kc il kd ip ke it kf ix kg jb jy jz ka kb bi translated"><a class="ae js" href="https://www.basketball-reference.com/players/o/onealsh01.html" rel="noopener ugc nofollow" target="_blank"> <strong class="ig hi">奥尼尔:</strong> </a>列出了奥尼尔各个赛季的平均数据。</li></ol><h1 id="6bda" class="kh ki hh bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">为什么是网络抓取？</h1><p id="1590" class="pw-post-body-paragraph ie if hh ig b ih lf ij ik il lg in io ip lh ir is it li iv iw ix lj iz ja jb ha bi translated">虽然单个数据集可以很容易地从<a class="ae js" href="https://www.basketball-reference.com/allstar/NBA-allstar-career-stats.html" rel="noopener ugc nofollow" target="_blank"> Basketball-Reference </a>下载，但网络抓取的真正价值是随着更多可用信息更新数据集的能力。</p><p id="1947" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">例如，在之前的一篇文章《NBA大个子》中，尼古拉·武切维奇的球员数据在他每场比赛后都会在篮球参考上更新。通过使用web-screwing方法，更新代码中的数据框非常简单。重新运行代码和网站上的额外游戏包括在内。</p><p id="999e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">相比之下，通过从Basketball-Reference下载CSV格式的数据，然后将其导入到R中，Vucevic每次玩新游戏时，都需要重新下载数据集并导入到R中。如果连接多个数据集并定期更新，这将变得越来越麻烦。</p><h1 id="8429" class="kh ki hh bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">安装软件包</h1><p id="3601" class="pw-post-body-paragraph ie if hh ig b ih lf ij ik il lg in io ip lh ir is it li iv iw ix lj iz ja jb ha bi translated">在RStudio中，首先加载以下软件包:</p><pre class="jd je jf jg fd lk ll lm ln aw lo bi"><span id="f045" class="lp ki hh ll b fi lq lr l ls lt">library(ggplot2) #version 3.3.3 Graphics <br/>library(hablar) #version 0.3.0 Converts Data Types<br/>library(janitor) #version 2.1.0 Data Cleaning <br/>library(rvest) #version 0.3.6 Web Scraping <br/>library(tidyverse) #version 1.3.0 Allows for Piping</span></pre><h1 id="b6f0" class="kh ki hh bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">使用rvest进行网页抓取</h1><p id="bff3" class="pw-post-body-paragraph ie if hh ig b ih lf ij ik il lg in io ip lh ir is it li iv iw ix lj iz ja jb ha bi translated">web抓取的第一步是为数据集确定一个网站，并将其赋给一个变量。这里我们使用一个数据集，每行代表一名球员和他们在所有NBA全明星赛中的平均数据。上的页面如下所示:</p><p id="8f6a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在R中，我们为AllStarPlayers创建一个变量，然后创建一个包含站点数据的数据框。</p><pre class="jd je jf jg fd lk ll lm ln aw lo bi"><span id="aa7a" class="lp ki hh ll b fi lq lr l ls lt">#NBA All-Star Career Stats by Player  <br/>AllStarPlayers &lt;- "<a class="ae js" href="https://www.basketball-reference.com/allstar/NBA-allstar-career-stats.html" rel="noopener ugc nofollow" target="_blank">https://www.basketball-reference.com/allstar/NBA-allstar-career-stats.html</a>"</span><span id="a035" class="lp ki hh ll b fi lu lr l ls lt">#After importing the html site, transform to data table<br/>url &lt;- AllStarPlayers<br/>pageobj &lt;- read_html(url, as.data.frame=T, stringsAsFactors = TRUE)</span><span id="a12f" class="lp ki hh ll b fi lu lr l ls lt">#Here, we indicate that this is the table we want to extract.<br/>pageobj %&gt;%  <br/>  html_nodes("table") %&gt;% <br/>  .[[1]] %&gt;% <br/>  html_table(fill=T) -&gt; AllStarPlayers</span></pre><p id="ba62" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">注意全明星球员的数据在我们指定的的<a class="ae js" href="https://www.basketball-reference.com/allstar/NBA-allstar-career-stats.html" rel="noopener ugc nofollow" target="_blank">网站上有一个单独的数据表。因此，如上所示，我们将page对象引用为[[1]]，表示它是站点上的第一个(仅在本例中)数据表。其他网页可能在一个页面上有多个数据集。例如，典型的</a><a class="ae js" href="https://www.basketball-reference.com/players/v/vucevni01.html" rel="noopener ugc nofollow" target="_blank">玩家游戏日志</a>是相应篮球参考页面上的第八个数据表。在这种情况下，页面对象应该是[[8]]。</p><p id="17e4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">有更复杂的方法来确定数据集在网站上的哪个表，但大多数时候最简单的方法就是计数。</p></div><div class="ab cl lv lw go lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="ha hb hc hd he"><h1 id="356f" class="kh ki hh bd kj kk mc km kn ko md kq kr ks me ku kv kw mf ky kz la mg lc ld le bi translated">数据清理:更新变量名</h1><p id="55e3" class="pw-post-body-paragraph ie if hh ig b ih lf ij ik il lg in io ip lh ir is it li iv iw ix lj iz ja jb ha bi translated">虽然高度准确，但是来自Basketball-Reference的数据需要进行一些清理，然后才能在我们的模型中使用。对于这个数据集，我们需要更新变量名并删除副标题。</p><p id="632b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">看门人软件包提供了两个有助于清洁过程的功能:</p><ul class=""><li id="9114" class="jt ju hh ig b ih ii il im ip jv it jw ix jx jb mh jz ka kb bi translated"><strong class="ig hi"> row_to_names() </strong>指定数据集中用作可变列名的行。</li><li id="4198" class="jt ju hh ig b ih kc il kd ip ke it kf ix kg jb mh jz ka kb bi translated"><strong class="ig hi"> clean_names() </strong>将列名转换为标准的命名约定。默认值是snake_case，但是您可以指定其他值。</li></ul><pre class="jd je jf jg fd lk ll lm ln aw lo bi"><span id="4491" class="lp ki hh ll b fi lq lr l ls lt">#Convert Row One to Variable Column Names <br/>AllStarPlayers &lt;- row_to_names(AllStarPlayers, 1, remove_row = TRUE, remove_rows_above = FALSE)</span><span id="6c57" class="lp ki hh ll b fi lu lr l ls lt">#Converts Column names to follow tidyverse style guide <br/>AllStarPlayers &lt;- clean_names(AllStarPlayers)<br/>names(AllStarPlayers)</span></pre><p id="e362" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">使用row_to_names()和clean_names()函数后更新的变量名如下:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es mi"><img src="../Images/8913bc87469f2038ff255bfb04be9e26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yzvsmL8eHJoAw0kmizoPUQ.png"/></div></div><figcaption class="jo jp et er es jq jr bd b be z dx translated">作者在RStudio中创建的图像</figcaption></figure><p id="b5f4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">稍后，我们将收集沙奎尔·奥尼尔的球员数据，将他每个赛季的平均表现与他在全明星赛中的平均表现进行比较。虽然“ast”和“ast2”遵循整齐的数据原则，但在将AllStarPlayer数据与我们称之为ONeal数据集的数据合并时，更具描述性的变量名将被证明是有帮助的。</p><p id="63ea" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">下面是使用clean_names()函数时分配的默认变量定义。</p><ul class=""><li id="f850" class="jt ju hh ig b ih ii il im ip jv it jw ix jx jb mh jz ka kb bi translated"><strong class="ig hi">all star players ast:</strong>是所有比赛的助攻总数</li><li id="1cf7" class="jt ju hh ig b ih kc il kd ip ke it kf ix kg jb mh jz ka kb bi translated"><strong class="ig hi">在全明星球员ast2: </strong>是场均助攻数</li><li id="1240" class="jt ju hh ig b ih kc il kd ip ke it kf ix kg jb mh jz ka kb bi translated"><strong class="ig hi">在奥尼尔ast: </strong>是场均助攻数</li></ul><p id="ef71" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">通过在AllStarPlayers中创建更具描述性的变量名，我们可以避免在AllStarPlayers和ONeal数据中意外比较“ast”。实际上，我们应该比较目前被称为“ast2”和“ast”的产品。</p><pre class="jd je jf jg fd lk ll lm ln aw lo bi"><span id="a3fe" class="lp ki hh ll b fi lq lr l ls lt">#More Descriptive Names, for the 4 Variables with Duplicate Names <br/>names(AllStarPlayers)[names(AllStarPlayers) == "mp"] &lt;- "mins_total"<br/>names(AllStarPlayers)[names(AllStarPlayers) == "pts"] &lt;- "pts_total"<br/>names(AllStarPlayers)[names(AllStarPlayers) == "trb"] &lt;- "trb_total"<br/>names(AllStarPlayers)[names(AllStarPlayers) == "ast"] &lt;- "ast_total"</span><span id="b582" class="lp ki hh ll b fi lu lr l ls lt">#Renaming Additional Columns <br/>names(AllStarPlayers)[names(AllStarPlayers) == "mp2"] <br/>      &lt;- "mins_per_game"<br/>names(AllStarPlayers)[names(AllStarPlayers) == "pts2"] <br/>      &lt;- "pts_per_game"<br/>names(AllStarPlayers)[names(AllStarPlayers) == "trb2"] <br/>      &lt;- "trb_per_game"<br/>names(AllStarPlayers)[names(AllStarPlayers) == "ast2"] <br/>      &lt;- "ast_per_game"<br/>names(AllStarPlayers)</span></pre><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es mj"><img src="../Images/2429c04a69e4d63170fc22a65393cb22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dcLmg0CNtSjaRFwYLMBNtg.png"/></div></div><figcaption class="jo jp et er es jq jr bd b be z dx translated">作者在RStudio中创建的图像</figcaption></figure><h1 id="ec5c" class="kh ki hh bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">数据清理:删除副标题</h1><p id="c659" class="pw-post-body-paragraph ie if hh ig b ih lf ij ik il lg in io ip lh ir is it li iv iw ix lj iz ja jb ha bi translated">AllStarPlayers数据集有多个重复变量标题名称的行。当在线滚动大型数据集时，这是一个有用的特性，因为屏幕上总是显示一行供参考。</p><p id="a0d7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在R数据框中，这些副标题将数据行作为字符值，并阻止我们使用数字和整数类类型。消除这些行将允许我们转换数据类型和执行计算。</p><pre class="jd je jf jg fd lk ll lm ln aw lo bi"><span id="60e8" class="lp ki hh ll b fi lq lr l ls lt">#Janitor Function, That Shows Rows with Duplicate Values <br/>get_dupes(AllStarPlayers)</span></pre><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es mk"><img src="../Images/aba49f364d0a5e11813e026cbfcb3419.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3EwfAg-winoi-UdXB_zRiA.png"/></div></div><figcaption class="jo jp et er es jq jr bd b be z dx translated">作者在RStudio中创建的图像</figcaption></figure><pre class="jd je jf jg fd lk ll lm ln aw lo bi"><span id="9ffc" class="lp ki hh ll b fi lq lr l ls lt">#Removes Rows with subheadings<br/>AllStarPlayers &lt;- AllStarPlayers[!(AllStarPlayers$player ==" Player"),]</span><span id="13b5" class="lp ki hh ll b fi lu lr l ls lt">#Removes Rows without values for player variable <br/>AllStarPlayers &lt;- AllStarPlayers[!(AllStarPlayers$player ==""),]</span></pre><h1 id="505d" class="kh ki hh bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">创建新变量</h1><p id="8d49" class="pw-post-body-paragraph ie if hh ig b ih lf ij ik il lg in io ip lh ir is it li iv iw ix lj iz ja jb ha bi translated">用rvest包收集的数据作为字符值导入。在使用数学运算符创建新变量之前，需要转换当前变量的数据类型。这里我们将指定的列转换为整数和数字数据类型。</p><pre class="jd je jf jg fd lk ll lm ln aw lo bi"><span id="d0e3" class="lp ki hh ll b fi lq lr l ls lt">#Use hablar Package to Convert Data Types <br/>names(AllStarPlayers)<br/>AllStarPlayers &lt;- AllStarPlayers %&gt;% convert(<br/>  int("g", "gs", "mins_total", "fg", "fga", "x3p", "x3pa", "x2p",   <br/>      "x2pa", "ft", "fta", "orb", "drb", "trb_total", "ast_total", <br/>      "stl", "blk", "tov", "pf", "mins_per_game", "pts_per_game",   <br/>      "trb_per_game", "ast_per_game"), <br/>  num("fg_percent", "x3p_percent", "x2p_percent", "ft_percent"))</span></pre><p id="4fd5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">AllStarPlayer中的大部分数据都是作为所有全明星赛的总数据来计算的。其他数据集，尤其是那些针对单个球员的数据集，计算的是平均每场比赛的数据。将变量放在同一个尺度上可以让我们合并和比较数据。</p><p id="4d35" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">使用传统的数学运算符可以将总数转换成每场比赛的平均值。下面是一个计算平均投篮命中率、投篮命中率和每场三分球的例子。</p><pre class="jd je jf jg fd lk ll lm ln aw lo bi"><span id="421e" class="lp ki hh ll b fi lq lr l ls lt">#Create New Variables Per Game<br/>AllStarPlayers$fg_per_game &lt;- AllStarPlayers$fg / AllStarPlayers$g<br/>AllStarPlayers$fga_per_game &lt;- AllStarPlayers$fga / AllStarPlayers$g<br/>AllStarPlayers$x3p_per_game &lt;- AllStarPlayers$x3p / AllStarPlayers$g</span><span id="7321" class="lp ki hh ll b fi lu lr l ls lt">#Rename Exisiting Variables <br/>names(AllStarPlayers)[names(AllStarPlayers) == "fg"] &lt;- "fg_total"<br/>names(AllStarPlayers)[names(AllStarPlayers) == "fga"] &lt;- "fga_total"<br/>names(AllStarPlayers)[names(AllStarPlayers) == "x3p"] &lt;- "x3p_total"</span></pre></div><div class="ab cl lv lw go lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="ha hb hc hd he"><h1 id="b19c" class="kh ki hh bd kj kk mc km kn ko md kq kr ks me ku kv kw mf ky kz la mg lc ld le bi translated">创建和清理奥尼尔数据框</h1><p id="27ab" class="pw-post-body-paragraph ie if hh ig b ih lf ij ik il lg in io ip lh ir is it li iv iw ix lj iz ja jb ha bi translated">可以遵循类似的步骤来清理奥尼尔球员统计表。由于这是一个不同的数据集，因此可能需要执行两个略有不同的清理步骤。例如，需要删除底部的行，并创建一个新的玩家列。</p><pre class="jd je jf jg fd lk ll lm ln aw lo bi"><span id="35d9" class="lp ki hh ll b fi lq lr l ls lt">#Removed Rows 22 to 29 <br/>ONeal &lt;- ONeal[-c(22:29),]</span><span id="e138" class="lp ki hh ll b fi lu lr l ls lt">#Add Player column to Oneal <br/>ONeal$player &lt;- "Shaquille O'Neal"</span><span id="2e53" class="lp ki hh ll b fi lu lr l ls lt">#Add Season Column to AllStarPlayers <br/>AllStarPlayers$season &lt;- "AllStar"</span></pre><h1 id="803f" class="kh ki hh bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">准备要合并的数据</h1><p id="4350" class="pw-post-body-paragraph ie if hh ig b ih lf ij ik il lg in io ip lh ir is it li iv iw ix lj iz ja jb ha bi translated">一旦两个数据集，AllStarPlayers和ONeal，都被清理干净，我们就可以将它们合并在一起进行进一步的分析。要合并文件，它们需要有相同的变量，并且这些变量需要有相同的数据类型。</p><p id="ca2d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们可以使用看门人函数compare_df_cols_same()来代替单独比较文件。</p><pre class="jd je jf jg fd lk ll lm ln aw lo bi"><span id="43f3" class="lp ki hh ll b fi lq lr l ls lt">#Compare AllStarPlayer to ONeal <br/>compare_df_cols_same(AllStarPlayers, ONeal, bind_method = "rbind")</span></pre><p id="3306" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">根据输出，我们可以通过删除在两个数据集中都没有的变量并根据需要更新数据类型来清理文件。</p><pre class="jd je jf jg fd lk ll lm ln aw lo bi"><span id="a3f5" class="lp ki hh ll b fi lq lr l ls lt">#Remove Variables from AllStarPlayer not in ONeal Data<br/>AllStarPlayers &lt;- AllStarPlayers %&gt;% <br/>  select(-ast_total, -blk_total, -drb_total, -fg_total, -fga_total, <br/>         -ft_total, -fta_total, -orb_total, -pf_total, -stl_total, <br/>         -tov_total, -x2p_total, -x2pa_total, -x3pa_total,<br/>         -x3p_total, -mins_total, -pts_total, -trb_total)</span></pre><p id="bdb3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">对于兼容的文件，我们使用rbind()将两个集合合并在一起，并使用filter()为沙奎尔·奥尼尔选择数据</p><pre class="jd je jf jg fd lk ll lm ln aw lo bi"><span id="ee5e" class="lp ki hh ll b fi lq lr l ls lt">#Combine AllStarPlayer and ONeal Datasets <br/>AllStarONeal &lt;- rbind(AllStarPlayers, ONeal)</span><span id="eee5" class="lp ki hh ll b fi lu lr l ls lt">#Subset to ONeal Games <br/>AllStarONeal &lt;- filter(AllStarONeal, player == "Shaquille O'Neal")</span></pre></div><div class="ab cl lv lw go lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="ha hb hc hd he"><h1 id="b759" class="kh ki hh bd kj kk mc km kn ko md kq kr ks me ku kv kw mf ky kz la mg lc ld le bi translated">结论</h1><div class="jd je jf jg fd ab cb"><figure class="ml jh mm mn mo mp mq paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><img src="../Images/4b887ad53926a4c7657cb525527b64fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*hgXW5X8watqP68xEignYrg.png"/></div></figure><figure class="ml jh mm mn mo mp mq paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><img src="../Images/dc2dcd58f2d7a069cbc07e163ce2aa8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*BfRUWW0UqRJbyZ_wBIAUTw.png"/></div></figure><figure class="ml jh mm mn mo mp mq paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><img src="../Images/a2e686947c1d190d46db50945d20e557.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*dwGy_oYhIW8z09PxTXgkkw.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx mr di ms mt translated">作者在RStudio中创建的图像</figcaption></figure></div><p id="1fe3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">配备了经过清理和合并的数据集，我们现在准备处理r中的众多项目。从使用ggplot的数据可视化(如上图所示)，到构建机器学习模型，所有项目都从良好的数据开始。下面是我们今天使用的步骤的总结:</p><ol class=""><li id="7293" class="jt ju hh ig b ih ii il im ip jv it jw ix jx jb jy jz ka kb bi translated">使用rvest抓取在线数据集。在这种情况下，AllStarPlayer数据和ONeal数据集。</li><li id="f37b" class="jt ju hh ig b ih kc il kd ip ke it kf ix kg jb jy jz ka kb bi translated">使用看门人&amp; hablar包来清理数据。特别是row_to_names()、clean_names()和get_dupes()函数。</li><li id="edc2" class="jt ju hh ig b ih kc il kd ip ke it kf ix kg jb jy jz ka kb bi translated">在使用compare_df_cols_same()函数后，使用rbind()合并两个或多个数据集。</li></ol><p id="b922" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我鼓励您使用上面讨论的步骤，以创新的方式组合多个数据集。虽然全明星球员统计是一个很好的起点，但当与来自多个来源的指标相结合时，洞察力变得更加强大。</p><p id="0f51" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我很期待看到你的分析带给你什么。</p><div class="mu mv ez fb mw mx"><a href="https://towardsdatascience.com/how-to-predict-nba-double-doubles-f4c30be08ca0" rel="noopener follow" target="_blank"><div class="my ab dw"><div class="mz ab na cl cj nb"><h2 class="bd hi fi z dy nc ea eb nd ed ef hg bi translated">如何预测NBA的两双</h2><div class="ne l"><h3 class="bd b fi z dy nc ea eb nd ed ef dx translated">学习在R中建立一个逻辑回归模型，预测NBA全明星球员尼古拉·武切维奇是否会取得两双。</h3></div><div class="nf l"><p class="bd b fp z dy nc ea eb nd ed ef dx translated">towardsdatascience.com</p></div></div><div class="ng l"><div class="nh l ni nj nk ng nl jm mx"/></div></div></a></div></div></div>    
</body>
</html>