<html>
<head>
<title>Web Traffic Time Series Forecasting Part-1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">网络流量时间序列预测(一)</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/web-traffic-time-series-forecasting-part-1-a819b65013ec?source=collection_archive---------6-----------------------#2021-01-28">https://medium.com/analytics-vidhya/web-traffic-time-series-forecasting-part-1-a819b65013ec?source=collection_archive---------6-----------------------#2021-01-28</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="77f2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们将创建一个端到端的案例研究。我把这个博客分成了两个系列的博客。</p><ol class=""><li id="5aed" class="jc jd hh ig b ih ii il im ip je it jf ix jg jb jh ji jj jk bi translated"><a class="ae jl" href="https://namangupta-cs.medium.com/web-traffic-time-series-forecasting-part-1-a819b65013ec" rel="noopener">介绍和探索性数据分析</a></li><li id="a35c" class="jc jd hh ig b ih jm il jn ip jo it jp ix jq jb jh ji jj jk bi translated"><a class="ae jl" href="https://namangupta-cs.medium.com/web-traffic-time-series-forecasting-part-2-400b3e0e539b" rel="noopener">功能工程、建模和部署</a></li></ol><figure class="js jt ju jv fd jw er es paragraph-image"><div class="er es jr"><img src="../Images/a3ad5d1d983ce96f3025f5ff068c69db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/format:webp/1*4htzB81y86AG53PjcSzFjw.png"/></div></figure><p id="caae" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">目录-</p><ol class=""><li id="b4b4" class="jc jd hh ig b ih ii il im ip je it jf ix jg jb jh ji jj jk bi translated">问题陈述</li><li id="feec" class="jc jd hh ig b ih jm il jn ip jo it jp ix jq jb jh ji jj jk bi translated">现实世界的目标/约束</li><li id="e1a4" class="jc jd hh ig b ih jm il jn ip jo it jp ix jq jb jh ji jj jk bi translated">数据源和概述</li><li id="dd47" class="jc jd hh ig b ih jm il jn ip jo it jp ix jq jb jh ji jj jk bi translated">性能指标</li><li id="bc33" class="jc jd hh ig b ih jm il jn ip jo it jp ix jq jb jh ji jj jk bi translated">现有解决方案</li><li id="eeea" class="jc jd hh ig b ih jm il jn ip jo it jp ix jq jb jh ji jj jk bi translated">首次切割方法</li><li id="f1b4" class="jc jd hh ig b ih jm il jn ip jo it jp ix jq jb jh ji jj jk bi translated">探索性数据分析</li><li id="807b" class="jc jd hh ig b ih jm il jn ip jo it jp ix jq jb jh ji jj jk bi translated">参考</li></ol><h1 id="29c4" class="jz ka hh bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">1.问题陈述-</h1><p id="df79" class="pw-post-body-paragraph ie if hh ig b ih kx ij ik il ky in io ip kz ir is it la iv iw ix lb iz ja jb ha bi translated">这是一个近4年前举行的Kaggle竞赛问题。在这个案例研究中，我们将关注一个时间序列问题。让我们快速定义时间序列。时间序列是定期记录的一组观察值。时间序列在许多领域都是有益的，如股票市场预测、天气预报。时间序列可以在许多问题上派上用场，如分析、分类和最重要的预测，在这种情况下，我们将重点研究分析和预测。</p><p id="916d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">本案例研究的重点是预测多个时间序列问题的未来值。每个时间序列包含从2015年7月1日到2017年9月10日共803天的维基百科页面日流量。我们总共有145，000个时间序列，这意味着我们有145，000个页面的数据，我们的目标是分析这些数据，在此基础上建立一个模型，并预测从2017年9月13日到2017年11月13日的62天内每个页面的未来流量(嗯，这实际上不是未来，但当这个比赛举行时，它是！)</p><h1 id="aea8" class="jz ka hh bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">2.现实世界的目标/约束-</h1><p id="01b9" class="pw-post-body-paragraph ie if hh ig b ih kx ij ik il ky in io ip kz ir is it la iv iw ix lb iz ja jb ha bi translated">最小化实际值和预测值之间的差异。</p><p id="b66f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">没有特定的延迟要求，但是我们应该尝试不要花几个小时来预测特定的日期。20-30秒应该是可以接受的。</p><h1 id="c5a2" class="jz ka hh bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">3.数据概述-</h1><p id="c3da" class="pw-post-body-paragraph ie if hh ig b ih kx ij ik il ky in io ip kz ir is it la iv iw ix lb iz ja jb ha bi translated">训练数据集总共有145，000个维基百科页面的时间序列，它包含从2015年7月到2017年9月这些页面的每日流量。我们要预测2017年9月13日到2017年11月13日每个页面的日流量。我们一共给了三个文件——train . CSV，key.csv，sample_submission.csv。</p><p id="60aa" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">Train.csv包含大约145k行，每行代表一个不同的维基百科页面，它有804列，除了第一列每列代表一个日期，它在特定的维基百科页面上有每日流量。第一列包含页面的名称，其中包括维基百科页面的语言(例如，对于英语es.wikipedia.org，对于西班牙语es.wikipedia.org，zh，对于中文wikipedia.org)，访问类型(桌面、全访问、代理(蜘蛛))。比如一个名字是- 'AKB48_zh.wikipedia。' org_all-access_spider '。</p><p id="51eb" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">第二个文件是“key.csv ”,其行数等于我们必须做出的预测数。该文件中有两列:“页面名称”和“id”。对于“train.csv”文件中出现的每个页面名称，我们在key.csv文件中有62行，这62行对应于每页的62天预测。对于每个页面名称，都有一个对应的id。</p><h1 id="79e5" class="jz ka hh bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">4.绩效指标-</h1><p id="efe0" class="pw-post-body-paragraph ie if hh ig b ih kx ij ik il ky in io ip kz ir is it la iv iw ix lb iz ja jb ha bi translated">我们将使用SMAPE(对称平均绝对百分比误差)作为我们的性能指标。这常用于预测问题。这个范围是[0，200]。由于这不是python中的内置指标，我们将从头开始实现它，并将使用自定义指标来评估我们的模型。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div class="er es lc"><img src="../Images/480e34d034255d0e9e75134071ad21ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:764/0*nj9Hq7GT578eUPeU"/></div></figure><h1 id="900c" class="jz ka hh bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">5.现有解决方案-</h1><ol class=""><li id="197d" class="jc jd hh ig b ih kx il ky ip ld it le ix lf jb jh ji jj jk bi translated"><a class="ae jl" href="https://www.kaggle.com/c/web-traffic-time-series-forecasting/discussion/43795" rel="noopener ugc nofollow" target="_blank"> <strong class="ig hi">胜利者的方案</strong></a>—</li></ol><p id="7d7f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在此解决方案中，所有值都被转换为log1p，这将有助于使每个时间序列相似，即较小的值和较大的值将相似，分布将更接近正态分布。</p><p id="e278" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">一个新的特征被称为“页面流行度”，这是时间序列值的中位数，这个特征将有助于理解时间序列的规模。例如，一个时间序列的值可以在5-20之间，其他时间序列的值可以在50-100之间。这个解决方案使用了基于RNN的注意机制。使用RNN seq2seq模型进行预测。模型有两个主要部分编码器和解码器使用cuDNN GRU在编码器，而不是通常的张量流RNN细胞。</p><p id="d80c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">2.<a class="ae jl" href="https://www.kaggle.com/safavieh/median-estimation-by-fibonacci-et-al-lb-44-9/execution" rel="noopener ugc nofollow" target="_blank"> <strong class="ig hi">统计基础解决方案</strong></a>—</p><p id="05d7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在该解决方案中，使用不同窗口大小的中值进行预测。窗口大小由斐波那契数列决定，从6，12开始，然后是18，30，48，78等等。为了进行预测，先取过去6天、12天、18天……的中值，然后再取所有这些值的中值。如果我们没有足够的数据，则采用所有可用数据的中间值。这个解决方案很简单，但是执行得很好。</p><h1 id="f6cb" class="jz ka hh bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">6.第一次接近-</h1><p id="b68e" class="pw-post-body-paragraph ie if hh ig b ih kx ij ik il ky in io ip kz ir is it la iv iw ix lb iz ja jb ha bi translated">我们将尝试专注于功能工程部分，因为我们将首先使用机器学习模型解决这个案例研究，然后我们将尝试强大到足以自行学习功能的深度学习模型，但我们可能需要为机器学习模型明确提供功能。我将尝试生成可以捕捉每周，每季度和每年的模式的功能。我们将从一个基于中位数的基本模型开始，作为我们的基线模型。之后，我们将尝试xgboost、gbdt等模型，因为它们已经证明自己在任何情况下都是一个很好的选择。</p><p id="7905" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">特征工程-</p><p id="f99a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们总共有26个月的训练数据，我们必须预测接下来的62天。我们将生成最近15天的要素。将生成滚动窗口要素。将尝试的其他特征工程技术如下-</p><p id="67f5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">(I )( t-4个月、t-8个月、t-12个月、t-16个月)的中值，其中这些值本身是值之前和之后2天的中值。该功能将帮助我们捕捉季度趋势。</p><p id="8986" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">㈡过去5天的中位数</p><p id="b6cb" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">(iii)过去5个相同工作日的中值，此功能将帮助我们捕捉每周趋势。</p><p id="a9b9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">(iv)为了捕捉年度趋势，我们将采用t-363、t-364、t-365、t-366、t-367的中间值</p><p id="1feb" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">还将使用傅立叶变换。</p><p id="f44c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">(vi)取斐波那契数列窗口大小的中值对我们的模型有好处，这也将被测试。</p><p id="da5b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">所有上述特征将在首先经历基本时间序列模型之后产生。还将采用不同的方法使时间序列更加平稳。详细的EDA也将完成，功能工程将相应地改变。将执行预处理，如缺失值插补。</p><h1 id="1031" class="jz ka hh bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">7.探索性数据分析-</h1><p id="b8ea" class="pw-post-body-paragraph ie if hh ig b ih kx ij ik il ky in io ip kz ir is it la iv iw ix lb iz ja jb ha bi translated">首先，我们将填充所有缺失的值(如果有的话)。所以，让我们检查一下数据中是否有缺失值。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div class="er es lg"><img src="../Images/b8248b6f69ab84c245b21094c8289aaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:622/0*1gXiGjus1h2JDeB1"/></div></figure><p id="7e7f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">上图只显示了几个日期的缺失值的计数，但从中我们可以看出数据中有很多缺失值。对于某些页面，仅显示最近几个月的数据，其余数据为空。这可能是因为这个wiki页面是后来创建的，所以数据只在页面创建后的几天内存在。现在我们有两种情况——一种是数据实际丢失，另一种是页面尚未创建，现在我们知道，当数据实际丢失时，它会在某些日期丢失几天，但当页面尚未创建时，我们从一开始就没有该页面的数据，而突然我们就拥有了该页面的所有数据。</p><p id="0493" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为了填补第一种情况的数据缺失值，我们将使用<a class="ae jl" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.interpolate.html" rel="noopener ugc nofollow" target="_blank">线性插值</a>，对于第二种情况的缺失值，我们将用0来填补</p><p id="0f5c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">由于我们有超过145，000个时间序列，单独分析它们是不可能的，我们必须找到一些方法来划分这些时间序列，然后将每个组组合起来进行分析。记住，页面的名称包含了页面的语言，我们可以用它来组合不同类型的页面，然后对它们进行分析。所以，让我们开始吧！</p><p id="be66" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">页面语言会影响流量吗？</strong></p><p id="27e0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">通过使用简单的正则表达式，查找维基百科页面上可能影响数据集的不同语言。有一些非维基百科的页面，这些是维基媒体的页面，所以给他们代码“na ”,因为还没有确定他们的语言。其中许多将会是没有真正语言的图像之类的东西。</p><figure class="js jt ju jv fd jw"><div class="bz dy l di"><div class="lh li l"/></div></figure><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es lj"><img src="../Images/6f54c7a28074f697d142610b3b32ca51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gkclodSOVluCW6-VkwpBkg.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">存在的语言计数</figcaption></figure><p id="5afd" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">有7种语言加上媒体页面。这里使用的语言有:英语、日语、德语、法语、汉语、俄语和西班牙语。</p><p id="ab55" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为不同类型的条目创建数据框。之后，计算所有视图的总和。数据来自几个不同的来源，总和可能会重复计算一些观点。</p><figure class="js jt ju jv fd jw"><div class="bz dy l di"><div class="lh li l"/></div></figure><p id="d8c0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在，让我们看看我们得到了什么</p><figure class="js jt ju jv fd jw er es paragraph-image"><div class="er es ls"><img src="../Images/7cea9306636e2d7925089b7f7c26700b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1254/0*sjU6zFbwuRyH6vIe"/></div></figure><p id="69f6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">结论:</p><p id="73a0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">英文页面的浏览量要高得多。这里的结构比预期的要多得多。英语和俄语图显示在第400天左右(2016年8月左右)有非常大的峰值，在2016年晚些时候英语数据中还有几次峰值。我猜这是8月份夏季奥运会和美国大选的双重影响。</p><p id="4a0d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在200天左右的英国数据中还有一个奇怪的特征。</p><p id="b53f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">西班牙的数据也很有趣。那里有一个清晰的周期性结构，大约1周的快速周期，大约每6个月左右看起来会有一个明显的下降。</p><p id="2985" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">周期结构和FFT</strong></p><p id="61d4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">因为看起来这里有一些周期性的结构，所以分别画出来，这样比例更明显。除了单独的图，我还会看看快速傅立叶变换(FFT)的幅度。FFT中的峰值显示了周期信号中最强的频率。</p><p id="b585" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">英文维基百科的剧情- </strong></p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es lt"><img src="../Images/ab4eaf3b0ebab4940e46560126ea0520.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0GIRDScXqiseNYQu"/></div></div></figure><p id="8249" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">最初几个月，数据只有1到2次峰值，但在2016年7月之后，流量迅速上升，之后流量大幅下降。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es lu"><img src="../Images/5093c8b91d4348a65ecbfcf10047d23d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*NdsEV-wb1uN9hplq"/></div></div></figure><p id="a47e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在最后一个季度出现了一些小高峰</p><p id="e588" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">剧情为日文维基- </strong></p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es lt"><img src="../Images/030625109be960c19930e102000d2adc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*61OGbZ7dqg6s9354"/></div></div></figure><p id="db80" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">日语维基百科显示了2016年1月的一些高峰，我们可以看到2015年9月的流量大幅下降。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es lv"><img src="../Images/8d9a3cc86599687f9ba073cc0b8d9064.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tkBB8qZOoeHsFkbX"/></div></div></figure><p id="3098" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这与我们最初看到的曲线非常相似，峰值出现在120天和230天。</p><p id="5627" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">德语维基百科的情节- </strong></p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es lw"><img src="../Images/8160aa10347b8983adec54b66a69cd12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*esKPkG0mt4gH5jFU"/></div></div></figure><p id="95a7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">德语维基百科是所有语言中峰值最多的。我们可以看到，这使得“M”形状的结构，向上然后向下，再向上然后再向下。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es lx"><img src="../Images/70b5a499ff50e7f5af7d5c18dd082672.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*KOZLjAc5RdxhIwrZ"/></div></div></figure><p id="790b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">正如所料，在120和230天有峰值，但令人惊讶的是，在340天左右，有一个峰值。</p><p id="d231" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">维基媒体的阴谋- </strong></p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es ly"><img src="../Images/6cadc5daf9fd334b655adff99fa419c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*eiA05Vj68-LBV5B2"/></div></div></figure><p id="d5b3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">此图用于图像等媒体页面。我们可以看到，直到2016年4月，数据没有显示任何峰值，此后，有规律的峰值，也有一些非常大的峰值</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es lz"><img src="../Images/0f417af3547b929216ac5fcff1790a9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*SadNv8cSxH2IGNb0"/></div></div></figure><p id="8858" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">数据中有规则的峰值，但没有像前面图表中那样的大峰值。</p><p id="e2a4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">法语维基百科的情节- </strong></p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es ma"><img src="../Images/e08c2b182ebf16328fddf0f7e8ba4950.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*PrBJJDFxU0lnKIRO"/></div></div></figure><p id="a69b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">法语维基百科呈现上升趋势。峰值也可以定期看到，但在2016年3月左右有一个大峰值。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es lt"><img src="../Images/cbd0c5c4a9d00a68559cd259f7883166.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*gCeHJ2IwJJvHg73e"/></div></div></figure><p id="7613" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这也和之前的图很像，峰值在120，230，340天。每个季度末都有涨价。</p><p id="d020" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">中文维基百科的剧情- </strong></p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es mb"><img src="../Images/d07676f083d0c9df8687fdb1448a1617.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fohVEKKZQGBueVPy"/></div></div></figure><p id="db60" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">像其他语言一样，这种语言在最初几个月也有上升趋势，我们可以在2016年1月看到非常大的峰值</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es mc"><img src="../Images/08e790630ed3c38032d8fd571c5ba02f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wABnAdFtHV9nJabD"/></div></div></figure><p id="74ca" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">非常类似于前面的语言图，除了它在340天有一个相对较小的峰值</p><p id="e135" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">俄罗斯维基百科的剧情- </strong></p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es md"><img src="../Images/71ee644f80981d8b521c9f26077c56c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*eqEiffTGRQwF4Qea"/></div></div></figure><p id="eb49" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">俄语维基百科没有显示出大的上升或下降趋势，但在2016年第三季度出现了非常大的峰值。除此之外，它到处都有一些峰值，但没有其他语言那么多。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es me"><img src="../Images/ab11c3c18e798b6af368bbbe5c00340b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*F3di84aPT7AEH7DI"/></div></div></figure><p id="12f4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这在120天有一个峰值，但在230天没有看到主峰。</p><p id="3d92" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">西班牙语维基百科的剧情- </strong></p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es mf"><img src="../Images/b5a1378c232c7e161670091c501e568e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*8I5cSe20RG_HxFvI"/></div></div></figure><p id="d88e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们可以在数据中看到不错的每周模式，此后7天会出现常规峰值，从该图中可以观察到一个有趣的现象，即流量通常在第三季度末或第四季度初上升，在2016年11月，流量会出现非常大的峰值。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es mg"><img src="../Images/91780833132266dd5cdec7880b6267a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nmHIQhjrzvsc8xP8"/></div></div></figure><p id="02ce" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">该图显示了120天和230天的峰值，显示了季度周期。可以定期看到小峰，这可能是因为7天的滞后显示了高相关性。</p><p id="2de9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">结论:</p><p id="5293" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">看到这两个图后，西班牙语数据具有最强的周期性特征，大多数其他语言也显示出一定的周期性。出于某种原因，俄罗斯和媒体的数据似乎没有显示太多。用红线标出1周、1/2周和1/3周的周期。看到周期性特征主要在1周和1/2周。这并不奇怪，因为与周末相比，工作日的浏览习惯可能有所不同，导致整数n的FFT在频率n/(1周)处出现峰值。这表明页面视图一点也不平滑。每天都有一些有规律的变化，但是也有一些大的影响会突然发生。一个模型可能无法预测突然的峰值，除非它能够获得更多关于当前正在发生的事情的信息。</p><h1 id="a984" class="jz ka hh bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">每个项目名称具有以下格式:“名称_项目_访问_代理”。为了更好地理解数据，将这4个特征分离出来是个好主意。</h1><figure class="js jt ju jv fd jw"><div class="bz dy l di"><div class="lh li l"/></div></figure><figure class="js jt ju jv fd jw er es paragraph-image"><div class="er es mh"><img src="../Images/4ccc84bfb411a287c10a3217ce0ced6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:962/format:webp/1*nGvCZbc8QnrBO3UnU3eKLg.png"/></div></figure><p id="928b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如我们所见，项目、访问和代理分别有9、3和2个唯一值。看看这些价值</p><figure class="js jt ju jv fd jw"><div class="bz dy l di"><div class="lh li l"/></div></figure><p id="17c2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">绘制项目的月平均点击数</p><figure class="js jt ju jv fd jw"><div class="bz dy l di"><div class="lh li l"/></div></figure><p id="adad" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在，让我们看看情节</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es mi"><img src="../Images/a9912def3608a07e3be1f8f539143a12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VptIrjlviqzFoTPKuo-0Ug.png"/></div></div></figure><p id="2d46" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">结论:</p><p id="5fe2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">英语维基百科项目的点击率超过任何其他项目。此外，俄语维基百科将在2016年8月和英语维基百科一样涨价。</p><p id="39ff" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在英语项目都是图表，很难想象其他项目。如果可能的话，把英语项目分开并找出一些模式。</p><figure class="js jt ju jv fd jw"><div class="bz dy l di"><div class="lh li l"/></div></figure><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es mj"><img src="../Images/bbf61ab986b741f69ea37a401443ded7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F0mSCYRbwseEtL8AAWmVsQ.png"/></div></div></figure><p id="6f2a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">结论:</p><p id="579d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">它清楚地表明，用户很少访问媒体页面，但在2016年6月的俄罗斯页面中显示了一些增长。</p><figure class="js jt ju jv fd jw"><div class="bz dy l di"><div class="lh li l"/></div></figure><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es mk"><img src="../Images/5ac6af015fc8e81e7ef3d585f29ee8d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f0fDBzMazkqWo4gtCw8JxA.png"/></div></div></figure><p id="d9fd" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">结论:</p><p id="268e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">所有的页面都可以访问，但桌面比移动用户更严格。人们更喜欢通过桌面访问。</p><figure class="js jt ju jv fd jw"><div class="bz dy l di"><div class="lh li l"/></div></figure><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es ml"><img src="../Images/94af84ddb201a4e69cfb91d141a7c88b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5gGbzTD_-6SdYFeird9jrA.png"/></div></div></figure><p id="6fde" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">结论:</p><p id="4783" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们无法从上图中获得数据模式。代理只有两个值，为什么不把它们画在两个不同的图中，看看它们的行为。</p><figure class="js jt ju jv fd jw"><div class="bz dy l di"><div class="lh li l"/></div></figure><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es mm"><img src="../Images/07eac2a9614421b1d6b7556d230fa056.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jGodPu5m2cj2gg_oUh1vWw.png"/></div></div></figure><figure class="js jt ju jv fd jw"><div class="bz dy l di"><div class="lh li l"/></div></figure><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es ml"><img src="../Images/7219d789477e094a1f5d84326430480c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LJAp6ZQMUIZEW-cwd-LL8g.png"/></div></div></figure><p id="abbd" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">结论:</p><p id="eea7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">“访问”和“代理”的“全部访问”和“全部代理”值是各自属性值的总和。因此，除了全接入之外的每个值都对全接入的趋势有贡献，而除了全代理之外的所有值都对全代理的趋势有贡献。</p><p id="fff7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们已经看到了我们的数据所展示的每一种模式。现在，我们将尝试根据我们的数据回答一些问题，这些数据在我们项目的后期阶段可能会有所帮助。</p><h1 id="81e7" class="jz ka hh bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">平均哪个月访问量多？</h1><p id="bd96" class="pw-post-body-paragraph ie if hh ig b ih kx ij ik il ky in io ip kz ir is it la iv iw ix lb iz ja jb ha bi translated">从现在开始，我们试图回答的每一个问题，它们的平均值将基于中值而不是平均值。</p><figure class="js jt ju jv fd jw"><div class="bz dy l di"><div class="lh li l"/></div></figure><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es mn"><img src="../Images/001b25929a4927fda0d9c048ccc88cd0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EwhA8R-Lnae4-gR7XpJapg.png"/></div></div></figure><p id="eb15" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">所以，指数4是五月的，它显示平均来说五月的访问量最大。与平均访客数量最少的7月相比，5月显示出25 %的显著增长。</p><figure class="js jt ju jv fd jw"><div class="bz dy l di"><div class="lh li l"/></div></figure><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es mo"><img src="../Images/69cafb9ecc811d1e6f56fb5de09890a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2y09TomRRQ4IMegDTdtLTw.png"/></div></div></figure><p id="8dd8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们可以看到，平均而言，周日的游客数量最多，但所有人都非常接近，没有太大差异。</p><h1 id="aa27" class="jz ka hh bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">假期会影响普通游客的数量吗？</h1><p id="bff4" class="pw-post-body-paragraph ie if hh ig b ih kx ij ik il ky in io ip kz ir is it la iv iw ix lb iz ja jb ha bi translated">因为一年的最后三个月是全世界节日最多的月份。让我们检查一下它是否影响平均访问人数。</p><figure class="js jt ju jv fd jw"><div class="bz dy l di"><div class="lh li l"/></div></figure><figure class="js jt ju jv fd jw er es paragraph-image"><div class="er es mp"><img src="../Images/d41ead65390cca5bc5d1456a70959347.png" data-original-src="https://miro.medium.com/v2/resize:fit:1242/format:webp/1*F7H3T4jEsWZlwDE15qiuSw.png"/></div></figure><p id="719f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这里有一些不同。实际上，假日期间游客的平均数量下降了7.3 %。</p><p id="1a49" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">结论——这确实有所不同，在节日期间，维基百科页面的流量比一年中的其他月份要少。</p><p id="ff7f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这是我们的EDA的结尾，我们已经深入分析了我们的数据，这些数据将在我们案例研究的后期阶段有用。至此，我们结束了这一部分的系列。</p><h1 id="f415" class="jz ka hh bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">8.参考文献-</h1><ol class=""><li id="d11b" class="jc jd hh ig b ih kx il ky ip ld it le ix lf jb jh ji jj jk bi translated"><a class="ae jl" href="https://www.kaggle.com/c/web-traffic-time-series-forecasting/discussion/43795" rel="noopener ugc nofollow" target="_blank">https://www . ka ggle . com/c/we B- traffic-time-series-forecasting/discussion/43795</a></li></ol><p id="eaf5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">2.<a class="ae jl" href="https://towardsdatascience.com/web-traffic-forecasting-f6152ca240cb" rel="noopener" target="_blank">https://towards data science . com/we b-traffic-forecasting-f 6152 ca 240 CB</a></p><p id="19b2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">3.【https://cs.adelaide.edu.au/~zbyszek/Papers/p51.pdf T4】</p><p id="7dcc" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">4.<a class="ae jl" href="https://blog.octo.com/en/time-series-features-extraction-using-fourier-and-wavelet-transforms-on-ecg-data/" rel="noopener ugc nofollow" target="_blank">https://blog . octo . com/en/time-series-features-extraction-using-Fourier-and-wavelet-transforms-on-ECG-data/</a></p><p id="c799" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">5.<a class="ae jl" href="https://www.youtube.com/watch?v=mrExsjcvF4o&amp;t=830s" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=mrExsjcvF4o&amp;t = 830s</a></p><p id="ec42" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">6.<a class="ae jl" href="https://www.appliedaicourse.com/course/11/Applied-Machine-learning-course" rel="noopener ugc nofollow" target="_blank">https://www . Applied ai course . com/course/11/Applied-Machine-learning-course</a></p><p id="fb94" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果您有任何疑问，请随时发表评论，或者您也可以通过<a class="ae jl" href="https://www.linkedin.com/in/naman-gupta-ds/" rel="noopener ugc nofollow" target="_blank"> Linkedin </a>联系我。你可以在这里找到我的完整项目<a class="ae jl" href="https://github.com/NamanGuptacs/web-traffic-time-series-forecasting" rel="noopener ugc nofollow" target="_blank"/>。</p></div></div>    
</body>
</html>