<html>
<head>
<title>A Tip A Day — Python Tip #10: 2 reasons to use Python Type Hints | Dev Skrol</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一天一个技巧——Python技巧#10:使用Python类型提示的2个理由</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/a-tip-a-day-python-tip-10-2-reasons-to-use-python-type-hints-dev-skrol-ca156a813927?source=collection_archive---------6-----------------------#2021-09-11">https://medium.com/analytics-vidhya/a-tip-a-day-python-tip-10-2-reasons-to-use-python-type-hints-dev-skrol-ca156a813927?source=collection_archive---------6-----------------------#2021-09-11</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/5b2e5373fd1df3377295d96c129339e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*A5Kgp3kuZvuq_xxK.jpg"/></div></div></figure><p id="a514" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">类型提示用于说明变量的预期数据类型。</p><p id="4830" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">即使在Python 3.6之前，开发人员也在注释中提供了首选数据类型。以便在进一步的增强中，同一变量不能用于不同的数据类型。</p><p id="bb9d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Python 3.6之后，引入了类型提示。</p><h1 id="78ea" class="jn jo hh bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">为什么我们需要使用类型提示？</h1><h1 id="fbdb" class="jn jo hh bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">原因1:</h1><p id="cfda" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja kn jc jd je ko jg jh ji kp jk jl jm ha bi translated"><strong class="ir hi">类型提示可以用来提及变量的数据类型。</strong></p><p id="a634" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">语法:</strong></p><pre class="kq kr ks kt fd ku kv kw kx aw ky bi"><span id="c769" class="kz jo hh kv b fi la lb l lc ld">&lt;variable_name&gt;: &lt;expected data type&gt;</span></pre><p id="5ffd" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">举例:</strong></p><pre class="kq kr ks kt fd ku kv kw kx aw ky bi"><span id="4e1a" class="kz jo hh kv b fi la lb l lc ld">amount: int = 1000</span></pre><p id="4384" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们也可以只使用类型提示来声明一个变量，甚至不用定义值。</p><p id="496b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">举例:</strong></p><pre class="kq kr ks kt fd ku kv kw kx aw ky bi"><span id="a628" class="kz jo hh kv b fi la lb l lc ld">total_amount: int <br/>sales_1 = 100 <br/>sales_2 = 200 <br/>total_amount = sales_1 + sales_2</span></pre><p id="4f94" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">类型提示永远不会强制变量的数据类型。类型提示仅供用户参考。</p><p id="0b3f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">因此，在以后的版本中，相同变量的使用将由不同的开发人员来处理，这将使您对变量的期望值有所了解。</p><p id="d539" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这将减少运行时错误，如字符串值与“*”运算符一起用于乘法时的“类型错误”。</p><p id="4641" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这只是一个提示，当一个整数提示变量被赋予字符串值时，在运行时不会产生错误来强制数据类型。</p><h1 id="84d5" class="jn jo hh bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">原因2:</h1><p id="1dab" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja kn jc jd je ko jg jh ji kp jk jl jm ha bi translated">类型提示在函数中也非常有用。<br/>这些帮助开发者知道参数的预期数据类型。<br/>例如，在下面的例子中，参数必须是一个数字。</p><pre class="kq kr ks kt fd ku kv kw kx aw ky bi"><span id="7560" class="kz jo hh kv b fi la lb l lc ld"># Both the functions expect only numbers and not string values</span><span id="b288" class="kz jo hh kv b fi le lb l lc ld">def multiply(a, b):</span><span id="ef96" class="kz jo hh kv b fi le lb l lc ld">return a * b</span><span id="878b" class="kz jo hh kv b fi le lb l lc ld">def addition(a, b):</span><span id="15d9" class="kz jo hh kv b fi le lb l lc ld">return a + b</span><span id="e9f4" class="kz jo hh kv b fi le lb l lc ld">print(addition(5,6))</span><span id="8a08" class="kz jo hh kv b fi le lb l lc ld">print(addition("5","6"))</span></pre><p id="a13e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">11 <br/> 56</p><p id="c199" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><code class="du lf lg lh kv b">print(multiply(5,6))</code></p><p id="9b98" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><code class="du lf lg lh kv b">print(multiply("5","6"))</code></p><pre class="kq kr ks kt fd ku kv kw kx aw ky bi"><span id="0c01" class="kz jo hh kv b fi la lb l lc ld">30<br/><strong class="kv hi">---------------------------------------------------------------------------</strong><br/><strong class="kv hi">TypeError</strong>                                 Traceback (most recent call last)<br/><strong class="kv hi">&lt;ipython-input-8-051e65134284&gt;</strong> in &lt;module&gt;<br/>      1 print<strong class="kv hi">(</strong>multiply<strong class="kv hi">(5,6))</strong><br/><strong class="kv hi">----&gt; 2 </strong>print<strong class="kv hi">(</strong>multiply<strong class="kv hi">("5","6"))</strong></span><span id="e545" class="kz jo hh kv b fi le lb l lc ld"><strong class="kv hi">&lt;ipython-input-7-9af0c4484b3c&gt;</strong> in multiply<strong class="kv hi">(a, b)</strong><br/>      1 <strong class="kv hi">def</strong> multiply<strong class="kv hi">(</strong>a<strong class="kv hi">,</strong> b<strong class="kv hi">):</strong><br/><strong class="kv hi">----&gt; 2     return</strong> a <strong class="kv hi">*</strong> b</span><span id="b17b" class="kz jo hh kv b fi le lb l lc ld"><strong class="kv hi">TypeError</strong>: can't multiply sequence by non-int of type 'str'</span></pre><p id="298f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在上面的例子中，参数的预期数据类型是整数。<br/>但是传递了字符串值。<br/>现在我们将为参数设置类型提示。</p><pre class="kq kr ks kt fd ku kv kw kx aw ky bi"><span id="16bb" class="kz jo hh kv b fi la lb l lc ld">def addition(a: int, b: int) -&gt; int:</span><span id="0247" class="kz jo hh kv b fi le lb l lc ld">return a + b</span><span id="1cdc" class="kz jo hh kv b fi le lb l lc ld">def multiply(a: int, b: int) -&gt; int:</span><span id="e08f" class="kz jo hh kv b fi le lb l lc ld">return a * b</span><span id="9a63" class="kz jo hh kv b fi le lb l lc ld">print(addition(5,6))</span><span id="f3c4" class="kz jo hh kv b fi le lb l lc ld">print(addition("5","6"))</span><span id="ec96" class="kz jo hh kv b fi le lb l lc ld">print(multiply(5,6))</span><span id="317a" class="kz jo hh kv b fi le lb l lc ld">print(multiply("5","6"))</span></pre><p id="9455" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">输出:</p><pre class="kq kr ks kt fd ku kv kw kx aw ky bi"><span id="8ccf" class="kz jo hh kv b fi la lb l lc ld">11<br/>56<br/>30 </span><span id="95e6" class="kz jo hh kv b fi le lb l lc ld"><strong class="kv hi">---------------------------------------------------------------------------</strong><br/> TypeError                                 Traceback (most recent call last)<br/>  in <br/>       1 print(multiply(5,6))<br/> ----&gt; 2 print(multiply("5","6"))<br/>  in multiply(a, b)<br/>       1 def multiply(a: int, b: int):<br/> ----&gt; 2     return a * b<br/>       3 <br/>       4 def addition(a: int, b: int):<br/>       5     return a + b<br/> TypeError: can't multiply sequence by non-int of type 'str'</span></pre><p id="bd8d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如您所见，结果没有变化。<br/>类型提示只能通过提供关于变量预期类型的额外信息来帮助开发人员。这里，据说只发送整数值。<br/>它不会强制编译器只允许指定的数据类型。<br/>Python的动态类型仍然有效。</p><p id="0537" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我希望你喜欢学习类型提示。</p><p id="df94" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">让我们在未来的技巧中探索更多关于Python的内容。</p><h1 id="047d" class="jn jo hh bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">更多有趣的Python技巧:</h1><p id="90bb" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja kn jc jd je ko jg jh ji kp jk jl jm ha bi translated"><a class="ae li" href="https://devskrol.com/index.php/2021/09/03/a-tip-a-day-python-tip-9-3-interesting-things-about-format/" rel="noopener ugc nofollow" target="_blank">一天一个技巧——Python技巧9:关于格式{}的3件趣事</a></p><p id="5a18" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><a class="ae li" href="https://devskrol.com/index.php/2020/10/25/a-tip-a-day-python-tip-6-pandas-merge/" rel="noopener ugc nofollow" target="_blank">一天一个提示——Python提示# 6——熊猫合并</a></p><p id="4c00" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><a class="ae li" href="https://devskrol.com/index.php/2020/10/20/a-tip-a-day-python-tip-5-pandas-concat-append/" rel="noopener ugc nofollow" target="_blank">一天一个提示— Python提示#5 —熊猫串联&amp;追加</a></p><p id="8a09" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><a class="ae li" href="https://devskrol.com/index.php/category/python-tips/" rel="noopener ugc nofollow" target="_blank">所有其他提示</a></p><h1 id="a8d5" class="jn jo hh bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">其他有趣的概念:</h1><p id="ddd7" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja kn jc jd je ko jg jh ji kp jk jl jm ha bi translated"><a class="ae li" href="https://devskrol.com/index.php/2021/04/17/spacy-vs-nltk-basic-nlp-operations-code-and-result-comparison/" rel="noopener ugc nofollow" target="_blank"> SpaCy Vs NLTK —基本NLP操作代码和结果比较</a></p><p id="de68" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><a class="ae li" href="https://devskrol.com/index.php/2020/08/09/best-way-to-impute-nan-within-groups-mean-mode/" rel="noopener ugc nofollow" target="_blank">在组内估算NAN的最佳方式—均值&amp;模式</a></p></div><div class="ab cl lj lk go ll" role="separator"><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo"/></div><div class="ha hb hc hd he"><p id="0306" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><em class="lq">原载于2021年9月11日https://devskrol.com</em><a class="ae li" href="https://devskrol.com/index.php/2021/09/11/a-tip-a-day-python-tip-10-2-reasons-to-use-python-type-hints/" rel="noopener ugc nofollow" target="_blank"><em class="lq"/></a><em class="lq">。</em></p></div></div>    
</body>
</html>