<html>
<head>
<title>Techniques for Feature Scaling and Transformations with Custom SAS Macros — By Suraj Saini</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用自定义SAS宏进行功能缩放和转换的技术Suraj Saini</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/techniques-for-feature-scaling-and-transformations-with-custom-sas-macros-by-suraj-saini-9b8814f7b730?source=collection_archive---------19-----------------------#2021-01-14">https://medium.com/analytics-vidhya/techniques-for-feature-scaling-and-transformations-with-custom-sas-macros-by-suraj-saini-9b8814f7b730?source=collection_archive---------19-----------------------#2021-01-14</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="3b91" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">第二部分</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jc"><img src="../Images/6094d0e7703f510b9442a1dfe15a5534.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*FKymkm5lMv1TapRG.jpg"/></div></div></figure><p id="5aac" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在之前的<a class="ae jo" href="https://seleritysas.com/blog/2020/12/18/techniques-of-feature-scaling-with-sas-custom-macro/" rel="noopener ugc nofollow" target="_blank">博客文章</a>中，我们讨论了特性扩展技术，并使用SAS宏在基本SAS中实现了这一技术。然而，在这篇博文中，我们将重点关注使用SAS宏的特性缩放和转换技术。在这里，我将解释它们是什么以及它们最适用的场景。</p><h2 id="85e6" class="jp jq hh bd jr js jt ju jv jw jx jy jz ip ka kb kc it kd ke kf ix kg kh ki kj bi translated">5.绝对最大缩放器</h2><p id="7da9" class="pw-post-body-paragraph ie if hh ig b ih kk ij ik il kl in io ip km ir is it kn iv iw ix ko iz ja jb ha bi translated">绝对最大缩放器(Abs_MaxScaler)是一种特征缩放技术，其中数据点除以最大数据值。然后，它将在-1和1之间重新调整值。</p><p id="d31a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">虽然Abs_MaxScaler有其优点，但也有一些缺点。Abs_MaxScaler最大的缺点就是数据值会受到离群值的影响。数学公式在这里:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es kp"><img src="../Images/92f5b6d54143bb3df117492aa5b5cf1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:508/0*3ELnEdZ66WooPzqr"/></div></figure><p id="9d69" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="kq"> 5.1如何在SAS中使用Abs_MaxScaler？</em></p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es kr"><img src="../Images/b3f250b05006ab7b7850990e9f0053fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/0*h65PXR8ZaYubV6ga"/></div></figure><p id="26e6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="kq"> 5.2 Abs_MaxScaler SAS宏定义</em></p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es ks"><img src="../Images/b3886a72f2063f1d8c4c77856c12f69d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7ELQ4tDJScBtOE-C"/></div></div></figure><p id="00ef" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="kq">Abs _ max scaler SAS宏在幕后做什么？</em></p><p id="f3ed" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">Abs_MaxScaler获取您想要缩放的变量，并用缩放后的值创建一个新变量“AMVariableName”。它还创建了一个单变量报告，您可以在其中看到实际变量和新缩放变量的直方图。</p><h1 id="c21e" class="kt jq hh bd jr ku kv kw jv kx ky kz jz la lb lc kc ld le lf kf lg lh li ki lj bi translated">第2部分—特征转换</h1><p id="fa24" class="pw-post-body-paragraph ie if hh ig b ih kk ij ik il kl in io ip km ir is it kn iv iw ix ko iz ja jb ha bi translated">我将讨论遵循正态分布(也称为高斯分布)的特征变换技术。随着讨论的进行，我还将使用一些高级SAS宏编程来实现基础SAS中的特性转换。</p><p id="f1d5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">它是在统计和数学函数的帮助下，将数据从一种表示形式转换为另一种表示形式，同时保留数据中的信息的过程。将数据分布转换成正态分布有许多不同的转换，但我将主要使用五种基本转换:对数、倒数、平方根、指数和Box-Cox。</p><h2 id="653c" class="jp jq hh bd jr js jt ju jv jw jx jy jz ip ka kb kc it kd ke kf ix kg kh ki kj bi translated">为什么我们需要功能转换？</h2><p id="6382" class="pw-post-body-paragraph ie if hh ig b ih kk ij ik il kl in io ip km ir is it kn iv iw ix ko iz ja jb ha bi translated"><strong class="ig hi">什么是特征转换？</strong></p><p id="b411" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">特征变换很重要，因为它使机器学习和统计模型更容易理解你的数据并做出准确的预测。此外，用户需要更少的学习和培训时间来获得所需的结果；然而，这并不适用于每个ML、DL和统计算法。<br/>存在假设数据正态分布的统计算法和模型。例如，在回归分析过程中，特征变换必须遵循正态分布，否则会得出错误的结果。</p><h2 id="654f" class="jp jq hh bd jr js jt ju jv jw jx jy jz ip ka kb kc it kd ke kf ix kg kh ki kj bi translated">特征变换的类型</h2><p id="cd49" class="pw-post-body-paragraph ie if hh ig b ih kk ij ik il kl in io ip km ir is it kn iv iw ix ko iz ja jb ha bi translated">1.<strong class="ig hi">对数转换:</strong>当数据有偏差或存在影响分布的异常值时，这种转换是最佳解决方案。它将使用对数函数转换数据。<br/> 2。<strong class="ig hi">倒易变换:</strong>与其他变换相比，这种变换不是很有效，因为它对分布的形状几乎没有影响。它将数据转换为其值的倒数。比如3会转化成1/3。它仅用于非零数据值。<br/> 3。<strong class="ig hi">指数变换:</strong>用大多数编程语言中给出的exp()函数将数据转换成“e的x次方”<br/> 4。<strong class="ig hi">平方根变换:</strong>顾名思义，它将数据值变换为其值的平方根，这意味着我们可以将其应用于零值数据。应当注意，平方根变换不如对数变换有效。这是因为与<strong class="ig hi">对数转换</strong>相比，它对分布的影响较小。<br/> 5。<strong class="ig hi"> Box-Cox转换:</strong>对于Box-Cox转换，数据值必须为正。它适用于具有均匀性质的数据，是统计领域中最常用的转换。在变换公式中，如果λ为零，则取对数，λ的值在-5到5之间变化。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es lk"><img src="../Images/35dfd02bd5e88396eaff622ab488cd8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:486/0*Zjd-_uirpul4CDPJ"/></div></figure><h2 id="9a14" class="jp jq hh bd jr js jt ju jv jw jx jy jz ip ka kb kc it kd ke kf ix kg kh ki kj bi translated">在SAS中应用特征转换技术</h2><p id="bedd" class="pw-post-body-paragraph ie if hh ig b ih kk ij ik il kl in io ip km ir is it kn iv iw ix ko iz ja jb ha bi translated"><em class="kq"> 1。SAS中的Box-Cox变换</em></p><p id="86ee" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">可以用<strong class="ig hi"> %BoxCox (dataset，variable) </strong>调用这个宏。<br/>数据集=你的数据集名，带有库实例<strong class="ig hi"> sashelp.cars </strong>。<br/>变量=变量的名称</p><p id="04d2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="kq">% BoxCox()在幕后做什么？</em></p><p id="0e8c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">%BoxCox仅在数据值为正值时接受变量，否则，它会给出一条错误消息——“您的数据有负值，因此您不能应用BoxCox变换。”如果数据为非负，它将创建一个新的临时数据集，包含“您的变量的名称”和转换变量“您的变量的名称”。它还将生成转换变量的单变量报告，您可以在其中检查正态分布。</p><p id="19fa" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="kq"> SAS %BoxCox()宏定义代码</em></p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es ll"><img src="../Images/b7e5fdced5136a3471d0fc980636cde5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*I3B2orVCMqmwjiho"/></div></div></figure><h2 id="3fc8" class="jp jq hh bd jr js jt ju jv jw jx jy jz ip ka kb kc it kd ke kf ix kg kh ki kj bi translated">2.对数、平方根、倒数和指数转换一体化SAS宏</h2><p id="29e1" class="pw-post-body-paragraph ie if hh ig b ih kk ij ik il kl in io ip km ir is it kn iv iw ix ko iz ja jb ha bi translated">%Transform () SAS宏在幕后做什么？</p><p id="e4b2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">可以用<strong class="ig hi"> %Transform (dataset，variable，type) </strong>调用这个宏。<br/>数据集=带有库的数据集名称，例如sashelp.cars <br/>变量=变量名称<br/>类型=您只能选择一种转换类型(<strong class="ig hi">对数、平方根、倒数和指数</strong>)</p><p id="cdb9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">%Transform宏将接受一个变量，并根据您在“type”参数中的选择将其转换为一个转换。然后，它生成一个单变量报告，解释转换后变量的分布。</p><p id="cd5e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="kq"> SAS %Transform()宏定义代码</em></p><p id="3251" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">/* SAS宏定义*/</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es kr"><img src="../Images/833105a950736bf1d01eb8c682ab69cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/0*Mt0ioHhuwfDi1V6k"/></div></figure><p id="2750" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">GitHub上的代码可从这里获得:<a class="ae jo" href="https://github.com/Suraj-617/Blogs/blob/master/Techniques%20of%20Feature%20Scaling%20with%20SAS%20Custom%20Macro-B.sas" rel="noopener ugc nofollow" target="_blank">https://GitHub . com/Suraj-617/Blogs/blob/master/Techniques % 20 of % 20 feature % 20 scaling % 20 with % 20 SAS % 20 custom % 20 macro-b . SAS</a></p></div><div class="ab cl lm ln go lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="ha hb hc hd he"><p id="1fd4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="kq">原载于2021年1月14日https://seleritysas.com</em><a class="ae jo" href="https://seleritysas.com/blog/2021/01/14/techniques-for-feature-scaling-and-transformations-with-custom-sas-macros/" rel="noopener ugc nofollow" target="_blank"><em class="kq"/></a><em class="kq">。</em></p></div></div>    
</body>
</html>