<html>
<head>
<title>Automate Gist Creation From Markdown File Using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python从Markdown文件自动创建Gist</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/automate-gist-creation-from-markdown-file-using-python-df730762a1e?source=collection_archive---------7-----------------------#2021-05-11">https://medium.com/analytics-vidhya/automate-gist-creation-from-markdown-file-using-python-df730762a1e?source=collection_archive---------7-----------------------#2021-05-11</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="f84e" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">Markdown的代码块非常适合编写代码片段。然而，当你试图通过博客平台发布或分享它时，会有一些缺点。Gist可以帮助缩小差距。Gist让你的博客看起来更好，更容易维护。在这篇文章中，让我们看看自动创建要点是如何改善你的技术博客体验的。</h2></div><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es iw"><img src="../Images/b576a7e8e8d2c2e8e4c9f58376ed582d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IS8_PSMLtHZ0bFYWwZnepg.png"/></div></div></figure><h1 id="ee50" class="ji jj hh bd jk jl jm jn jo jp jq jr js in jt io ju iq jv ir jw it jx iu jy jz bi translated">要点介绍</h1><p id="1dba" class="pw-post-body-paragraph ka kb hh kc b kd ke ii kf kg kh il ki kj kk kl km kn ko kp kq kr ks kt ku kv ha bi translated">Gist是一个GitHub存储库，在这里你可以存储和与他人共享代码/数据。一个gist可以存储多个文件。基于文件扩展名类型支持语法突出显示，因此在命名文件时要小心。要点可以是公开的，也可以是秘密的。请注意，secret gists不是私有的，这意味着任何拥有该URL的人都可以查看代码/数据。</p><h1 id="3896" class="ji jj hh bd jk jl jm jn jo jp jq jr js in jt io ju iq jv ir jw it jx iu jy jz bi translated">为什么要用gist？</h1><ul class=""><li id="8b40" class="kw kx hh kc b kd ke kg kh kj ky kn kz kr la kv lb lc ld le bi translated">支持GitHub库功能，如版本控制、分叉和克隆。</li><li id="d2e0" class="kw kx hh kc b kd lf kg lg kj lh kn li kr lj kv lb lc ld le bi translated">能够订阅，星级和评论，使gist容易与他人合作。</li><li id="e9b2" class="kw kx hh kc b kd lf kg lg kj lh kn li kr lj kv lb lc ld le bi translated">Gist可以以多种方式共享，没有任何依赖或安装。</li></ul><figure class="ix iy iz ja fd jb er es paragraph-image"><div class="er es lk"><img src="../Images/a864f59aa9dac2fc07cb5b568e181b55.png" data-original-src="https://miro.medium.com/v2/resize:fit:624/format:webp/1*FLCIYbgEYT9h0lWjVjFUrQ.png"/></div><figcaption class="ll lm et er es ln lo bd b be z dx translated">要点分享</figcaption></figure><h1 id="22ae" class="ji jj hh bd jk jl jm jn jo jp jq jr js in jt io ju iq jv ir jw it jx iu jy jz bi translated">为什么在博客中使用gist？</h1><p id="022c" class="pw-post-body-paragraph ka kb hh kc b kd ke ii kf kg kh il ki kj kk kl km kn ko kp kq kr ks kt ku kv ha bi translated">我目前写博客的工作流程如下:</p><ol class=""><li id="a2b9" class="kw kx hh kc b kd lp kg lq kj lr kn ls kr lt kv lu lc ld le bi translated">用Jupyter笔记本写博客。</li><li id="b8c1" class="kw kx hh kc b kd lf kg lg kj lh kn li kr lj kv lu lc ld le bi translated">下载笔记本作为降价文件。</li><li id="abbe" class="kw kx hh kc b kd lf kg lg kj lh kn li kr lj kv lu lc ld le bi translated">发布到<a class="ae lv" href="https://6aravind.medium.com" rel="noopener">中型</a> &amp; <a class="ae lv" href="https://dev.to/6aravind" rel="noopener ugc nofollow" target="_blank">开发到</a>等平台之前，对降价文件进行编辑</li></ol><p id="aa64" class="pw-post-body-paragraph ka kb hh kc b kd lp ii kf kg lq il ki kj lw kl km kn lx kp kq kr ly kt ku kv ha bi translated">第3步涉及许多手动过程，我计划在接下来的几周内解决这些问题。我现在最关心的是代码片段在不同平台上的样子。更具体地说:</p><ul class=""><li id="74a4" class="kw kx hh kc b kd lp kg lq kj lr kn ls kr lt kv lb lc ld le bi translated">发布后，没有简单的方法对代码片段进行更改</li><li id="1e65" class="kw kx hh kc b kd lf kg lg kj lh kn li kr lj kv lb lc ld le bi translated">中等失去语法突出显示</li><li id="b1df" class="kw kx hh kc b kd lf kg lg kj lh kn li kr lj kv lb lc ld le bi translated">在两种平台中，无法突出显示长代码段中的特定行</li></ul><figure class="ix iy iz ja fd jb er es paragraph-image"><div class="er es lz"><img src="../Images/ebf5efc14aef6b8e91e090b9e19f3c27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1336/format:webp/1*sy6xTWMWN-GPTkThesfkWA.png"/></div><figcaption class="ll lm et er es ln lo bd b be z dx translated">中等和要点的区别</figcaption></figure><p id="98dd" class="pw-post-body-paragraph ka kb hh kc b kd lp ii kf kg lq il ki kj lw kl km kn lx kp kq kr ly kt ku kv ha bi translated">Gist有助于解决所有这些问题。另外，来自同一个博客的所有代码片段可以通过gist组合在一起。这使得引用/访问(如果需要)更加容易。</p><h1 id="48ea" class="ji jj hh bd jk jl jm jn jo jp jq jr js in jt io ju iq jv ir jw it jx iu jy jz bi translated">从降价文件创建要点</h1><p id="0898" class="pw-post-body-paragraph ka kb hh kc b kd ke ii kf kg kh il ki kj kk kl km kn ko kp kq kr ks kt ku kv ha bi translated">目标是为markdown文件创建一个要点，其中每个代码片段都是一个单独的文件。</p><ol class=""><li id="915d" class="kw kx hh kc b kd lp kg lq kj lr kn ls kr lt kv lu lc ld le bi translated">首先，我们将下载像<a class="ae lv" href="https://www.liquidweb.com/kb/little-known-ways-to-utilize-github-gists/" rel="noopener ugc nofollow" target="_blank">这篇文章</a>中提到的用于gist创建的令牌，并将其存储在一个名为— <em class="ma"> create_gist_token.txt </em>的文件中</li></ol><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="mb mc l"/></div></figure><p id="5568" class="pw-post-body-paragraph ka kb hh kc b kd lp ii kf kg lq il ki kj lw kl km kn lx kp kq kr ly kt ku kv ha bi translated">2.我们可以使用python读取markdown文件，并使用正则表达式找到所有代码块。python的代码块是通过在markdown文件中的``之间包装代码来创建的。旗<a class="ae lv" href="https://docs.python.org/3/library/re.html#re.S" rel="noopener ugc nofollow" target="_blank"> re。S </a>确保匹配也包括换行符</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="mb mc l"/></div></figure><p id="5045" class="pw-post-body-paragraph ka kb hh kc b kd lp ii kf kg lq il ki kj lw kl km kn lx kp kq kr ly kt ku kv ha bi translated">3.如前所述，每个代码片段在gist中都是一个独立的文件，所以我们需要为每个代码片段取一个名字。为了简单起见，我们将第一个注释作为文件名。</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="mb mc l"/></div></figure><p id="9042" class="pw-post-body-paragraph ka kb hh kc b kd lp ii kf kg lq il ki kj lw kl km kn lx kp kq kr ly kt ku kv ha bi translated">4.要点的描述将是减价文件的第一个标题。通常，这将是博客的名称，所以应该足够了。现在我们可以把所有的数据放在一起，进行API调用。</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="mb mc l"/></div></figure><p id="738d" class="pw-post-body-paragraph ka kb hh kc b kd lp ii kf kg lq il ki kj lw kl km kn lx kp kq kr ly kt ku kv ha bi translated">5.由于Devto支持液体文本，所以与Medium相比，我们需要特殊的格式来嵌入要点。在这两个平台中，我们需要指定文件，以便不显示整个要点。</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="mb mc l"/></div></figure><p id="88dd" class="pw-post-body-paragraph ka kb hh kc b kd lp ii kf kg lq il ki kj lw kl km kn lx kp kq kr ly kt ku kv ha bi translated">6.遍历所有上传的文件，并用markdown文件中相应的gist嵌入替换它们。我已经包含了两个平台的嵌入，可以根据你的需要随意修改。</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="mb mc l"/></div></figure><p id="094c" class="pw-post-body-paragraph ka kb hh kc b kd lp ii kf kg lq il ki kj lw kl km kn lx kp kq kr ly kt ku kv ha bi translated">7.重写脚本，使其更容易从命令行运行。</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="mb mc l"/></div></figure></div><div class="ab cl md me go mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ha hb hc hd he"><h1 id="f077" class="ji jj hh bd jk jl mk jn jo jp ml jr js in mm io ju iq mn ir jw it mo iu jy jz bi translated">外卖食品</h1><p id="2e0a" class="pw-post-body-paragraph ka kb hh kc b kd ke ii kf kg kh il ki kj kk kl km kn ko kp kq kr ks kt ku kv ha bi translated">Gist非常有用，它解决了博客中的许多恼人的问题。我们已经设法整合了一个python脚本，它可以减少发布博客所需的人工工作。请随时通过<a class="ae lv" href="https://twitter.com/6aravind" rel="noopener ugc nofollow" target="_blank"> Twitter </a>联系我，或者评论你对这篇文章的想法。</p></div><div class="ab cl md me go mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ha hb hc hd he"><p id="08e7" class="pw-post-body-paragraph ka kb hh kc b kd lp ii kf kg lq il ki kj lw kl km kn lx kp kq kr ly kt ku kv ha bi translated"><em class="ma">原载于2021年5月11日</em><a class="ae lv" href="https://dev.to/6aravind/automate-gist-creation-from-markdown-file-using-python-2la5" rel="noopener ugc nofollow" target="_blank"><em class="ma">https://dev . to</em></a><em class="ma">。</em></p></div></div>    
</body>
</html>