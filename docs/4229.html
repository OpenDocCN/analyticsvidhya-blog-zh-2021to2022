<html>
<head>
<title/>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1/>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/where-vs-having-clauses-in-postgresql-2b1031cc3779?source=collection_archive---------8-----------------------#2021-09-10">https://medium.com/analytics-vidhya/where-vs-having-clauses-in-postgresql-2b1031cc3779?source=collection_archive---------8-----------------------#2021-09-10</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><h2 id="e317" class="hf hg hh bd hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id bi translated">PostgreSQL中的“WHERE”与“HAVING”子句</h2><p id="4764" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io hr ip iq ir hv is it iu hz iv iw ix iy ha bi translated">在本文中，我们将介绍“HAVING”和“WHERE”子句的语法、用法、两者之间的区别以及执行顺序。</p><figure class="ja jb jc jd fd je er es paragraph-image"><div role="button" tabindex="0" class="jf jg di jh bf ji"><div class="er es iz"><img src="../Images/563c00cd7480c7f18a5fdf76e14105be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RuZg-LWVRKyFTkCIm_6Ycg.png"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">哪里vs有</figcaption></figure><blockquote class="jp jq jr"><p id="5944" class="ie if js ig b ih jt ij ik il ju in io jv jw iq ir jx jy it iu jz ka iw ix iy ha bi translated"><strong class="ig kb">“HAVING”子句</strong>:用于根据指定的条件从分组中过滤记录。</p><p id="186c" class="ie if js ig b ih jt ij ik il ju in io jv jw iq ir jx jy it iu jz ka iw ix iy ha bi translated"><strong class="ig kb">“WHERE”子句</strong>:用于根据指定的条件从表中过滤记录。</p></blockquote><p id="815c" class="pw-post-body-paragraph ie if hh ig b ih jt ij ik il ju in io hr jw iq ir hv jy it iu hz ka iw ix iy ha bi translated"><strong class="ig kb">“WHERE”和“HAVING”从句的句法</strong></p><p id="205c" class="pw-post-body-paragraph ie if hh ig b ih jt ij ik il ju in io hr jw iq ir hv jy it iu hz ka iw ix iy ha bi translated">“HAVING”语法:</p><blockquote class="jp jq jr"><p id="2f79" class="ie if js ig b ih jt ij ik il ju in io jv jw iq ir jx jy it iu jz ka iw ix iy ha bi translated">从<br/>表中选择column1，column2，aggregate_function(expr ),按column1，column2有条件分组；</p></blockquote><p id="d555" class="pw-post-body-paragraph ie if hh ig b ih jt ij ik il ju in io hr jw iq ir hv jy it iu hz ka iw ix iy ha bi translated">“WHERE”语法:(带有GROUP BY)</p><blockquote class="jp jq jr"><p id="370b" class="ie if js ig b ih jt ij ik il ju in io jv jw iq ir jx jy it iu jz ka iw ix iy ha bi translated">从<br/>表中选择column1，column2，aggregate_function(expr ),其中条件分组依据column1，column 2；</p></blockquote><p id="5760" class="pw-post-body-paragraph ie if hh ig b ih jt ij ik il ju in io hr jw iq ir hv jy it iu hz ka iw ix iy ha bi translated">“WHERE”语法:(不带GROUP BY)</p><blockquote class="jp jq jr"><p id="b47b" class="ie if js ig b ih jt ij ik il ju in io jv jw iq ir jx jy it iu jz ka iw ix iy ha bi translated">从<br/>表WHERE条件中选择column1，column2，aggregate_function(expr );</p></blockquote><p id="dc73" class="pw-post-body-paragraph ie if hh ig b ih jt ij ik il ju in io hr jw iq ir hv jy it iu hz ka iw ix iy ha bi translated"><strong class="ig kb">实现</strong></p><p id="5ae5" class="pw-post-body-paragraph ie if hh ig b ih jt ij ik il ju in io hr jw iq ir hv jy it iu hz ka iw ix iy ha bi translated">考虑一个名为“management”的数据库，它有表“employee”和“department”，“employee”表有列emp_id、emp_name、emp_salary、dept_id，而“department”表有dept_id和dept_name。</p><blockquote class="jp jq jr"><p id="5491" class="ie if js ig b ih jt ij ik il ju in io jv jw iq ir jx jy it iu jz ka iw ix iy ha bi translated">创建数据库管理；</p></blockquote><figure class="ja jb jc jd fd je er es paragraph-image"><div role="button" tabindex="0" class="jf jg di jh bf ji"><div class="er es kc"><img src="../Images/af0e6adb5066a9c73b22d4d0dc428d26.png" data-original-src="https://miro.medium.com/v2/resize:fit:698/format:webp/1*KnrboZegLI51sO4oNEdDuw.png"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">SELECT * FROM DEPARTMENT</figcaption></figure><figure class="ja jb jc jd fd je er es paragraph-image"><div class="er es kd"><img src="../Images/9f62b19afa445733c63cb4fd3e0e4055.png" data-original-src="https://miro.medium.com/v2/resize:fit:1254/format:webp/1*nXYjB3jSoMigdY0M92Ua6A.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">SELECT * FROM员工；</figcaption></figure><p id="e77d" class="pw-post-body-paragraph ie if hh ig b ih jt ij ik il ju in io hr jw iq ir hv jy it iu hz ka iw ix iy ha bi translated"><strong class="ig kb">问题陈述1:</strong>(“WHERE”子句不带“group by”)</p><p id="e1e7" class="pw-post-body-paragraph ie if hh ig b ih jt ij ik il ju in io hr jw iq ir hv jy it iu hz ka iw ix iy ha bi translated">编写一个SQL查询来获取所有雇员的详细信息，其中雇员属于“IT”部门，emp_name以“a/A”开头。</p><blockquote class="jp jq jr"><p id="5369" class="ie if js ig b ih jt ij ik il ju in io jv jw iq ir jx jy it iu jz ka iw ix iy ha bi translated">选择员工。EMP_ID，员工。雇员姓名，雇员。来自员工<br/>内部加入部门的EMP_SALARY <br/>对员工。DEPT _ ID =部门。DEPT_ID，其中EMP_NAME ILIKE 'A% '，DEPT _ NAME = ' IT</p></blockquote><figure class="ja jb jc jd fd je er es paragraph-image"><div class="er es ke"><img src="../Images/17da2c420f3f174d2db4a1d7bc7604e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1038/format:webp/1*29goNpHzYIK9VxYSrMl46w.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">结果</figcaption></figure><p id="f37a" class="pw-post-body-paragraph ie if hh ig b ih jt ij ik il ju in io hr jw iq ir hv jy it iu hz ka iw ix iy ha bi translated"><strong class="ig kb">问题陈述2:</strong>(“WHERE”子句带“group by”)</p><p id="5877" class="pw-post-body-paragraph ie if hh ig b ih jt ij ik il ju in io hr jw iq ir hv jy it iu hz ka iw ix iy ha bi translated">编写一个SQL查询来获取雇员姓名、雇员薪金和部门名称以及每个部门的最高薪金。</p><blockquote class="jp jq jr"><p id="1cc9" class="ie if js ig b ih jt ij ik il ju in io jv jw iq ir jx jy it iu jz ka iw ix iy ha bi translated">选择<br/>部门。部门名称，<br/>员工。EMP_SALARY作为MAX_SALARY，<br/>雇员。员工<br/>的EMP_NAME <br/>内部加入部门<br/>的员工。DEPT_ID =部门。雇员所在的部门ID <br/>。EMP_SALARY IN(选择<br/> MAX(员工。EMP_SALARY)作为员工<br/>内部加入部门<br/>对员工的薪资<br/>。DEPT_ID =部门。按部门分组。部门名称<br/>按薪资DESC排序)；</p></blockquote><figure class="ja jb jc jd fd je er es paragraph-image"><div class="er es kf"><img src="../Images/fd445eb2cca606e49fee54a75fa65d7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1218/format:webp/1*lu1ZV1noEyPy8shgrldy8A.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">结果</figcaption></figure><p id="1386" class="pw-post-body-paragraph ie if hh ig b ih jt ij ik il ju in io hr jw iq ir hv jy it iu hz ka iw ix iy ha bi translated"><strong class="ig kb">问题陈述3:</strong>(“HAVING”子句)</p><p id="6ec9" class="pw-post-body-paragraph ie if hh ig b ih jt ij ik il ju in io hr jw iq ir hv jy it iu hz ka iw ix iy ha bi translated">编写一个SQL查询来获取dept_name，并且每个部门的金额总和(所有员工的薪金)必须大于1009922。</p><blockquote class="jp jq jr"><p id="8074" class="ie if js ig b ih jt ij ik il ju in io jv jw iq ir jx jy it iu jz ka iw ix iy ha bi translated">SELECT<br/>department . dept _ name，<br/>SUM(employee . EMP _ salary)<br/>FROM employee<br/>INNER JOIN department<br/>ON employee . dept _ id = department . dept _ id<br/>GROUP BY department . dept _ name<br/>HAVING SUM(employee . EMP _ salary)&gt;1009922；</p></blockquote><figure class="ja jb jc jd fd je er es paragraph-image"><div class="er es kg"><img src="../Images/63416de8e62047b9bcb10bd394666287.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*HE8y_uEsK1IDT7OHUbcISA.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">结果</figcaption></figure><p id="b443" class="pw-post-body-paragraph ie if hh ig b ih jt ij ik il ju in io hr jw iq ir hv jy it iu hz ka iw ix iy ha bi translated"><strong class="ig kb">“在哪里”vs“有”</strong></p><figure class="ja jb jc jd fd je er es paragraph-image"><div role="button" tabindex="0" class="jf jg di jh bf ji"><div class="er es kh"><img src="../Images/ea241ec0af8b63b1642b9323b279fa4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xs9WmfNbbVovfb82zWSB4g.png"/></div></div></figure><p id="899a" class="pw-post-body-paragraph ie if hh ig b ih jt ij ik il ju in io hr jw iq ir hv jy it iu hz ka iw ix iy ha bi translated"><strong class="ig kb">执行顺序(“WHERE”和“HAVING”)</strong></p><figure class="ja jb jc jd fd je er es paragraph-image"><div role="button" tabindex="0" class="jf jg di jh bf ji"><div class="er es ki"><img src="../Images/5d422c3eaf6c09be6c469acfbfce3b5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BQ5MdFJQnkXSpWCI2BEjTQ.png"/></div></div></figure><p id="937f" class="pw-post-body-paragraph ie if hh ig b ih jt ij ik il ju in io hr jw iq ir hv jy it iu hz ka iw ix iy ha bi translated">谢谢你的阅读。如果发现有用，请鼓掌。🙂</p></div></div>    
</body>
</html>