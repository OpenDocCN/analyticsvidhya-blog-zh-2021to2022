<html>
<head>
<title>Setup MLflow on AWS EC2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在AWS EC2上设置MLflow</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/setup-mlflow-on-aws-ec2-94b8e473618f?source=collection_archive---------0-----------------------#2021-01-07">https://medium.com/analytics-vidhya/setup-mlflow-on-aws-ec2-94b8e473618f?source=collection_archive---------0-----------------------#2021-01-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/fa6dab0393e96d98a396c9e4867b9f1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O4rSx7G-LK8kMhyFIQNZig.jpeg"/></div></div></figure><p id="8bd0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">欢迎学习端到端MLOps的3部分教程，从培训、跟踪、部署和推理开始。</p><p id="10a0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">第1部分:在AWS EC2上设置MLflow</p><p id="baa9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">第2部分:在AWS Fargate上部署MLOps</p><p id="64cd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">第3部分:AWS Fargate: II上的MLOps部署</p><p id="7b30" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">继续第1部分…</p><p id="9d21" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你可以在这里找到所有使用过的代码<a class="ae jo" href="https://github.com/vaibhavsatpathy/psAI-clOps" rel="noopener ugc nofollow" target="_blank">的Github库！</a></p><p id="00b8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在工程师的广泛开发之后，由神经网络执行的重载训练的度量的跟踪是最重要的。这里我们将使用一个叫做<a class="ae jo" href="https://mlflow.org/" rel="noopener ugc nofollow" target="_blank"> MLflow </a>的框架来跟踪我们所有的培训。使用该框架的优势在于，它允许跨用户、团队和组织进行跟踪，使他们能够理解从以前的培训中获得的知识，并使用它们来开发更好的模型。</p><p id="d2eb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，我们将通过必要的步骤，以最小的努力在AWS EC2上设置<a class="ae jo" href="https://www.mlflow.org/docs/latest/tracking.html#tracking" rel="noopener ugc nofollow" target="_blank"> MLflow tracking </a>服务器。</p><p id="afc8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">步骤1:设置AWS帐户并登录到您的控制台</p><p id="a178" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">步骤2:搜索EC2并单击启动实例</p><p id="8c11" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">第三步:选择亚马逊Linux 2 64位(x86)</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jp"><img src="../Images/1cf4b79af29a8c5265c11def68287225.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LoRenXnovoZDfUTmvtvuqw.png"/></div></div></figure><p id="445e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">步骤4:选择t2.micro实例</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ju"><img src="../Images/c179b260ab674d085ca6e9a0fe2660be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q-2hvnQv5VjIieVViN4LCw.png"/></div></div></figure><p id="9985" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">步骤5:通过添加子网中现有的VPC来配置实例，或者选择默认选项</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jv"><img src="../Images/1395593c557b367b172414c4bd27bbcf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Oz47Lg1PfiHeem-1xh0j4w.png"/></div></div></figure><p id="7feb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">步骤6:跳到配置安全组。如果您现有的安全组允许SSH和HTTP连接，请添加这些安全组或创建一个新的安全组，允许从您的IP进行SSH连接，以配置实例和HTTP连接来与跟踪服务器进行交互</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jw"><img src="../Images/fe9bac1da34716d1308c8f32cb6fd38c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C2krdSDgGRtVYo4mQWdAgQ.png"/></div></div></figure><p id="9314" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">步骤7:检查并启动您的实例</p><p id="90d4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">步骤8:通过SSH连接到您的实例。为了找到必要的命令，在您的仪表板中打开EC2并单击您的实例ID，从那里单击Connect，您应该会看到命令。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jx"><img src="../Images/18882ad849643e9c8e4f3e393e782f8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ys5ZDyOSp6JO7HP_4XL9UA.png"/></div></div></figure><p id="62fd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">步骤9:如果系统中没有python3.5或更高版本，请安装它们</p><blockquote class="jy jz ka"><p id="6bf6" class="iq ir kb is b it iu iv iw ix iy iz ja kc jc jd je kd jg jh ji ke jk jl jm jn hb bi translated">sudo yum安装python3.5</p></blockquote><p id="535e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">步骤10:安装MLFlow</p><blockquote class="jy jz ka"><p id="bf75" class="iq ir kb is b it iu iv iw ix iy iz ja kc jc jd je kd jg jh ji ke jk jl jm jn hb bi translated">sudo pip3安装mlflow</p></blockquote><p id="ff9f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">步骤11:在仪表板上安装httpd工具进行密码保护</p><blockquote class="jy jz ka"><p id="03a8" class="iq ir kb is b it iu iv iw ix iy iz ja kc jc jd je kd jg jh ji ke jk jl jm jn hb bi translated">sudo yum安装httpd-工具</p></blockquote><p id="5796" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">步骤12:安装nginx并打开配置文件</p><blockquote class="jy jz ka"><p id="7cab" class="iq ir kb is b it iu iv iw ix iy iz ja kc jc jd je kd jg jh ji ke jk jl jm jn hb bi translated">sudo yum安装nginx</p></blockquote><p id="b070" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">步骤13:为testuser添加密码</p><blockquote class="jy jz ka"><p id="45be" class="iq ir kb is b it iu iv iw ix iy iz ja kc jc jd je kd jg jh ji ke jk jl jm jn hb bi translated">sudo htpasswd -c /etc/nginx/。htpasswd testuser</p></blockquote><p id="4a07" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">步骤14:配置nginx反向代理到端口5000</p><blockquote class="jy jz ka"><p id="5592" class="iq ir kb is b it iu iv iw ix iy iz ja kc jc jd je kd jg jh ji ke jk jl jm jn hb bi translated">sudo nano /etc/nginx/nginx.conf</p></blockquote><p id="ab36" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">将以下内容添加到配置文件中，如下所示</p><blockquote class="jy jz ka"><p id="e936" class="iq ir kb is b it iu iv iw ix iy iz ja kc jc jd je kd jg jh ji ke jk jl jm jn hb bi translated">location/{<br/>proxy _ pass<a class="ae jo" href="http://localhost:5000/" rel="noopener ugc nofollow" target="_blank">http://localhost:5000/</a>；<br/> auth_basic“受限内容”；<br/>auth _ basic _ user _ file/etc/nginx/。htpasswd<br/> }</p></blockquote><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kf"><img src="../Images/247eab992a67444c80c67f6ba26b8657.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WVPLUJFOZPy9d_R3QeGprg.png"/></div></div></figure><p id="73fc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">步骤15:启动nginx服务器和mlflow服务器</p><pre class="jq jr js jt fd kg kh ki kj aw kk bi"><span id="b63b" class="kl km hi kh b fi kn ko l kp kq">sudo service nginx start</span><span id="5462" class="kl km hi kh b fi kr ko l kp kq">mlflow server --host 0.0.0.0</span></pre><p id="1dab" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">步骤16:创建一个S3存储桶来存储度量和模型</p><p id="1519" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">步骤17:要在python训练代码中使用该设置，请将以下内容添加到训练脚本中</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ks"><img src="../Images/705d98ba5c4f618b3c51406240e558c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xehgGDoMfRhAyTYvB6ZItw.png"/></div></div></figure><p id="38b5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">步骤18:一旦执行了上述操作，您将能够在EC2实例的公共DNS上看到MLflow仪表板</p><p id="c2df" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">要找到您的公共DNS，请打开您的实例并单击连接。复制地址并在新浏览器中打开它。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kt"><img src="../Images/2d32738fb5cc40fed12d7fcbc6139858.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x8y3JHuTGc-zmQrwRm58YA.png"/></div></div></figure><p id="667e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">祝贺您成功地在EC2实例上设置了MLflow的跟踪服务器。希望你喜欢这个教程。😁😁</p></div></div>    
</body>
</html>