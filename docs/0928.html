<html>
<head>
<title>.copy() is not ‘for the birds’</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">。copy()并不是“一文不值”</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/copy-is-not-for-the-birds-b2d71ab024c1?source=collection_archive---------19-----------------------#2021-02-06">https://medium.com/analytics-vidhya/copy-is-not-for-the-birds-b2d71ab024c1?source=collection_archive---------19-----------------------#2021-02-06</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/2fe9a098e8ae4d4ad2a4646f22ea3449.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XGHbz9BpzU4dpkrM4rucIA.png"/></div></div></figure><p id="2a78" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">前阵子，我在看一篇关于Python中' is '和' == '区别的帖子。它真的帮助我理解了我在以前的项目中犯的一个错误。那么，这到底有什么关系。copy()？首先，让我们以' == '和'是'为例。我们从两个int开始:</p><figure class="jo jp jq jr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es jn"><img src="../Images/13aa2b274cdaed1b393770ff530272b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ByQ7M07I-gRf2gXD1Gn14Q.png"/></div></div></figure><p id="62bd" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">问题解决了。' == '和'是'没有区别吧？不完全是。让我们再试一次，但用不同的号码:</p><figure class="jo jp jq jr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es js"><img src="../Images/d14402c8c88009fcc1573b17805aae87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TYOspAFLMEoUdFerwnBSJg.png"/></div></div></figure><p id="f5d1" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我想珍妮做了一些让他心烦意乱的事。</p><p id="bce0" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">那么，这到底是怎么回事？简而言之，' == '用于比较变量中存储的值。第一个例子，7等于7吗？第二个例子，8675309等于8675309吗？是的，这两个值是相等的。</p><p id="c8a9" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">那么‘是’究竟是什么在检验呢？简单的答案是:变量的ID。让我们来看看这些场景的id。</p><figure class="jo jp jq jr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es jt"><img src="../Images/366a1e0b97e0098b6e2a3370f5c230fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cOZekxELQQImaDRFzU2Beg.png"/></div></div></figure><p id="956e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我感觉我在吃疯狂的药丸！！！</p><p id="1ecf" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">事实证明，对于整数，Python会将相同的id赋给-5到256范围内的值。除此之外，还会分配不同的id。当我们使用数据框时会发生什么，为什么会这样。copy()甚至参与了这一切？让我们制作两个快速数据帧。</p><figure class="jo jp jq jr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ju"><img src="../Images/49951503a91c49a8f1735e8fb0f696a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*00-igBWfzNg4wlyrV3Omtg.png"/></div></div></figure><p id="1fab" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">从我的经验来看，几乎总有一个原因会使一个新的数据框具有与原始数据框相同的所有值:能够更改一个df中的值，但不能更改另一个。让我们试试:</p><figure class="jo jp jq jr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es jv"><img src="../Images/cbca6930b7c57d099f0b2e3fb27b806e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-A0HFbiE7Ze0F_SOTv4f1g.png"/></div></div></figure><p id="9103" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">了不起。我们根据一个条件改变了一些值。显然，df2发生了变化，而我们原来的df1将保持不变。对吗？</p><figure class="jo jp jq jr fd ii er es paragraph-image"><div class="er es jw"><img src="../Images/fbf59c3ba18fdcfaa78d95b897727620.png" data-original-src="https://miro.medium.com/v2/resize:fit:504/format:webp/1*cLrQbnslp6qj-_fMi5MyJg.png"/></div></figure><p id="a482" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">什么什么？两个df都变了…？我们回去检查一下。</p><figure class="jo jp jq jr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es jx"><img src="../Images/b337813e10a1e0b8a249e1fa309abc61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y7joFjy3Y4isY5NKUNdqog.png"/></div></div></figure><p id="f620" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">因此，如果我们更改一个与另一个数据框具有相同id的数据框，即使我们仅将更改应用于一个变量名称，我们也会更改两个数据框。由于两个数据帧是同一个对象，这样就可以了。我们如何解决这个问题？最后，在所有这些小实验之后。copy()在此力挽狂澜！</p><figure class="jo jp jq jr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es jy"><img src="../Images/d7b5c775342cc0229410a9c593ac3e08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RIcN6F9lk32NT-wVBe5FGQ.png"/></div></div></figure><figure class="jo jp jq jr fd ii er es paragraph-image"><div class="er es jz"><img src="../Images/8d9450d9be1e73adda8b6abef4e9861f.png" data-original-src="https://miro.medium.com/v2/resize:fit:756/format:webp/1*ThTarrJblT6G3NQ1qdAmEQ.jpeg"/></div></figure><p id="fe28" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们应该检查明显的吗？</p><figure class="jo jp jq jr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ka"><img src="../Images/3fec0171a5497c3e9ede88bfd861b517.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZgTk2MYkDPHS8dyIQfFl0g.png"/></div></div></figure><p id="25e8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">找到了。使用。copy()允许我们创建一个与原始数据框具有相同值的新数据框，但它会创建一个具有新id的新对象。</p><p id="375a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我真的希望这有助于节省未来解决这个问题的时间。使用。复制()以避免我以前犯的错误(幸运的是在学术环境中，而不是在工作环境中)，通过与你所有的朋友分享这一点点知识，成为聚会的生命。</p></div></div>    
</body>
</html>