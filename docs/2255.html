<html>
<head>
<title>Covariance vs Correlation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">协方差与相关性</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/covariance-vs-correlation-1f7aaa65e40a?source=collection_archive---------17-----------------------#2021-04-14">https://medium.com/analytics-vidhya/covariance-vs-correlation-1f7aaa65e40a?source=collection_archive---------17-----------------------#2021-04-14</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><figure class="hg hh ez fb hi hj er es paragraph-image"><div class="er es hf"><img src="../Images/7311727e7e4370ca51cb45b90b801e2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/1*OoaTekzYEYR-F3mLpdgyhw.jpeg"/></div></figure><div class=""/><p id="c087" class="pw-post-body-paragraph il im ho in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">这篇文章是关于协变性和相关性的:它们是什么，它们是如何相关的，它们之间有什么不同。</p><p id="5b3f" class="pw-post-body-paragraph il im ho in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">协方差和相关性是告诉我们两个随机变量之间关系的两个统计度量。</p><h2 id="8ca9" class="jj jk ho bd jl jm jn jo jp jq jr js jt iw ju jv jw ja jx jy jz je ka kb kc kd bi translated">协方差</h2><p id="e41c" class="pw-post-body-paragraph il im ho in b io ke iq ir is kf iu iv iw kg iy iz ja kh jc jd je ki jg jh ji ha bi translated">协方差告诉我们两个随机变量如何一起变化，或者你可以说变量如何相对于彼此变化。它告诉我们两个变量之间是否有关系，以及这种关系在哪个方向。</p><p id="3cc1" class="pw-post-body-paragraph il im ho in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">协方差可以对两个变量之间的三种关系进行分类:</p><ol class=""><li id="04a1" class="kj kk ho in b io ip is it iw kl ja km je kn ji ko kp kq kr bi translated">正向趋势:表明两个变量趋向于同向移动。在这种情况下，当一个变量的值增加时，另一个也会增加。在这种情况下，协方差的值为正。</li><li id="261a" class="kj kk ho in b io ks is kt iw ku ja kv je kw ji ko kp kq kr bi translated">负趋势:揭示两个变量趋向于反向运动。在这种情况下，当一个变量的值增加时，另一个将会减少。在这种情况下，协方差的值为负。</li><li id="1492" class="kj kk ho in b io ks is kt iw ku ja kv je kw ji ko kp kq kr bi translated">无趋势:这表明两个变量之间没有关系。在这种情况下，协方差的值接近于0。</li></ol><figure class="ky kz la lb fd hj er es paragraph-image"><div class="er es kx"><img src="../Images/837a5394fcc6554eb8926bf04af4971e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*-r2FNp5Om1f8pWuuQZc9kA.png"/></div><figcaption class="lc ld et er es le lf bd b be z dx translated">三种关系</figcaption></figure><p id="c8c4" class="pw-post-body-paragraph il im ho in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">计算协方差的公式如下</p><figure class="ky kz la lb fd hj er es paragraph-image"><div class="er es lg"><img src="../Images/474c838c333863f039b77d7790ed101f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1070/format:webp/1*PXI8i80EHdvS-r52Pywarw.png"/></div><figcaption class="lc ld et er es le lf bd b be z dx translated">协方差公式</figcaption></figure><p id="49c1" class="pw-post-body-paragraph il im ho in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在哪里，</p><p id="ad17" class="pw-post-body-paragraph il im ho in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">x和Y是两个变量，</p><p id="27e8" class="pw-post-body-paragraph il im ho in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">x柱和Y柱是两个变量的平均值，</p><p id="1950" class="pw-post-body-paragraph il im ho in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">n是观测值/数据点的总数。</p><h2 id="c6c0" class="jj jk ho bd jl jm jn jo jp jq jr js jt iw ju jv jw ja jx jy jz je ka kb kc kd bi translated"><strong class="ak"> <em class="lh">问题与解释</em> </strong></h2><p id="4fbe" class="pw-post-body-paragraph il im ho in b io ke iq ir is kf iu iv iw kg iy iz ja kh jc jd je ki jg jh ji ha bi translated">我们可以从上面的公式解释，协方差是以单位来度量的。变量的单位/比例将是协方差的单位。这就是为什么协方差值对数据的规模很敏感，这使得它们很难解释。如果我们改变变量的标度/单位，协方差的值将会不同。让我们看一个例子:</p><p id="71ba" class="pw-post-body-paragraph il im ho in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><code class="du li lj lk ll b">house_data.head()</code></p><figure class="ky kz la lb fd hj er es paragraph-image"><div class="er es lm"><img src="../Images/9e13a342248f83c55e42c04bcc3f1c0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:704/format:webp/1*dRbtUFpHxiqdYit3eKCL7w.png"/></div><figcaption class="lc ld et er es le lf bd b be z dx translated">房屋_数据</figcaption></figure><p id="4e09" class="pw-post-body-paragraph il im ho in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在上面的数据中，我们有以英尺和厘米为单位的房子大小，目标变量是价格。让我们看看尺寸和价格在两种尺度(英尺和厘米)下的协方差:</p><p id="48fb" class="pw-post-body-paragraph il im ho in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><code class="du li lj lk ll b">house_data.cov()</code></p><figure class="ky kz la lb fd hj er es paragraph-image"><div class="er es ln"><img src="../Images/258293ad5d43e64129829a2e2220bdbf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1032/format:webp/1*FitcF-5t97KeV9DGsZ4JeQ.png"/></div><figcaption class="lc ld et er es le lf bd b be z dx translated">协方差</figcaption></figure><p id="8e82" class="pw-post-body-paragraph il im ho in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">我们可以从价值上解释，大小和价格之间的关系是正相关的。随着尺度的变化，如果特征大小发生变化，协方差的值也会发生变化，因此我们无法判断关系的强度。</p><p id="4d5b" class="pw-post-body-paragraph il im ho in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">协方差的值可以从∞变到-∞。如果我们将协方差标准化，使其无论变量的单位/标度如何都保持不变，这个问题就可以解决。所以我们用两个变量的标准差来除协方差。结果称为相关系数。</p><figure class="ky kz la lb fd hj er es paragraph-image"><div class="er es lo"><img src="../Images/c40008189fcdf0e4f1dbe0f95edebda8.png" data-original-src="https://miro.medium.com/v2/resize:fit:560/format:webp/1*rXuqVbGjO-RrrwpMqW28Tg.png"/></div><figcaption class="lc ld et er es le lf bd b be z dx translated">相关公式</figcaption></figure><h2 id="948d" class="jj jk ho bd jl jm jn jo jp jq jr js jt iw ju jv jw ja jx jy jz je ka kb kc kd bi translated">相互关系</h2><p id="261f" class="pw-post-body-paragraph il im ho in b io ke iq ir is kf iu iv iw kg iy iz ja kh jc jd je ki jg jh ji ha bi translated">相关性给了我们两个随机变量之间关系的方向和强度。它衡量这两个变量相互关联的程度。相关性是无量纲的，即它们不是以单位来衡量的，而是纯值。相关系数的值从-1变化到1。</p><p id="8afb" class="pw-post-body-paragraph il im ho in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">高绝对值表示强关系，值的符号表示关系的方向。</p><figure class="ky kz la lb fd hj er es paragraph-image"><div class="er es kx"><img src="../Images/5aca29a2490a4651d38e6623881be7e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*b6djvp5nT3CjpWIm8RZkEw.png"/></div></figure><p id="0ad5" class="pw-post-body-paragraph il im ho in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在上图中我们可以看到:</p><p id="bce5" class="pw-post-body-paragraph il im ho in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hp"> -1 </strong>:这意味着两个变量之间存在完美的负关系，即变量的运动方向相反。</p><p id="778b" class="pw-post-body-paragraph il im ho in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hp"> 0 </strong>:两个变量之间没有关系。</p><p id="127b" class="pw-post-body-paragraph il im ho in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hp"> +1 </strong>:这意味着两个变量之间存在完美的正相关关系，即变量同向运动。</p><p id="9101" class="pw-post-body-paragraph il im ho in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">现在，让我们检查大小和价格之间的相关性。</p><p id="fd23" class="pw-post-body-paragraph il im ho in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><code class="du li lj lk ll b">house_data.corr()</code></p><figure class="ky kz la lb fd hj er es paragraph-image"><div class="er es lp"><img src="../Images/6faf1005156c8b90911021f05e04f64b.png" data-original-src="https://miro.medium.com/v2/resize:fit:764/format:webp/1*ooIuE_1hdR10_Bh0FRYoDA.png"/></div><figcaption class="lc ld et er es le lf bd b be z dx translated">相关系数</figcaption></figure><p id="7542" class="pw-post-body-paragraph il im ho in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">相关值为0.87，表明:</p><p id="d60b" class="pw-post-body-paragraph il im ho in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">1.规模和价格之间的积极和强有力的关系</p><p id="ddca" class="pw-post-body-paragraph il im ho in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">2.变量大小的比例变化不会改变相关系数的值，这表明它是无量纲的。</p><h2 id="5ae0" class="jj jk ho bd jl jm jn jo jp jq jr js jt iw ju jv jw ja jx jy jz je ka kb kc kd bi translated">结论</h2><p id="5870" class="pw-post-body-paragraph il im ho in b io ke iq ir is kf iu iv iw kg iy iz ja kh jc jd je ki jg jh ji ha bi translated">协方差和相关性是非常密切相关的。协方差只是相关性的一种度量，而相关性是协方差的一种缩放形式。当在它们之间进行选择时，相关性是首选，因为它不受尺度或维度变化的影响。相关值的范围在-1到1之间，因此更容易解释。协方差和相关性的唯一限制是它们只能测量线性关系。</p><p id="3c51" class="pw-post-body-paragraph il im ho in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">谢谢你</p></div></div>    
</body>
</html>