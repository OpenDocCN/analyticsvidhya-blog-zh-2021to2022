<html>
<head>
<title/>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1/>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/machine-learning-application-census-income-prediction-868227debf12?source=collection_archive---------0-----------------------#2021-05-18">https://medium.com/analytics-vidhya/machine-learning-application-census-income-prediction-868227debf12?source=collection_archive---------0-----------------------#2021-05-18</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><p id="6350" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">机器学习应用—人口普查收入预测</p></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><p id="9f7e" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">一个国家的经济状况在很大程度上取决于居民的收入。</p></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><p id="03ca" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">私营和公共部门的无数决策都是基于人口普查数据。人口普查数据是政府民主制度的支柱，对经济部门影响很大。政府使用与人口普查相关的数字将联邦资金分配到不同的州和地区。</p><p id="4927" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">不仅如此，人口普查数据还用于人口普查后的人口估计和预测、经济和社会科学研究以及许多其他此类应用。因此，这些数据及其正确预测的重要性对我们来说是非常清楚的。</p><p id="58b7" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">数据一直是许多重要决策的基础。当假设得到事实和数字的支持时，不正确和错误决策的几率就会降低。</p><h1 id="425c" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">问题陈述</h1><p id="79b6" class="pw-post-body-paragraph hg hh hi hj b hk jk hm hn ho jl hq hr hs jm hu hv hw jn hy hz ia jo ic id ie hb bi translated">上述介绍旨在提高对收入因素实际上如何不仅对人们的个人生活产生影响，而且对国家及其改善产生影响的认识。我们今天将看看从1994年人口普查局数据库中提取的数据，并试图发现不同特征如何影响个人收入的深刻见解。尽管这些数据已经很老了，而且得出的见解不能直接用于现代世界的推导，但它肯定会帮助我们分析不同的特征在预测个人收入方面发挥的作用。</p><h1 id="cdbf" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">数据集</h1><p id="8069" class="pw-post-body-paragraph hg hh hi hj b hk jk hm hn ho jl hq hr hs jm hu hv hw jn hy hz ia jo ic id ie hb bi translated">提供给我们的数据集包含32560行和14个不同的独立特征。我们的目标是预测一个人的年收入是否超过5万美元。由于数据预测2个值(&gt; 50K或&lt; =50K)，这显然是一个分类问题，我们将训练分类模型来预测所需的输出。</p><p id="e78e" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">下面提到的是提供给我们的特征的细节，我们将把它们输入到我们的分类模型来训练它。</p><p id="b95b" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">1.年龄——个人的年龄，范围从17岁到90岁。</p><p id="c3fa" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">2.工作阶层——个人所属的工作阶层。</p><p id="6329" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">3.Fnlwgt分配给要素组合的权重(估计有多少人属于这一组组合)</p><p id="25c7" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">4.教育——最高水平的教育</p><p id="cbed" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">5.Education_num —接受教育的年数</p><p id="c756" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">6.婚姻状况—表示根据个人的婚姻状况分配的类别</p><p id="ba96" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">7.职业——一个人的职业</p><p id="0a4d" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">8.关系——个人在家庭中的关系</p><p id="395c" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">9.种族——一个人的出身背景</p><p id="5578" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">10.性别——一个人的性别</p><p id="a7df" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">11.资本收益——一个人获得的资本</p><p id="28c1" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">12.资本损失——个人的资本损失</p><p id="e902" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">13.Hours_per_week —个人每周工作的小时数</p><p id="89df" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">14.Native_Country —一个人所属的国家</p><p id="140d" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">输出:</p><p id="e718" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">1.收入—目标变量，预测收入是高于还是低于5万美元。</p><h1 id="6d2b" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">文章的内容</h1><p id="775c" class="pw-post-body-paragraph hg hh hi hj b hk jk hm hn ho jl hq hr hs jm hu hv hw jn hy hz ia jo ic id ie hb bi translated">本文将进一步介绍以下信息/步骤</p><p id="81e0" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">1.探索性数据分析</p><p id="1ca1" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">2.数据建模</p><p id="36a6" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">3.异常值检测和偏斜度处理</p><p id="13d5" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">4.编码数据—标签编码器</p><p id="c265" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">5.缩放数据—标准缩放器</p><p id="f737" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">6.拟合机器学习模型</p><p id="1239" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">7.所选模型的交叉验证</p><p id="7ba5" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">8.模型超调谐</p><p id="dbf5" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">9.AUC-ROC曲线</p><p id="85e0" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">10.保存最终模型并使用保存的模型进行预测</p><h1 id="7296" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">探索性数据分析</h1><p id="44c6" class="pw-post-body-paragraph hg hh hi hj b hk jk hm hn ho jl hq hr hs jm hu hv hw jn hy hz ia jo ic id ie hb bi translated">我们做的第一步是检查关于我们数据的信息。我们看到下图所示的结果:</p><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es jp"><img src="../Images/3ed213a4e177681e2636d0597a8fd04b.png" data-original-src="https://miro.medium.com/v2/resize:fit:680/format:webp/1*_o5OctgcO4rpdX2KMrrNuA.png"/></div></figure><p id="1743" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">我们看到分类列和数字列混合在一起。我们有6个整数列和9个对象类型列。我们观察到所有列的条目数都是32560，因此在我们的数据集中没有NaN值。</p><p id="0763" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">我们使用data.isnull()来证实这个假设。sum()命令–</p><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es jx"><img src="../Images/c178f9a631316c061db8efa96ae570fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:352/format:webp/1*Fw_zSME9PO-W6cgSIRHfzw.png"/></div></figure><p id="2454" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">但是，在仔细查看我们的数据集时，我们观察到一些值为“？”，表示缺少的值。</p><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es jy"><img src="../Images/c8ff254ac2e67c5706d46f863256d1ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*dhJdR1y0rmCMGZcAIcnMkQ.png"/></div></figure><p id="e528" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">因此，我们推断在我们的数据集中有一些值需要处理。</p><p id="a08f" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">我们还使用data.describe()命令检查数据的数字统计信息</p><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es jy"><img src="../Images/40958c4c0c7bbfbc2711ddf9715d00ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*kHWdbepgj-Ab8aNZQRkSlQ.png"/></div></figure><p id="7c36" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">在这一步中进行了以下观察</p><p id="139f" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">-年龄栏的范围是17到90。</p><p id="7c0d" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">fnlwgt列的最小值为12285，最大值为1484705</p><p id="0d90" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">-教育编号的范围是1到16</p><p id="9a2f" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">-资本收益从0开始，到99999结束</p><p id="8b31" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">-资金损失从0开始，到4356结束</p><p id="9a10" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">-每周工作时间范围为1-99小时。</p><p id="6298" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">-资本收益栏中预期有异常值，因为75%之前的值为0。资本损失也是如此。</p><p id="c384" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">fnlwgt列在75%值和最大值之间也有巨大差异。这里有可能出现异常值。</p><p id="e0d4" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">此外，我们还查看了我们的数据集，并逐一浏览了各个列中的数据——</p><h1 id="74a3" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">收入栏</h1><p id="a846" class="pw-post-body-paragraph hg hh hi hj b hk jk hm hn ho jl hq hr hs jm hu hv hw jn hy hz ia jo ic id ie hb bi translated">收入列是我们的目标变量，有两个值—“&lt;=50K’ and ‘&gt;50K”。这些值的计数分别为24719和7841，表明收入高于50K的人明显较少，考虑到目标变量，我们的数据集是不平衡的。</p><h1 id="7aa9" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">年龄栏</h1><p id="322c" class="pw-post-body-paragraph hg hh hi hj b hk jk hm hn ho jl hq hr hs jm hu hv hw jn hy hz ia jo ic id ie hb bi translated">“年龄”列中的数据最小值为17，最大值为90。</p><p id="f7b2" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">我们为年龄列创建了一个分布图</p><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es jz"><img src="../Images/2e1f8a45085e7ab2ab9d6db01fff2517.png" data-original-src="https://miro.medium.com/v2/resize:fit:846/format:webp/1*gEFazyCxTzdTdp1Agrk1Yw.png"/></div></figure><p id="3ed6" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">我们观察到我们的数据具有右偏度，大多数年龄在20-50岁之间。随着年龄的增长，数量不断减少。</p><p id="167c" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">我们还观察到年龄列中没有任何空值。</p><h1 id="9f04" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">工作类列</h1><p id="7d1d" class="pw-post-body-paragraph hg hh hi hj b hk jk hm hn ho jl hq hr hs jm hu hv hw jn hy hz ia jo ic id ie hb bi translated">在检查workclass的唯一值时，我们看到有7种不同类型的值，以及一些由“？”表示的缺失值。空值的计数是1836，大约是数据的5%。</p><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es ka"><img src="../Images/39f0114f86cd3d7eb2d6dd8f3485ce85.png" data-original-src="https://miro.medium.com/v2/resize:fit:574/format:webp/1*63IPvbSJ-DCaRFUUhe9cBA.png"/></div></figure><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es kb"><img src="../Images/204f04ebac3ec1e18d94a5995aaa587f.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*sRWFBW5KnKWFAZDddk6KYg.png"/></div></figure><p id="1987" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">我们注意到大多数人属于“私营”部门的工人阶级。</p><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es jy"><img src="../Images/7fcd88d4d5eb90e47134e558af23e30c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*TkcwC4w__rkWu2Nl6Fl65g.png"/></div></figure><p id="f66b" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">我们在这里还发现了一个有趣的现象——缺少“工作类”的值也缺少“职业”!</p><h1 id="e576" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">教育专栏</h1><p id="5b21" class="pw-post-body-paragraph hg hh hi hj b hk jk hm hn ho jl hq hr hs jm hu hv hw jn hy hz ia jo ic id ie hb bi translated">“教育”栏有16个不同的类别。这些类别中的大多数属于“学校”类型(不同的班级分为多个类别)</p><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es kc"><img src="../Images/d2cb2596aa8e0b3599dc417724acfaac.png" data-original-src="https://miro.medium.com/v2/resize:fit:762/format:webp/1*CZAiyoMUDDlQvvzC4Q000w.png"/></div></figure><p id="1c05" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">我们在这一栏中没有观察到缺失值，并且还发现大多数人的教育水平为“HS-grad ”,其次是“Some-college”和“单身汉”。</p><h1 id="7a38" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">教育-数字列</h1><p id="29af" class="pw-post-body-paragraph hg hh hi hj b hk jk hm hn ho jl hq hr hs jm hu hv hw jn hy hz ia jo ic id ie hb bi translated">教育数字是一个人接受教育的年数。这是一个顺序列，包含16个不同的值。当我们检查“Education_num”列的划分时，我们观察到“Education”列和“Education_num”的计数完全相同！也就是说,“Education_num”列提供的信息与“Education”列相同，但是是以数字方式提供的！</p><p id="fa80" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">我们可以通过并排保存信息来映射“教育程度”和“教育人数”列，如下所示:</p><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es kd"><img src="../Images/418b44c52366aa0349a0cbf995a4af5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1118/format:webp/1*_YFIY_xKTsdpl-K5THzGyQ.png"/></div></figure><p id="e3d6" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">“Education_num”的计数图表如下</p><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es kc"><img src="../Images/4495e40ceba6f04fb78f33212dfc1d64.png" data-original-src="https://miro.medium.com/v2/resize:fit:762/format:webp/1*nrsVgovW3d--kodXue3BAg.png"/></div></figure><h1 id="fa20" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">婚姻状况列</h1><p id="5bc4" class="pw-post-body-paragraph hg hh hi hj b hk jk hm hn ho jl hq hr hs jm hu hv hw jn hy hz ia jo ic id ie hb bi translated">“婚姻状况”列有7个不同的可用类别，并且没有缺失值。</p><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es ke"><img src="../Images/7f3660c9cf2df5ed97e0f0bb487a1aec.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*xOTm_u3Cd5HL0bubos2eDA.png"/></div></figure><p id="4019" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">大多数人的“婚姻状况”是“已婚公民配偶”，最少的是“已婚配偶”。</p><p id="b986" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">“从未结过婚”的人数也相当高。</p><h1 id="7393" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">职业栏</h1><p id="7c3c" class="pw-post-body-paragraph hg hh hi hj b hk jk hm hn ho jl hq hr hs jm hu hv hw jn hy hz ia jo ic id ie hb bi translated">职业列包含14个不同的类别，缺少的值用“？”表示(我们已经观察过，并与“工作类”列相结合)。</p><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es kf"><img src="../Images/791e60c88a59f716d600b18bf07b44b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:488/format:webp/1*9-RvkYC2Iuq9DsFwXZKMnw.png"/></div></figure><p id="ec71" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">但是缺失值的计数略高于“工作类”列— 1843。</p><p id="d66f" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">我们试图找出缺少“职业”的额外行——</p><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es jy"><img src="../Images/298b2569fc33b584ab060f4041809b9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*EE2V9yE-gBUCfqilwmmzvA.png"/></div></figure><p id="bb48" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">我们注意到，如果“工作阶级”是“从未工作过的”，那么“职业”也就不存在了。</p><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es kg"><img src="../Images/28a337ef46b2ae8c95389acf66aaf00b.png" data-original-src="https://miro.medium.com/v2/resize:fit:838/format:webp/1*exm8z0VyPGcHasgiVEKYEg.png"/></div></figure><h1 id="b47c" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">关系列</h1><p id="946a" class="pw-post-body-paragraph hg hh hi hj b hk jk hm hn ho jl hq hr hs jm hu hv hw jn hy hz ia jo ic id ie hb bi translated">“关系”列包含6种不同类型的值，最高数字为“丈夫”，最低数字为“其他亲属”。该列没有任何缺失值。</p><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es kh"><img src="../Images/c74450fbffb4703ad9bb118104110090.png" data-original-src="https://miro.medium.com/v2/resize:fit:782/format:webp/1*FG40vdM21fz0nzo7uT7pOA.png"/></div></figure><h1 id="f450" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">种族专栏</h1><p id="4914" class="pw-post-body-paragraph hg hh hi hj b hk jk hm hn ho jl hq hr hs jm hu hv hw jn hy hz ia jo ic id ie hb bi translated">种族列有5个不同的类别，没有丢失数据。拥有“白人”种族的人数最多(相当高的数字)。</p><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es ki"><img src="../Images/42a50e9e0be8c1414014dd5c297a70c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:764/format:webp/1*IgZqsC7Sf4k23UPesCsyTw.png"/></div></figure><h1 id="0d38" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">性专栏</h1><p id="b357" class="pw-post-body-paragraph hg hh hi hj b hk jk hm hn ho jl hq hr hs jm hu hv hw jn hy hz ia jo ic id ie hb bi translated">“性别”一栏有两类——男性和女性，其中男性数量几乎是女性数量的两倍。在此列中找不到缺少的值。</p><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es kj"><img src="../Images/5e9c2341a163586dbf659075fd2f78e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:798/format:webp/1*YgDT8ubTU_BAhRGonA24OA.png"/></div></figure><h1 id="45f4" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">资本收益栏</h1><p id="8de0" class="pw-post-body-paragraph hg hh hi hj b hk jk hm hn ho jl hq hr hs jm hu hv hw jn hy hz ia jo ic id ie hb bi translated">“Capital_gain”列是一个数字列，大多数值都设置为0。“资本收益”列的分布图高度右偏。</p><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es kk"><img src="../Images/1b964bd2d337b79fed8a2a1128a3866a.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*ttfyCJqijbvpbcQCUHdjxw.png"/></div></figure><h1 id="61a4" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">资本损失栏</h1><p id="06d1" class="pw-post-body-paragraph hg hh hi hj b hk jk hm hn ho jl hq hr hs jm hu hv hw jn hy hz ia jo ic id ie hb bi translated">“Capital_loss”列的大部分值也设置为0，类似于“Capital_gains”。在这种情况下，数据也非常右偏。</p><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es kl"><img src="../Images/78b6e1faed3cf65c7c90e8d17dc753fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:828/format:webp/1*3vz-73fvJhqFrRgzf1LtqQ.png"/></div></figure><h1 id="18eb" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">每周小时数栏</h1><p id="86be" class="pw-post-body-paragraph hg hh hi hj b hk jk hm hn ho jl hq hr hs jm hu hv hw jn hy hz ia jo ic id ie hb bi translated">“每周小时数”列的值分布在1-99的范围内。该列没有任何缺失值。大多数数值都有接近40小时的数据，因此在下面的分布图中可以观察到一个高峰</p><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es km"><img src="../Images/2e05861e97933bd4cb470d27bcb8a16f.png" data-original-src="https://miro.medium.com/v2/resize:fit:796/format:webp/1*wcVDZq3m6po3vtkQyvyBAw.png"/></div></figure><h1 id="ff05" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">本地国家列</h1><p id="f389" class="pw-post-body-paragraph hg hh hi hj b hk jk hm hn ho jl hq hr hs jm hu hv hw jn hy hz ia jo ic id ie hb bi translated">Native_country列包含设置为“United States”的最高计数，其余行包含的数字很少(US之后的最高计数是643)。</p><p id="15e6" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">我们在这个列中还有583个缺失值，我们需要处理它们。</p><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es kn"><img src="../Images/29da196449765ada51fd92f8d9402915.png" data-original-src="https://miro.medium.com/v2/resize:fit:1054/format:webp/1*bOIwmr9OOCi3aLKMFGSSbA.png"/></div></figure><p id="e215" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">我们进一步检查收入如何受到我们刚刚探索的特性的影响。</p><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es ko"><img src="../Images/26baca285ec9b044b587db82bbc0d508.png" data-original-src="https://miro.medium.com/v2/resize:fit:1148/format:webp/1*oCUX_Ur4ir_iz5GdGO5ViQ.png"/></div></figure><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es jy"><img src="../Images/a7cbc5fb5df7674bd99a03c881d47049.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*3sbvF7R4BoI96fD7sjyDvQ.png"/></div></figure><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es jy"><img src="../Images/55d14af978a0eee2cd5b2684093c19e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*xTPRP9VCsMHh5DhmW6o60Q.png"/></div></figure><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es jy"><img src="../Images/05cece7faa2bd645b269b46ad10179b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*4OqgrMZO53qVEyIB3MnIXA.png"/></div></figure><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es jy"><img src="../Images/265a7d928b07127cebbfaa60ac4e7f05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*Z7kwiSw4yfF3d87jPAh12w.png"/></div></figure><figure class="jq jr js jt fd ju er es paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="er es jy"><img src="../Images/6e30c295b5264dd69f6874d2159b2f02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*qckzYOSiqFbIPQINzmza5Q.png"/></div></div></figure><p id="2b6e" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">查看上面的图表，我们得出以下结论——</p><p id="b6bd" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">1.如果一个人的种族是“白人”/“亚洲太平洋岛民”，他/她就有很大机会赚到5万英镑以上。</p><p id="467d" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">2.男性收入超过5万英镑的几率高于女性。</p><p id="79ee" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">3.如果工作阶层是“自营职业者”,收入超过5万英镑的人的比例会更高。</p><p id="9035" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">4.受教育程度为“硕士/博士/教授学校”的人收入超过5万英镑的比率高于5万英镑的比率。</p><p id="2665" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">5.如果家庭中的关系不是‘老公/老婆’，收入超过50K的几率很高。</p><p id="8157" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">6.根据年龄、每周工作时间和收入之间的散点图，我们观察到，一个人需要超过30岁才能赚到50K以上，否则需要每周工作至少60小时才能赚到50K以上。</p><p id="1b6b" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">如果我们检查数字列之间的相关性，我们会发现</p><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es kt"><img src="../Images/f28242e49729a6695649d95b022f7e78.png" data-original-src="https://miro.medium.com/v2/resize:fit:890/format:webp/1*csrzPvJ8rDMaHmolceM02w.png"/></div></figure><p id="365f" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">收入与“教育数量”有34%的相关性，与“每周小时数”和“年龄”有23%的相关性，与“资本收益”有22%的相关性。相关性适中。</p><h1 id="8808" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">数据建模</h1><p id="2ca5" class="pw-post-body-paragraph hg hh hi hj b hk jk hm hn ho jl hq hr hs jm hu hv hw jn hy hz ia jo ic id ie hb bi translated">我们现在继续我们过程的一个重要部分——数据建模。基于上面的分析，我们将填充数据中缺失的值，并对某些类别进行逻辑分组，以使我们的模型能够更好地学习。</p><h1 id="2c1d" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">替换缺失值–</h1><p id="214e" class="pw-post-body-paragraph hg hh hi hj b hk jk hm hn ho jl hq hr hs jm hu hv hw jn hy hz ia jo ic id ie hb bi translated">我们选择用数据的模式，即最频繁出现的值来替换丢失的值。</p><p id="bf3d" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">因此，我们替换“？”“工作类别”栏由“私人”填写，“职业”栏由“专业”填写，“本国”栏由“美国”填写。</p><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es jy"><img src="../Images/93adac1737887506027ab396d25b7746.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*ZJe6n6YvknMF4ZxSBoO3Fw.png"/></div></figure><h1 id="e4fd" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">逻辑组合数据以减少类别-</h1><p id="18aa" class="pw-post-body-paragraph hg hh hi hj b hk jk hm hn ho jl hq hr hs jm hu hv hw jn hy hz ia jo ic id ie hb bi translated">此外，我们将不同列中的数据进行合并——</p><p id="0bda" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">工作类–</p><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es ku"><img src="../Images/37cb048d3a2efc6925c13551e0f372a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*5WvekT8ZzmGEIN-16uieqw.png"/></div></figure><p id="eeb5" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">我们将“从未工作”和“无薪”归为一类，将“州政府”和“地方政府”归为“政府”，并将“私人企业”归为“私人”一类，因为它们的分布是相似的。</p><p id="6a3c" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">我们在工作类列中获得了5个不同的类别</p><p id="0ec0" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">教育–</p><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es kv"><img src="../Images/d6e8c49a3baf9cbe45669a6d1c8ff8a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/format:webp/1*JCm8yUAHcX23U5n0kRkmfw.png"/></div></figure><p id="b847" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">我们将“学校”类别中与学校相关的所有栏目合并，将“博士学位”和“教授学校”归入“博士学位”类别，“Assoc-acdm”和“Assoc-voc”归入“Assoc”类别，“HS-Grad”和“Some-college”归入“学院”类别。</p><p id="cbbd" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">我们现在获得了6类教育，并将其输入到我们的机器学习模型中。</p><p id="97ab" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">婚姻状况-</p><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es kw"><img src="../Images/d49181836214822a80576f29be6c9ffd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1004/format:webp/1*XNjLXPxw0rpWAjyDKYM1mQ.png"/></div></figure><p id="21f3" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">我们把‘离婚’，‘已婚-配偶不在’，‘分居’，‘丧偶’和‘已婚-配偶’合为一类，命名为‘无配偶’。</p><p id="46dd" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">我们现在获得3个类别。</p><p id="f2a5" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">关系列-</p><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es kx"><img src="../Images/df04b7c4c7a2bb1ff6275fce3ac93c25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1006/format:webp/1*jlXuOCJArgssb81Uhe6ArA.png"/></div></figure><p id="8b9e" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">我们将“非家庭成员”、“自有子女”、“未婚”和“其他亲属”列合并为一个类别，查看分布情况，名称为“其他”。</p><p id="2893" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">种族专栏-</p><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es ky"><img src="../Images/62e1bd035db29d76019a012a1d8830fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:982/format:webp/1*jPcIyp2mc9swY10E-HTT0Q.png"/></div></figure><p id="4eba" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">我们将“美洲印第安爱斯基摩人”和“其他”这两个类别合并到“其他”类别中，因为它们有相似的分布。</p><p id="58ab" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">我们的数据分类现在已经完成。下一步是确定我们的数据是否有异常值，并处理它们。</p><h1 id="b694" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">离群点检测</h1><p id="047c" class="pw-post-body-paragraph hg hh hi hj b hk jk hm hn ho jl hq hr hs jm hu hv hw jn hy hz ia jo ic id ie hb bi translated">我们进一步检测数据中的异常值，并决定如何处理它们。使用可视化来解释异常值的最佳方式是箱线图，因此我们为我们的数字列绘制箱线图，这导致以下可视化——</p><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es kz"><img src="../Images/637f79edea0b90353063fd7d9870a189.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*Heb8NjB90k0dVaXYpXowqQ.png"/></div></figure><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es la"><img src="../Images/b01deaa128fd1dc5883321a36d626d25.png" data-original-src="https://miro.medium.com/v2/resize:fit:414/format:webp/1*ajOgU-KbWRSBJnkcXEOVPA.png"/></div></figure><p id="ca7b" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">我们在所有数字列中都观察到异常值。我们使用Zscore值来确认完整数据集中有多少数据属于异常值范围。</p><p id="c47d" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated"><strong class="hj lb"><em class="lc">-Z分数(也叫</em> </strong> <em class="lc">标准分数</em> <strong class="hj lb"> <em class="lc">)给出了一个数据点离均值有多远的想法。“但从更专业的角度来说，它是一种衡量原始分数低于或高于总体均值多少标准差的指标。”</em></strong></p><p id="51cc" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">在计算了包含异常值的行数之后，我们发现如果zscore的阈值为3，我们将丢失2733行。该数据中有1546行的普查收入低于5万美元，1187行的普查收入高于5万美元。由于我们的数据集已经不平衡，丢失这个数量的行将进一步增加不平衡，如果我们考虑收入高于5万美元的行，这将是一个巨大的损失。</p><p id="04d8" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">因此，我们保留这些行并继续下一步。</p><h1 id="70b3" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">偏斜处理</h1><p id="ba5e" class="pw-post-body-paragraph hg hh hi hj b hk jk hm hn ho jl hq hr hs jm hu hv hw jn hy hz ia jo ic id ie hb bi translated">我们现在继续处理数据中的偏斜度，这允许我们将数据拟合为对称分布，这进一步允许我们的模型更好地学习。</p><p id="2fd9" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">未经任何转换的数据的偏斜度为-</p><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es ld"><img src="../Images/4655de40827219266d72575fcc52f9b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:810/format:webp/1*9__E3FNi4MnKMvsLT7P7Lw.png"/></div></figure><p id="b4b3" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">我们处理“Fnlwgt”、“Capital_gain”和“Capital_loss”列的偏斜度，并使用平方根变换和立方根变换方法(因为我们不能将log和boxcox变换应用于存在0值的列)</p><p id="6524" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">经过多次转换(对Fnlwgt列进行sqrt转换，对Capital_gain和Capital_loss列进行两次cbrt转换)后，我们得到的最终偏斜度</p><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es le"><img src="../Images/97ad7fa4c4a812ef61f55cf20b3bfb74.png" data-original-src="https://miro.medium.com/v2/resize:fit:844/format:webp/1*u8R9UGP8GDjlvGxeGb9Z-g.png"/></div></figure><p id="a324" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">由于偏斜度没有进一步降低，我们进一步进行下一步。</p><h1 id="d630" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">编码数据</h1><p id="bbcf" class="pw-post-body-paragraph hg hh hi hj b hk jk hm hn ho jl hq hr hs jm hu hv hw jn hy hz ia jo ic id ie hb bi translated">由于大多数分类模型需要“int/float”形式的输入，并且不处理“string”数据，我们使用“标签编码器”对分类列进行编码</p><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es lf"><img src="../Images/5c0e529e6f5cb408360805ca13e1986b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1114/format:webp/1*qIRwBa82HURRc5cZ6o1vCg.png"/></div></figure><p id="6883" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">最终的数据集看起来像这样——</p><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es jy"><img src="../Images/cf167f0e082264890ddeee4f560599c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*hyrlUSJqGv64bdIj-aRoOA.png"/></div></figure><h1 id="ddd0" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">缩放数据</h1><p id="f0ca" class="pw-post-body-paragraph hg hh hi hj b hk jk hm hn ho jl hq hr hs jm hu hv hw jn hy hz ia jo ic id ie hb bi translated">下一步是使数据达到一个共同的尺度，因为有些列的值很小，有些列的值很大。这个过程很重要，因为相似尺度的值允许模型更好地学习。</p><p id="f25a" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">我们在此过程中使用标准定标器——</p><p id="9132" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated"><strong class="hj lb"><em class="lc">'</em></strong><em class="lc">Standard scaler遵循标准正态分布(SND)。因此，它使平均值= 0，并将数据换算成单位方差'</em></p><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es lg"><img src="../Images/b6b72a74c1a4bd7a49ce504a3266dfff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1100/format:webp/1*z6GAfl14aGPlovOnzDBm5Q.png"/></div></figure><h1 id="f846" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">将数据放入分类模型</h1><p id="7a94" class="pw-post-body-paragraph hg hh hi hj b hk jk hm hn ho jl hq hr hs jm hu hv hw jn hy hz ia jo ic id ie hb bi translated">我们现在进行机器学习的主要步骤，拟合模型并预测输出。我们将数据放入多个分类模型中，以比较所有模型的性能，并选择最佳模型</p><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es lh"><img src="../Images/e764ff720dac8a03d42711f06bbea515.png" data-original-src="https://miro.medium.com/v2/resize:fit:1086/format:webp/1*ywgRNMIM0kddcTi5Uw-0Nw.png"/></div></figure><p id="7454" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">我们使用下面提到的代码将数据拟合到ML模型中并预测输出——</p><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es li"><img src="../Images/442de409f73db28583bddca54466d49a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1140/format:webp/1*hwH7Ld-9yhdicXxT585OXA.png"/></div></figure><p id="6bff" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">我们使用“支持向量分类器”获得了最好的结果，它在测试数据上提供了85%的准确率。以下是SVC模型的分类报告</p><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es lj"><img src="../Images/219ccb9771f972fd0df8a9406499d44d.png" data-original-src="https://miro.medium.com/v2/resize:fit:848/format:webp/1*dM9GxROovxADOhEXvgajzA.png"/></div></figure><p id="fcee" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">我们进一步尝试将数据拟合到分类模型，以检查我们的集成模型在给定数据集上的表现。</p><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es jy"><img src="../Images/4e9e05c4b8da27468aa31cf0d3de1aaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*mT9tLaYG0xYUtQb-wRFLMg.png"/></div></figure><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es jy"><img src="../Images/8c2e116fb1adf61b63a783868a004a9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*b5fb_expz1zuKKTTXYz-Vg.png"/></div></figure><p id="ce91" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">结果，我们观察到随机森林分类器过拟合训练集，并且在训练数据上给出99%的准确度。</p><figure class="jq jr js jt fd ju er es paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="er es lk"><img src="../Images/52102c2d6fd2afcfd18dd45027f8f1df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NmA_zwGd3qOGLkIW1DckYw.png"/></div></div></figure><figure class="jq jr js jt fd ju er es paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="er es ll"><img src="../Images/0dcf2ea731d6b951288c3f184b6787f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aINBbiIeayFkLxCgqqXCLw.png"/></div></div></figure><p id="330d" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">我们看到，梯度增强分类器给了我们大约87%的准确度(高于SVC)，并且f1分数、召回率和精确度分数也有所提高。<strong class="hj lb"> <em class="lc">因此我们选择“梯度提升分类器”作为我们的最终模型</em> </strong>，并继续对模型进行超调。但在此之前，我们在数据集上执行k重交叉验证。</p><h1 id="2049" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">交互效度分析</h1><p id="ff60" class="pw-post-body-paragraph hg hh hi hj b hk jk hm hn ho jl hq hr hs jm hu hv hw jn hy hz ia jo ic id ie hb bi translated">交叉 - <strong class="hj lb">验证</strong>的<strong class="hj lb">目标是测试模型预测未用于估算的新数据的能力，以标记过度拟合或选择偏差等问题，并给出模型如何推广到独立数据集(即未知数据集，例如来自真实问题的数据集)的见解。</strong></p><p id="b3a4" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">我们通过交叉验证获得了以下结果</p><figure class="jq jr js jt fd ju er es paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="er es lm"><img src="../Images/45694e6d648e2e6db50d1206dc9c5176.png" data-original-src="https://miro.medium.com/v2/resize:fit:756/format:webp/1*pcECMaMlatMP_00UMXD-1A.png"/></div></div></figure><p id="45bb" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">这有助于我们解释模型没有过度拟合，并且对于我们提供给模型的新数据表现良好。我们现在使用GridSearch CV对模型进行超调。</p><h1 id="65b9" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">过度调整模型</h1><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es ln"><img src="../Images/8f33367cbe944368ecaebc12d0e5f04b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1156/format:webp/1*47penmXt6ARqXL1H37PrlA.png"/></div></figure><p id="ca05" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">我们得到了模型的最佳参数，得到了87.7%的最佳分数。我们使用超调将模型精度提高了1%。</p><p id="8bb7" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">现在，我们使用GridSearch保存带有最佳参数的模型，并使用“Joblib”为我们的模型创建一个对象。</p><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es lo"><img src="../Images/0fbf982da0185fb595f9c5c36a4449fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:654/format:webp/1*soiNX1bTx1-jd4bLAcMQYQ.png"/></div></figure><h1 id="31a0" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">AUC ROC曲线</h1><p id="511c" class="pw-post-body-paragraph hg hh hi hj b hk jk hm hn ho jl hq hr hs jm hu hv hw jn hy hz ia jo ic id ie hb bi translated">AUC-ROC曲线是在各种阈值设置下对分类问题的性能测量。ROC是概率曲线，AUC代表可分性的程度或度量。它告诉我们这个模型在多大程度上能够区分不同的类。AUC越高，模型预测0为0和1为1的能力越强。</p><p id="9499" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">我们绘制AUC-ROC曲线以获得以下输出</p><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es lp"><img src="../Images/37ef5784183fefae95faa282410af14d.png" data-original-src="https://miro.medium.com/v2/resize:fit:922/format:webp/1*9LUYlJqUkszqWx5s7b36hA.png"/></div></figure><p id="ad16" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">ROC曲线下的面积代表我们的模型预测正确值的能力，我们得到的曲线是一个相当好的分数。</p><h1 id="8596" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">结论</h1><p id="69c8" class="pw-post-body-paragraph hg hh hi hj b hk jk hm hn ho jl hq hr hs jm hu hv hw jn hy hz ia jo ic id ie hb bi translated">我们进一步测试使用joblib保存的对象，并创建预测值的数据框架</p><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es lq"><img src="../Images/29392ef1df8bc666e71928d2e993854d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1026/format:webp/1*fPGZBHBvRHIzKndhw3BDeA.png"/></div></figure><p id="b9ba" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">以下是我们取得的结果，准确率为87.7%。</p><figure class="jq jr js jt fd ju er es paragraph-image"><div class="er es lr"><img src="../Images/57a668c397a34da491c9124c6ba8079e.png" data-original-src="https://miro.medium.com/v2/resize:fit:912/format:webp/1*WBugpp2VFgz7T-x09zlvdA.png"/></div></figure><p id="d5f0" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">这标志着我们过程的结束；我们已经成功地训练了我们的模型来预测一个人的收入，准确率约为88%。</p><p id="4982" class="pw-post-body-paragraph hg hh hi hj b hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie hb bi translated">我们一步一步地移动，对数据进行分析、清理和建模，并应用各种机器学习模型来实现预期的预测。我们还对模型进行了调整，以提高精确度，并且能够实现具有相当好的精确度的模型。</p></div></div>    
</body>
</html>