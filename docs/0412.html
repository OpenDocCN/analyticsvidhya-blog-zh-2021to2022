<html>
<head>
<title>Ansible PlayBook for Configure the Webserver on Docker Container</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ç”¨äºåœ¨Dockerå®¹å™¨ä¸Šé…ç½®webæœåŠ¡å™¨çš„å¯è¡Œè¡ŒåŠ¨æ‰‹å†Œ</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/analytics-vidhya/ansible-playbook-for-configure-the-webserver-on-docker-container-3269506c35e7?source=collection_archive---------20-----------------------#2021-01-15">https://medium.com/analytics-vidhya/ansible-playbook-for-configure-the-webserver-on-docker-container-3269506c35e7?source=collection_archive---------20-----------------------#2021-01-15</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/e8f81a9acd960ff56e4f3de523d7f8d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*wFGeCNZcg3cDOhIMz4uCig.png"/></div></div></figure><h2 id="0373" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">é…ç½®Docker</h2><h2 id="12ab" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">ğŸ‘‰å¯åŠ¨å¹¶å¯ç”¨DockeræœåŠ¡<br/>ğŸ‘‰ä»Docker Hub <br/>è·å–httpdæœåŠ¡å™¨é•œåƒğŸ‘‰è¿è¡Œdockerå®¹å™¨å¹¶å°†å…¶å…¬å¼€<br/>ğŸ‘‰å¤åˆ¶/var/www/htmlç›®å½•<br/>ä¸­çš„htmlä»£ç ï¼Œå¯åŠ¨webæœåŠ¡å™¨</h2><h2 id="9eac" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">1 &gt;ä¸ºDockerå®‰è£…é…ç½®è½¯ä»¶åŒ…</h2><p id="fc09" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx ja jy jz ka je kb kc kd ji ke kf kg kh ha bi translated">é¦–å…ˆï¼Œä¸ºäº†å®‰è£…dockerè½¯ä»¶ï¼Œæˆ‘ä»¬å¿…é¡»åˆ›å»ºä¸€ä¸ªå­˜å‚¨åº“ã€‚</p><pre class="ki kj kk kl fd km kn ko kp aw kq bi"><span id="bdda" class="ip iq hh kn b fi kr ks l kt ku">- name: "Creating  An yum repo for docker..... "<br/>    yum_repository:<br/>            name: "docker"<br/>            description: "repo for DOcker"<br/>            baseurl: "<a class="ae kv" href="https://download.docker.com/linux/centos/7/x86_64/stable/" rel="noopener ugc nofollow" target="_blank">https://download.docker.com/linux/centos/7/x86_64/stable/</a>"<br/>            gpgcheck: no</span></pre><h2 id="130d" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">2 &gt;å®‰è£…Dockerè½¯ä»¶</h2><p id="1fc5" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx ja jy jz ka je kb kc kd ji ke kf kg kh ha bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬æœ‰ä¸¤ä¸ªå®‰è£…dockerè½¯ä»¶çš„é€‰é¡¹ã€‚</p><p id="4f1e" class="pw-post-body-paragraph jn jo hh jp b jq kw js jt ju kx jw jx ja ky jz ka je kz kc kd ji la kf kg kh ha bi translated">ç¬¬ä¸€ä¸ªé€‰é¡¹æˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨ansibleçš„packageæ¨¡å—ï¼Œä½†æ˜¯åœ¨è¿™ä¸ªè¿‡ç¨‹ä¹‹åä¼šå‡ºç°é”™è¯¯ã€‚è¿™ä¸èƒ½å¸®åŠ©æˆ‘ä»¬å®‰è£…ä¸€ä¸ªå®Œç¾çš„dockerè½¯ä»¶ç‰ˆæœ¬ã€‚æ­£å¦‚æˆ‘ä»¬æ‰€çŸ¥ï¼Œdockerè½¯ä»¶çš„å®‰è£…ä¹Ÿå¯ä»¥é€šè¿‡å¸®åŠ©å‘½ä»¤æ¨¡å—æ¥å®Œæˆï¼Œä½†åœ¨è¿™é‡Œï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨shellæ¨¡å—è€Œä¸æ˜¯å‘½ä»¤æ¨¡å—ï¼Œå› ä¸ºåœ¨å‘½ä»¤æ¨¡å—ä¸­ï¼Œæˆ‘ä»¬ä¸èƒ½ä½¿ç”¨shellæ¨¡å—ä¸­çš„shellå…³é”®å­—ï¼Œä½†æˆ‘ä»¬å¯ä»¥è¿™æ ·åš(forâ€“no best)ã€‚</p><p id="70a5" class="pw-post-body-paragraph jn jo hh jp b jq kw js jt ju kx jw jx ja ky jz ka je kz kc kd ji la kf kg kh ha bi translated">ç¬¬äºŒç§é€‰æ‹©æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥å®‰è£…dockerè½¯ä»¶ï¼Œå¹¶æŸ¥çœ‹å·²å®‰è£…çš„dockerç‰ˆæœ¬ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥å¤åˆ¶è¿™ä¸ªç›¸åŒçš„ç‰ˆæœ¬ï¼Œæˆ‘ä»¬å°†è¿è¡Œç›¸åŒç‰ˆæœ¬çš„åŒ…æ¨¡å—ï¼Œè¿™å°†ä¸‹è½½å®Œç¾çš„dockerè½¯ä»¶ã€‚</p><pre class="ki kj kk kl fd km kn ko kp aw kq bi"><span id="3fd2" class="ip iq hh kn b fi kr ks l kt ku">- name: "Installing Docker ....."<br/>    package:<br/>       name: "docker-ce-18.09.1-3.el7.x86_64"<br/>       state: present</span></pre><h2 id="db87" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">3 &gt;å¯åŠ¨DockeræœåŠ¡</h2><p id="7931" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx ja jy jz ka je kb kc kd ji ke kf kg kh ha bi translated">ç°åœ¨è®©æˆ‘ä»¬å€ŸåŠ©ansibleæ¨¡å—å¯åŠ¨dockeræœåŠ¡ã€‚ç°åœ¨æˆ‘ä»¬è¦æ‹‰httpdçš„å›¾åƒã€‚å› æ­¤ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸€ä¸ªæ¨¡å—ï¼Œåœ¨docker imageçš„å¸®åŠ©ä¸‹æå–dockerçš„å›¾åƒï¼Œä½†æˆ‘ä»¬å°†é¢ä¸´ä¸€ä¸ªé—®é¢˜ï¼Œå› ä¸ºå®ƒéœ€è¦ä¸€ä¸ªåä¸ºâ€œdocker-pyâ€çš„pythonæ¨¡å—ã€‚ä¸ºäº†å®‰è£…è¿™ä¸ªpythonæ¨¡å—ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªç”±ansibleæä¾›çš„pipæ¨¡å—ã€‚</p><pre class="ki kj kk kl fd km kn ko kp aw kq bi"><span id="dbf7" class="ip iq hh kn b fi kr ks l kt ku">- name: "docker_image module need an python module i.e. docker-py ..."<br/>    pip:<br/>      name: docker-py</span><span id="5fed" class="ip iq hh kn b fi lb ks l kt ku">- name: "Pulling Image httpd ....."<br/>    docker_image:<br/>            name: httpd<br/>            source: pull</span></pre><h2 id="2e9b" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">4 &gt;ç°åœ¨å¤åˆ¶(ã€‚html)ä»£ç åˆ°å®Œç¾çš„åœ°æ–¹ï¼ï¼</h2><p id="39f4" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx ja jy jz ka je kb kc kd ji ke kf kg kh ha bi translated">æˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ª. htmlé¡µé¢ï¼Œå¹¶åœ¨å¤åˆ¶æ¨¡å—çš„å¸®åŠ©ä¸‹ä¼ è¾“è¯¥æ–‡ä»¶ã€‚æˆ‘ä»¬å¿…é¡»ç¡®ä¿æˆ‘ä»¬å·²ç»åœ¨ä¸€ä¸ªå®‰å…¨çš„åœ°æ–¹å¤åˆ¶äº†è¿™ä¸ªæ–‡ä»¶ã€‚</p><pre class="ki kj kk kl fd km kn ko kp aw kq bi"><span id="273b" class="ip iq hh kn b fi kr ks l kt ku">- name: "Copying the html file (page) ...."<br/>    copy:<br/>        dest: "~/index.html"<br/>        content: "Hii This page is Hosted From the HTTPD docker image !!"</span></pre><h2 id="88c1" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">5 &gt;åˆé¤Dockerå®¹å™¨å¹¶å°†å…¶æš´éœ²ï¼ï¼</h2><p id="1aa1" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx ja jy jz ka je kb kc kd ji ke kf kg kh ha bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬å°†åœ¨æ˜ åƒHTTPDçš„å¸®åŠ©ä¸‹å¯åŠ¨dockerå®¹å™¨ï¼Œä½†å½“æ­¤æ˜ åƒå¯åŠ¨æ—¶ï¼Œæˆ‘ä»¬å°†åœ¨ä¸€ä¸ªç«¯å£å…¬å¼€æ­¤æ˜ åƒï¼Œå¯åŠ¨æ—¶ï¼Œæˆ‘ä»¬å°†å‘æ­¤æ˜ åƒé™„åŠ ä¸€ä¸ªç›®çš„åœ°ã€‚htmlæ–‡ä»¶çš„ä½ç½®ã€‚</p><pre class="ki kj kk kl fd km kn ko kp aw kq bi"><span id="1829" class="ip iq hh kn b fi kr ks l kt ku">- name: "Lunching the docker image i.e. httpd ...."<br/>    community.general.docker_container:<br/>            name: webOS<br/>            image: httpd<br/>            ports:<br/>                 - "888:80"<br/>            state: started</span></pre><h2 id="7304" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">6 &gt;å…è®¸é˜²ç«å¢™é€šè¿‡æˆ‘ä»¬æš´éœ²è¯¥å®¹å™¨çš„ç«¯å£</h2><p id="cdd5" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx ja jy jz ka je kb kc kd ji ke kf kg kh ha bi translated">ç°åœ¨æˆ‘ä»¬å¿…é¡»å…è®¸dockerå›¾åƒæš´éœ²çš„ç«¯å£ã€‚</p><pre class="ki kj kk kl fd km kn ko kp aw kq bi"><span id="9de7" class="ip iq hh kn b fi kr ks l kt ku">- name: "lets allow firewall for the port which we have routed for to the docker webserver !!"<br/>    firewalld:<br/>            port: "888/tcp"<br/>            state: enabled<br/>            permanent: yes<br/>            immediate: yes</span></pre><p id="9133" class="pw-post-body-paragraph jn jo hh jp b jq kw js jt ju kx jw jx ja ky jz ka je kz kc kd ji la kf kg kh ha bi translated">å®Œæ•´è„šæœ¬â†’<a class="ae kv" href="https://github.com/Shashwatsingh22/Ansible/tree/main/play_for_docker" rel="noopener ugc nofollow" target="_blank">https://github . com/shashwatsingh 22/ansi ble/tree/main/play _ for _ docker</a></p><p id="1a38" class="pw-post-body-paragraph jn jo hh jp b jq kw js jt ju kx jw jx ja ky jz ka je kz kc kd ji la kf kg kh ha bi translated">è°¢è°¢å¤§å®¶ï¼ï¼</p></div></div>    
</body>
</html>