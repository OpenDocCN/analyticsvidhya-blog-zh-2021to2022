<html>
<head>
<title>How to extract all Date variants from real-world data using python.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用python从现实世界的数据中提取所有日期变量。</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/how-to-extract-all-date-variants-from-real-world-data-using-python-c9dc7413954c?source=collection_archive---------1-----------------------#2021-06-28">https://medium.com/analytics-vidhya/how-to-extract-all-date-variants-from-real-world-data-using-python-c9dc7413954c?source=collection_archive---------1-----------------------#2021-06-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="58bb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用python中的数据挖掘技术从结构化和非结构化数据中挖掘所有日期变量的实用权威指南。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/eacfccf8d98f133332c8af54366fad69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*YSXg-z8IIr84243S"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">照片由<a class="ae jt" href="https://unsplash.com/@insungyoon?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">保尹</a>在<a class="ae jt" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></figcaption></figure><p id="3acf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">无论您是数据科学家还是分析师，总有一天您会遇到与日期和时间有关的问题。</p><p id="3f2a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当数据被很好地整理和组织在像<code class="du ju jv jw jx b">06/18/2021, 09/27/2000</code>这样的数据框的单个列中时，生活变得更加容易。不幸的是，事情并不总是这样。</p><p id="ec7d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当你得到类似于<code class="du ju jv jw jx b">7/20</code>的东西，甚至是一句话，比如“他在黎明时分乘<code class="du ju jv jw jx b">2/21</code>号来到医院”，你如何提取日期呢</p><p id="e28f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我们不知所措之前，让我们开始吧！！</p><p id="882b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">项目目标<br/> </strong>我们的目标是正确识别数据集中编码的所有不同日期变量，并对它们进行适当的规范化和排序。</p><p id="3202" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">东西学</strong> <br/> 1。使用<a class="ae jt" href="https://pandas.pydata.org/" rel="noopener ugc nofollow" target="_blank">熊猫对医疗数据进行基本操作。</a>2<br/>2。使用<a class="ae jt" href="https://www.tutorialspoint.com/python/python_reg_expressions.htm" rel="noopener ugc nofollow" target="_blank"> python正则表达式(Regex)提取所有日期变量。</a> <br/> 3。根据一些概述的规则，按时间升序对日期进行排序。<br/> 4。摘要</p><p id="3767" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">以下是我们可能需要处理的一些日期变量:</p><ul class=""><li id="b05f" class="jy jz hi ih b ii ij im in iq ka iu kb iy kc jc kd ke kf kg bi translated"><code class="du ju jv jw jx b">04/20/2009; 04/20/09; 4/20/09; 4/3/09</code></li><li id="c446" class="jy jz hi ih b ii kh im ki iq kj iu kk iy kl jc kd ke kf kg bi translated"><code class="du ju jv jw jx b">Mar-20–2009; Mar 20, 2009; March 20, 2009; Mar. 20, 2009; Mar 20</code> <code class="du ju jv jw jx b">2009;</code></li><li id="e798" class="jy jz hi ih b ii kh im ki iq kj iu kk iy kl jc kd ke kf kg bi translated"><code class="du ju jv jw jx b">20 Mar 2009; 20 March 2009; 20 Mar. 2009; 20 March, 2009</code></li><li id="9380" class="jy jz hi ih b ii kh im ki iq kj iu kk iy kl jc kd ke kf kg bi translated"><code class="du ju jv jw jx b">Mar 20th, 2009; Mar 21st, 2009; Mar 22nd, 2009</code></li><li id="d12a" class="jy jz hi ih b ii kh im ki iq kj iu kk iy kl jc kd ke kf kg bi translated"><code class="du ju jv jw jx b">Feb 2009; Sep 2009; Oct 2010</code></li><li id="5609" class="jy jz hi ih b ii kh im ki iq kj iu kk iy kl jc kd ke kf kg bi translated"><code class="du ju jv jw jx b">6/2008; 12/2009</code></li><li id="d00b" class="jy jz hi ih b ii kh im ki iq kj iu kk iy kl jc kd ke kf kg bi translated"><code class="du ju jv jw jx b">2009; 2010</code></li></ul><p id="1737" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们学习一些有用的正则表达式，为旅程做准备</p><p id="01c2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> [] </strong>:匹配<code class="du ju jv jw jx b">[]</code>中的一组字符</p><p id="f510" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">【a-z】</strong>:匹配范围字符<code class="du ju jv jw jx b">a,b, …,z</code>中的一个</p><p id="76e9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> a|b </strong>:匹配<code class="du ju jv jw jx b">a</code>或<code class="du ju jv jw jx b">b</code>，其中<code class="du ju jv jw jx b">a</code>和<code class="du ju jv jw jx b">b</code>为字符串</p><p id="2c29" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> () </strong>:运算符范围</p><p id="290c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> \ </strong>:特殊字符的转义符<code class="du ju jv jw jx b">(\t, \n, \b)</code></p><p id="7493" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> \b </strong>:匹配单词边界</p><p id="9656" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> \d </strong>:任意数字，相当于<code class="du ju jv jw jx b">[0–9]</code></p><p id="6a3b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> \w </strong>:字母数字字符，相当于<code class="du ju jv jw jx b">[a-zA-Z0–9_]</code></p><p id="aa88" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">任何空白</p><p id="735f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> * </strong>':匹配零个或多个匹配项</p><p id="5cc7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> + </strong>':匹配一个或多个事件</p><p id="baf0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">？</strong>:匹配零个或一个匹配项</p><p id="16bc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> {n} </strong>:正好n次重复，<code class="du ju jv jw jx b">n≥0</code></p><p id="d7b0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> {n，} </strong>:至少<code class="du ju jv jw jx b">n</code>次重复</p><p id="e42d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> {，n} </strong>:最多<code class="du ju jv jw jx b">n</code>次重复</p><p id="c4a4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> {m，n} </strong>:最少<code class="du ju jv jw jx b">m</code>最多<code class="du ju jv jw jx b">n</code>次重复</p><p id="ca44" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">一些有用的功能</strong></p><p id="090a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du ju jv jw jx b">re.search(pattern,string,flags=0)</code> : <a class="ae jt" href="https://www.tutorialspoint.com/python/python_reg_expressions.htm" rel="noopener ugc nofollow" target="_blank">该函数使用可选的<em class="km">标志</em>在<em class="km">字符串</em>中搜索RE <em class="km">模式</em>的第一次出现。</a></p><p id="44e2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du ju jv jw jx b">re.match(pattern, string, flags=0)</code> : <a class="ae jt" href="https://www.tutorialspoint.com/python/python_reg_expressions.htm" rel="noopener ugc nofollow" target="_blank">该功能试图将RE <em class="km">模式</em>与<em class="km">字符串</em>匹配到可选的<em class="km">标志</em>。</a></p><ol class=""><li id="9e3c" class="jy jz hi ih b ii ij im in iq ka iu kb iy kc jc kn ke kf kg bi translated"><strong class="ih hj">导入库</strong></li></ol><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ko kp l"/></div></figure><p id="e995" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="km"> NB: </em> <code class="du ju jv jw jx b"><em class="km">re </em></code> <em class="km">是python正则表达式</em></p><p id="74bc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 2。加载数据</strong></p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ko kp l"/></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kq"><img src="../Images/f3b8a29e07e06e04662f6640cd919f0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TASwkcmlgkI1MLVi2rlAGg.png"/></div></div></figure><p id="6905" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 3。日期提取</strong></p><p id="0f5f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">I .我们用以下格式提取日期:<code class="du ju jv jw jx b">04/20/2009; 04/20/09; 4/20/09; 4/3/09</code></p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ko kp l"/></div></figure><p id="e564" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">二。提取日期格式<code class="du ju jv jw jx b"># Mar-20–2009; Mar 20, 2009; March 20, 2009; Mar. 20, 2009; Mar 20 2009;</code></p><p id="4673" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">关于。I </strong>执行不区分大小写的匹配。</p><p id="e984" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">关于。M </strong>让$匹配一行的结尾(不仅仅是字符串的结尾)，让^匹配任何一行的开头(不仅仅是字符串的开头)。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ko kp l"/></div></figure><p id="3e83" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">三。用格式<code class="du ju jv jw jx b"># 6/2008; 12/2009</code>提取日期</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ko kp l"/></div></figure><p id="6868" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">四。用格式提取日期；<code class="du ju jv jw jx b"># 2009; 2010</code></p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ko kp l"/></div></figure><p id="b20e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">动词 （verb的缩写）连接所有系列</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ko kp l"/></div></figure><p id="1138" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">不及物动词让我们将以上所有内容放在一个函数中</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ko kp l"/></div></figure><p id="787f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 4。重新格式化提取的日期</strong></p><p id="a429" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">虽然我们已经提取了日期，但还是有一些规则可以将日期整理得很好。</p><p id="9f54" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">规则#1 </strong> <br/>假设<code class="du ju jv jw jx b"> xx/xx/xx</code>格式的所有日期都是<code class="du ju jv jw jx b">mm/dd/yy</code></p><p id="f2e2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">规则#2 </strong> <br/>假设所有年份编码为两位数的日期都是1900年代以后的年份(例如1/5/89是1989年1月5日)。让我们做这个转换。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ko kp l"/></div></figure><p id="4980" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">规则#3 </strong> <br/>如果缺少日期(例如9/2009)，则假设它是该月的第一天(例如2009年9月1日)。让我们这样做:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ko kp l"/></div></figure><p id="59c1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">规则#4 </strong> <br/>如果缺少月份(如2010年)，则假设是该年的1月1日(如2010年1月1日)。让我们这样做:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ko kp l"/></div></figure><p id="6494" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">规则5 </strong> <br/>注意潜在的错别字，因为这是一个原始的、真实的衍生数据集。</p><p id="c2c7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 5。将文字中的日期转换为数字</strong></p><p id="fb20" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们需要按照特定的时间顺序将数据分类。因此，所有用文字书写的日期都必须转换成数字。一月是1日，二月是2日…十二月是12日。</p><p id="5f10" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们写一些函数来解决这个问题。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ko kp l"/></div></figure><p id="0c80" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们将整个代码部分合并成一个整体</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ko kp l"/></div></figure><p id="fa61" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通过调用函数<code class="du ju jv jw jx b">date_sorter()</code>，所有的日期都将从文本中提取出来，并按照大小的升序排列，如下所示。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kr"><img src="../Images/28c9d108961f209119f56789c930c0f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:906/format:webp/1*H5sjuXQX3uzYqvK1rze_dg.png"/></div></figure><p id="27ba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">6。总结</p><ul class=""><li id="d4ab" class="jy jz hi ih b ii ij im in iq ka iu kb iy kc jc kd ke kf kg bi translated">我们学习了这个项目所需的正则表达式。</li><li id="5b27" class="jy jz hi ih b ii kh im ki iq kj iu kk iy kl jc kd ke kf kg bi translated">我们介绍了一些有用的re函数，如<code class="du ju jv jw jx b">match</code>和<code class="du ju jv jw jx b">search</code>。</li><li id="5aa6" class="jy jz hi ih b ii kh im ki iq kj iu kk iy kl jc kd ke kf kg bi translated">所有日期变量都是从给定文档中提取的。</li><li id="9f1a" class="jy jz hi ih b ii kh im ki iq kj iu kk iy kl jc kd ke kf kg bi translated">根据特定的规则，数据被重新格式化</li><li id="b3de" class="jy jz hi ih b ii kh im ki iq kj iu kk iy kl jc kd ke kf kg bi translated">words中的所有日期都被转换成数字以便排序</li><li id="1c26" class="jy jz hi ih b ii kh im ki iq kj iu kk iy kl jc kd ke kf kg bi translated">提取的日期然后按大小升序排序。</li></ul></div></div>    
</body>
</html>