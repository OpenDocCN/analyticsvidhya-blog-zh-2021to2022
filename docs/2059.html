<html>
<head>
<title>Flask Development Part 3: File Structure</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Flask开发第3部分:文件结构</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/flask-development-part-3-file-structure-68e3bf2f6642?source=collection_archive---------10-----------------------#2021-04-03">https://medium.com/analytics-vidhya/flask-development-part-3-file-structure-68e3bf2f6642?source=collection_archive---------10-----------------------#2021-04-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="dda5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是一系列文章的第3部分，通过开发和托管一个简单的CRUD应用程序，带您了解Flask Web开发的基础知识。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/0fdde0c5543c9946ee7ddef5cbbc1389.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aWK6yDaBe7x5viez2VyeMw.jpeg"/></div></div></figure><h1 id="d4f6" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">该系列分为6个部分:</h1><ol class=""><li id="aeb8" class="kn ko hi ih b ii kp im kq iq kr iu ks iy kt jc ku kv kw kx bi translated"><a class="ae ky" href="https://medium.com/p/69cbf9e83abc/edit" rel="noopener">一个简单的Hello World应用</a></li><li id="d74f" class="kn ko hi ih b ii kz im la iq lb iu lc iy ld jc ku kv kw kx bi translated"><a class="ae ky" href="https://medium.com/p/d10442121fdd/edit" rel="noopener">渲染HTML模板。</a></li><li id="1d06" class="kn ko hi ih b ii kz im la iq lb iu lc iy ld jc ku kv kw kx bi translated"><a class="ae ky" href="https://medium.com/p/68e3bf2f6642/edit" rel="noopener"> <strong class="ih hj">构建可扩展的文件结构。</strong>T9】</a></li><li id="58e7" class="kn ko hi ih b ii kz im la iq lb iu lc iy ld jc ku kv kw kx bi translated"><a class="ae ky" href="https://medium.com/p/648b11f708a5/edit" rel="noopener">配置数据库。</a></li><li id="5302" class="kn ko hi ih b ii kz im la iq lb iu lc iy ld jc ku kv kw kx bi translated"><a class="ae ky" href="https://medium.com/p/a79042c9368c/edit" rel="noopener">处理用户登录和注册。</a></li><li id="c1dd" class="kn ko hi ih b ii kz im la iq lb iu lc iy ld jc ku kv kw kx bi translated"><a class="ae ky" href="https://medium.com/p/d3413cd94363/edit" rel="noopener">增加CRUD(创建、读取、更新、删除)功能。</a></li></ol><h1 id="9316" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">第3部分:构建可伸缩的文件结构。</h1><p id="a815" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq le is it iu lf iw ix iy lg ja jb jc hb bi translated">到目前为止，我们只有一个后端python代码文件和一个前端html代码文件。随着我们的应用程序变得越来越复杂，我们添加了更多的代码，我们希望将这些代码拆分成多个文件。我们还希望能够添加图像、javascript文件、用户上传等等。</p><p id="8180" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们继续建立一个更健壮的文件结构。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lh"><img src="../Images/64df7f08fed3b023fc65530336136942.png" data-original-src="https://miro.medium.com/v2/resize:fit:1064/format:webp/1*qsQftmOaC4BZY6LSngr6CA.png"/></div></figure><h1 id="a48d" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">这个结构为我们提供了3个主要目录:</h1><ol class=""><li id="de37" class="kn ko hi ih b ii kp im kq iq kr iu ks iy kt jc ku kv kw kx bi translated">后端:存放所有处理路由、CRUD操作和表单验证的Python文件。</li><li id="38ea" class="kn ko hi ih b ii kz im la iq lb iu lc iy ld jc ku kv kw kx bi translated">静态:存放我们所有的图像、JS和CSS文件。这些将存储在客户端的浏览器缓存中。</li><li id="cfd0" class="kn ko hi ih b ii kz im la iq lb iu lc iy ld jc ku kv kw kx bi translated">模板:存放我们所有的HTML文件。</li></ol><h1 id="e810" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">在后端目录中有3个。py文件和一个子目录，也用3。py文件。</h1><ol class=""><li id="8617" class="kn ko hi ih b ii kp im kq iq kr iu ks iy kt jc ku kv kw kx bi translated">config.py:这将设置我们的应用程序和数据库。</li><li id="94d8" class="kn ko hi ih b ii kz im la iq lb iu lc iy ld jc ku kv kw kx bi translated">py:这将创建所有的烧瓶表单。</li><li id="3119" class="kn ko hi ih b ii kz im la iq lb iu lc iy ld jc ku kv kw kx bi translated">这将处理所有的请求和路由。</li><li id="6b1d" class="kn ko hi ih b ii kz im la iq lb iu lc iy ld jc ku kv kw kx bi translated">CRUD/create.py:这将包含我们创建数据库对象的所有函数。</li><li id="8253" class="kn ko hi ih b ii kz im la iq lb iu lc iy ld jc ku kv kw kx bi translated">CRUD/update.py:这将包含所有更新数据库对象的函数。</li><li id="5405" class="kn ko hi ih b ii kz im la iq lb iu lc iy ld jc ku kv kw kx bi translated">CRUD/delete.py:这将包含我们删除数据库对象的所有函数。</li></ol><h1 id="bd29" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">现在，让我们将应用程序配置代码移动到config.py文件中，并将路由移动到index.py文件中。</h1><p id="0d41" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq le is it iu lf iw ix iy lg ja jb jc hb bi translated">首先，我们将把这段代码移到config.py文件中。</p><pre class="je jf jg jh fd li lj lk ll aw lm bi"><span id="27c8" class="ln jq hi lj b fi lo lp l lq lr">from flask import Flask<br/>app = Flask(__name__)</span></pre><p id="cb00" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，我们将在创建Flask类实例的行中添加一个参数。</p><pre class="je jf jg jh fd li lj lk ll aw lm bi"><span id="f2ba" class="ln jq hi lj b fi lo lp l lq lr">from flask import Flask<br/>app = Flask(__name__, <strong class="lj hj">template_folder='../templates'</strong>)</span></pre><p id="4cbe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因为我们将把我们的路由放在“后端”目录下的index.py文件中，这将告诉flask在新文件结构中的何处查找我们的HTML模板。</p><p id="5a30" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后我们将把这段代码移到index.py文件中。</p><pre class="je jf jg jh fd li lj lk ll aw lm bi"><span id="f756" class="ln jq hi lj b fi lo lp l lq lr">from config import app<br/>from flask import Flask, render_template</span><span id="4539" class="ln jq hi lj b fi ls lp l lq lr"><a class="ae ky" href="http://twitter.com/app" rel="noopener ugc nofollow" target="_blank">@app</a>.route('/')<br/><a class="ae ky" href="http://twitter.com/app" rel="noopener ugc nofollow" target="_blank">@app</a>.route('/index')<br/>def hello_world():<br/>    return render_template('index.html')</span></pre><p id="5e3a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们的app.py文件只是:</p><pre class="je jf jg jh fd li lj lk ll aw lm bi"><span id="1aa4" class="ln jq hi lj b fi lo lp l lq lr">if __name__ == '__main__': app.run(host="localhost", port=8000)</span></pre><p id="0c4f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，我们将更新app.py文件中的导入，以访问我们创建的新文件。</p><pre class="je jf jg jh fd li lj lk ll aw lm bi"><span id="bba2" class="ln jq hi lj b fi lo lp l lq lr"><strong class="lj hj">import sys<br/>sys.path.append('backend')<br/>import index<br/>from config import app</strong></span><span id="c225" class="ln jq hi lj b fi ls lp l lq lr">if __name__ == '__main__': app.run(host="localhost", port=8000)</span></pre><p id="7f3b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">先不要担心其余文件的细节。我们将在本系列的剩余部分中添加这些内容。</p><p id="703a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这部分的源代码可以在我的GitHub <a class="ae ky" href="https://github.com/shawnhymers/FlaskApp/tree/Part-3" rel="noopener ugc nofollow" target="_blank">这里</a>找到:</p><p id="5700" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在下一篇文章中，我们将使用这个新的文件结构来为我们的应用程序配置一个数据库。</p></div></div>    
</body>
</html>