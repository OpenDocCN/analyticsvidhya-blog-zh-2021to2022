<html>
<head>
<title>Combine Machine Learning with RSI trading strategy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">结合机器学习和RSI交易策略</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/combine-machine-learning-with-rsi-trading-strategy-ab4d5a8e5810?source=collection_archive---------0-----------------------#2021-11-08">https://medium.com/analytics-vidhya/combine-machine-learning-with-rsi-trading-strategy-ab4d5a8e5810?source=collection_archive---------0-----------------------#2021-11-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="e63a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">RSI是交易策略中最常见的指标之一。我的想法是使用机器学习来预测RSI指标的未来值，并利用预测来改善交易信号。</p><h1 id="40fc" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">时间序列预测</h1><p id="6fba" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">RSI可以看作是一种沿着交易日的时间序列，我们可以用历史值来预测未来值。对于时间序列预测，有许多发展良好的算法和软件包。其中一个是达特。在Dart中，有多个<a class="ae kg" href="https://unit8co.github.io/darts/generated_api/darts.models.forecasting.html" rel="noopener ugc nofollow" target="_blank">预测模型</a>，这里我的代码中选择了N-BEATS。</p><pre class="kh ki kj kk fd kl km kn ko aw kp bi"><span id="058f" class="kq je hi km b fi kr ks l kt ku">from darts import TimeSeries<br/>import numpy as np<br/>from darts.models import NBEATSModel</span><span id="d793" class="kq je hi km b fi kv ks l kt ku">my_data = rsi(data,14,3,4)<br/>series = TimeSeries.from_values(np.float32(my_data[:,4]))<br/>train, val = series[:100], series[100:]</span><span id="3d4a" class="kq je hi km b fi kv ks l kt ku">model = NBEATSModel(input_chunk_length=14, output_chunk_length=5)<br/>model.fit(train)<br/>pred = model.predict(n=len(val),series=train)</span></pre><h1 id="c4d3" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">简单的RSI交易策略</h1><p id="8d57" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">RSI是一种动量指标，范围从0到100。当指标值低时，它表明资产超卖，当指标值高时，它表明超买。</p><p id="fb74" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在交易中使用RSI最简单的方法是在14周期RSI &lt; 30 and to sell when the 14-period RSI &gt; 70时买入。这意味着我们预计RSI将在达到低阈值时上升。</p><p id="852e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这样的预期下，我们可以用时间序列预测来确认未来的RSI将会上升。使用经过训练的时间序列模型，可以从过去14天的RSI预测未来5天的RSI。</p><pre class="kh ki kj kk fd kl km kn ko aw kp bi"><span id="7070" class="kq je hi km b fi kr ks l kt ku">hist_series = TimeSeries.from_values(np.float32(hist))<br/>pred = model.predict(n=5,series=hist_series)</span></pre><p id="d2e2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此<strong class="ih hj">TS预测RSI交易策略</strong>将是:</p><blockquote class="kw kx ky"><p id="aedb" class="if ig kz ih b ii ij ik il im in io ip la ir is it lb iv iw ix lc iz ja jb jc hb bi translated"><strong class="ih hj">买入信号:</strong>如果14期RSI &lt; 30，且5日预测RSI的均值&gt;当前RSI。</p><p id="7fc4" class="if ig kz ih b ii ij ik il im in io ip la ir is it lb iv iw ix lc iz ja jb jc hb bi translated"><strong class="ih hj">卖出信号:</strong> if If 14期RSI &gt; 70，以及5日预测RSI的均值&lt;当前RSI。</p></blockquote><p id="f045" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由于我们有来自时间序列预测的确认信号，我们在购买信号中使用了一个不太严格的阈值，并通过时间序列预测进行了过滤。我们期待它能抓住更多的贸易机会。</p><p id="46e4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">TS预测RSI交易策略的最终版本将是:</p><blockquote class="kw kx ky"><p id="b060" class="if ig kz ih b ii ij ik il im in io ip la ir is it lb iv iw ix lc iz ja jb jc hb bi translated"><strong class="ih hj">买入信号</strong>:如果14期RSI &lt; 40，以及5日预测RSI的均值&gt;当前RSI。</p><p id="e81c" class="if ig kz ih b ii ij ik il im in io ip la ir is it lb iv iw ix lc iz ja jb jc hb bi translated"><strong class="ih hj">卖出信号</strong> : if If 14期RSI &gt; 70，以及5日预测RSI的均值&lt;当前RSI。</p></blockquote><h1 id="28f5" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">回溯测试</h1><p id="9673" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">我试图对100多只纳斯达克股票进行回溯测试，比较简单RSI交易策略和我的TS预测RSI交易策略的结果。在100只股票中的67只中，TS预测RSI交易策略表现出较好的结果。完整结果可以从git-repo 下载。</p><p id="eb72" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面是一个例子——AMZN。</p><h2 id="e261" class="kq je hi bd jf ld le lf jj lg lh li jn iq lj lk jr iu ll lm jv iy ln lo jz lp bi translated">简单的RSI交易策略</h2><pre class="kh ki kj kk fd kl km kn ko aw kp bi"><span id="5fe4" class="kq je hi km b fi kr ks l kt ku">-----------Performance----------- AMZN<br/>Hit ratio       =  38.46 %<br/>Net profit      =  $ 166.6<br/>Expectancy      =  $ 12.81 per trade<br/>Profit factor   =  1.44<br/>Total Return    =  166.6 %<br/><br/>Average Gain    =  $ 108.94 per trade<br/>Average Loss    =  $ -47.26 per trade<br/>Largest Gain    =  $ 517.32<br/>Largest Loss    =  $ -170.31<br/><br/>Realized RR     =  2.31<br/>Minimum         = $ -252.09<br/>Maximum         = $ 278.07<br/>Trades          = 13</span></pre><figure class="kh ki kj kk fd lr er es paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="er es lq"><img src="../Images/3e352a3f7acdbe94ccfba762366d94a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5dnLLCVXxmCr2330b65aaQ.png"/></div></div></figure><h2 id="4f60" class="kq je hi bd jf ld le lf jj lg lh li jn iq lj lk jr iu ll lm jv iy ln lo jz lp bi translated">TS预测RSI交易策略</h2><pre class="kh ki kj kk fd kl km kn ko aw kp bi"><span id="3ec6" class="kq je hi km b fi kr ks l kt ku">-----------Performance----------- AMZN<br/>Hit ratio       =  45.83 %<br/>Net profit      =  $ 588.35<br/>Expectancy      =  $ 24.51 per trade<br/>Profit factor   =  2.09<br/>Total Return    =  588.35 %<br/><br/>Average Gain    =  $ 102.77 per trade<br/>Average Loss    =  $ -41.7 per trade<br/>Largest Gain    =  $ 390.95<br/>Largest Loss    =  $ -170.31<br/><br/>Realized RR     =  2.46<br/>Minimum         = $ 79.38<br/>Maximum         = $ 840.54<br/>Trades          = 24</span></pre><figure class="kh ki kj kk fd lr er es paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="er es ly"><img src="../Images/2e4b06282e20841c6ea861d100b25449.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FSmHHhXsChhAw3VxLjOd8g.png"/></div></div></figure><p id="ceda" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">了解更多详情。请检查我的<a class="ae kg" href="https://github.com/iwasnothing/ts-prediction-rsi" rel="noopener ugc nofollow" target="_blank"> git-repo </a>。感谢Sofien Kaabar，我使用他的<a class="ae kg" href="https://github.com/sofienkaabar?tab=repositories" rel="noopener ugc nofollow" target="_blank"> git-repo </a>中的代码进行RSI计算和回溯测试性能评估。</p></div></div>    
</body>
</html>