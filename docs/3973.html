<html>
<head>
<title>Power BI: Using Calculation Groups to Desensitise your data for Presentations</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Power BI:使用计算组降低演示数据的敏感度</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/power-bi-using-calculation-groups-to-desensitise-your-data-for-presentations-7066e32bc4ee?source=collection_archive---------9-----------------------#2021-08-14">https://medium.com/analytics-vidhya/power-bi-using-calculation-groups-to-desensitise-your-data-for-presentations-7066e32bc4ee?source=collection_archive---------9-----------------------#2021-08-14</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/b2db94ab5d365b9a76f356803500f509.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*tX__n5btEuGYQj2Xw-TmdQ.gif"/></div></div></figure><p id="4d34" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">您是否曾经整理过一个具有非常酷的功能的报告，并且/或者您只是喜欢它的美观，而您想要做的只是在内部向您的同事展示它…但是它包含机密的客户信息？</p><p id="6c4f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我知道我有！现在谁有时间创建一个可以插入的合成数据集？我当然不知道，所以你最终错过了分享知识的机会。</p><p id="8a3c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在下面的文章中，我将与你分享一个快速的方法来模糊报表中的数据，使它成为一个更快的过程，为内部展示做好准备。</p><p id="b46e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><em class="jn">请注意！你</em> <strong class="ir hi"> <em class="jn">必须始终</em> </strong> <em class="jn">先跑完这一关你的客户端！在很多情况下，你创建的IP只属于客户。</em></p><p id="2777" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">对于这个例子，我使用的是微软提供的样本数据集</p><div class="jo jp ez fb jq jr"><a href="https://docs.microsoft.com/en-us/power-bi/create-reports/sample-datasets" rel="noopener  ugc nofollow" target="_blank"><div class="js ab dw"><div class="jt ab ju cl cj jv"><h2 class="bd hi fi z dy jw ea eb jx ed ef hg bi translated">获取Power BI - Power BI的样品</h2><div class="jy l"><h3 class="bd b fi z dy jw ea eb jx ed ef dx translated">假设您是Power BI的新手，想要尝试一下，但是没有任何数据。或者，您可能希望看到这样的报告…</h3></div><div class="jz l"><p class="bd b fp z dy jw ea eb jx ed ef dx translated">docs.microsoft.com</p></div></div><div class="ka l"><div class="kb l kc kd ke ka kf in jr"/></div></div></a></div><p id="f617" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">和<strong class="ir hi">表格编辑器2 </strong></p><div class="jo jp ez fb jq jr"><a href="https://github.com/otykier/TabularEditor" rel="noopener  ugc nofollow" target="_blank"><div class="js ab dw"><div class="jt ab ju cl cj jv"><h2 class="bd hi fi z dy jw ea eb jx ed ef hg bi translated">GitHub-Tabular editor/Tabular editor:这是用于表格的代码库和问题跟踪器…</h2><div class="jy l"><h3 class="bd b fi z dy jw ea eb jx ed ef dx translated">表格编辑器是一个工具，让您可以轻松地操纵和管理措施，计算列，显示文件夹…</h3></div><div class="jz l"><p class="bd b fp z dy jw ea eb jx ed ef dx translated">github.com</p></div></div><div class="ka l"><div class="kg l kc kd ke ka kf in jr"/></div></div></a></div><figure class="ki kj kk kl fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kh"><img src="../Images/61e020f3c563321e1d276767e81ff13d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*49dpHU3rdvXWjyELmd26hg.png"/></div></div></figure><p id="ab78" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">要创建以上内容，我们需要3个衡量标准:</p><p id="11d3" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">净销售额——净销售额的基本衡量标准</p><pre class="ki kj kk kl fd km kn ko kp aw kq bi"><span id="709b" class="kr ks hh kn b fi kt ku l kv kw">Net Sales =<br/>  CALCULATE(<br/>    SUM(Sales[Amount])<br/>    ,Sales[Status] = "Sold"<br/>  )</span></pre><p id="3362" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">净销售额(预算)——我为这个例子创建的人工预算</p><pre class="ki kj kk kl fd km kn ko kp aw kq bi"><span id="b0ac" class="kr ks hh kn b fi kt ku l kv kw">Net Sales (Budget) = <br/>  50000 * COUNTROWS('Calendar')</span></pre><p id="0a90" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">以及它们之间的%差异</p><pre class="ki kj kk kl fd km kn ko kp aw kq bi"><span id="f99e" class="kr ks hh kn b fi kt ku l kv kw">Net Sales Variance (Budget) (%) = <br/>  DIVIDE(<br/>     [Net Sales]<br/>    ,[Net Sales (Budget)]<br/>    ,0)-1</span></pre><p id="ec52" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在我们已经有了基础，我们需要应用计算组魔法！</p><figure class="ki kj kk kl fd ii er es paragraph-image"><div class="er es kx"><img src="../Images/11d6859c99f7102d52de6bd3a368f898.png" data-original-src="https://miro.medium.com/v2/resize:fit:1066/format:webp/1*h0Jv8oF1tE4pa3BeTZeUqw.png"/></div></figure><p id="1d93" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如果你已经安装了<strong class="ir hi">表格编辑器2 </strong>，它应该出现在“外部工具”功能区中</p><h2 id="9af7" class="kr ks hh bd ky kz la lb lc ld le lf lg ja lh li lj je lk ll lm ji ln lo lp lq bi translated">发动它！</h2><figure class="ki kj kk kl fd ii er es paragraph-image"><div class="er es lr"><img src="../Images/bfd890ef8dc7e029504ea8d8899f0867.png" data-original-src="https://miro.medium.com/v2/resize:fit:1046/format:webp/1*8XhrxhOtXRJIlN5hez1Weg.png"/></div></figure><h1 id="a203" class="ls ks hh bd ky lt lu lv lc lw lx ly lg lz ma mb lj mc md me lm mf mg mh lp mi bi translated">首先创建一个新的计算组</h1><ul class=""><li id="e4b8" class="mj mk hh ir b is ml iw mm ja mn je mo ji mp jm mq mr ms mt bi translated">右键单击表格</li><li id="ad33" class="mj mk hh ir b is mu iw mv ja mw je mx ji my jm mq mr ms mt bi translated">创建新的</li><li id="e348" class="mj mk hh ir b is mu iw mv ja mw je mx ji my jm mq mr ms mt bi translated">计算组</li><li id="88e0" class="mj mk hh ir b is mu iw mv ja mw je mx ji my jm mq mr ms mt bi translated">根据您的喜好重命名它(我总是喜欢在我的计算组前面加上“cg ”,以便更容易与常规表区分开来</li></ul><figure class="ki kj kk kl fd ii er es paragraph-image"><div class="er es mz"><img src="../Images/711a92b158d5993d328ea578c0ad7538.png" data-original-src="https://miro.medium.com/v2/resize:fit:1062/format:webp/1*kuVz1NEapasfzw1CdXjrgA.png"/></div></figure><h1 id="5a13" class="ls ks hh bd ky lt lu lv lc lw lx ly lg lz ma mb lj mc md me lm mf mg mh lp mi bi translated">创建新的计算项目</h1><ul class=""><li id="3988" class="mj mk hh ir b is ml iw mm ja mn je mo ji mp jm mq mr ms mt bi translated">展开新的计算组</li><li id="0519" class="mj mk hh ir b is mu iw mv ja mw je mx ji my jm mq mr ms mt bi translated">右键单击并选择新建计算项目</li><li id="0855" class="mj mk hh ir b is mu iw mv ja mw je mx ji my jm mq mr ms mt bi translated">重命名您的新项目</li></ul><h1 id="0ddb" class="ls ks hh bd ky lt lu lv lc lw lx ly lg lz ma mb lj mc md me lm mf mg mh lp mi bi translated">计算项目:</h1><figure class="ki kj kk kl fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es na"><img src="../Images/b98365fd44e96036891e65f68c63745e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ePLH_ucxeI_4T3-evrA-LA.png"/></div></div></figure><pre class="ki kj kk kl fd km kn ko kp aw kq bi"><span id="af35" class="kr ks hh kn b fi kt ku l kv kw">SELECTEDMEASURE () * DIVIDE ( RANDBETWEEN ( 50, 150 ), 100 )</span></pre><ul class=""><li id="0d22" class="mj mk hh ir b is it iw ix ja nb je nc ji nd jm mq mr ms mt bi translated">selected measure()-获取页面上的任何度量或值，并将其传递给计算组</li><li id="577a" class="mj mk hh ir b is mu iw mv ja mw je mx ji my jm mq mr ms mt bi translated">RANDBETWEEN ( 50，150)返回一个介于50和150之间的随机数</li><li id="41e1" class="mj mk hh ir b is mu iw mv ja mw je mx ji my jm mq mr ms mt bi translated">我们除以100得到%的差值</li><li id="506d" class="mj mk hh ir b is mu iw mv ja mw je mx ji my jm mq mr ms mt bi translated">作为一个整体，我们现在得到了50%到150%之间的每个计算的变化，每个计算有不同的随机数</li></ul><p id="0cac" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">创建完成后，将其保存回模型，单击<strong class="ir hi">“立即刷新”</strong>这将填充报告中的计算组</p><figure class="ki kj kk kl fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ne"><img src="../Images/504b163a8e99525f6a3254ebf78b905e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OsPdpEU0rU3KEpYib4IqhQ.png"/></div></div></figure><figure class="ki kj kk kl fd ii er es paragraph-image"><div class="er es nf"><img src="../Images/a06b960eabffabfd196bdbe26358e903.png" data-original-src="https://miro.medium.com/v2/resize:fit:674/format:webp/1*Cv5212LDxB2v1zvVqRRHLQ.png"/></div></figure><p id="7d46" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在，您将在字段列表中看到计算组</p><p id="65f9" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">(注意cg前缀)</p><figure class="ki kj kk kl fd ii er es paragraph-image"><div class="er es ng"><img src="../Images/5ebcb548a1ea5c5cfe4c7762c832e523.png" data-original-src="https://miro.medium.com/v2/resize:fit:1146/format:webp/1*Nbp7p8YUoB5ZpeOEGr_C4w.png"/></div></figure><p id="e494" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在你可以把它拉进一个<strong class="ir hi">过滤器</strong></p><p id="e6f8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">(页面/报告/切片器/任何过滤器工作)</p><h1 id="6e30" class="ls ks hh bd ky lt lu lv lc lw lx ly lg lz ma mb lj mc md me lm mf mg mh lp mi bi translated">没有过滤器</h1><figure class="ki kj kk kl fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nh"><img src="../Images/ece18302f67f7484232d80511e955842.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FW348-L8lap9qevoyEcnFQ.png"/></div></div></figure><h1 id="d710" class="ls ks hh bd ky lt lu lv lc lw lx ly lg lz ma mb lj mc md me lm mf mg mh lp mi bi translated">带过滤器</h1><figure class="ki kj kk kl fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nh"><img src="../Images/a16353af9ba30169aa40f78c20aa3dc9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p6BT8M8RiaPUY99HCUMynA.png"/></div></div></figure><p id="c6e7" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如你所见，所有的数字都变了！但是我们有一个问题，预算已经完全失控，记住这是因为每一个措施都被通过和计算</p><p id="9497" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><em class="jn">(在使用具有平均值和计算百分比的计算组时，需要记住这一点)</em></p><p id="9205" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">因此，我们返回到<strong class="ir hi">表格编辑器</strong>，我们将创建一个新的计算项目</p><figure class="ki kj kk kl fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/4407f223cc1db077e730598851dc3b94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O2Lj1O7TmR08hp8VtlXk9g.png"/></div></div></figure><pre class="ki kj kk kl fd km kn ko kp aw kq bi"><span id="46dc" class="kr ks hh kn b fi kt ku l kv kw">VAR _IfStatic =<br/>  CALCULATE ( DIVIDE ( RANDBETWEEN ( 50, 150 ), 100 ), ALL ( 'Calendar' ) )<br/>RETURN<br/>  SWITCH (<br/>    TRUE()<br/>    ,CONTAINSSTRING ( SELECTEDMEASURENAME (), "Budget" )<br/>    ,SELECTEDMEASURE () * _IfStatic<br/>    ,SELECTEDMEASURE () * DIVIDE ( RANDBETWEEN ( 50, 150 ), 100 )<br/>  )</span></pre><ul class=""><li id="1ad8" class="mj mk hh ir b is it iw ix ja nb je nc ji nd jm mq mr ms mt bi translated">我们创建了一个变量_IfStatic，我们只想对所有计算进行一次求值(在本例中，我们是跨日期计算)</li><li id="7774" class="mj mk hh ir b is mu iw mv ja mw je mx ji my jm mq mr ms mt bi translated">我们打开一个开关()—这允许我们评估所有类型的标准，并给我们很多机会应用自定义格式或计算</li><li id="58d4" class="mj mk hh ir b is mu iw mv ja mw je mx ji my jm mq mr ms mt bi translated">在本例中，我们只是使用CONTAINSSTRING()和SELECTEDMEASURENAME()在度量名称本身中搜索单词“Budget”</li><li id="9c68" class="mj mk hh ir b is mu iw mv ja mw je mx ji my jm mq mr ms mt bi translated">如果SELECTEDMEASURENAME()不包含“预算”,请评估每个步骤</li></ul><p id="67f9" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">因此，当我们返回报告并刷新时，您可以看到预算现在表现良好</p><figure class="ki kj kk kl fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ni"><img src="../Images/def6d7ac3ba6fab4b2575b084611cd1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ClegV8ira7dGLb9ZoTK4Bg.png"/></div></div></figure><p id="f65e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><em class="jn">请注意！此技术仅适用于模糊演示或屏幕截图的数据，如果您发送PBIX，数据在后端根本没有更改，如果您在左侧功能区显示“数据”选项卡，所有数据都将是实际数据！</em></p><p id="30d2" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我希望你对我的技巧感兴趣:)</p><p id="ba7a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如有任何问题，请联系我们！</p><p id="1877" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如果你想进一步了解计算组是如何工作的，我推荐你阅读这些文章</p><p id="8007" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><a class="ae nj" href="https://www.sqlbi.com/calculation-groups/" rel="noopener ugc nofollow" target="_blank">https://www.sqlbi.com/calculation-groups/</a></p></div></div>    
</body>
</html>