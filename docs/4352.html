<html>
<head>
<title>Iterable vs Iterator — Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">可迭代与迭代器— Python</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/iterable-vs-iterator-python-d14aedaa0197?source=collection_archive---------4-----------------------#2021-09-27">https://medium.com/analytics-vidhya/iterable-vs-iterator-python-d14aedaa0197?source=collection_archive---------4-----------------------#2021-09-27</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div class="er es ie"><img src="../Images/f154e69781405c9be26e6c3e0570627d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*aLe-Pxsc6CXwQpVQvImx7g.jpeg"/></div><figcaption class="il im et er es in io bd b be z dx translated">Rick van der Haar 在<a class="ae ip" href="https://unsplash.com/s/photos/mantis?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="4526" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">我们都出于各种目的扫描物品。在计算中，我们也扫描项目集合。Iterable和Iterator是扫描的概念。我很高兴看到这个概念，并愿意分享它。</p><p id="d9fe" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">在这篇文章中，我们将通过例子来回顾什么是可迭代的和迭代器。让我们开始吧。🙌</p><p id="73cf" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">Iterable是实现<code class="du jo jp jq jr b">__iter__</code> dunder方法的对象。</p><p id="1a66" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">迭代器是实现<code class="du jo jp jq jr b">__iter__</code>和<code class="du jo jp jq jr b">__next__</code> dunder方法的对象。</p><p id="6c71" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">我们看到迭代器是可迭代的<strong class="is hi">但是</strong>它们是被耗尽的可迭代的。另一方面，iterables永远不会耗尽，因为它们总是返回一个用于迭代的新迭代器。</p><p id="96d8" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">让我们看一个例子:</p><figure class="js jt ju jv fd ii"><div class="bz dy l di"><div class="jw jx l"/></div></figure><p id="064a" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">下面是一个输出:</p><pre class="js jt ju jv fd jy jr jz ka aw kb bi"><span id="5c81" class="kc kd hh jr b fi ke kf l kg kh">First iteration...<br/>daffodil<br/>rose<br/>gerbera<br/>orchid<br/>carnation<br/>peony<br/>lily</span><span id="1b2c" class="kc kd hh jr b fi ki kf l kg kh">2nd iteration...</span><span id="c3fc" class="kc kd hh jr b fi ki kf l kg kh">instantiating BouquetIterator once again...<br/>3rd iteration...<br/>daffodil<br/>rose<br/>gerbera<br/>orchid<br/>carnation<br/>peony<br/>lily</span></pre><p id="7537" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">你看，第一次迭代之后，迭代器就用完了。因此，第二次迭代是空的。您需要重新实例化您的迭代器，以便能够再次迭代。</p><p id="0b1a" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">怎样才能让迭代器用之不竭？这就是iterable的用武之地。iterable所做的是用它的<code class="du jo jp jq jr b">__iter__</code> dunder方法返回迭代器。让我们把上面的例子转换成iterable，这样我们可以迭代尽可能多的次数而不会耗尽迭代器。</p><figure class="js jt ju jv fd ii"><div class="bz dy l di"><div class="jw jx l"/></div></figure><p id="7d5d" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">运行该文件时，我们得到:</p><pre class="js jt ju jv fd jy jr jz ka aw kb bi"><span id="d9cd" class="kc kd hh jr b fi ke kf l kg kh">First iteration...<br/>daffodil<br/>rose<br/>gerbera<br/>orchid<br/>carnation<br/>peony<br/>lily</span><span id="6f84" class="kc kd hh jr b fi ki kf l kg kh">2nd iteration...<br/>daffodil<br/>rose<br/>gerbera<br/>orchid<br/>carnation<br/>peony<br/>lily</span><span id="5528" class="kc kd hh jr b fi ki kf l kg kh">3rd iteration...<br/>daffodil<br/>rose<br/>gerbera<br/>orchid<br/>carnation<br/>peony<br/>lily</span></pre><p id="837b" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">看，我们可以迭代任意多次，而不必用项目集合重新实例化迭代器。</p><p id="2d86" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">你可能会想为什么这很酷？这很酷，因为如果您从外部来源接收数据，这需要大量的资源和时间，现在您不必每次需要迭代它们时都进行外部调用。调用一次，迭代到你的心满意足！</p><p id="6802" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">我们也可以调用迭代器来处理只实现了<code class="du jo jp jq jr b">__getitem__</code>的序列类型，如列表所示。我们有<code class="du jo jp jq jr b">iter()</code>方法将序列类型转换成迭代器。</p><p id="612d" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">让我们看一个例子:</p><figure class="js jt ju jv fd ii er es paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="er es kj"><img src="../Images/fdee5cf521ba54fdd2be4562e0b70fde.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lJKpUuB7hLX2TFD4t8TIKw.png"/></div></div></figure><p id="7c44" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">看，我们使用<code class="du jo jp jq jr b">iter()</code>方法将<code class="du jo jp jq jr b">list</code>转换为<code class="du jo jp jq jr b">list_iterator</code>，并使用<code class="du jo jp jq jr b">next()</code>方法获取项目。我们也可以使用普通的<code class="du jo jp jq jr b">for</code>循环来迭代迭代器中的其余元素。</p><p id="d0b1" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">参见单元格#4，一旦迭代器用完，就没有元素了。因此，没有输出。</p><p id="a6b8" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">总之，</p><ul class=""><li id="7636" class="ko kp hh is b it iu ix iy jb kq jf kr jj ks jn kt ku kv kw bi translated"><strong class="is hi">可迭代</strong>是实现<code class="du jo jp jq jr b">__iter__</code>方法的<strong class="is hi">不可穷尽</strong> e，而<strong class="is hi">迭代器</strong>是实现<code class="du jo jp jq jr b">__iter__</code>和<code class="du jo jp jq jr b">__next__</code>方法的<strong class="is hi">可穷尽</strong>。</li><li id="d2d8" class="ko kp hh is b it kx ix ky jb kz jf la jj lb jn kt ku kv kw bi translated">Iterables能够是无穷无尽的，因为在<code class="du jo jp jq jr b">__iter__</code>方法中，它<strong class="is hi">返回迭代集合的迭代器对象</strong>。而在迭代器中，<code class="du jo jp jq jr b">__iter__</code> <strong class="is hi">返回自身</strong>。</li></ul><p id="cfde" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">这就是这篇文章的全部内容。感谢您的阅读，我希望这是一篇有用的文章。</p><p id="5df8" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated"><strong class="is hi">灵感</strong>:</p><ul class=""><li id="5e38" class="ko kp hh is b it iu ix iy jb kq jf kr jj ks jn kt ku kv kw bi translated"><a class="ae ip" href="https://www.udemy.com/course/python-3-deep-dive-part-2/" rel="noopener ugc nofollow" target="_blank">蟒蛇3:深潜</a></li></ul></div><div class="ab cl lc ld go le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="ha hb hc hd he"><p id="91e4" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">你可以在<a class="ae ip" href="https://www.patreon.com/dkhambu" rel="noopener ugc nofollow" target="_blank">上支持我！</a></p></div></div>    
</body>
</html>