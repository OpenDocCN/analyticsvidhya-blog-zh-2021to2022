<html>
<head>
<title>Getting Started On Kaggle…</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Kaggle入门…</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/getting-started-on-kaggle-5be7d9be46e3?source=collection_archive---------16-----------------------#2021-02-13">https://medium.com/analytics-vidhya/getting-started-on-kaggle-5be7d9be46e3?source=collection_archive---------16-----------------------#2021-02-13</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="445c" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">我的第一个Kaggle笔记本提交</h2></div><p id="b001" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">因此，经过一个月的修改python的概念，了解了一些Python数据处理和可视化库的基础，如<em class="js"> NumPy、Pandas、Matplotlib、</em>等。我决定在Kaggle上创建自己的账户，用<strong class="iy hi">真实数据</strong>开始我的数据分析之旅。</p><p id="0ba0" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">注册后，我开始研究一些流行的数据集，人们已经提交了他们的笔记本。我调查了其中的一些(高评级)。他们一直在用seaborn，Plotly等。有更好的可视化和易于编码的绘图。</p><p id="d016" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我又花了一周时间沉浸在Seaborn和Plotly的概念中。做完基础工作后，我开始有点自信了。<a class="ae jt" href="https://www.kaggle.com/ayushggarg/all-trumps-twitter-insults-20152021" rel="noopener ugc nofollow" target="_blank">所有川普的推特辱骂(2015–2021)</a>在当时相当有名。</p><p id="c9ef" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我首先导入了所有基本的东西，比如numpy、pandas、matplotlib、plotly、plotly.offline等等。后面是数据(在。csv)在数据帧中。</p><p id="7d4a" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">准确地说，这是我在牢房里执行的任务:</p><pre class="ju jv jw jx fd jy jz ka kb aw kc bi"><span id="ba65" class="kd ke hh jz b fi kf kg l kh ki">import numpy as np <br/>import pandas as pd <br/>from matplotlib import pyplot as plt<br/>import seaborn as sns<br/>import chart_studio.plotly as py<br/>import cufflinks as cf<br/>import plotly.graph_objs as go<br/>from wordcloud import WordCloud, STOPWORDS, ImageColorGenerator<br/>from PIL import Image<br/>%matplotlib inline<br/><br/>from plotly.offline import download_plotlyjs, plot, init_notebook_mode, iplot<br/>init_notebook_mode(connected=True)<em class="js"># initiate notebook for offline plot</em><br/>cf.go_offline()</span></pre><p id="87d5" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">感谢您导入我的。csv数据转换成数据帧:</p><pre class="ju jv jw jx fd jy jz ka kb aw kc bi"><span id="42d6" class="kd ke hh jz b fi kf kg l kh ki">trump_df = pd.read_csv("../input/all-trumps-twitter-insults-20152021/trump_insult_tweets_2014_to_2021.csv")<br/>trump_df.head(10)</span></pre><p id="ccd7" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这是我在执行上述单元格时得到的结果:</p><figure class="ju jv jw jx fd kk er es paragraph-image"><div class="er es kj"><img src="../Images/9c629d958e41d3d7d375aa53abbf46de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1266/format:webp/1*G7M7DG4blHZmbyvvk3ZkzQ.png"/></div><figcaption class="kn ko et er es kp kq bd b be z dx translated">特朗普推特辱骂数据框(导入)</figcaption></figure><p id="a68f" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">然后，我检查了数据框的形状(trump_df.shape ),后面是空值(如果有的话)( trump_df.isnull()。sum())。在那里，我发现了一个有10360行、5列的形状，在目标列中有2个空值。</p><p id="82d1" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">现在，在数据清理下，我删除了目标中包含空数据的两行，因为我可以观察到这不会影响由10360行组成的整体数据。</p><pre class="ju jv jw jx fd jy jz ka kb aw kc bi"><span id="1248" class="kd ke hh jz b fi kf kg l kh ki">trump_df.dropna(inplace=True)<br/>trump_df.shape</span></pre><p id="01c3" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">然后我通过运行<strong class="iy hi"> trump_df.target.unique()进行观察。形状</strong>只有866行是唯一的。因此，许多人/目标/社区多次成为目标。</p><p id="5939" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">运行此代码以获得唯一的目标计数:</p><pre class="ju jv jw jx fd jy jz ka kb aw kc bi"><span id="4905" class="kd ke hh jz b fi kf kg l kh ki">unique_targetcounts = trump_df.target.value_counts()<br/>unique_targetcounts</span></pre><figure class="ju jv jw jx fd kk er es paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="er es kr"><img src="../Images/a164ab5151390669f958f8669e1b27d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1250/format:webp/1*tmw7Pge3fzWW2s1m9XlqXw.png"/></div></div><figcaption class="kn ko et er es kp kq bd b be z dx translated">唯一目标计数</figcaption></figure><p id="5945" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">然后，可视化前25名目标人员/社区:</p><pre class="ju jv jw jx fd jy jz ka kb aw kc bi"><span id="4d40" class="kd ke hh jz b fi kf kg l kh ki">trace = go.Bar(x=unique_targetcounts.index[:25], y=unique_targetcounts,<br/>              marker=dict(<br/>                  opacity=0.8,<br/>                  color=np.arange(25)<br/>              ))<br/><br/>fig = go.Figure(data=[trace])<br/>fig.update_layout(title="Top 25 Targets")<br/>fig.update_xaxes(title="Target")<br/>fig.update_yaxes(title="Frequency")<br/><br/>iplot(fig)</span></pre><figure class="ju jv jw jx fd kk er es paragraph-image"><div class="er es kw"><img src="../Images/c1a0cecde1a1804b308345cb949da664.png" data-original-src="https://miro.medium.com/v2/resize:fit:1292/format:webp/1*iVMQeYGPeksITOzSaXEaXQ.png"/></div><figcaption class="kn ko et er es kp kq bd b be z dx translated">显示前25个目标的条形图</figcaption></figure><p id="daa5" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">然后为了更好的可视化所有的目标，我试着在WordCloud上绘制它们，这是我从别人的笔记本上学来的。</p><p id="0ad0" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">你只需要运行几行代码，你就可以得到一个奇妙的单词可视化。</p><pre class="ju jv jw jx fd jy jz ka kb aw kc bi"><span id="b3e6" class="kd ke hh jz b fi kf kg l kh ki">target_text = " ".join(trump_df.target)<br/>wordcloud = WordCloud(width=1400, height=700).generate(text=target_text)<br/>plt.figure(figsize=(30,18))<br/>plt.imshow(wordcloud, interpolation="bilinear")<br/>plt.axis("off")<br/>plt.show()</span></pre><figure class="ju jv jw jx fd kk er es paragraph-image"><div class="er es kx"><img src="../Images/8aba06bb4478adbbe14c7019ca01f16c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*z_V-qyRJiIqGq9S7MFvpYA.png"/></div><figcaption class="kn ko et er es kp kq bd b be z dx translated">WordCloud显示热门目标</figcaption></figure><p id="1378" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这种视觉化是在下一个层次上(我感觉到了),我最终也把它用在了顶级侮辱上。</p><pre class="ju jv jw jx fd jy jz ka kb aw kc bi"><span id="cf48" class="kd ke hh jz b fi kf kg l kh ki">insult_text = " ".join(trump_df.insult)<br/>wordcloud = WordCloud(width=1400, height=700).generate(text=insult_text)<br/>plt.figure(figsize=(30,18))<br/>plt.imshow(wordcloud, interpolation="bilinear")<br/>plt.axis("off")<br/>plt.show()</span></pre><figure class="ju jv jw jx fd kk er es paragraph-image"><div class="er es kr"><img src="../Images/c05df26da4894aa5b60365eb3cdc05a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1250/format:webp/1*bWe5cZj5Nt3YVmdkXyUR6A.png"/></div><figcaption class="kn ko et er es kp kq bd b be z dx translated">WordCloud显示顶级侮辱</figcaption></figure><p id="4a14" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我可以从上面的文字云观察到，常用的侮辱是假的，新闻，腐败的人，不诚实的，等等。他试图宣布所有批评他们的东西都是虚假和腐败的——主要是媒体。</p><p id="de5e" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">然后我试图计算出从2016年到2020年每年有多少条推文。为此，我必须处理时间序列、索引设置等。</p><pre class="ju jv jw jx fd jy jz ka kb aw kc bi"><span id="5a69" class="kd ke hh jz b fi kf kg l kh ki"><em class="js"># set date as index and then convert it from str into DateTime</em></span><span id="102e" class="kd ke hh jz b fi ky kg l kh ki">trump_df.set_index(trump_df.date, inplace=True)<br/>trump_df.index = pd.to_datetime(trump_df.index, format="%Y/%m/<strong class="jz hi">%d</strong>")<br/>trump_df.index</span></pre><p id="8d6f" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">每年发布的推文数量的可视化:</p><pre class="ju jv jw jx fd jy jz ka kb aw kc bi"><span id="6542" class="kd ke hh jz b fi kf kg l kh ki">datecount_data = trump_df.index.value_counts().resample("Y").count()<br/>datecount_data</span><span id="2e4b" class="kd ke hh jz b fi ky kg l kh ki">countsbydate = trump_df.index.value_counts().resample("m").count()<br/>trace1 = go.Scatter(x=datecount_data.index, y=datecount_data)<br/>fig = go.Figure(data=[trace1])<br/><br/>fig.update_xaxes(title="Year")<br/>fig.update_yaxes(title="Tweet Count")<br/><br/>iplot(fig)</span></pre><figure class="ju jv jw jx fd kk er es paragraph-image"><div class="er es kz"><img src="../Images/9632817d2be3754e8c6e52177d0e3566.png" data-original-src="https://miro.medium.com/v2/resize:fit:1296/format:webp/1*PeBwLTHVHgS2Tdlkog2-Ww.png"/></div><figcaption class="kn ko et er es kp kq bd b be z dx translated">每年发布的推文数量</figcaption></figure><p id="ee39" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">然后我试着想象在媒体上被侮辱的百分比是多少。为此，我决定使用饼状图。</p><pre class="ju jv jw jx fd jy jz ka kb aw kc bi"><span id="d5e7" class="kd ke hh jz b fi kf kg l kh ki"><em class="js"># filtering tweets where target is "the-media"</em></span><span id="aace" class="kd ke hh jz b fi ky kg l kh ki">media_insults = trump_df.target[trump_df.target == "the-media"].count()<br/>other_insults = trump_df.target.count() - media_insults</span><span id="6738" class="kd ke hh jz b fi ky kg l kh ki"><em class="js"># visualization of other insults vs The Media insults</em></span><span id="2505" class="kd ke hh jz b fi ky kg l kh ki">explode=[0, 0.2]<br/>plt.style.use('fivethirtyeight')<br/>plt.pie([other_insults, media_insults],labels=["Other Insults", "Media Insults"], explode=explode, <br/>        shadow=True, wedgeprops={"edgecolor" : "#2d2d2d"},<br/>       radius=1.2, autopct="<strong class="jz hi">%1.1f%%</strong>")<br/><br/>plt.show()</span></pre><figure class="ju jv jw jx fd kk er es paragraph-image"><div class="er es la"><img src="../Images/8d06d7a446f332bc19b745a7cf1263b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:704/format:webp/1*htWONR3xHKNmjo0QIWwljw.png"/></div><figcaption class="kn ko et er es kp kq bd b be z dx translated">馅饼阴谋显示媒体侮辱</figcaption></figure><p id="edf0" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">然后我试着想象希拉里·克林顿和乔·拜登在推特上受到多少侮辱。</p><pre class="ju jv jw jx fd jy jz ka kb aw kc bi"><span id="0b0f" class="kd ke hh jz b fi kf kg l kh ki">hillary_clinton_target = trump_df.index[trump_df.target == "hillary-clinton"].value_counts().resample("m").count()<br/>joe_biden_target = trump_df.index[trump_df.target == "joe-biden"].value_counts().resample("m").count()</span><span id="218f" class="kd ke hh jz b fi ky kg l kh ki">trace1 = go.Scatter(x=hillary_clinton_target.index, y=hillary_clinton_target, <br/>                    mode="markers", name="Hillary-Clinton", marker=dict(<br/>                    size=hillary_clinton_target*2<br/>                    ))<br/>trace2 = go.Scatter(x=joe_biden_target.index, y=joe_biden_target, <br/>                    mode="markers", name="Joe-Biden", marker=dict(<br/>                    size=joe_biden_target*2<br/>                    ))<br/><br/>fig = go.Figure(data=[trace1, trace2])<br/><br/>fig.update_layout(title="Hillary-Clinton vs Joe-Biden Tweet Target (2016-2021)")<br/>fig.update_xaxes(title="Year")<br/>fig.update_yaxes(title="Times Targeted")<br/><br/>iplot(fig)</span></pre><figure class="ju jv jw jx fd kk er es paragraph-image"><div class="er es lb"><img src="../Images/2bf9182b871b6f97cc7b4826f057457d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1242/format:webp/1*JOxXHGkI7ubsLOXg7stp9w.png"/></div><figcaption class="kn ko et er es kp kq bd b be z dx translated">对希拉里·克林顿和乔·拜登的侮辱次数</figcaption></figure><p id="f57d" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我能够观察到从希拉里-克林顿(2016年选举)到乔-拜登(2020年选举)的转变。</p><p id="7a87" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这是我出版的第一本笔记本，从那以后我又出版了两本。提供的解释足够好，得到了很多感谢的评论，并在我的笔记本上加了一枚银质徽章。</p><p id="2c6a" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">您可以在此处找到该笔记本:</p><div class="lc ld ez fb le lf"><a href="https://www.kaggle.com/rahul253801/eda-of-trump-s-twitter-insults" rel="noopener  ugc nofollow" target="_blank"><div class="lg ab dw"><div class="lh ab li cl cj lj"><h2 class="bd hi fi z dy lk ea eb ll ed ef hg bi translated">特朗普推特辱骂的埃达</h2><div class="lm l"><h3 class="bd b fi z dy lk ea eb ll ed ef dx translated">用Kaggle笔记本探索和运行机器学习代码|使用特朗普所有推特辱骂的数据(2015-2021)</h3></div><div class="ln l"><p class="bd b fp z dy lk ea eb ll ed ef dx translated">www.kaggle.com</p></div></div><div class="lo l"><div class="lp l lq lr ls lo lt kl lf"/></div></div></a></div><p id="07c7" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">如果你在评论中遇到任何困难，请告诉我。</p></div></div>    
</body>
</html>