<html>
<head>
<title>Cordova plugin camera a tutorial</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">科尔多瓦插件相机教程</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/cordova-plugin-camera-a-tutorial-6103954c3674?source=collection_archive---------2-----------------------#2021-01-13">https://medium.com/analytics-vidhya/cordova-plugin-camera-a-tutorial-6103954c3674?source=collection_archive---------2-----------------------#2021-01-13</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="9ec6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为了使用Cordova<strong class="ig hi"><em class="jc">捕捉和选择</em>图像</strong>或视频，可以使用<em class="jc">插件</em><a class="ae jd" href="https://cordova.apache.org/docs/en/latest/reference/cordova-plugin-camera/" rel="noopener ugc nofollow" target="_blank">Cordova-plugin-camera</a>。</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="f49e" class="jn jo hh jj b fi jp jq l jr js">$ cordova create demo-camera com.twiserandom.mobileapps.demo.camera "Demo Camera"<br/># Create an application , in a folder named<br/># demo-camera , with an id of <br/># com.twiserandom.mobileapps.demo.camera <br/># and a title of : Demo Camera</span><span id="b6ca" class="jn jo hh jj b fi jt jq l jr js">$ cd demo-camera</span><span id="2a52" class="jn jo hh jj b fi jt jq l jr js">$ cordova platform add ios<br/># add the iOS platform</span><span id="03cd" class="jn jo hh jj b fi jt jq l jr js">$ cordova platform add android<br/># add the android platform</span><span id="19b8" class="jn jo hh jj b fi jt jq l jr js">$ cordova plugin add cordova-plugin-camera<br/># add the camera plugin .</span></pre><p id="9f03" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">向<strong class="ig hi"> <em class="jc">获取一张图片或一段视频</em> </strong>，该功能:</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="7688" class="jn jo hh jj b fi jp jq l jr js">navigator.camera.getPicture(cameraSuccessFct , cameraErrorFct , cameraOptions );</span></pre><p id="01e2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">可以使用。</p><p id="0ac3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在触发了<code class="du ju jv jw jj b">deviceready</code>事件之后，<code class="du ju jv jw jj b">navigator.camera</code>对象是全局可访问的。</p><p id="4996" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><code class="du ju jv jw jj b">navigator.camera.getPicture</code>函数将两个函数作为参数，一个在成功时调用，另一个在出错时调用。它的最后一个参数是一个包含媒体和摄像机选项的对象。该对象具有以下格式。</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="bb01" class="jn jo hh jj b fi jp jq l jr js">/*Camera object properties .*/<br/>{<br/>  "mediaType": <br/>      Camera.MediaType.PICTURE<br/>        /*Select a picture , default .*/<br/>      Camera.MediaType.VIDEO<br/>        /*Select a video , returns url only .*/<br/>      Camera.MediaType.ALLMEDIA<br/>       /*Select from all media .*/ ,<br/>  "sourceType": <br/>      Camera.PictureSourceType.PHOTOLIBRARY <br/>        /*Source , device photo library .*/<br/>      Camera.PictureSourceType.CAMERA<br/>        /*Source camera , default .*/<br/>      Camera.PictureSourceType.SAVEDPHOTOALBUM<br/>        /*Source Roll album , iOS only .*/ ,<br/>  "cameraDirection": <br/>      Camera.Direction.BACK<br/>        /*Back Camera default .*/<br/>      Camera.Direction.FRONT<br/>        /*Front Camera .*/ ,<br/>  "destinationType":<br/>      Camera.DestinationType.DATA_URL<br/>        /*Return a base 64 encoded stream .*/<br/>      Camera.DestinationType.FILE_URI<br/>        /*Return a file url , default , for example : <br/>             file:///var/mobile/Containers/Data/...../cdv_photo_001.jpg <br/>          In iOS , Pictures or videos are saved in the app , <br/>          temporary directory , which is emptied when the app<br/>          exits .*/<br/>        Camera.DestinationType.NATIVE_URI ,<br/>       /* In iOS files are saved in the save Photo Album , when<br/>          source type is camera , and editing is ignored when<br/>          source type is PHOTOLIBRARY .*/<br/>  "saveToPhotoAlbum": true<br/>      /*True or false , save image to <br/>        photo album , default true .*/ ,<br/>  "encodingType": <br/>      Camera.EncodingType.JPEG<br/>        /*Returned image encoding type <br/>          JPEG , default .*/<br/>      Camera.EncodingType. PNG<br/>        /*Returned image encoding type<br/>          PNG  .*/ ,<br/>  "quality": 50<br/>      /*Quality of the captured image , <br/>        between 0 and 100 , default is<br/>        50 .*/ ,<br/>  "allowEdit": false<br/>      /*True or false .<br/>        Allow image editing before<br/>        selection , iOS only , default<br/>        false .*/ ,<br/>  "targetWidth": undefined<br/>      /*Width in px to scale image , <br/>        must be used with targetHeight .<br/>        Aspect ratio remains constant <br/>        , default undefined .*/ ,<br/>  "targetHeight": undefined<br/>      /*Height in px to scale image , <br/>        must be used with targetWidth .<br/>        Aspect ratio remains constant ,<br/>        default undefined .*/ ,<br/>  "correctOrientation": undefined<br/>      /*True or false .<br/>        Correct rotation of device using capture<br/>        by rotating the image ,<br/>        default undefined .*/ ,<br/>  "popoverOptions": undefined <br/>      /*default , undefined . <br/>        new CameraPopoverOptions(<br/>           /*Where to anchor PopOver , iPad , iOS only .*/<br/>            300, /*x coordinate px  , default 0 .*/<br/>            300, /*y coordinate px , default 32 .*/<br/>            100, /*width px element where anchor popover , default 320 .*/<br/>            100, /*Height px element where anchor popover , default 480 .*/<br/>            Camera.PopoverArrowDirection.ARROW_ANY, <br/>              /*Specify location arrow location on<br/>                popover , iPad , iOS Only , default ARROW_ANY<br/>                  Camera.PopoverArrowDirection.ARROW_UP<br/>                  Camera.PopoverArrowDirection.ARROW_DOWN<br/>                  Camera.PopoverArrowDirection.ARROW_LEFT<br/>                  Camera.PopoverArrowDirection.ARROW_RIGHT<br/>                  Camera.PopoverArrowDirection. ARROW_ANY */<br/>            300, /*width pop over , default 0 , apple default */<br/>            600  /*Height pop over , default 0 , apple default */ ) .*/<br/>}</span></pre><p id="0c73" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">对于iOS，要让这个插件工作，必须设置<strong class="ig hi"> <em class="jc">应用在做什么</em> </strong>。这可以通过编辑位于应用程序根目录下的<code class="du ju jv jw jj b">config.xml</code>文件来实现，如下所示:</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="1d89" class="jn jo hh jj b fi jp jq l jr js">&lt;?xml version='1.0' encoding='utf-8'?&gt;<br/>&lt;widget id="com.twiserandom.mobileapps.demo.camera" version="1.0.0" ae jd" href="http://www.w3.org/ns/widgets" rel="noopener ugc nofollow" target="_blank"&gt;http://www.w3.org/ns/widgets" xmlns:cdv="<a class="ae jd" href="http://cordova.apache.org/ns/1.0" rel="noopener ugc nofollow" target="_blank">http://cordova.apache.org/ns/1.0</a>"&gt;<br/>    &lt;name&gt;Demo Camera&lt;/name&gt;<br/>    &lt;description&gt;<br/>        A sample Apache Cordova application that responds to the deviceready event.<br/>    &lt;/description&gt;<br/>    &lt;author email="<a class="ae jd" href="mailto:dev@cordova.apache.org" rel="noopener ugc nofollow" target="_blank">dev@cordova.apache.org</a>" href="<a class="ae jd" href="http://cordova.io" rel="noopener ugc nofollow" target="_blank">http://cordova.io</a>"&gt;<br/>        Apache Cordova Team<br/>    &lt;/author&gt;<br/>    &lt;content src="index.html" /&gt;<br/>    &lt;access origin="*" /&gt;<br/>    &lt;allow-intent href="<a class="ae jd" rel="noopener ugc nofollow" target="_blank" href="/*/*">http://*/*</a>" /&gt;<br/>    &lt;allow-intent href="<a class="ae jd" rel="noopener ugc nofollow" target="_blank" href="/*/*">https://*/*</a>" /&gt;<br/>    &lt;allow-intent href="tel:*" /&gt;<br/>    &lt;allow-intent href="sms:*" /&gt;<br/>    &lt;allow-intent href="mailto:*" /&gt;<br/>    &lt;allow-intent href="geo:*" /&gt;<br/>    &lt;platform name="android"&gt;<br/>        &lt;allow-intent href="market:*" /&gt;<br/>    &lt;/platform&gt;<br/>    &lt;platform name="ios"&gt;<br/>        &lt;allow-intent href="itms:*" /&gt;<br/>        &lt;allow-intent href="itms-apps:*" /&gt;<br/>    &lt;/platform&gt;</span><span id="9e2f" class="jn jo hh jj b fi jt jq l jr js">&lt;!-- IOS  camera access  , for cordova camera plugin --&gt;<br/>    &lt;edit-config target="NSCameraUsageDescription" file="*-Info.plist" mode="merge"&gt;<br/>        &lt;string&gt;need camera access to take pictures&lt;/string&gt;<br/>    &lt;/edit-config&gt;</span><span id="3762" class="jn jo hh jj b fi jt jq l jr js">&lt;edit-config target="NSPhotoLibraryUsageDescription" file="*-Info.plist" mode="merge"&gt;<br/>        &lt;string&gt;need photo library access to get pictures from there&lt;/string&gt;<br/>    &lt;/edit-config&gt;</span><span id="1d21" class="jn jo hh jj b fi jt jq l jr js">&lt;edit-config target="NSLocationWhenInUseUsageDescription" file="*-Info.plist" mode="merge"&gt;<br/>        &lt;string&gt;need location access to find things nearby&lt;/string&gt;<br/>    &lt;/edit-config&gt;</span><span id="bcbb" class="jn jo hh jj b fi jt jq l jr js">&lt;edit-config target="NSPhotoLibraryAddUsageDescription" file="*-Info.plist" mode="merge"&gt;<br/>        &lt;string&gt;need photo library access to save pictures there&lt;/string&gt;<br/>    &lt;/edit-config&gt;</span><span id="3407" class="jn jo hh jj b fi jt jq l jr js">&lt;preference name="CameraUsesGeolocation" value="false" /&gt;<br/>    &lt;!-- Enable Geolocation for iOS , set the value to<br/>         true , it seems there is a problem , with geolocation<br/>         enabled in this plugin . --&gt;<br/>&lt;!-- IOS  camera access  , for cordova camera plugin --&gt;<br/>&lt;/widget&gt;</span></pre><p id="5bbd" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">将<code class="du ju jv jw jj b">www/index.html</code>编辑成这样:</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="027d" class="jn jo hh jj b fi jp jq l jr js">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;</span><span id="d470" class="jn jo hh jj b fi jt jq l jr js">&lt;head&gt;<br/>    &lt;meta charset="utf-8"&gt;<br/>    &lt;meta http-equiv="Content-Security-Policy" &gt;<br/>    &lt;meta name="format-detection" content="telephone=no"&gt;<br/>    &lt;meta name="msapplication-tap-highlight" content="no"&gt;<br/>    &lt;meta name="viewport" content="initial-scale=1, width=device-width, viewport-fit=cover"&gt;<br/>    &lt;meta name="color-scheme" content="light dark"&gt;<br/>    &lt;link rel="stylesheet" href="css/index.css"&gt;<br/>    &lt;title&gt;Demo Cordova camera plugin&lt;/title&gt;<br/>&lt;/head&gt;</span><span id="24d5" class="jn jo hh jj b fi jt jq l jr js">&lt;body&gt;<br/>    &lt;div class="app"&gt;<br/>        &lt;h1&gt;Demo Cordova camera plugin&lt;/h1&gt;<br/>        &lt;div class="xmpl"&gt;<br/>            &lt;div  <br/>                class="button" <br/>                ontouchstart="btnTouchStart(this )"<br/>                ontouchend="btnTouchEnd(this )"<br/>                onclick="exampleOneClicked(this.nextElementSibling )"&gt;<br/>                    Camera Picture&lt;/div&gt;<br/>            &lt;img <br/>            /&gt;<br/>        &lt;/div&gt;<br/>    <br/>        &lt;div class="xmpl"&gt;<br/>            &lt;div  <br/>                class="button" <br/>                ontouchstart="btnTouchStart(this )"<br/>                ontouchend="btnTouchEnd(this )"<br/>                onclick="exampleTwoClicked(this.nextElementSibling )"&gt;<br/>                    Photo Library Picture&lt;/div&gt;<br/>            &lt;img <br/>            /&gt;<br/>        &lt;/div&gt;</span><span id="0e61" class="jn jo hh jj b fi jt jq l jr js">&lt;div class="xmpl"&gt;<br/>            &lt;div  <br/>                class="button" <br/>                ontouchstart="btnTouchStart(this )"<br/>                ontouchend="btnTouchEnd(this )"<br/>                onclick="exampleThreeClicked(this.nextElementSibling )"&gt;<br/>                    Ipad Photo Library Pop Over &lt;/div&gt;<br/>            &lt;img <br/>            /&gt;<br/>        &lt;/div&gt;</span><span id="106f" class="jn jo hh jj b fi jt jq l jr js">&lt;div class="xmpl"&gt;<br/>            &lt;div  <br/>                class="button" <br/>                ontouchstart="btnTouchStart(this )"<br/>                ontouchend="btnTouchEnd(this )"<br/>                onclick="exampleFourClicked(this.nextElementSibling )"&gt;<br/>                    Photo Library Video&lt;/div&gt;<br/>            &lt;video  <br/>                controls <br/>                preload="metadata"<br/>            /&gt;<br/>        &lt;/div&gt;</span><span id="3c1c" class="jn jo hh jj b fi jt jq l jr js">    &lt;/div&gt;<br/>    &lt;script src="cordova.js"&gt;&lt;/script&gt;<br/>    &lt;script src="js/index.js"&gt;&lt;/script&gt;<br/>&lt;/body&gt;</span><span id="23a6" class="jn jo hh jj b fi jt jq l jr js">&lt;/html&gt;</span></pre><p id="e3c0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">将<code class="du ju jv jw jj b">www/css/index.css</code>文件编辑成这样:</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="8044" class="jn jo hh jj b fi jp jq l jr js">*{<br/>    border : 0px;<br/>    margin : 0px;<br/>    padding : 0px;<br/>    border-radius: 0px; }</span><span id="7604" class="jn jo hh jj b fi jt jq l jr js">html{<br/>   box-sizing: border-box; }</span><span id="8176" class="jn jo hh jj b fi jt jq l jr js">html * , html *::after , html *::before{<br/>    box-sizing: inherit; }</span><span id="a3df" class="jn jo hh jj b fi jt jq l jr js">body{<br/>    padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);<br/>    -webkit-user-select: none; /* Safari */        <br/>    -moz-user-select: none; /* Firefox */<br/>    -ms-user-select: none; /* IE10+/Edge */<br/>    user-select: none; /* Standard */ <br/>    background-color: cornsilk; }</span><span id="12b7" class="jn jo hh jj b fi jt jq l jr js">h1{<br/>    margin: 6px 0px;<br/>    font-size : 28px;<br/>    text-align: center; <br/>    color : firebrick; }</span><span id="5f0d" class="jn jo hh jj b fi jt jq l jr js">.xmpl {<br/>    display: flex;<br/>    flex-direction: column; }</span><span id="b106" class="jn jo hh jj b fi jt jq l jr js">.xmpl .button{<br/>    text-align: center;<br/>    margin: 0px 19px 6px;<br/>    border : 1px solid salmon;<br/>    border-radius: 18px 9px;<br/>    color: rgb(172, 55, 123);<br/>    padding : 4px 0px;<br/>    font-family: monospace; <br/>    font-size : 22px;<br/>    background-color: white; }</span><span id="65ee" class="jn jo hh jj b fi jt jq l jr js">.xmpl .button.touchStart{<br/>    background-color: transparent; }</span><span id="d79c" class="jn jo hh jj b fi jt jq l jr js">.xmpl img , .xmpl video{<br/>    object-fit: contain;<br/>    width : 100%; <br/>    border : 6px solid ivory;<br/>    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAABvFJREFUeAHtmUuoHEUUhhNfEcVHFMWFUQkmvvEFQuJGwUQEQXEZMRvBhboIWVxXujGCuvCxVRQRBBVBI6IY0V5IlCD4WKhgcuEK14WKoEGJz8T/666/u6anZ6Yn0zPpvvce+LuqTtU5dc6pU1XdM6tXFbRD1buFdcLqgp3Wyu1Sd2ubR0qW0V4UXhGejvt2q0HncgI+pys9p/IJ4S/hhMA7rHIp0nFyikX+V1gjzJHa3wkbhP+E44WlTDiPz/Z1vxtEBvKAr1X/XTCfvi4TDp8pXCrYR/xJMx0GIC0o9wlLlb6UY7GvR+IVpgP6MSuW1Hbw1v45+GZf00Mv8PLixFBje4ClRBzyUO6XGRk7ezo6lK7H/ce6TtbGmYs97OVhN9dAP6oCgMK2EvZyVlU5S5rDH+is+vqoKwFwyuL8WcJW4UqB7bogfChwnUNkR1WA0s6qh1P9H3VSfzcM8sFRJTNLnp1nzgcFDjLb7JLAPC+cIkBl271lEvUh4xuPeq6srQGw8c+UbP1bbWC7ceZz4VQBslxc71wAvEW3ywscxOF49eABUv5QqL+mEoqzwMHoVACc+jgyL+BolfMOAqWz4QbVIQdhYADckQ1v19O2bZJZ6wW/vw+zkiBAd2ZFcd+Hdl/hSfo6WsBwBvChBtm5rFX9tMzG6u5+bpsDYGvtlNvjlCOD1uYA2PgDweM6gbDM/roybQ6AX2Y+lTPfCxxonAPDyEF6OwxyQAbKtDkAGM81yMn+WPCAADgwgZUWjPUvWm+pTtDqBCwXRoGvkLa9CXqRnpON2GlbsdcgKPC/Fc4QIMvF9UQNxsXXaY9SOtsWAKc1jjwkHBSws4xXxTtdgHz/Z60iGIkYyOUB8JuWB7axxGAHgR9vXxJuF64SThIWhD0Cv/ZAtVOfwV0IAHY6CNjLL1YvwCwRjjNu1EHZIzaLALB6GDYpoYPUZW/bWXSinzNgLMcRhKYZAKcthmM0ZROBwNmqm0Ds8Sk+KceXHizhFcJhvtF9SjsogyVn3DONAJBVpOMa4XVhUXhUgJoMQGO6nJpNvAd4S50sZz8RrJuSKwziZ6xJCMe9cGRanUB4fKLx2JJfg6rnRk4aADt/mnR+EfT+qZLJPOFdqkOTBiHTUjxHBWFgANxRqDq6Gs7jJD9Y7hOuEfj1hm0Qr9Ibal8rEGwHTNXaZEd3SWJeeDiSdF/Eqld1mh5tBng1z9N0GIU+3sut16X1c4+fI0AEpy557BYJWCclL0dQHOiMUzy90IlYyDgje/4aK4bXr+E8jl0gfCasF1h53tDKxIoz9lzhvdDJYWnjAmtg4RW+Pow4pBJ9c8IjArocJFXrk6PpFar7LeCVv1hT/SSgp2rlrd+lx3BDQATAzqWMAQ9vmRfVjy7s5Xr1au5UHfK4rJU9HeRETWQtQz1lWCFlnQDY+Ss0/tegg5VHvg4chF0aD1UZnfUUTzuxVyzmsBMEgdWHd58A2b6sVWRZIkYsSz03uG4GWPl1kv0jyI/jPJPGK7ddbch6s1bv0xnCS9UPAjrstOvopL5NgGJ9Dl4iPmMcPOpjBcBKN0nOTrtE2TiIHbgRQ0TWn7WKpx3YIJaNt8OeM9Z3RxC1Pp8NifiMtw7qudGjMsDKbpaMJ7eMjRi3tCG/Sec6jBFVbQc7cKv6yw7Ec1ofvFtQJsJuBzBRvUfeHQwcRijB2duEjwRSksmqjBW7NuEYevkh432B2wO9Zbu8BS5RH8QCVBH6yAToA2GzgP6qW0ns/olSZulh53mL8wHJJJM672nQzza6THgzMFklOx1YaXF5aFT1eRxBIIgQK361wBsphN4+ggmIFKWdRJGd3Bb66I/TzLJNlL4ZntUckOem7oxIVK9rg/05KBmCC30slOVTBkwLOAC8xkL3CvSXBc1rsrQN9zOxiOwwkcYLAvPFB96w+X1A/yKZs4V3grznQTZ3zkwHgL4Hov66kw4zaFQfe9sH7FYMEHkhLlTdWeIxo/TR7yB8o/pXArzYl4EB4PPVg2OBOpNOMsZbjH27UTDdpAp63T/OHLFMT/C8tzwJJRPvEB4XGAxVjct6mn/6EGPl9whrwxQ+AHF8XEKnHe87QB1JD/DbHXzzPGaWpVN3b/D2KZXMb34jtsQnLZFBKa+bOE67L1rizYp8PW7WhNwMF4WJG81GOx10pwVBOJaOx7ZQZzFw2iW8xqgqAI0pb1DRVJzHvq4EoMFY9qpqdD/1qu5GayUA3Vin6Vm5kgHTi203NK9kQDfWaXpWrmSAYstb1nKlw2TAgeA93/zLhezrPN/JfP1tEfjM5NW4TR9CMqdxIuP59Ysv4SetfbcqjXxfd0gPPvesNr8C3SOcX+J3PSNYWBP1ReFlgd8YVv0P70OSy5ru1vcAAAAASUVORK5CYII=);<br/>    min-height: 128px;<br/>    margin-bottom: 12px; }</span></pre><p id="7ff1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">编辑<code class="du ju jv jw jj b">www/js/index.js</code>如下所示:</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="f843" class="jn jo hh jj b fi jp jq l jr js">document.addEventListener('deviceready', onDeviceReady, false);</span><span id="7ed1" class="jn jo hh jj b fi jt jq l jr js">let isDeviceReady = false;</span><span id="d56c" class="jn jo hh jj b fi jt jq l jr js">function btnTouchStart(btn ){<br/>    btn.classList.add("touchStart" ); }</span><span id="bd75" class="jn jo hh jj b fi jt jq l jr js">function btnTouchEnd(btn ){<br/>    btn.classList.remove("touchStart" ); }</span><span id="0236" class="jn jo hh jj b fi jt jq l jr js">function onDeviceReady( ) {<br/>    isDeviceReady = true ; }</span><span id="73e2" class="jn jo hh jj b fi jt jq l jr js">function exampleOneClicked(img ){   <br/>    /* Front Camera , disable save to phone ,<br/>        data url , quality 60 . */<br/>    if(isDeviceReady ){<br/>        let pictureOptions = {<br/>            cameraDirection: Camera.Direction.FRONT,<br/>            saveToPhotoAlbum: false,<br/>            destinationType: Camera.DestinationType.DATA_URL,<br/>            quality: 60 };</span><span id="0476" class="jn jo hh jj b fi jt jq l jr js">function fctSuccess(image ){<br/>            img.src = `data:image/jpeg;base64,${image }`; }</span><span id="cec4" class="jn jo hh jj b fi jt jq l jr js">function fctFailure(errorMsg ){<br/>            console.log(errorMsg ); }</span><span id="7194" class="jn jo hh jj b fi jt jq l jr js">navigator<br/>            .camera<br/>            .getPicture(fctSuccess , <br/>                        fctFailure , <br/>                        pictureOptions ); }}</span><span id="a2a9" class="jn jo hh jj b fi jt jq l jr js">function exampleTwoClicked(img ){<br/>    /* Photo Library , allow Edit */<br/>    if(isDeviceReady ){</span><span id="ef23" class="jn jo hh jj b fi jt jq l jr js">let pictureOptions = {<br/>            sourceType: Camera.PictureSourceType.PHOTOLIBRARY ,<br/>            allowEdit: true };</span><span id="ae14" class="jn jo hh jj b fi jt jq l jr js">function fctSuccess(image ){<br/>            img.src = image; }</span><span id="d3b3" class="jn jo hh jj b fi jt jq l jr js">function fctFailure(errorMsg ){<br/>            console.log(errorMsg ); }</span><span id="de1c" class="jn jo hh jj b fi jt jq l jr js">navigator<br/>            .camera<br/>            .getPicture(fctSuccess , <br/>                        fctFailure , <br/>                        pictureOptions ); }}</span><span id="4838" class="jn jo hh jj b fi jt jq l jr js">function exampleThreeClicked(img ){<br/>    /* Photo Library , popover  */<br/>    if(isDeviceReady ){</span><span id="c69c" class="jn jo hh jj b fi jt jq l jr js">let pictureOptions = {<br/>            sourceType: Camera.PictureSourceType.PHOTOLIBRARY ,<br/>            popoverOptions: new CameraPopoverOptions(<br/>                0 , <br/>                200 , <br/>                300, <br/>                400 , <br/>                Camera.PopoverArrowDirection.ARROW_UP , <br/>                0 , <br/>                0 ) };</span><span id="4e13" class="jn jo hh jj b fi jt jq l jr js">function fctSuccess(image ){<br/>            img.src = image; }</span><span id="1b2c" class="jn jo hh jj b fi jt jq l jr js">function fctFailure(errorMsg ){<br/>            console.log(errorMsg ); }</span><span id="3451" class="jn jo hh jj b fi jt jq l jr js">navigator<br/>                .camera<br/>                .getPicture(fctSuccess , <br/>                            fctFailure , <br/>                            pictureOptions );</span><span id="5984" class="jn jo hh jj b fi jt jq l jr js">function updatePopOverLocation(){<br/>            let cameraPopoverHandle = new CameraPopoverHandle();<br/>            let cameraPopoverOptions = new CameraPopoverOptions(<br/>                    100 , <br/>                    300 , <br/>                    300 , <br/>                    600 , <br/>                    Camera.PopoverArrowDirection.ARROW_DOWN , <br/>                    0 , <br/>                    0 );<br/>            cameraPopoverHandle.setPosition(cameraPopoverOptions ); }</span><span id="8b9f" class="jn jo hh jj b fi jt jq l jr js">window.setTimeout(updatePopOverLocation , 4000 ); }}</span><span id="5177" class="jn jo hh jj b fi jt jq l jr js">function exampleFourClicked(vdo ){<br/>    /* video ,  Photo Library */<br/>    if(isDeviceReady ){</span><span id="7cab" class="jn jo hh jj b fi jt jq l jr js">let pictureOptions = {<br/>            mediaType: Camera.MediaType.VIDEO ,<br/>            sourceType: Camera.PictureSourceType.PHOTOLIBRARY };</span><span id="24e9" class="jn jo hh jj b fi jt jq l jr js">function fctSuccess(video ){<br/>            vdo.src = video; }</span><span id="08fd" class="jn jo hh jj b fi jt jq l jr js">function fctFailure(errorMsg ){<br/>            console.log(errorMsg ); }</span><span id="16e9" class="jn jo hh jj b fi jt jq l jr js">navigator<br/>            .camera<br/>            .getPicture(fctSuccess , <br/>                        fctFailure , <br/>                        pictureOptions ); }}</span></pre><p id="414e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">运行应用程序:</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="d12a" class="jn jo hh jj b fi jp jq l jr js">$ cordova emulate ios <br/># on iOS</span><span id="72f8" class="jn jo hh jj b fi jt jq l jr js">$ cordova emulate android <br/># on android</span></pre><div class="je jf jg jh fd ab cb"><figure class="jx jy jz ka kb kc kd paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><img src="../Images/c4c7c325cb98f86e0fed749163ee7158.png" data-original-src="https://miro.medium.com/v2/resize:fit:988/format:webp/1*17ds1N0V57MUXrGD9ZRpgw.png"/></div></figure><figure class="jx jy kk ka kb kc kd paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><img src="../Images/af8d1ad47b5d9e442d6ef8a750ecc63d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1014/format:webp/1*ILR9kjKScs1mYNK0_YbgXg.png"/></div></figure></div><div class="ab cb"><figure class="jx jy kl ka kb kc kd paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><img src="../Images/dc3414e74ac2919544f2e202058a3619.png" data-original-src="https://miro.medium.com/v2/resize:fit:998/format:webp/1*477MQhSvpT32tLE6fiUpsA.png"/></div></figure><figure class="jx jy km ka kb kc kd paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><img src="../Images/a532a2f2dfc9b469815800c7c02dda9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1004/format:webp/1*iUpXkqw1j5Fn9PfDUB1bVw.png"/></div></figure></div><p id="88bc" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">当设置<code class="du ju jv jw jj b">sourceType</code>到<code class="du ju jv jw jj b">Camera.PictureSourceType.CAMERA</code>和<code class="du ju jv jw jj b">destinationType</code>到<code class="du ju jv jw jj b">Camera.DestinationType.FILE_URI</code>时，可以通过调用方法清理iOS  上的<strong class="ig hi"> <em class="jc">临时文件:</em></strong></p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="e0f3" class="jn jo hh jj b fi jp jq l jr js">navigator.camera.cleanup(cleanupSuccessFct, cleanupFailFct );<br/>/*Call the cleanup method , to clean<br/>  temporary files on iOS .<br/>  Pass an on success function and an <br/>  on failure function  .*/</span><span id="a3db" class="jn jo hh jj b fi jt jq l jr js">function cleanupSuccessFct( ){<br/>    console.log("Cleanup Success" ); }</span><span id="5223" class="jn jo hh jj b fi jt jq l jr js">function cleanupFailFct(errorMsg ){<br/>    console.log(errorMsg ); }</span></pre></div><div class="ab cl kn ko go kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ha hb hc hd he"><p id="ca36" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="jc">原载于2021年1月13日https://twiserandom.com</em><a class="ae jd" href="https://twiserandom.com/cordova/cordova-plugin-camera-a-tutorial/" rel="noopener ugc nofollow" target="_blank"><em class="jc"/></a><em class="jc">。</em></p></div></div>    
</body>
</html>