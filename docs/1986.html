<html>
<head>
<title>Data Analysis: How I built COVID Vaccine dashboard in a day using python and streamlit</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据分析:我如何使用python和streamlit在一天内构建COVID疫苗仪表板</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/data-analysis-how-i-built-covid-vaccine-dashboard-in-a-day-using-python-and-streamlit-f492c7e0f720?source=collection_archive---------3-----------------------#2021-03-30">https://medium.com/analytics-vidhya/data-analysis-how-i-built-covid-vaccine-dashboard-in-a-day-using-python-and-streamlit-f492c7e0f720?source=collection_archive---------3-----------------------#2021-03-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/2d40929fed967f653cf73d84d7a9d4a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P2ICpU8ZgwyiEYoXUQlQbQ.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">信用:<a class="ae iu" href="http://www.cyfe.com" rel="noopener ugc nofollow" target="_blank">www.cyfe.com</a></figcaption></figure><p id="be50" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在可以肯定地说，在几个国家有几种新冠肺炎疫苗。我很好奇改编的怎么样，幸运的是我在<a class="ae iu" href="https://github.com/edomt" rel="noopener ugc nofollow" target="_blank"> Edouard Mathieu的Github账户</a>上偶然发现了这个数据集。深入探究发现数据集来源于ourworldindata.org的<a class="ae iu" href="https://ourworldindata.org/covid-vaccinations" rel="noopener ugc nofollow" target="_blank"/>，Edouard是其中的<a class="ae iu" href="https://github.com/owid/covid-19-data" rel="noopener ugc nofollow" target="_blank">贡献者</a>。</p><p id="1288" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在对数据进行了一些研究之后，我决定对数据集进行一个小的分析。这里是简单仪表板的<a class="ae iu" href="http://bit.ly/vaccine-dashboard" rel="noopener ugc nofollow" target="_blank">链接</a></p><ol class=""><li id="13d0" class="jt ju hi ix b iy iz jc jd jg jv jk jw jo jx js jy jz ka kb bi translated"><strong class="ix hj">获取源文件</strong></li></ol><p id="942f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">首先，我复制了Github上的CSV文件的URL</p><figure class="kd ke kf kg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kc"><img src="../Images/b63fc23fc6de1482e81fe2d3596d72bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qJ0wQGaSIkBf86C4vtwhqg.png"/></div></div></figure><p id="ca96" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">数据的这种显示是其大尺寸的结果。</p><p id="1fc3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> 2。选择您的IDE </strong></p><p id="91a0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">第二步是决定使用哪个ide。我大部分时间都在用木星笔记本。但是对于这个任务我决定使用Visual Studio代码，原因是我想知道和理解用<a class="ae iu" href="https://streamlit.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ix hj"> Streamlit </strong> </a>发布我的python代码的过程。用python创建web应用程序的快捷方式。</p><p id="5130" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">注意:你也可以用Jupyter笔记本来做这件事</strong></p><p id="e6d7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Streamlit 是一个非常强大的框架，用于构建机器学习和数据科学工具和应用。它允许你将普通的python代码转换成漂亮的UI，这非常容易，也非常具有交互性。</p><p id="1774" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这是一个非常简单的库，只需要花一点时间就可以创建一个完美的仪表板。它还带有内置的web服务器，并允许您在docker容器中进行部署。</p><p id="5aab" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> 3。设置Streamlit </strong></p><ul class=""><li id="ad59" class="jt ju hi ix b iy iz jc jd jg jv jk jw jo jx js kh jz ka kb bi translated">确保您已经安装了python 3.6–3.8。</li><li id="9222" class="jt ju hi ix b iy ki jc kj jg kk jk kl jo km js kh jz ka kb bi translated">pip安装简化版。</li><li id="dd20" class="jt ju hi ix b iy ki jc kj jg kk jk kl jo km js kh jz ka kb bi translated">导入streamlit以检查它是否已安装。</li></ul><p id="b884" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">创建一个app.py文件，安装后运行</strong></p><figure class="kd ke kf kg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kn"><img src="../Images/1860b12b70ba33f07942da307d199377.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qEjEfNYVxVyPXYeBPjFM1w.png"/></div></div></figure><p id="9b1a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">导入库</strong></p><p id="4368" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们导入用于绘图和显示信息的必要库</p><figure class="kd ke kf kg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ko"><img src="../Images/8a8edf78d39890209f9f39dbe459c2b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nJ-om2NWkdh5SVkHp9C8yA.png"/></div></div></figure><p id="3753" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在Streamlit中，文本可以以不同的方式显示。下面的Streamlit函数是显示文本的方式</p><p id="d6fe" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">st.title()-设置标题<br/> st.text()编写特定图形的描述<br/> st.markdown()将文本显示为markdown <br/> st.latex()在仪表板中显示数学表达式。<br/> st.write()有助于显示所有内容，如绘图、数据框、函数、模型等。<br/> st.sidebar()用于在侧边栏上显示数据。<br/> st.dataframe()显示数据框<br/> st.map()仅用一行代码显示地图等<br/> st.beta_columns()显示列布局</p><p id="89eb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> 4。加载数据，执行一些清理并显示结果</strong></p><figure class="kd ke kf kg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kp"><img src="../Images/cc885fa1b7b62ed42ce354fdf9f96be6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*goCVEXZK6QEyfOVFjYn1rA.png"/></div></div></figure><p id="d686" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">加载数据后，我删除了一些位置，以获得准确的结果。数据集包含一些重复的位置、区域和大陆位置。我只需要与基于国家的位置。<br/>下一步是根据基于国家/地区的位置对数据进行分组，并将所有NaN值替换为零(0)。下图显示了结果。函数st.write()用于显示结果。</p><figure class="kd ke kf kg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kq"><img src="../Images/7474757c515111d1fe6c65c1924af9ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qx0mG9AtbZo7czMtPfu90A.png"/></div></div></figure><p id="0148" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> 5。选择选项</strong></p><figure class="kd ke kf kg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kr"><img src="../Images/eff07e2c7107a47777abd9b149052063.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wpW6BIXnaBmGSM_Kt9e73A.png"/></div></div></figure><p id="267a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">st.sidebar.selectbox()函数加载了供选择的位置。get_vaccine_analysis方法用于获取数据集以绘制所选位置的图表。</p><p id="a389" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> 6。数据可视化</strong></p><figure class="kd ke kf kg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ks"><img src="../Images/0629294ba24081acab48a2c5507ccb48.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WwNjLK2DGSbZ9_tsW2BpxQ.png"/></div></div></figure><p id="47fa" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这里使用st.beta_columns()来创建两列布局。状态位置名称、接种疫苗的人数(累计)、接种疫苗的人数(累计)和完全接种疫苗的人数(累计)显示在列框中。我所说的累积是指通过连续的增加而增加。</p><p id="ea7e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了绘制图表，我们使用了plotly.express库方法。最后，使用st.plotly_chart()显示图表。</p><p id="a421" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们的仪表板现在可以部署了😀</p><figure class="kd ke kf kg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kt"><img src="../Images/9fb3ca593ed9c7902803859e0df274c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OfMuNlU4dD6h_i97ksS1Ww.png"/></div></div></figure><p id="0ce4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> 7。分享你的应用</strong></p><p id="8868" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">将你的应用和requirements.txt文件一起放入GitHub repo。要创建requirements.txt，请在anaconda命令提示符下使用以下命令。</p><p id="812c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="ku"> pip安装pipreqs <br/> pipreqs。位置</em></p><p id="6dbe" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">完成上述命令后，您会发现requirememnts.txt文件保存在您需要的位置(例如/Users/Documents…..)<br/>登录<a class="ae iu" href="https://share.streamlit.io/" rel="noopener ugc nofollow" target="_blank">share . streamlit . io</a><br/>点击“部署应用”，然后粘贴你的GitHub网址</p><p id="d174" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="ku">此处</em> 提供已部署app的链接 <a class="ae iu" href="http://bit.ly/vaccine-dashboard" rel="noopener ugc nofollow" target="_blank"> <em class="ku"/></a></p><p id="20ad" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">谢谢大家！！！！🤗</p><p id="aa78" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">参考文献</strong></p><div class="kv kw ez fb kx ky"><a href="https://www.analyticsvidhya.com/blog/2020/10/create-interactive-dashboards-with-streamlit-and-python/" rel="noopener  ugc nofollow" target="_blank"><div class="kz ab dw"><div class="la ab lb cl cj lc"><h2 class="bd hj fi z dy ld ea eb le ed ef hh bi translated">使用Streamlit和Python创建交互式仪表盘</h2><div class="lf l"><h3 class="bd b fi z dy ld ea eb le ed ef dx translated">这篇文章作为数据科学博客的一部分发表。数据可视化简介，仪表板是…</h3></div><div class="lg l"><p class="bd b fp z dy ld ea eb le ed ef dx translated">www.analyticsvidhya.com</p></div></div><div class="lh l"><div class="li l lj lk ll lh lm io ky"/></div></div></a></div><p id="4e2c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><a class="ae iu" href="https://www.analyticsvidhya.com/blog/2021/02/building-a-covid-19-dashboard-using-streamlit-and-python/" rel="noopener ugc nofollow" target="_blank">https://www . analyticsvidhya . com/blog/2021/02/building-a-新冠肺炎-dashboard-using-streamlit-and-python/</a></p></div></div>    
</body>
</html>