<html>
<head>
<title>Tensorflow 2.0 basics</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Tensorflow 2.0基础</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/tensorflow-basics-f5d4a4d9022a?source=collection_archive---------27-----------------------#2021-01-10">https://medium.com/analytics-vidhya/tensorflow-basics-f5d4a4d9022a?source=collection_archive---------27-----------------------#2021-01-10</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/ac2b6caf65a9dc171e363d6560b2175e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jQ64FrSJprQcmC0izx6s3g.jpeg"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">图片由来自Pixabay的Markus Winkler提供</figcaption></figure><p id="3bfb" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">在这本笔记本中，我们看到了Tensorflow 2.0的基础知识。本次笔记本备考期间最新的tensorflow版本是2.4.0。要在您的系统上安装tensorflow或tensorflow-gpu，请点击此链接</p><div class="jr js ez fb jt ju"><a href="https://www.tensorflow.org/install/pip" rel="noopener  ugc nofollow" target="_blank"><div class="jv ab dw"><div class="jw ab jx cl cj jy"><h2 class="bd hi fi z dy jz ea eb ka ed ef hg bi translated">用pip安装TensorFlow</h2><div class="kb l"><h3 class="bd b fi z dy jz ea eb ka ed ef dx translated">python 3-version pip 3-version sudo apt更新sudo apt安装python 3-dev python 3-pip python 3-venv安装使用…</h3></div><div class="kc l"><p class="bd b fp z dy jz ea eb ka ed ef dx translated">www.tensorflow.org</p></div></div><div class="kd l"><div class="ke l kf kg kh kd ki in ju"/></div></div></a></div><pre class="kj kk kl km fd kn ko kp kq aw kr bi"><span id="07de" class="ks kt hh ko b fi ku kv l kw kx">import tensorflow as tf<br/>tf.__version__</span><span id="37e3" class="ks kt hh ko b fi ky kv l kw kx">'2.4.0'</span></pre><h1 id="3323" class="kz kt hh bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">常数</h1><p id="fbe6" class="pw-post-body-paragraph it iu hh iv b iw lw iy iz ja lx jc jd je ly jg jh ji lz jk jl jm ma jo jp jq ha bi translated">我们使用tf.constant()函数定义一个简单的常数</p><pre class="kj kk kl km fd kn ko kp kq aw kr bi"><span id="6f62" class="ks kt hh ko b fi ku kv l kw kx"># Defning a constant<br/><br/>tensor=tf.constant([[2,4], [5,6]])</span><span id="2175" class="ks kt hh ko b fi ky kv l kw kx">tensor</span><span id="f779" class="ks kt hh ko b fi ky kv l kw kx">&lt;tf.Tensor: shape=(2, 2), dtype=int32, numpy=<br/>array([[2, 4],<br/>       [5, 6]], dtype=int32)&gt;</span></pre><p id="399e" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">我们也可以从张量常数中检索值。想法是使用numpy()函数提取值</p><pre class="kj kk kl km fd kn ko kp kq aw kr bi"><span id="030d" class="ks kt hh ko b fi ku kv l kw kx"># Getting value of constant<br/><br/>tensor.numpy()</span><span id="fbd5" class="ks kt hh ko b fi ky kv l kw kx">array([[2, 4],<br/>       [5, 6]], dtype=int32)</span></pre><p id="0c37" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">我们也可以将numpy数组转换回Tensorflow张量</p><pre class="kj kk kl km fd kn ko kp kq aw kr bi"><span id="db3f" class="ks kt hh ko b fi ku kv l kw kx">import numpy as np<br/>np_tensor=np.array([[2,2,],[3,3]])</span><span id="d2b8" class="ks kt hh ko b fi ky kv l kw kx">np_tensor</span><span id="40c7" class="ks kt hh ko b fi ky kv l kw kx">array([[2, 2],<br/>       [3, 3]])</span><span id="04ed" class="ks kt hh ko b fi ky kv l kw kx">tensor_np=tf.constant(np_tensor)</span><span id="61cd" class="ks kt hh ko b fi ky kv l kw kx">tensor_np</span><span id="54bd" class="ks kt hh ko b fi ky kv l kw kx">&lt;tf.Tensor: shape=(2, 2), dtype=int64, numpy=<br/>array([[2, 2],<br/>       [3, 3]])&gt;</span></pre><h1 id="e831" class="kz kt hh bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">可变的</h1><p id="d490" class="pw-post-body-paragraph it iu hh iv b iw lw iy iz ja lx jc jd je ly jg jh ji lz jk jl jm ma jo jp jq ha bi translated">我们用tf定义一个简单的常数。变量()函数</p><pre class="kj kk kl km fd kn ko kp kq aw kr bi"><span id="f2c2" class="ks kt hh ko b fi ku kv l kw kx"># Defining a variable<br/><br/>tf_variable=tf.Variable([[1,2,3],[4,5,6]])</span><span id="7986" class="ks kt hh ko b fi ky kv l kw kx">tf_variable</span><span id="1c8b" class="ks kt hh ko b fi ky kv l kw kx">&lt;tf.Variable 'Variable:0' shape=(2, 3) dtype=int32, numpy=<br/>array([[1, 2, 3],<br/>       [4, 5, 6]], dtype=int32)&gt;</span></pre><p id="6770" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">我们还可以使用numpy()函数检索变量值，方法与从张量中检索值类似</p><pre class="kj kk kl km fd kn ko kp kq aw kr bi"><span id="99be" class="ks kt hh ko b fi ku kv l kw kx">tf_variable.numpy()</span><span id="1824" class="ks kt hh ko b fi ky kv l kw kx">array([[1, 2, 3],<br/>       [4, 5, 6]], dtype=int32)</span></pre><p id="222b" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">我们也可以改变变量中的特定值。上面的tf_variable由3 x 2数组组成，假设我们想将值3改为100</p><pre class="kj kk kl km fd kn ko kp kq aw kr bi"><span id="fbb4" class="ks kt hh ko b fi ku kv l kw kx">tf_variable[0,2].assign(100)</span><span id="1aeb" class="ks kt hh ko b fi ky kv l kw kx">&lt;tf.Variable 'UnreadVariable' shape=(2, 3) dtype=int32, numpy=<br/>array([[  1,   2, 100],<br/>       [  4,   5,   6]], dtype=int32)&gt;</span><span id="686e" class="ks kt hh ko b fi ky kv l kw kx">tf_variable</span><span id="2e1d" class="ks kt hh ko b fi ky kv l kw kx">&lt;tf.Variable 'Variable:0' shape=(2, 3) dtype=int32, numpy=<br/>array([[  1,   2, 100],<br/>       [  4,   5,   6]], dtype=int32)&gt;</span></pre><h1 id="41cf" class="kz kt hh bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">张量间的运算</h1><p id="9eff" class="pw-post-body-paragraph it iu hh iv b iw lw iy iz ja lx jc jd je ly jg jh ji lz jk jl jm ma jo jp jq ha bi translated">我们可以对张量进行数学运算。让我们看一个在标量和张量之间执行加法的场景</p><pre class="kj kk kl km fd kn ko kp kq aw kr bi"><span id="ec21" class="ks kt hh ko b fi ku kv l kw kx">tensor</span><span id="c6f5" class="ks kt hh ko b fi ky kv l kw kx">&lt;tf.Tensor: shape=(2, 2), dtype=int32, numpy=<br/>array([[2, 4],<br/>       [5, 6]], dtype=int32)&gt;</span><span id="7e01" class="ks kt hh ko b fi ky kv l kw kx">tensor+2</span><span id="5297" class="ks kt hh ko b fi ky kv l kw kx">&lt;tf.Tensor: shape=(2, 2), dtype=int32, numpy=<br/>array([[4, 6],<br/>       [7, 8]], dtype=int32)&gt;</span></pre><p id="07d4" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">让我们看一个在标量和张量之间执行乘法的场景</p><pre class="kj kk kl km fd kn ko kp kq aw kr bi"><span id="e9ec" class="ks kt hh ko b fi ku kv l kw kx">tensor</span><span id="054f" class="ks kt hh ko b fi ky kv l kw kx">&lt;tf.Tensor: shape=(2, 2), dtype=int32, numpy=<br/>array([[2, 4],<br/>       [5, 6]], dtype=int32)&gt;</span><span id="0384" class="ks kt hh ko b fi ky kv l kw kx">tensor*2</span><span id="d4a6" class="ks kt hh ko b fi ky kv l kw kx">&lt;tf.Tensor: shape=(2, 2), dtype=int32, numpy=<br/>array([[ 4,  8],<br/>       [10, 12]], dtype=int32)&gt;</span></pre><h1 id="3937" class="kz kt hh bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">在张量上使用numpy函数</h1><p id="4e76" class="pw-post-body-paragraph it iu hh iv b iw lw iy iz ja lx jc jd je ly jg jh ji lz jk jl jm ma jo jp jq ha bi translated">我们也可以对张量进行numpy运算。让我们看一个使用square()和sqrt()函数的场景。</p><pre class="kj kk kl km fd kn ko kp kq aw kr bi"><span id="b11e" class="ks kt hh ko b fi ku kv l kw kx"># Getting square of all numbers in tensorflow object<br/>tensor</span><span id="5b32" class="ks kt hh ko b fi ky kv l kw kx">&lt;tf.Tensor: shape=(2, 2), dtype=int32, numpy=<br/>array([[2, 4],<br/>       [5, 6]], dtype=int32)&gt;</span><span id="d8fd" class="ks kt hh ko b fi ky kv l kw kx">np.square(tensor)</span><span id="d446" class="ks kt hh ko b fi ky kv l kw kx">array([[ 4, 16],<br/>       [25, 36]], dtype=int32)</span><span id="70de" class="ks kt hh ko b fi ky kv l kw kx"># Getting square root of all numbers <br/>tensor</span><span id="535a" class="ks kt hh ko b fi ky kv l kw kx">&lt;tf.Tensor: shape=(2, 2), dtype=int32, numpy=<br/>array([[2, 4],<br/>       [5, 6]], dtype=int32)&gt;</span><span id="d829" class="ks kt hh ko b fi ky kv l kw kx">np.sqrt(tensor)</span><span id="5f65" class="ks kt hh ko b fi ky kv l kw kx">array([[1.41421356, 2.        ],<br/>       [2.23606798, 2.44948974]])</span></pre><h1 id="3621" class="kz kt hh bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">两个张量之间的点积</h1><p id="fcb0" class="pw-post-body-paragraph it iu hh iv b iw lw iy iz ja lx jc jd je ly jg jh ji lz jk jl jm ma jo jp jq ha bi translated">就像在向量和矩阵中一样，我们可以在两个张量之间进行点积。</p><pre class="kj kk kl km fd kn ko kp kq aw kr bi"><span id="8d3d" class="ks kt hh ko b fi ku kv l kw kx">tensor</span><span id="a295" class="ks kt hh ko b fi ky kv l kw kx">&lt;tf.Tensor: shape=(2, 2), dtype=int32, numpy=<br/>array([[2, 4],<br/>       [5, 6]], dtype=int32)&gt;</span><span id="d836" class="ks kt hh ko b fi ky kv l kw kx">tensor_1=tensor+1<br/>tensor_1</span><span id="6bf1" class="ks kt hh ko b fi ky kv l kw kx">&lt;tf.Tensor: shape=(2, 2), dtype=int32, numpy=<br/>array([[3, 5],<br/>       [6, 7]], dtype=int32)&gt;</span><span id="0e49" class="ks kt hh ko b fi ky kv l kw kx">np.dot(tensor,tensor_1)</span><span id="6ddf" class="ks kt hh ko b fi ky kv l kw kx">array([[30, 38],<br/>       [51, 67]], dtype=int32)</span></pre><h1 id="5bf2" class="kz kt hh bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">Tensorflow 2.0中的字符串</h1><pre class="kj kk kl km fd kn ko kp kq aw kr bi"><span id="5b73" class="ks kt hh ko b fi ku kv l kw kx">tf_string=tf.constant("Tensorflow")<br/>tf_string</span><span id="8cb9" class="ks kt hh ko b fi ky kv l kw kx">&lt;tf.Tensor: shape=(), dtype=string, numpy=b'Tensorflow'&gt;</span></pre><h2 id="ca59" class="ks kt hh bd la mb mc md le me mf mg li je mh mi lm ji mj mk lq jm ml mm lu mn bi translated">简单的字符串操作</h2><pre class="kj kk kl km fd kn ko kp kq aw kr bi"><span id="04fd" class="ks kt hh ko b fi ku kv l kw kx"># length of string<br/>tf.strings.length(tf_string)</span><span id="e66f" class="ks kt hh ko b fi ky kv l kw kx">&lt;tf.Tensor: shape=(), dtype=int32, numpy=10&gt;</span><span id="0f8a" class="ks kt hh ko b fi ky kv l kw kx"># unicode decode string<br/>tf.strings.unicode_decode(tf_string, "UTF-8")</span><span id="e8fc" class="ks kt hh ko b fi ky kv l kw kx">&lt;tf.Tensor: shape=(10,), dtype=int32, numpy=array([ 84, 101, 110, 115, 111, 114, 102, 108, 111, 119], dtype=int32)&gt;</span></pre><h2 id="db4c" class="ks kt hh bd la mb mc md le me mf mg li je mh mi lm ji mj mk lq jm ml mm lu mn bi translated">存储字符串数组</h2><pre class="kj kk kl km fd kn ko kp kq aw kr bi"><span id="111d" class="ks kt hh ko b fi ku kv l kw kx">tf_array=tf.constant(["machine learning", "deep learning","NLP"])</span><span id="ae37" class="ks kt hh ko b fi ky kv l kw kx">tf_array</span><span id="76b9" class="ks kt hh ko b fi ky kv l kw kx">&lt;tf.Tensor: shape=(3,), dtype=string, numpy=array([b'machine learning', b'deep learning', b'NLP'], dtype=object)&gt;</span><span id="9013" class="ks kt hh ko b fi ky kv l kw kx"># Iterating through TF string array<br/>for string in tf_array:<br/>    print(string)</span><span id="9a2c" class="ks kt hh ko b fi ky kv l kw kx">tf.Tensor(b'machine learning', shape=(), dtype=string)<br/>tf.Tensor(b'deep learning', shape=(), dtype=string)<br/>tf.Tensor(b'NLP', shape=(), dtype=string)</span></pre></div></div>    
</body>
</html>