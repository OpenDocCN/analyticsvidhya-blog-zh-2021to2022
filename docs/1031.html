<html>
<head>
<title>Building A Simple Stock Ranking &amp; Screening Tool</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">建立一个简单的股票排名和筛选工具</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/building-a-simple-stock-ranking-screening-tool-7bc10049e85?source=collection_archive---------2-----------------------#2021-02-11">https://medium.com/analytics-vidhya/building-a-simple-stock-ranking-screening-tool-7bc10049e85?source=collection_archive---------2-----------------------#2021-02-11</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="4ba0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="jc">配料:一杯要素投资原则；从雅虎财经网上新搜集的一些股票指数；一点你最喜欢的数据标准化和综合评分汇总方法，用大量的常识调味</em></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/95d524261b6a97a347eaf1bdf6d7cb2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AkhDjhExwE_hVL4oHtcpjQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated"><a class="ae jt" href="https://www.dreamstime.com/royalty-free-stock-photography-sifting-flour-image16773637" rel="noopener ugc nofollow" target="_blank">来源:Dreamstime股票照片</a></figcaption></figure><p id="38f0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="jc">在本文中，我们考察了一个通用框架，该框架可用于选择、标准化和聚合决定</em> <strong class="ig hi"> <em class="jc">相对</em> </strong> <em class="jc">股票表现的因素，以便构建一个股票排名/筛选工具，用于为您的股票投资组合构建提供信息。</em></p><p id="299d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">警告！我不是任何类型的投资大师，所以我强烈建议你不要把这篇文章作为你投资决策的(唯一)依据。</strong></p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ju jv l"/></div></figure><h1 id="30a7" class="jw jx hh bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">概述</h1><ul class=""><li id="9cbc" class="ku kv hh ig b ih kw il kx ip ky it kz ix la jb lb lc ld le bi translated"><a class="ae jt" href="#defa" rel="noopener ugc nofollow"> <strong class="ig hi">简介</strong> </a></li><li id="1092" class="ku kv hh ig b ih lf il lg ip lh it li ix lj jb lb lc ld le bi translated"><a class="ae jt" href="#aacc" rel="noopener ugc nofollow"> <strong class="ig hi">什么是要素投资？</strong> </a></li><li id="fd79" class="ku kv hh ig b ih lf il lg ip lh it li ix lj jb lb lc ld le bi translated"><a class="ae jt" href="#cfc6" rel="noopener ugc nofollow"> <strong class="ig hi">打造自己的DIY因子评分&amp;排名工具</strong> </a></li><li id="74ce" class="ku kv hh ig b ih lf il lg ip lh it li ix lj jb lb lc ld le bi translated"><a class="ae jt" href="#2a8e" rel="noopener ugc nofollow"> <strong class="ig hi"> &gt;选择‘原始’因素</strong> </a></li><li id="2f68" class="ku kv hh ig b ih lf il lg ip lh it li ix lj jb lb lc ld le bi translated"><a class="ae jt" href="#c545" rel="noopener ugc nofollow"> <strong class="ig hi"> &gt;归一化数据</strong> </a></li><li id="087f" class="ku kv hh ig b ih lf il lg ip lh it li ix lj jb lb lc ld le bi translated"><a class="ae jt" href="#a0a0" rel="noopener ugc nofollow"> <strong class="ig hi"> &gt;将因素汇总成综合得分</strong> </a></li><li id="2ce6" class="ku kv hh ig b ih lf il lg ip lh it li ix lj jb lb lc ld le bi translated"><a class="ae jt" href="#bd78" rel="noopener ugc nofollow"> <strong class="ig hi"> &gt;排名&amp;对综合得分最高的股票进行排序</strong> </a></li><li id="63ce" class="ku kv hh ig b ih lf il lg ip lh it li ix lj jb lb lc ld le bi translated"><a class="ae jt" href="#8075" rel="noopener ugc nofollow"> <strong class="ig hi"> &gt;对照实际历史表现测试排名/得分</strong> </a></li><li id="9a26" class="ku kv hh ig b ih lf il lg ip lh it li ix lj jb lb lc ld le bi translated"><a class="ae jt" href="#5bdd" rel="noopener ugc nofollow"> <strong class="ig hi">结论</strong> </a></li></ul><p id="3709" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">本文引用的所有代码都以Google Colab工作簿的形式提供，您可以直接与之交互！</p><div class="lk ll ez fb lm ln"><a href="https://colab.research.google.com/drive/1xgpx0TP6nTb_C2b4kgKLpAWMh1wbWjXs?usp=sharing" rel="noopener  ugc nofollow" target="_blank"><div class="lo ab dw"><div class="lp ab lq cl cj lr"><h2 class="bd hi fi z dy ls ea eb lt ed ef hg bi translated">谷歌联合实验室</h2><div class="lu l"><h3 class="bd b fi z dy ls ea eb lt ed ef dx translated">编辑描述</h3></div><div class="lv l"><p class="bd b fp z dy ls ea eb lt ed ef dx translated">colab.research.google.com</p></div></div><div class="lw l"><div class="lx l ly lz ma lw mb jn ln"/></div></div></a></div><p id="6f5c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果你不喜欢编码——你仍然可以在这里的免费网络应用上亲自试用:</p><div class="lk ll ez fb lm ln"><a href="https://www.stonksforecast.online/" rel="noopener  ugc nofollow" target="_blank"><div class="lo ab dw"><div class="lp ab lq cl cj lr"><h2 class="bd hi fi z dy ls ea eb lt ed ef hg bi translated">z的股票模拟器</h2><div class="lu l"><h3 class="bd b fi z dy ls ea eb lt ed ef dx translated">图片来源:KnowYourMeme.com嗨！我是Z，这是一个简单的股票价格预测网络应用程序，我是为了好玩而开发的…</h3></div><div class="lv l"><p class="bd b fp z dy ls ea eb lt ed ef dx translated">www.stonksforecast.online</p></div></div><div class="lw l"><div class="mc l ly lz ma lw mb jn ln"/></div></div></a></div><h1 id="defa" class="jw jx hh bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">介绍</h1><p id="5076" class="pw-post-body-paragraph ie if hh ig b ih kw ij ik il kx in io ip md ir is it me iv iw ix mf iz ja jb ha bi translated">在以前的一篇文章中，我介绍了如何使用蒙特卡罗模拟和现代投资组合理论来估计给定股票组合的“最优”投资组合权重，以实现最佳的风险回报。</p><div class="lk ll ez fb lm ln"><a rel="noopener follow" target="_blank" href="/analytics-vidhya/how-to-estimate-optimal-stock-portfolio-weights-using-monte-carlo-simulations-modern-portfolio-d27d534e8a1a"><div class="lo ab dw"><div class="lp ab lq cl cj lr"><h2 class="bd hi fi z dy ls ea eb lt ed ef hg bi translated">如何使用蒙特卡罗模拟和现代投资组合来估计最优股票投资组合权重</h2><div class="lu l"><h3 class="bd b fi z dy ls ea eb lt ed ef dx translated">在本文中，我将介绍如何使用现代投资组合理论&amp;蒙特卡洛模拟法来估计一个最优的风险回报…</h3></div><div class="lv l"><p class="bd b fp z dy ls ea eb lt ed ef dx translated">medium.com</p></div></div><div class="lw l"><div class="mg l ly lz ma lw mb jn ln"/></div></div></a></div><p id="3c26" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">然而，那篇文章假定你已经知道在你的投资组合中应该包括哪些股票。在实践中，有成千上万的潜在股票可供选择，因此筛选出最佳股票的过程并不简单。</p><h1 id="aacc" class="jw jx hh bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">什么是要素投资？</h1><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mh"><img src="../Images/b913e6078c428d9547c8a88925586af8.png" data-original-src="https://miro.medium.com/v2/resize:fit:584/format:webp/1*VOiSjb-ZAtqacIjzJ8940g.png"/></div></figure><p id="e716" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">一些选股策略包括利用你可能已经熟悉的行业的专业知识。另一种方法是依靠机构投资者或市场分析师的推荐。</p><p id="6ac7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">要素投资包括"<em class="jc">瞄准可以解释股票回报差异的可量化公司特征</em>"，只选择最好的*股票</p><p id="4661" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">(*请注意，根据这些因素得出的“最佳”不一定会转化为实际的股票表现)</p><p id="05f1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">面临的挑战是准确地确定应用哪些因素，以及在更详细的层面上，如何准确地组合这些不同的因素来对股票进行排名/评分。</p><div class="lk ll ez fb lm ln"><a href="https://www.drwealth.com/factor-based-investing/" rel="noopener  ugc nofollow" target="_blank"><div class="lo ab dw"><div class="lp ab lq cl cj lr"><h2 class="bd hi fi z dy ls ea eb lt ed ef hg bi translated">基于因素的投资:完全指南</h2><div class="lu l"><h3 class="bd b fi z dy ls ea eb lt ed ef dx translated">信不信由你，在过去的十年里，一种革命性的投资策略出现了。无论你是否相信价值…</h3></div><div class="lv l"><p class="bd b fp z dy ls ea eb lt ed ef dx translated">www.drwealth.com</p></div></div><div class="lw l"><div class="mi l ly lz ma lw mb jn ln"/></div></div></a></div><p id="7169" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">有一系列令人眼花缭乱的不同方法，其复杂程度各不相同，例如，魔术公式是一种相对著名的技术，只关注两个因素——股票价格和资本成本。</p><div class="lk ll ez fb lm ln"><a href="https://www.magicformulainvesting.com/" rel="noopener  ugc nofollow" target="_blank"><div class="lo ab dw"><div class="lp ab lq cl cj lr"><h2 class="bd hi fi z dy ls ea eb lt ed ef hg bi translated">神奇公式投资</h2><div class="lu l"><h3 class="bd b fi z dy ls ea eb lt ed ef dx translated">在乔尔·格林布拉特的新书《常识》(Common Sense)中，纽约时报的畅销书作者击败了…</h3></div><div class="lv l"><p class="bd b fp z dy ls ea eb lt ed ef dx translated">www.magicformulainvesting.com</p></div></div><div class="lw l"><div class="mj l ly lz ma lw mb jn ln"/></div></div></a></div><p id="cf0a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">另一个众所周知的例子是<strong class="ig hi"> Fama法国因素模型</strong>，它有两种类型——一种是“原始风味”<a class="ae jt" href="https://en.wikipedia.org/wiki/Fama%E2%80%93French_three-factor_model" rel="noopener ugc nofollow" target="_blank"> 3因素</a>风味，它着眼于市场风险、市值规模和市净率规模。改进的5因素风味增加了围绕盈利能力和投资的两个额外维度。</p><div class="lk ll ez fb lm ln"><a href="https://blog.quantinsti.com/fama-french-five-factor-asset-pricing-model/" rel="noopener  ugc nofollow" target="_blank"><div class="lo ab dw"><div class="lp ab lq cl cj lr"><h2 class="bd hi fi z dy ls ea eb lt ed ef hg bi translated">Fama法国五因素资产定价模型</h2><div class="lu l"><h3 class="bd b fi z dy ls ea eb lt ed ef dx translated">风险和收益之间的关系一直是讨论和研究的话题。投资者和投资…</h3></div><div class="lv l"><p class="bd b fp z dy ls ea eb lt ed ef dx translated">blog.quantinsti.com</p></div></div><div class="lw l"><div class="mk l ly lz ma lw mb jn ln"/></div></div></a></div><p id="4a2a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为了完善这些例子，一个更复杂的方法是<strong class="ig hi"> Piotroski的F值</strong>看起来是9(！)根据盈利能力、杠杆/流动性和运营效率分类的不同因素。</p><div class="lk ll ez fb lm ln"><a href="https://www.moneycrashers.com/piotroski-f-score-value-investing-model-stocks/" rel="noopener  ugc nofollow" target="_blank"><div class="lo ab dw"><div class="lp ab lq cl cj lr"><h2 class="bd hi fi z dy ls ea eb lt ed ef hg bi translated">约瑟夫Piotroski 9 F分数价值投资模型-挑选股票</h2><div class="lu l"><h3 class="bd b fi z dy ls ea eb lt ed ef dx translated">玩和投资股市是一场赌博。但是，当你有一个投资组合时，你可以降低和管理投资风险</h3></div><div class="lv l"><p class="bd b fp z dy ls ea eb lt ed ef dx translated">www.moneycrashers.com</p></div></div><div class="lw l"><div class="ml l ly lz ma lw mb jn ln"/></div></div></a></div><p id="7f98" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">不幸的是，告诉你哪种因素投资方法最有效已经超出了本文的范围。然而，我将介绍一个概念框架，它将允许您通过构建自己的一组因素进行实验，并通过利用雅虎财经上免费提供的股票价格和金融数据以及一些Python代码来部分自动化数据聚合/评分/排名过程。</p><h1 id="cfc6" class="jw jx hh bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">构建您自己的DIY因素评分和排名工具</h1><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mm"><img src="../Images/a695ba05576f0ef2b6a93625341674f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AUApxSG4ai0ogVqRUl4n0g.png"/></div></div></figure><p id="43fc" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">一般步骤如下:-</p><ul class=""><li id="0972" class="ku kv hh ig b ih ii il im ip mn it mo ix mp jb lb lc ld le bi translated">选择将使用的“原始”因子</li><li id="6907" class="ku kv hh ig b ih lf il lg ip lh it li ix lj jb lb lc ld le bi translated">通过将这些因素转换成无量纲的、类似比例的值，并定义hi/lo值是否首选的“极性”,对这些因素进行标准化和缩放</li><li id="b149" class="ku kv hh ig b ih lf il lg ip lh it li ix lj jb lb lc ld le bi translated">合计权重以确定单只股票的综合得分</li><li id="013c" class="ku kv hh ig b ih lf il lg ip lh it li ix lj jb lb lc ld le bi translated">对所有股票进行排名，选择得分最高的股票</li><li id="70f9" class="ku kv hh ig b ih lf il lg ip lh it li ix lj jb lb lc ld le bi translated">根据实际历史表现(如股票回报)测试这些分数或排名</li></ul><h1 id="2a8e" class="jw jx hh bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">选择“原始”因素</h1><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mq"><img src="../Images/d993f6e2e6a127b81d94e5e3b73aa4a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:874/format:webp/1*U6tt8-9UMdG3ThPQb1w-1A.png"/></div></figure><p id="281d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">雅虎财经提供免费的汇总统计数据，我们将从网上搜集。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mr"><img src="../Images/fd8b7e7455a6ebdb684d7ec8988ba0ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*80x7pHl5QClgjiah_3g7jA.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated"><a class="ae jt" href="https://finance.yahoo.com/quote/NFLX/key-statistics?p=NFLX" rel="noopener ugc nofollow" target="_blank">雅虎财经统计示例</a></figcaption></figure><p id="2f09" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在Python中，抓取每只股票的统计数据页面是一件简单的事情，因此我们可以在以后选择使用哪个统计数据/度量来生成综合得分。此外，我们还提取当前日期和一年前的调整收盘价来估计最新的年度股票收益。</p><p id="84af" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">下面只是一个片段——完整的代码可以在<a class="ae jt" href="https://colab.research.google.com/drive/1xgpx0TP6nTb_C2b4kgKLpAWMh1wbWjXs?usp=sharing" rel="noopener ugc nofollow" target="_blank"> Google Colab工作簿</a>中找到。</p><pre class="je jf jg jh fd ms mt mu mv aw mw bi"><span id="ab10" class="mx jx hh mt b fi my mz l na nb">symbols=['AMCR','APTV','BHGE','BKNG','CBRE','CPRI','CTVA'] # Can be amended to as many stocks as desired </span><span id="63d3" class="mx jx hh mt b fi nc mz l na nb">#Blank dict to 'store' the statistics for each stock<br/>df_statistics = {}</span><span id="442d" class="mx jx hh mt b fi nc mz l na nb">#Function to extract statistics for each stock<br/>def get_key_stats(tgt_website):<br/> <br/># The web page is make up of several html table. By calling read_html function.<br/># all the tables are retrieved in dataframe format.<br/># Next is to append all the table and transpose it to give a nice one row data.<br/>    df_list = pd.read_html(tgt_website)<br/>    df_statistics = df_list[0]<br/> <br/>    for df in df_list[1:]:<br/>        df_statistics = df_statistics.append(df)<br/> <br/>    # Transpose the result to make all data in single row<br/>    return df_statistics.set_index(0).T</span><span id="8d99" class="mx jx hh mt b fi nc mz l na nb">#function to find the last recent weekday for a given date e.g. Fri if Sat or Sun</span><span id="5ed1" class="mx jx hh mt b fi nc mz l na nb">def lastBusDay(enterdate):<br/>    if enterdate.weekday()==6:<br/>        lastBusDay = datetime(year=enterdate.year, month=enterdate.month, day=enterdate.day-2)<br/>    elif enterdate.weekday()==5:<br/>        lastBusDay = datetime(year=enterdate.year, month=enterdate.month, day=enterdate.day-1)<br/>    else:<br/>        lastBusDay = enterdate<br/>    return lastBusDay</span><span id="7315" class="mx jx hh mt b fi nc mz l na nb">#This part of the script extracts the statistics and the current + 1 year ago adj close price (to calculate stock returns) for the stocks defined in the variable 'symbols'</span><span id="2b72" class="mx jx hh mt b fi nc mz l na nb">current = datetime.now() - timedelta(1) #current date set a day before as data may not be avail for today</span><span id="00e2" class="mx jx hh mt b fi nc mz l na nb">currentMinus1Yr=datetime(year=current.year-1, month=current.month, day=current.day)</span><span id="3dab" class="mx jx hh mt b fi nc mz l na nb">#some blank lists to store the prices and returns<br/>prices_current=[]<br/>prices_lastyear=[]<br/>prices_return=[]</span><span id="d753" class="mx jx hh mt b fi nc mz l na nb">for symbol in tqdm(symbols):<br/>    try:<br/>        df_statistics[symbol] = get_key_stats(r'<a class="ae jt" href="https://finance.yahoo.com/quote/'" rel="noopener ugc nofollow" target="_blank">https://finance.yahoo.com/quote/'</a> + symbol + '/key-statistics?p=' + symbol)<br/>        #time.sleep(random.randint(1,2))<br/>        <br/>        price_current=round(data.DataReader(symbol, start=lastBusDay(current), end=lastBusDay(current), data_source='yahoo')['Adj Close'][-1],4)<br/>        price_lastyear=round(data.DataReader(symbol, start=lastBusDay(currentMinus1Yr), end=lastBusDay(currentMinus1Yr), data_source='yahoo')['Adj Close'][-1],4)<br/>        price_return=round((price_current/price_lastyear-1)*100,1)<br/>        time.sleep(random.randint(1,1))<br/>        <br/>    except:<br/>        print("Unable To Extract Statistics For ",symbol)<br/>        price_current=np.nan<br/>        price_lastyear=np.nan<br/>        price_return=np.nan<br/>        print("Unable To Extract Prices For ",symbol)<br/>        <br/>    prices_current.append(price_current)<br/>    prices_lastyear.append(price_lastyear)<br/>    prices_return.append(price_return)<br/>    <br/>stockprice_df=pd.DataFrame(zip(prices_current,prices_lastyear,prices_return),\<br/>                           columns=["Adj Close "+lastBusDay(current).strftime('%Y-%m-%d'),\<br/>                                    "Adj Close "+lastBusDay(currentMinus1Yr).strftime('%Y-%m-%d'),"Stock Price Returns"],\<br/>                            index=symbols)</span></pre><p id="03f4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="jc">(注意:我把网页抓取部分做得非常简单(即没有代理IP、旋转请求头等)，并且只在页面请求之间使用随机的“暂停”来避免被雅虎财经屏蔽。然而，如果你想加快抓取速度，请随意编辑代码)</em></p><p id="f98f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">对于更有雄心的读者:目前代码仅使用来自统计页面的数据和2个价格值(当前+ 1年前调整收盘价),但理论上可以从历史股价/成交量数据甚至财务报告中计算其他更复杂的统计数据，因为雅虎财经提供了3年的历史损益表、资产负债表和现金流量表。在代码中，应该是这样的:</p><pre class="je jf jg jh fd ms mt mu mv aw mw bi"><span id="72c7" class="mx jx hh mt b fi my mz l na nb">df_balance_sheet[symbol]= scrape_table('<a class="ae jt" href="https://finance.yahoo.com/quote/'" rel="noopener ugc nofollow" target="_blank">https://finance.yahoo.com/quote/'</a> + symbol + '/balance-sheet?p=' + symbol)</span><span id="8de5" class="mx jx hh mt b fi nc mz l na nb">df_income_statement[symbol]=scrape_table('<a class="ae jt" href="https://finance.yahoo.com/quote/'" rel="noopener ugc nofollow" target="_blank">https://finance.yahoo.com/quote/'</a> + symbol + '/financials?p=' + symbol)</span><span id="40e4" class="mx jx hh mt b fi nc mz l na nb">df_cash_flow[symbol]=scrape_table('<a class="ae jt" href="https://finance.yahoo.com/quote/'" rel="noopener ugc nofollow" target="_blank">https://finance.yahoo.com/quote/'</a> + symbol + '/cash-flow?p=' + symbol)</span><span id="0d8b" class="mx jx hh mt b fi nc mz l na nb">OHLCV[symbol] = data.DataReader(symbol, start=start_date, end=end_date, data_source='yahoo') #OHLC = OpenHighLowCloseVolume</span></pre><p id="4da5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">然而，在你离开并开始构建一些超级复杂的评分之前，重要的是首先要考虑:</p><p id="2d01" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">分析时间框架的一致性</strong></p><ul class=""><li id="c443" class="ku kv hh ig b ih ii il im ip mn it mo ix mp jb lb lc ld le bi translated">有些指标是最近一个季度的，有些是过去12个月的，有些是季度的(同比)。但是，根据未来的时间范围，您正在尝试预测-混合和匹配这些可能不合适，您可能需要<em class="jc">同期</em>数据(即反映同一一致时间段的统计数据)</li><li id="04c0" class="ku kv hh ig b ih lf il lg ip lh it li ix lj jb lb lc ld le bi translated">类似地，一些指标是落后的，而另一些指标是领先的(例如，市盈率和股息率)。除了上面的“时间片一致性”问题，如果您选择使用前瞻性估计，您可能希望更好地了解这些预测是如何估计的，以及它们可能作为“噪音”引入评分系统的相关潜在误差。</li><li id="2ee6" class="ku kv hh ig b ih lf il lg ip lh it li ix lj jb lb lc ld le bi translated">此外，如果你计划预测未来<strong class="ig hi">多年</strong>的业绩，你可能需要更多的历史数据，而不仅仅是雅虎财经统计标签上的数据，来以“滚动历史窗口”的方式进行这种评分/排名分析。</li></ul><p id="f690" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">绝对指标与标准化指标</strong></p><ul class=""><li id="b1d8" class="ku kv hh ig b ih ii il im ip mn it mo ix mp jb lb lc ld le bi translated">根据你想要建立的投资组合类型，考虑到规模效应，绝对值有时可能比每股标准化价值更能代表业绩。例如，如果期望的最终投资组合是快速增长的小公司(无论如何你都会筛选掉大公司)，那么使用绝对利润可能比利润率更好。</li></ul><h1 id="c545" class="jw jx hh bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">标准化数据</h1><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es nd"><img src="../Images/737d9ce19a26fada2d69dbf8f67758da.png" data-original-src="https://miro.medium.com/v2/resize:fit:882/format:webp/1*hLVFQr4msVdDKS_IX4Nzsg.png"/></div></figure><p id="aaad" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为了在随后的步骤中聚合这些因子，这些因子的值应该具有相似的大小/范围，并且最好是相同的单位(或者更好的是无量纲的！).</p><p id="3a93" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">有几个不同的选择来实现这一点</p><p id="f2ab" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">最小-最大缩放比例</strong></p><p id="83b4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">包括将所有值转换为无量纲的0-1范围，方法是减去每个要素的最小值，然后除以最大最小值范围。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ne"><img src="../Images/896bfe5f86209ed3fa3a31c403ad0b49.png" data-original-src="https://miro.medium.com/v2/resize:fit:348/format:webp/1*IqBkUDwG1ueQd2QkOqNkCQ.png"/></div></figure><p id="b399" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">(注意—如果您想优先考虑低值分子，请使用Xmax-X，而不是X-Xmin)</p><ul class=""><li id="c000" class="ku kv hh ig b ih ii il im ip mn it mo ix mp jb lb lc ld le bi translated">优点:易于使用和理解</li><li id="52eb" class="ku kv hh ig b ih lf il lg ip lh it li ix lj jb lb lc ld le bi translated">缺点:可能会被异常数据扭曲</li></ul><p id="0e5f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">(百分位数)排名</strong></p><p id="520a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">与最大最小缩放有点类似，只是我们不是按最大-最小范围缩放要素，而是将值转换为相对于该要素中所有其他值的等效百分位数等级。</p><ul class=""><li id="5b19" class="ku kv hh ig b ih ii il im ip mn it mo ix mp jb lb lc ld le bi translated">优点:对异常值更稳健，对分布的基本形状没有任何假设</li><li id="595a" class="ku kv hh ig b ih lf il lg ip lh it li ix lj jb lb lc ld le bi translated">缺点:可能无法捕捉值之间的相对“分布”,需要大量的观察才有意义</li></ul><p id="0f67" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> Z值</strong></p><p id="19f9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">通过使用类别的平均值和标准偏差对类别中的每个值进行标准化来计算</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es nf"><img src="../Images/78badcad0206ac9a9e21ce606dc69e04.png" data-original-src="https://miro.medium.com/v2/resize:fit:220/format:webp/1*I3bDgikiFmRzo1nUQ9TIkw.png"/></div></figure><p id="f1a5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">结果值是无量纲的，总体上平均值为0，标准偏差为1。</p><p id="6968" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">(注意:要区分低值和高值的优先级，只需将公式转换为Z^-1即可)</p><ul class=""><li id="b9eb" class="ku kv hh ig b ih ii il im ip mn it mo ix mp jb lb lc ld le bi translated">优点:对极端异常值具有鲁棒性</li><li id="69cc" class="ku kv hh ig b ih lf il lg ip lh it li ix lj jb lb lc ld le bi translated">缺点:假设底层数据是正态分布的</li></ul><p id="165f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">通过克朗巴赫的阿尔法值</strong>检查因子内部一致性</p><p id="8cd0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">此外，在我们进入下一步之前，需要检查这些度量本身的一致性。</p><p id="6f00" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">一种方法是估计各种特征之间的相关系数，其基本原理是，如果这些系数都很低(例如0.3或更低)，则这些因素的选择或标准化可能有问题，因为所有这些因素都应该测量相同的基础结构(即股票是否表现良好)。不幸的是，这可能有点复杂，尤其是如果你有多个因素正在测试。</p><p id="ca07" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">值得庆幸的是，有一种叫做克朗巴赫阿尔法的方法可以评估一个综合分数的可靠性或内部一致性**。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ng"><img src="../Images/80f4074e13e0a3cd6da62579cb5a9b96.png" data-original-src="https://miro.medium.com/v2/resize:fit:766/format:webp/1*dP37kkHfhiDAOVqmvu0EhA.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">来源:<a class="ae jt" href="https://data.library.virginia.edu/using-and-interpreting-cronbachs-alpha/" rel="noopener ugc nofollow" target="_blank">https://data . library . Virginia . edu/using-and-interpreting-cronbachs-alpha/</a></figcaption></figure><div class="lk ll ez fb lm ln"><a href="https://www.statisticssolutions.com/cronbachs-alpha/" rel="noopener  ugc nofollow" target="_blank"><div class="lo ab dw"><div class="lp ab lq cl cj lr"><h2 class="bd hi fi z dy ls ea eb lt ed ef hg bi translated">克朗巴赫的阿尔法统计解决方案</h2><div class="lu l"><h3 class="bd b fi z dy ls ea eb lt ed ef dx translated">统计解决方案可以帮助你的定量分析，帮助你发展你的方法和…</h3></div><div class="lv l"><p class="bd b fp z dy ls ea eb lt ed ef dx translated">www.statisticssolutions.com</p></div></div><div class="lw l"><div class="nh l ly lz ma lw mb jn ln"/></div></div></a></div><p id="b1ba" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">至于解释:<em class="jc">理论上，克朗巴赫的阿尔法结果应该给你一个从0到1的数字，但你也可以得到负数。负数表示您的数据有问题，可能您忘记了对某些项目进行反向评分。一般的经验法则是，克朗巴赫的阿尔法值在0.70及以上是好的，0.80及以上更好，0.90及以上最好。</em></p><p id="102a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">(值得注意的是，一个“好”的克朗巴赫阿尔法分数并不能自动反映评估股票表现的因素的预测准确性。这是<strong class="ig hi">内部一致性</strong> ( <em class="jc">旨在衡量同一总体结构的几个因素是否具有相似的分数</em>)与<strong class="ig hi">结构效度</strong> ( <em class="jc">即分数实际代表其预期变量的程度)之间的区别。</em>)</p><h1 id="a0a0" class="jw jx hh bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">将各种因素汇总成一个综合分数</h1><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es nd"><img src="../Images/a8693e0fb43009310a3233efc225828e.png" data-original-src="https://miro.medium.com/v2/resize:fit:882/format:webp/1*ggI3xFNWt7CTs8uIgLgC-g.png"/></div></figure><p id="d053" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">相加加权平均</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ni"><img src="../Images/6dc47819c8bc1ac0e7d628d5b155e7ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1142/format:webp/1*JJt_y26CBdx6y0kAD90TbQ.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">来源:<a class="ae jt" href="https://en.wikipedia.org/wiki/Weighted_sum_model" rel="noopener ugc nofollow" target="_blank">维基百科</a></figcaption></figure><p id="70d6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">其中:</p><ul class=""><li id="fa6b" class="ku kv hh ig b ih ii il im ip mn it mo ix mp jb lb lc ld le bi translated"><em class="jc"> wj </em>表示标准重要性的相对权重</li><li id="6443" class="ku kv hh ig b ih lf il lg ip lh it li ix lj jb lb lc ld le bi translated"><em class="jc"> Cj </em>和<em class="jc"> aij </em>是备选方案<em class="jc"> Ai </em>按准则<em class="jc"> Cj </em>评估时的性能值</li></ul><p id="5ba2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">虽然公式可能看起来很复杂，但这只是我们大多数人熟悉的“算术平均值”,它只是将所有项目相加，然后除以项目的数量，唯一的例外是项目是加权的。</p><ul class=""><li id="84bd" class="ku kv hh ig b ih ii il im ip mn it mo ix mp jb lb lc ld le bi translated"><strong class="ig hi">优点:</strong>非常简单，适用于所有标准化/缩放方法</li><li id="a9f4" class="ku kv hh ig b ih lf il lg ip lh it li ix lj jb lb lc ld le bi translated"><strong class="ig hi">缺点:</strong>合成的综合分数将具有补偿性质，其中许多特征中的“差”分数可以被一个特征中的非常好的分数掩盖。(例如，假设权重相等，则(0.3，0.2，0.9，0.2) = 0.400的“加法”平均值高于(0.4，0.3，0.4，0.3)=0.350)</li></ul><p id="5b53" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">乘法加权平均</strong></p><p id="9929" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">有时也称为几何平均数，这稍微复杂一些，因为它是作为所有项目的乘积来估计的。这种方法是<a class="ae jt" href="https://en.wikipedia.org/wiki/Geometric_mean" rel="noopener ugc nofollow" target="_blank"> <em class="jc">最常用于一组数值需要相乘或者本质上是指数的数字，例如一组增长数字，如人口变化或者金融投资的利率随时间的变化</em> e </a>。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es nj"><img src="../Images/df6c6dca1d480e9bb0f3dca527329b05.png" data-original-src="https://miro.medium.com/v2/resize:fit:944/format:webp/1*-qh990B2Tus1-i9i0dDoCg.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">来源:<a class="ae jt" href="https://www.dummies.com/education/math/business-statistics/how-to-find-the-weighted-geometric-mean-of-a-data-set/" rel="noopener ugc nofollow" target="_blank">Dummies.com</a></figcaption></figure><div class="lk ll ez fb lm ln"><a href="https://www.dummies.com/education/math/business-statistics/how-to-find-the-weighted-geometric-mean-of-a-data-set/" rel="noopener  ugc nofollow" target="_blank"><div class="lo ab dw"><div class="lp ab lq cl cj lr"><h2 class="bd hi fi z dy ls ea eb lt ed ef hg bi translated">如何找到数据集的加权几何平均数-哑元</h2><div class="lu l"><h3 class="bd b fi z dy ls ea eb lt ed ef dx translated">当数据集包含大量重复值时，您可以通过使用…</h3></div><div class="lv l"><p class="bd b fp z dy ls ea eb lt ed ef dx translated">www.dummies.com</p></div></div><div class="lw l"><div class="nk l ly lz ma lw mb jn ln"/></div></div></a></div><ul class=""><li id="5865" class="ku kv hh ig b ih ii il im ip mn it mo ix mp jb lb lc ld le bi translated"><strong class="ig hi">优点:</strong>没有补偿行为(即倾向于将项目的“全才”得分排在仅在单一特征中得分高的项目之前，例如(0.3，0.2，0.9，0.2)=0.322比(0.4，0.3，0.4，0.3) = 0.346)(不相信我？<a class="ae jt" href="http://www.alcula.com/calculators/statistics/geometric-mean/" rel="noopener ugc nofollow" target="_blank">在这里自己尝试一下</a>！)</li></ul><p id="dd07" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">缺点:</strong></p><ul class=""><li id="d92d" class="ku kv hh ig b ih ii il im ip mn it mo ix mp jb lb lc ld le bi translated">一篇<a class="ae jt" href="https://econpapers.repec.org/article/inmorited/v_3a14_3ay_3a2014_3ai_3a3_3ap_3a109-119.htm" rel="noopener ugc nofollow" target="_blank">学术研究论文</a>建议在使用加权几何平均值时不需要归一化</li><li id="3549" class="ku kv hh ig b ih lf il lg ip lh it li ix lj jb lb lc ld le bi translated">不幸的是，如果特性值很大，这可能导致<a class="ae jt" href="https://www.educba.com/python-overflowerror/\" rel="noopener ugc nofollow" target="_blank">溢出错误</a>(由于计算中值的取幂可能导致很大的值)，并且如果特性值为零或负值，这也将不起作用(因为负值的取幂可能导致具有实部和虚部的复数！)</li><li id="1658" class="ku kv hh ig b ih lf il lg ip lh it li ix lj jb lb lc ld le bi translated">因此，在我开发的代码中，我将乘法加权平均值限制为仅使用最小最大范围归一化，以避免负值和零值，我在所有要素的所有值中添加了一个小的固定值(0.00001)。</li></ul><h1 id="bd78" class="jw jx hh bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">对综合得分最高的股票进行排名和排序</h1><p id="775e" class="pw-post-body-paragraph ie if hh ig b ih kw ij ik il kx in io ip md ir is it me iv iw ix mf iz ja jb ha bi translated">从这一点上来说，它只是将得分的股票放入排名“烤箱”中，以列出排名靠前的股票</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es nl"><img src="../Images/895ff0698a3a6fe1a4054e85a3e2c9d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:876/format:webp/1*BOtN8VP8pdzf7FEiEN4E8Q.png"/></div></figure><p id="6924" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">因此，将前面的3个步骤组合成一系列顺序函数看起来有点像这样:</p><p id="1b84" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">首先有一个提取和清理所有雅虎统计信息的功能:-</p><pre class="je jf jg jh fd ms mt mu mv aw mw bi"><span id="4020" class="mx jx hh mt b fi my mz l na nb">#This code translates the string info with Trillion,Billions into equivalent Millions figure and also converts them into float variables</span><span id="acfd" class="mx jx hh mt b fi nc mz l na nb">def extract_statistic(metric,symbol):<br/>    try:<br/>        String=df_statistics.get(symbol).loc[1][metric]<br/>    except:<br/>        String=''<br/>    Metric=''<br/>    try:<br/>        if 'T' in String:<br/>            Metric=float(df_statistics.get(symbol).loc[1][metric].replace("T",""))*1e6<br/>        elif 'B' in String:<br/>            Metric=float(df_statistics.get(symbol).loc[1][metric].replace("B",""))*1e3<br/>        elif 'M' in String:<br/>            Metric=float(df_statistics.get(symbol).loc[1][metric].replace("M",""))<br/>        elif '%' in String:<br/>            Metric=float(df_statistics.get(symbol).loc[1][metric].replace("%",""))<br/>        else :<br/>            Metric=float(df_statistics.get(symbol).loc[1][metric])<br/>    except:<br/>        if String==np.nan:<br/>            Metric=np.nan<br/>    #print(symbol,":",metric,":",Metric)<br/>    return metric,Metric</span></pre><p id="e0bf" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">然后由下面的函数调用，该函数执行实际的重载提升…</p><pre class="je jf jg jh fd ms mt mu mv aw mw bi"><span id="f52b" class="mx jx hh mt b fi my mz l na nb">#This function takes the list of stocks, list of metrics that will be used as factors, their respective weights and 'hi vs low' priority to generate a table of scored and ranked stocks</span><span id="5e79" class="mx jx hh mt b fi nc mz l na nb">def rankstocks(symbols,listOfMetrics,select_order_by_metric,weights_by_metric,NormMethod,stockprice_df):<br/>    <br/>    raw_df=pd.DataFrame()<br/>    for symbol in symbols:<br/>        title=[]<br/>        value=[]<br/>        for item in listOfMetrics:<br/>            itemtitle,itemvalue=extract_statistic(item,symbol)<br/>            title.append(itemtitle)<br/>            value.append(itemvalue)<br/>        raw_df=raw_df.append(pd.DataFrame(value).T)<br/>    raw_df.index=symbols<br/>    raw_df.columns=listOfMetrics<br/>    raw_df.replace('', np.nan, inplace=True)<br/> <br/>    summary_df=pd.DataFrame()<br/>    for symbol in symbols:<br/>        title=[]<br/>        value=[]<br/>        for item in listOfMetrics:<br/>            itemtitle,itemvalue=extract_statistic(item,symbol)<br/>            title.append(itemtitle)<br/>            value.append(itemvalue)<br/>        summary_df=summary_df.append(pd.DataFrame(value).T)<br/>    summary_df.index=symbols<br/>    summary_df.columns=listOfMetrics<br/>    summary_df.replace('', np.nan, inplace=True)<br/>    summary_df.dropna(inplace=True)<br/>    summary_df.replace(0.00,0.0001,inplace=True)<br/>    summary_df=summary_df.convert_dtypes()<br/>    <br/>    if len(summary_df)&lt;=1:<br/>        <br/>        return raw_df,pd.DataFrame(),0.0,0.0 # calculation aborted due to insufficient stocks to compare<br/>        <br/>        <br/>    elif len(summary_df)&gt;1:    <br/>        for i in range(0,len(summary_df.columns)):<br/>            if abs_or_rel_by_metric[i]=='abs':<br/>                <br/>        ranking_df=summary_df</span><span id="7ed5" class="mx jx hh mt b fi nc mz l na nb">if NormMethod=="Z-Score Normalization + Additive Composite":<br/>            for i in range(0,len(summary_df.columns)):<br/>                if select_order_by_metric[i]=='lowest':<br/>                    ranking_df[summary_df.columns[i]]=1/ranking_df[summary_df.columns[i]]<br/>                    ranking_df[summary_df.columns[i]]=ranking_df[[summary_df.columns[i]]].apply(zscore)<br/>                elif select_order_by_metric[i]=='highest':<br/>                    ranking_df[summary_df.columns[i]]=summary_df[[summary_df.columns[i]]].apply(zscore)<br/>            ranking_df['Composite Score']=ranking_df.dot(weights_by_metric)</span><span id="ad3e" class="mx jx hh mt b fi nc mz l na nb">elif NormMethod=="MinMax Normalization + Additive Composite":<br/>            for i in range(0,len(summary_df.columns)):<br/>                xmin=ranking_df[summary_df.columns[i]].min()<br/>                xmax=ranking_df[summary_df.columns[i]].max()<br/>                maxminrange=xmax-xmin<br/>                if select_order_by_metric[i]=='lowest':<br/>                    ranking_df[summary_df.columns[i]]=(xmax-ranking_df[summary_df.columns[i]])/maxminrange<br/>                elif select_order_by_metric[i]=='highest':<br/>                    ranking_df[summary_df.columns[i]]=(ranking_df[summary_df.columns[i]]-xmin)/maxminrange<br/>            ranking_df['Composite Score']=ranking_df.dot(weights_by_metric)</span><span id="ba4e" class="mx jx hh mt b fi nc mz l na nb">elif NormMethod=="Percentile Normalization + Additive Composite":<br/>            for i in range(0,len(summary_df.columns)):<br/>                sz = ranking_df[summary_df.columns[i]].size-1<br/>                if select_order_by_metric[i]=='lowest':<br/>                    ranking_df[summary_df.columns[i]] = 100-ranking_df[summary_df.columns[i]].rank(method='max').apply(lambda x: 100.0*(x-1)/sz)<br/>                elif select_order_by_metric[i]=='highest':<br/>                    ranking_df[summary_df.columns[i]] = ranking_df[summary_df.columns[i]].rank(method='max').apply(lambda x: 100.0*(x-1)/sz)<br/>            ranking_df['Composite Score']=ranking_df.dot(weights_by_metric)<br/>                    <br/>        elif NormMethod=="MinMax Normalization + Multiplicative Composite":<br/>            #must normalize using min-max as Z scores will create zero and negative figures<br/>            for i in range(0,len(summary_df.columns)):<br/>                xmin=ranking_df[summary_df.columns[i]].min()<br/>                xmax=ranking_df[summary_df.columns[i]].max()<br/>                maxminrange=xmax-xmin<br/>                if select_order_by_metric[i]=='lowest':<br/>                    ranking_df[summary_df.columns[i]]=(xmax-ranking_df[summary_df.columns[i]])/maxminrange<br/>                elif select_order_by_metric[i]=='highest':<br/>                    ranking_df[summary_df.columns[i]]=(ranking_df[summary_df.columns[i]]-xmin)/maxminrange</span><span id="1720" class="mx jx hh mt b fi nc mz l na nb">ranking_df=ranking_df.add(0.000001) # adding small value to all fields to avoid zero values</span><span id="6848" class="mx jx hh mt b fi nc mz l na nb">WGMa=0<br/>            WGMarray=[]<br/>            for stock in ranking_df.index:<br/>                for i in range(0,len(listOfMetrics)):<br/>                    WGMa=WGMa+ranking_df.loc[stock][i]**weights_by_metric[i] <br/>                    #WGMa=WGMa+trun_n_d(ranking_df.loc[stock][i],5)**trun_n_d(weights_by_metric[i],5)<br/>                    # Note : trun_n_d is a truncation function to 5 decimal points to avoid overflow error during expotentiation<br/>                WGMb=WGMa**(1/sum(weights_by_metric))<br/>                WGMarray.append(WGMb)</span><span id="9974" class="mx jx hh mt b fi nc mz l na nb">ranking_df['Composite Score']=WGMarray        <br/>        <br/>        ranking_df['Rank By Composite Score']=ranking_df['Composite Score'].rank(ascending=False)<br/>        ranking_df=ranking_df.sort_values(by=['Rank By Composite Score'])</span><span id="71cb" class="mx jx hh mt b fi nc mz l na nb">cronbachalpha=CronbachAlpha(ranking_df[ranking_df.columns[0:len(listOfMetrics)]])</span><span id="d379" class="mx jx hh mt b fi nc mz l na nb">value=[]<br/>        for symbol in ranking_df.index:<br/>            itemtitle,itemvalue=extract_statistic('Market Cap (intraday) 5',symbol)<br/>            value.append(itemvalue)</span><span id="f9b8" class="mx jx hh mt b fi nc mz l na nb">ranking_df['Market Cap (intraday) 5']=value</span><span id="c9bf" class="mx jx hh mt b fi nc mz l na nb">ranking_df=pd.merge(ranking_df,stockprice_df,left_index=True,right_index=True,how='left')    <br/>                        <br/>        x=ranking_df['Composite Score'].values<br/>        y=ranking_df['Stock Price Returns'].values<br/>        correlcoeff=np.corrcoef(x,y)[0][1]<br/>       <br/>        value=[]<br/>        for symbol in raw_df.index:<br/>            itemtitle,itemvalue=extract_statistic('Market Cap (intraday) 5',symbol)<br/>            value.append(itemvalue)</span><span id="0ad4" class="mx jx hh mt b fi nc mz l na nb">raw_df['Market Cap (intraday) 5']=value<br/>        raw_df.replace('', np.nan, inplace=True)</span><span id="6929" class="mx jx hh mt b fi nc mz l na nb">return raw_df,ranking_df,cronbachalpha,correlcoeff</span></pre><p id="5982" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">因此，当所有这些放在一起时，它看起来像这样</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es nm"><img src="../Images/68fdf204fbd98eebc607e208fad1928c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sgqqBAAENIYdxvHQB2gFlw.png"/></div></div></figure><h1 id="8075" class="jw jx hh bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">根据实际历史表现测试排名/评分系统</h1><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es nd"><img src="../Images/24abf4b1dbc6e3051ab5bfc850d546b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:882/format:webp/1*_hrQvmt0i8bsMArzq1jGhQ.png"/></div></figure><p id="b076" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">所以我们得到了一些分数，并用它们来对股票进行排序和排名。现在的问题是，这些分数是否与实际股价表现有任何关系。(这是前面讨论的“结构效度”问题)</p><p id="04c4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我采取的最初方法很简单，我只是使用pandas qcut函数将所有排名的股票分成四分位数(即4组)，该函数允许您设置自定义仓位，并估计每个四分位数的当前年度股票回报中值。</p><pre class="je jf jg jh fd ms mt mu mv aw mw bi"><span id="c571" class="mx jx hh mt b fi my mz l na nb">ranking_df_w_quartiles=ranking_df</span><span id="f927" class="mx jx hh mt b fi nc mz l na nb">ranking_df_w_quartiles['Quartiles By Composite Score'] = pd.qcut(ranking_df['Composite Score'], q=4, labels=['Bottom Quartile','3rd Quartile','2nd Quartile','Top Quartile'],precision=0)<br/>        ranking_df_w_quartiles=ranking_df_w_quartiles[['Quartiles By Composite Score','Stock Price Returns']].groupby(['Quartiles By Composite Score']).median()</span><span id="c9c8" class="mx jx hh mt b fi nc mz l na nb">ranking_df_w_quartiles.plot.bar()</span><span id="0266" class="mx jx hh mt b fi nc mz l na nb">display(ranking_df_w_quartiles)</span></pre><p id="34fc" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我的基本原理是——如果评分系统是有效的——我们会预计排名前四分之一的股票总体上<strong class="ig hi"><em class="jc"/></strong>会比其他四分之一的股票表现更好。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es nn"><img src="../Images/b0b0163a9d5d8e502193b2173bcc8e3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z97SeIR6v7kmuNgWM4BKrQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">排名系统似乎确实有些效果，因为最高四分之一的中值回报看起来与其他不同(假设忽略第三四分之一股票的怪异结果)</figcaption></figure><p id="6cbb" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">虽然这不是非常精确，但它确实提供了一种非常快速的方法来评估排名系统的有效性。</p><p id="91a3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">显然，即兴发挥的空间很大——假设你有多个时间段的足够大的原始数据集——你可以使用机器学习技术来选择最佳的因素组合和相应的权重，以做出最佳的绩效预测</p><h1 id="5bdd" class="jw jx hh bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">结论</h1><p id="31c1" class="pw-post-body-paragraph ie if hh ig b ih kw ij ik il kx in io ip md ir is it me iv iw ix mf iz ja jb ha bi translated">概括地说，我们已经看到了一个构建股票排名和筛选工具的框架，以及一些关于如何选择、标准化/缩放和聚合因素，然后对结果进行感官检查的机制的细节。</p><p id="da89" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">正如上面多次提到的，这种方法有很大的探索和扩展空间。</p><p id="57c3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我不是专家，预期可能与现实不符，但在尝试要素投资时，我的建议是:</p><ul class=""><li id="77a6" class="ku kv hh ig b ih ii il im ip mn it mo ix mp jb lb lc ld le bi translated">从简单开始，即从2-3个不同的因素开始，这些因素的权重相等，这样更容易理解结果。</li><li id="cfde" class="ku kv hh ig b ih lf il lg ip lh it li ix lj jb lb lc ld le bi translated">优化因子、标准化和聚集方法<strong class="ig hi">迭代</strong>和<strong class="ig hi">根据真实历史数据进行回溯测试(</strong>例如，模拟一个平均加权的顶部和底部四分位数投资组合，看看它们如何比较)</li><li id="f2eb" class="ku kv hh ig b ih lf il lg ip lh it li ix lj jb lb lc ld le bi translated">将筛选目标与您的预期投资策略(如时间范围、风险偏好、目标回报等)相结合，即您希望选择哪些股票特征？</li></ul><p id="0cd9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">无论如何，我希望这篇文章是一篇有趣的文章，并为任何想尝试要素投资的人提供一个有用的起点。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es no"><img src="../Images/5f56a9710b942b03046f092fca01999f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dS0miDoKls0FZc-Am51ZEQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">来源:<a class="ae jt" href="https://www.boredpanda.com/funny-cake-fails-expectations-reality" rel="noopener ugc nofollow" target="_blank">无聊熊猫——搞笑蛋糕失败</a></figcaption></figure><p id="174d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果你喜欢这篇文章，请在下面给我留下一个掌声，看看我在这个“业余投资者”系列中以前的文章:</p><ul class=""><li id="25ca" class="ku kv hh ig b ih ii il im ip mn it mo ix mp jb lb lc ld le bi translated"><a class="ae jt" rel="noopener" href="/analytics-vidhya/building-a-monte-carlo-method-stock-price-simulator-with-geometric-brownian-motion-and-bootstrap-e346ff464894">如何用几何布朗运动和Bootstrap抽样构建蒙特卡罗法股票价格模拟器</a></li><li id="da4d" class="ku kv hh ig b ih lf il lg ip lh it li ix lj jb lb lc ld le bi translated"><a class="ae jt" rel="noopener" href="/analytics-vidhya/how-to-estimate-optimal-stock-portfolio-weights-using-monte-carlo-simulations-modern-portfolio-d27d534e8a1a">如何使用蒙特卡罗模拟来估计最优股票投资组合权重&amp;现代投资组合理论</a></li></ul><p id="43ed" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">接下来你想让我谈什么话题？欢迎在下面的评论中分享你自己的“烘焙灾难”或任何其他反馈…</p><p id="ba28" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">下次见！</p><p id="1342" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi">.</p><p id="62b2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi">.</p><p id="0e35" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi">.</p><p id="05c3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi">.</p><p id="7059" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi">.</p><p id="f483" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi">.</p><p id="ff52" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi">.</p><p id="6aec" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi">.</p><p id="cfcc" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi">.</p><p id="21f0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi">.</p><p id="0a05" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi">.</p><p id="7d51" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi">.</p><p id="07f9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi">.</p><p id="d346" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi">.</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es np"><img src="../Images/8c92f41fc9a993ce720baf6296563113.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/format:webp/1*enF5eznKtP9UIWK7RlXGfg.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">你还在这里？！结束了！回家吧！(来源:<a class="ae jt" href="https://www.shmoop.com/study-guides/movie/ferris-buellers-day-off/analysis/whats-up-with-the-ending" rel="noopener ugc nofollow" target="_blank">《费里斯·布勒的休息日》(1986)</a>——普及了<a class="ae jt" href="https://www.vulture.com/2014/04/brief-history-of-movie-post-credits-sequences.html" rel="noopener ugc nofollow" target="_blank">片尾字幕场景</a>的电影之一)</figcaption></figure><h1 id="fbcf" class="jw jx hh bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">具有标准化因子得分的多元线性回归</h1><p id="af41" class="pw-post-body-paragraph ie if hh ig b ih kw ij ik il kx in io ip md ir is it me iv iw ix mf iz ja jb ha bi translated">此外，我没有将它包含在web应用程序中(因为它在概念上仍然有点欠成熟)，但在Jupyter笔记本中，我还进一步编写了一些代码，使用归一化因子作为年度股票价格回报的预测因子来运行简单的多元线性回归。</p><p id="ac7d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果你碰巧找到一个“好的”因素和权重配置，给你一个一致的行为，即最高季度的年股票收益中值&gt;第二季度&gt;第三季度&gt;最低季度，这种方法效果最好</p><pre class="je jf jg jh fd ms mt mu mv aw mw bi"><span id="5bbc" class="mx jx hh mt b fi my mz l na nb">#Adapted from <a class="ae jt" href="https://financetrain.com/multivariate-linear-regression-in-python-with-scikit-learn-library/" rel="noopener ugc nofollow" target="_blank">https://financetrain.com/multivariate-linear-regression-in-python-with-scikit-learn-library/</a></span><span id="64fe" class="mx jx hh mt b fi nc mz l na nb">from sklearn.linear_model import LinearRegression<br/>from sklearn.model_selection import train_test_split</span><span id="1873" class="mx jx hh mt b fi nc mz l na nb">jet= plt.get_cmap('jet')<br/>colors = iter(jet(np.linspace(0,1,10)))</span><span id="d712" class="mx jx hh mt b fi nc mz l na nb">#function to plot in a grid the correlation between each factor and the Stock Returns<br/>def correlation(ranking_df,listOfMetrics, n_rows, n_cols):<br/>    fig = plt.figure(figsize=(8,6))<br/>    #fig = plt.figure(figsize=(14,9))<br/>    for i, var in enumerate(listOfMetrics):<br/>        ax = fig.add_subplot(n_rows,n_cols,i+1)<br/>        asset = ranking_df.loc[:,var]<br/>        ax.scatter(ranking_df['Stock Price Returns'], asset, color = next(colors))<br/>        ax.set_xlabel('Stock Price Returns')<br/>        ax.set_ylabel("{}".format(var))<br/>        ax.set_title(var +" vs Stock Price Returns")<br/>    fig.tight_layout() <br/>    plt.show()<br/>    <br/>correlation(ranking_df,listOfMetrics, 2, 2)</span><span id="717c" class="mx jx hh mt b fi nc mz l na nb">display("Correlation Coefficients")<br/>display(ranking_df.corr()['Stock Price Returns'].loc[listOfMetrics])</span><span id="ff09" class="mx jx hh mt b fi nc mz l na nb">train, test = train_test_split(ranking_df, test_size=0.2)</span><span id="0063" class="mx jx hh mt b fi nc mz l na nb">LinReg = LinearRegression()<br/> <br/>X_train = train[listOfMetrics]<br/> <br/>Y_train = train["Stock Price Returns"]<br/> <br/>LinReg.fit(X_train,Y_train)</span><span id="bdb4" class="mx jx hh mt b fi nc mz l na nb">X_test = test[listOfMetrics].values</span><span id="50ff" class="mx jx hh mt b fi nc mz l na nb">Y_test = test["Stock Price Returns"].values</span><span id="24cb" class="mx jx hh mt b fi nc mz l na nb">close_predictions = LinReg.predict(X_test)</span><span id="9ffe" class="mx jx hh mt b fi nc mz l na nb">LinearRegressionCoeff_df=pd.DataFrame({"Feature":X_train.columns.tolist(),"Coefficients":LinReg.coef_})</span><span id="3712" class="mx jx hh mt b fi nc mz l na nb">display("Multiple Linear Regression Coefficients &amp; Intercept")<br/>display(LinearRegressionCoeff_df.round(2).style.hide_index())<br/>display("Intercept = "+str(round(LinReg.intercept_,2)))</span><span id="1ea5" class="mx jx hh mt b fi nc mz l na nb">mae = sum(abs(close_predictions - test["Stock Price Returns"].values)) / test.shape[0]</span><span id="7d38" class="mx jx hh mt b fi nc mz l na nb">display('Mean Absolute Error In Stock Returns % = '+str(round(mae,1)))</span><span id="de8f" class="mx jx hh mt b fi nc mz l na nb">df = pd.DataFrame({'Symbol':test.index,'Actual': Y_test, 'Predicted': close_predictions})</span><span id="aff7" class="mx jx hh mt b fi nc mz l na nb">error = df['Actual'] - df['Predicted']<br/> <br/># Plot the error term between the actual and predicted values for the last 25 days<br/> <br/>error.plot(kind='bar',figsize=(8,6))<br/>plt.grid(which='major', linestyle='-', linewidth='0.5', color='green')<br/>plt.grid(which='minor', linestyle=':', linewidth='0.5', color='black')<br/>plt.xticks(range(0,len(test.index)), test.index,rotation=45)<br/>plt.show()</span></pre><p id="f579" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">不幸的是，结果似乎不太令人鼓舞</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es nq"><img src="../Images/5a332096c419a3edc180e367a8418c2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZosY1OazrD6ghGK3w8jcIA.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">所有因素和股票回报之间的相关性都相对较低，并且不太可能有明确的线性关系。此外，大约16%的MAE相对较差，对任何类型的预测都不是很有用。</figcaption></figure><p id="c8a8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">问题在于，第一种方法只是测试不同分组四分位数之间的中位数是否存在差异，而回归分析需要更多的原始数据，其中仅来自70-100只股票的信息可能不会产生任何有意义的结果，根据前面关于因子选择的讨论，需要仔细考虑预测变量(即各种因子)和目标变量的时间框架。</p></div></div>    
</body>
</html>