<html>
<head>
<title>Learning R— Part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">学习R-第2部分</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/learning-r-part-2-fb9ff130c51f?source=collection_archive---------20-----------------------#2021-02-15">https://medium.com/analytics-vidhya/learning-r-part-2-fb9ff130c51f?source=collection_archive---------20-----------------------#2021-02-15</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/8e9973bede3976d6176ad82132d22a23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w0_v-dXvQyX7z0SWnpepXA.jpeg"/></div></div></figure><p id="77f0" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在第一部分中，我介绍了R语言的一些背景知识，如何安装R和RStudio，以及如何安装软件包或加载库()。在这一部分，我将涵盖以下主题</p><ol class=""><li id="f682" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm js jt ju jv bi translated">r基础知识</li><li id="4716" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">功能</li><li id="5b7c" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">数据类型</li></ol></div><div class="ab cl kb kc go kd" role="separator"><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg"/></div><div class="ha hb hc hd he"><h1 id="4f86" class="ki kj hh bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated"><strong class="ak"> R基础</strong></h1><ol class=""><li id="7541" class="jn jo hh ir b is lg iw lh ja li je lj ji lk jm js jt ju jv bi translated"><strong class="ir hi">变量</strong> —变量是给定一个存储位置的名称，用于存储程序中的值。R编程中的变量可以用来存储数字(实数和复数)、单词、矩阵甚至表格。使用赋值符号<code class="du ll lm ln lo b"><strong class="ir hi">&lt;-</strong></code>定义一个变量。</li></ol><pre class="lp lq lr ls fd lt lo lu lv aw lw bi"><span id="804a" class="lx kj hh lo b fi ly lz l ma mb"># Assigning values to variables <br/>a &lt;- 1 <br/>b &lt;- 1 <br/>c &lt;- -1</span></pre><p id="8342" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">要查看存储在变量中的值，在控制台中键入变量名并点击返回，或者通过键入<code class="du ll lm ln lo b">print(variable_name)</code>并点击返回来使用<code class="du ll lm ln lo b">print()</code>功能。</p><p id="e71d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">2.<strong class="ir hi">宾语</strong>——在<strong class="ir hi"> R </strong>中的一切都是<strong class="ir hi">宾语</strong>。对象是具有一些属性和作用于其属性的方法的数据结构。类是对象的蓝图。我们可以把班级想象成一个房子的草图(原型)。它包含所有关于地板、门、窗等的细节。</p><h1 id="6983" class="ki kj hh bd kk kl mc kn ko kp md kr ks kt me kv kw kx mf kz la lb mg ld le lf bi translated"><strong class="ak">功能</strong></h1><p id="8ebd" class="pw-post-body-paragraph ip iq hh ir b is lg iu iv iw lh iy iz ja mh jc jd je mi jg jh ji mj jk jl jm ha bi translated"><strong class="ir hi">功能</strong>是一组避免<strong class="ir hi">重复</strong>同一任务或降低<strong class="ir hi">复杂度的指令。</strong></p><p id="030b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">函数应该执行指定的任务，并且可以包含也可以不包含参数。它有一个主体，可以返回也可以不返回一个或多个值。</p><p id="6cc6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">函数语法</strong></p><pre class="lp lq lr ls fd lt lo lu lv aw lw bi"><span id="f1ce" class="lx kj hh lo b fi ly lz l ma mb">function (arglist)  {<br/>  #Function body<br/>}</span></pre><ol class=""><li id="9bb5" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm js jt ju jv bi translated"><strong class="ir hi">多参数功能</strong></li></ol><pre class="lp lq lr ls fd lt lo lu lv aw lw bi"><span id="f0ef" class="lx kj hh lo b fi ly lz l ma mb"><strong class="lo hi"># 1. Function with two parameters</strong></span><span id="1fe3" class="lx kj hh lo b fi mk lz l ma mb">multiply &lt;- function (value1, value2)  {<br/>  value1 * value2<br/>}<br/>multiply(2,3)</span><span id="b493" class="lx kj hh lo b fi mk lz l ma mb"><strong class="lo hi"># 2. Function with variable number of arguments</strong></span><span id="39a5" class="lx kj hh lo b fi mk lz l ma mb">calculateAverage &lt;- function (...) {<br/>    input &lt;- list(...)<br/>    do.call(sum, input)/length(input)<br/>}<br/>calculateAverage(2,2,4,2)</span><span id="9de4" class="lx kj hh lo b fi mk lz l ma mb"><strong class="lo hi"># 3. Function with default values for arguments<br/></strong>multiplyByThree &lt;- function (value1, value2 = 3)  {<br/>  value1 * value2<br/>}<br/>multiplyByThree(2)<br/>multiplyByThree(5,3)</span></pre><h1 id="5778" class="ki kj hh bd kk kl mc kn ko kp md kr ks kt me kv kw kx mf kz la lb mg ld le lf bi translated"><strong class="ak">数据类型</strong></h1><p id="7bd8" class="pw-post-body-paragraph ip iq hh ir b is lg iu iv iw lh iy iz ja mh jc jd je mi jg jh ji mj jk jl jm ha bi translated">r有各种各样的数据类型，包括标量、向量(数字、字符、逻辑)、矩阵、数据帧和列表。</p><h2 id="e92e" class="lx kj hh bd kk ml mm mn ko mo mp mq ks ja mr ms kw je mt mu la ji mv mw le mx bi translated">一、病媒生物</h2><p id="238e" class="pw-post-body-paragraph ip iq hh ir b is lg iu iv iw lh iy iz ja mh jc jd je mi jg jh ji mj jk jl jm ha bi translated">这些数据类型中最简单的是<strong class="ir hi">向量</strong>，并且有六个这样的原子向量。</p><ol class=""><li id="2fce" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm js jt ju jv bi translated">逻辑—真、假</li><li id="9bf4" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">数字-12.3，5，999</li><li id="29e8" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">整数-2L，34L，0L</li><li id="ca08" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">复合体-3+2i</li><li id="1306" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">字符-“a”，“好”，“真”，“23.4”</li><li id="192c" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">raw-“Hello”存储为48 65 6c 6c</li></ol><p id="17b2" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">使用<code class="du ll lm ln lo b">class()</code>功能查找对象类型。</p><ol class=""><li id="7326" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm js jt ju jv bi translated"><strong class="ir hi">逻辑</strong></li></ol><pre class="lp lq lr ls fd lt lo lu lv aw lw bi"><span id="c1c4" class="lx kj hh lo b fi ly lz l ma mb">v &lt;- TRUE <br/>print(class(v))</span><span id="0b20" class="lx kj hh lo b fi mk lz l ma mb"># Output <br/>"logical"</span></pre><p id="c4f6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">2.<strong class="ir hi">数字</strong></p><pre class="lp lq lr ls fd lt lo lu lv aw lw bi"><span id="a538" class="lx kj hh lo b fi ly lz l ma mb">v &lt;- 23.5<br/>print(class(v))</span><span id="7339" class="lx kj hh lo b fi mk lz l ma mb"># Output<br/>"numeric"</span></pre><p id="04fd" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">3.<strong class="ir hi">整数</strong></p><pre class="lp lq lr ls fd lt lo lu lv aw lw bi"><span id="16de" class="lx kj hh lo b fi ly lz l ma mb">v &lt;- 2L<br/>print(class(v))</span><span id="f364" class="lx kj hh lo b fi mk lz l ma mb"># Output<br/>"integer"</span></pre><p id="ca70" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">4.<strong class="ir hi">复合体</strong></p><pre class="lp lq lr ls fd lt lo lu lv aw lw bi"><span id="cff2" class="lx kj hh lo b fi ly lz l ma mb">v &lt;- 2+5i<br/>print(class(v))</span><span id="aa88" class="lx kj hh lo b fi mk lz l ma mb"># Output<br/>"complex"</span></pre><p id="e965" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">5.<strong class="ir hi">人物</strong></p><pre class="lp lq lr ls fd lt lo lu lv aw lw bi"><span id="0c95" class="lx kj hh lo b fi ly lz l ma mb">v &lt;- "TRUE"<br/>print(class(v))</span><span id="ce1c" class="lx kj hh lo b fi mk lz l ma mb"># Output<br/>"character"</span></pre><p id="54f6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">6.<strong class="ir hi">生</strong></p><pre class="lp lq lr ls fd lt lo lu lv aw lw bi"><span id="b939" class="lx kj hh lo b fi ly lz l ma mb">v &lt;- charToRaw("Hello")<br/>print(class(v))</span><span id="92a7" class="lx kj hh lo b fi mk lz l ma mb"># Output<br/>"raw"</span></pre><p id="f17b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">当你想要创建一个包含多个元素的向量时，你应该使用<strong class="ir hi"> c() </strong>函数，这意味着将元素组合成一个向量。</p><pre class="lp lq lr ls fd lt lo lu lv aw lw bi"><span id="36d6" class="lx kj hh lo b fi ly lz l ma mb"># Create a vector.<br/>apple &lt;- c("red","green","yellow")</span><span id="d39c" class="lx kj hh lo b fi mk lz l ma mb">print(apple)</span><span id="31f4" class="lx kj hh lo b fi mk lz l ma mb"># Output<br/>"red" "green" "yellow"</span><span id="00be" class="lx kj hh lo b fi mk lz l ma mb"># Get the class of the vector.<br/>print(class(apple))</span><span id="3b4e" class="lx kj hh lo b fi mk lz l ma mb"># Output<br/>"character"</span></pre><h2 id="acca" class="lx kj hh bd kk ml mm mn ko mo mp mq ks ja mr ms kw je mt mu la ji mv mw le mx bi translated">二、议案列表</h2><p id="04f6" class="pw-post-body-paragraph ip iq hh ir b is lg iu iv iw lh iy iz ja mh jc jd je mi jg jh ji mj jk jl jm ha bi translated">列表是一个R对象，它里面可以包含不同类型的元素，比如向量、函数，甚至它里面的另一个列表。</p><pre class="lp lq lr ls fd lt lo lu lv aw lw bi"><span id="9a87" class="lx kj hh lo b fi ly lz l ma mb"># Create a list.<br/>list1 &lt;- list(c(2,5,3),21.3,sin)<br/><br/># Print the list.<br/>print(list1)</span><span id="3996" class="lx kj hh lo b fi mk lz l ma mb">#Output<br/>[[1]]<br/>2 5 3<br/><br/>[[2]]<br/>21.3<br/><br/>[[3]]<br/>function (x)  .Primitive("sin")</span></pre><p id="1d30" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">ⅲ级。基质</strong></p><p id="29c6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">矩阵是一个二维数据集。它可以使用矩阵函数的矢量输入来创建。</p><pre class="lp lq lr ls fd lt lo lu lv aw lw bi"><span id="6e57" class="lx kj hh lo b fi ly lz l ma mb"># Create a matrix.<br/>M = matrix( c('a','a','b','c','b','a'), nrow = 2, ncol = 3, byrow = TRUE)<br/>print(M)</span><span id="e4e8" class="lx kj hh lo b fi mk lz l ma mb">#Output<br/>    [,1] [,2] [,3]<br/>[1,] "a"  "a"  "b" <br/>[2,] "c"  "b"  "a"</span></pre><p id="1e81" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">四。阵列</strong></p><p id="f595" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">与只能是二维的矩阵不同，数组可以是任意维的。要创建一个数组，我们需要传递维度作为输入。</p><pre class="lp lq lr ls fd lt lo lu lv aw lw bi"><span id="73c0" class="lx kj hh lo b fi ly lz l ma mb"># Create an array.<br/>a &lt;- array(c('green','yellow'),dim = c(3,3,2))<br/>print(a)</span><span id="0cfa" class="lx kj hh lo b fi mk lz l ma mb">#Output<br/>, , 1<br/><br/>     [,1]     [,2]     [,3]    <br/>[1,] "green"  "yellow" "green" <br/>[2,] "yellow" "green"  "yellow"<br/>[3,] "green"  "yellow" "green" <br/><br/>, , 2<br/><br/>     [,1]     [,2]     [,3]    <br/>[1,] "yellow" "green"  "yellow"<br/>[2,] "green"  "yellow" "green" <br/>[3,] "yellow" "green"  "yellow"</span></pre><p id="a09d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">五、因素</strong></p><p id="8ab5" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">因子是使用向量创建的r对象。它将向量以及向量中元素的不同值存储为标签。标签总是字符，不管它是数字、字符还是布尔等等。在输入向量中。它们在统计建模中很有用。使用<strong class="ir hi"> factor() </strong>函数创建因子。<strong class="ir hi"> nlevels </strong>函数给出了级别的计数。</p><pre class="lp lq lr ls fd lt lo lu lv aw lw bi"><span id="17ba" class="lx kj hh lo b fi ly lz l ma mb"># Create a vector.<br/>apple_colors &lt;- c('green','green','yellow','red','red','red','green')<br/><br/># Create a factor object.<br/>factor_apple &lt;- factor(apple_colors)<br/><br/># Print the factor.<br/>print(factor_apple)<br/>print(nlevels(factor_apple))</span><span id="72e0" class="lx kj hh lo b fi mk lz l ma mb"># Output<br/>[1] green  green  yellow red    red    red    green <br/>Levels: green red yellow<br/>[1] 3</span></pre><p id="82c0" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">六。数据帧</p><p id="03bd" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">数据框可视为表格，其中行代表观察值，列代表不同的变量。数据框是表格数据对象。与数据框中的矩阵不同，每列可以包含不同模式的数据。第一列可以是数字，第二列可以是字符，第三列可以是逻辑。这是一个长度相等的向量列表。</p><p id="6598" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">使用<strong class="ir hi"> data.frame() </strong>函数创建数据框。</p><pre class="lp lq lr ls fd lt lo lu lv aw lw bi"><span id="1281" class="lx kj hh lo b fi ly lz l ma mb"># Create the data frame.<br/>BMI &lt;- 	data.frame(<br/>   gender = c("Male", "Male","Female"), <br/>   height = c(152, 171.5, 165), <br/>   weight = c(81,93, 78),<br/>   Age = c(42,38,26)<br/>)<br/>print(BMI)</span><span id="94ae" class="lx kj hh lo b fi mk lz l ma mb">#Output<br/>gender height weight Age<br/>1   Male  152.0     81  42<br/>2   Male  171.5     93  38<br/>3 Female  165.0     78  26</span></pre><p id="35be" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">为了从数据框的列中访问数据，我们使用美元符号符号<code class="du ll lm ln lo b">$</code>，它被称为访问器。</p><pre class="lp lq lr ls fd lt lo lu lv aw lw bi"><span id="d81c" class="lx kj hh lo b fi ly lz l ma mb"># Use the accessor operator to obtain the values in particular column</span><span id="b924" class="lx kj hh lo b fi mk lz l ma mb">BMI$height</span><span id="8d92" class="lx kj hh lo b fi mk lz l ma mb"># Output</span><span id="1af8" class="lx kj hh lo b fi mk lz l ma mb">152.0 171.5 165.0</span></pre><p id="5499" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">使用str()可以访问对象的结构，通过函数head()可以看到数据集的前6行</p><pre class="lp lq lr ls fd lt lo lu lv aw lw bi"><span id="4793" class="lx kj hh lo b fi ly lz l ma mb"># Finding out more about the structure of the object</span><span id="7ae3" class="lx kj hh lo b fi mk lz l ma mb">str(BMI)</span><span id="9db1" class="lx kj hh lo b fi mk lz l ma mb"># Output<br/>'data.frame': 3 obs. of  4 variables:<br/> $ gender: chr  "Male" "Male" "Female"<br/> $ height: num  152 172 165<br/> $ weight: num  81 93 78<br/> $ Age   : num  42 38 26</span><span id="77f4" class="lx kj hh lo b fi mk lz l ma mb"># To show the first 6 lines of the dataset</span><span id="b8e0" class="lx kj hh lo b fi mk lz l ma mb">head(murders)<br/># Output</span><span id="4676" class="lx kj hh lo b fi mk lz l ma mb">state abb region population total<br/>1    Alabama  AL  South    4779736   135<br/>2     Alaska  AK   West     710231    19<br/>3    Arizona  AZ   West    6392017   232<br/>4   Arkansas  AR  South    2915918    93<br/>5 California  CA   West   37253956  1257<br/>6   Colorado  CO   West    5029196    65</span></pre><p id="5ddd" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">要确定一个变量中的条目数，请使用函数length()</p><pre class="lp lq lr ls fd lt lo lu lv aw lw bi"><span id="4903" class="lx kj hh lo b fi ly lz l ma mb"># To determine how many entries are in a vector <br/>pop &lt;- BMI$height<br/>length(pop)</span><span id="7d54" class="lx kj hh lo b fi mk lz l ma mb"># Output<br/>3</span></pre></div></div>    
</body>
</html>