<html>
<head>
<title>COVID Time Series Forecast</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">COVID时间序列预测</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/covid-time-series-forecast-e21c827923df?source=collection_archive---------8-----------------------#2021-10-20">https://medium.com/analytics-vidhya/covid-time-series-forecast-e21c827923df?source=collection_archive---------8-----------------------#2021-10-20</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="6c80" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">嗨，朋友们。好久不见了是吗？</p><p id="0ba2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在为我面试的几家公司准备各种案例研究时，我真的很忙。我做的一个有趣的案例研究是为一家位于美国和印度的公司提出建议，告诉他们应该在什么时候重开实体店。</p><p id="93d2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我不会告诉你结果的细节，但是对于这个特殊的案例研究，我做了一个预测美国和印度COVID的时间序列。事实是，在这个案例研究之前，我没有任何做时间序列的经验。嗯，我们在使用LSTM的深度学习中确实触及了这个话题，但我不认为这是做时间序列的“实际”体验。</p><p id="2529" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">无论如何，我被给了一个严格的时间表来完成几项任务，老实说，我不认为我在这方面做得很好。尽管如此，我还是把这写下来，记录我的这次经历，这样我可以在以后更好地改进它:)。</p><p id="7d3d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">像往常一样，首先我们通过导入必要的库来开始项目:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es jc"><img src="../Images/bd6960905ae53ddbd24500a71106bfc1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1298/format:webp/1*JnKu_wh-c6h3RG72lqwqSA.png"/></div></figure><p id="b587" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">和一些原始数据探索:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jk"><img src="../Images/e683411c1b62b9bcdba2d59eb4324c99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MFXS4OhQ-Xq4uZu_OKLD8Q.png"/></div></div></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es jp"><img src="../Images/360881d27299d88b83e609e77fd6fb51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1036/format:webp/1*_WPU6vcVTbmyq4uc1O4TIQ.png"/></div></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es jq"><img src="../Images/cb9d722ea3400f44da84aa0d0be68b11.png" data-original-src="https://miro.medium.com/v2/resize:fit:458/format:webp/1*YiTaIN0j9OpZ9Q_TKFlL6g.png"/></div></figure><p id="0e35" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">省/州列下缺少值。我忽略了这一点，因为我们预测的是国家层面的数字。</p><p id="29c1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这是印度不同时期的案例。下图可以看到，我们这里最新的数据是2021年5月左右。印度确诊病例数在4月和5月初急剧增加，但在5月底出现放缓迹象。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jr"><img src="../Images/dcbccb4fe194825bf99bee461958c2ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-57U2VyERH11M3UImCav6Q.png"/></div></div></figure><p id="d54d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">接下来是美国的COVID病例。在这里，我发现恢复案件的数量似乎是奇数。由于某种原因，从2021年1月起恢复的病例数为0。这是不可能的，对吧？试图在其他地方搜索数据，但什么也没找到。因为我们要预测确诊病例的数量，所以我保持原样。然而，确诊病例的数量对我们来说显示出一个相当曲折的形状。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es js"><img src="../Images/4b35177ac448d5a3217e8c94a03544d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a_1hwjFTf-P3GLVuW1miSQ.png"/></div></div></figure><p id="28e5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">所以在给定的数据集中，确诊病例的数量是累积的。我想预测每日新增病例，而不是预测累计数量。为此，我用移位差分法对确诊病例数进行了分解。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jt"><img src="../Images/f1d050c0fb738ebfbd7b35ed87be1cd4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Spp-spBfJdL0bdnd5oLjqw.png"/></div></div></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es ju"><img src="../Images/e4cf214c8758c25de646b83571cb820d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M-SI0w04_vrGutSmqwb2tQ.png"/></div></div></figure><p id="68af" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在此基础上，我进一步创建了两个新列——新病例增长率和感染死亡率。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jv"><img src="../Images/81be4cd98e5cda1463dd7502380405cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o4NuCyg2YICfoZAQ2HU32g.png"/></div></div></figure><p id="f580" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">新病例增长率=今天的病例数/昨天的病例数</p><p id="1066" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">感染死亡率=死亡人数/确诊病例数</p><p id="dc58" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这两列都是在创建仪表板的数据可视化部分使用的。</p><p id="b11a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">由于我使用的是FBProphet模型，该模型要求将列重命名为ds(表示日期)和y(表示观察值)。然后从那里，我进一步分裂训练和测试数据集。在我的项目中，我创建了模型来预测未来14天内确诊病例/每日新增病例的数量。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es jw"><img src="../Images/28c0be209967f3cdba6d1ef0bede2c6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:724/format:webp/1*ukVf4A-a64iQSzp7Ls9TdQ.png"/></div></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es jx"><img src="../Images/d913454e0299fdee41f721c639a84bb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:696/format:webp/1*aEBK3LPO1rBX4iSxnKNWIA.png"/></div></figure><p id="5471" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我建立了单独的模型来预测美国和印度的累计病例数和每日新增病例数。这里我将只展示一个例子，但是请随意访问我的<a class="ae jy" href="https://github.com/gyiernahfufie/COVID-Analysis---US-and-India" rel="noopener ugc nofollow" target="_blank"> github页面</a>获取完整的源代码。</p><p id="59f0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这是一个预测美国未来14天确诊病例数量的模型。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jz"><img src="../Images/00920adb4d6a961de2e706bc961bab26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m6xivgCgReHqCojSRCy7QA.png"/></div></div></figure><p id="e6f1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">你应该能在网上找到每个参数代表什么。事实是，我不确定应该为每个参数设置什么值。上面给出的截图是多次试验和错误组合后的结果。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es ka"><img src="../Images/6d326892d369f5e3123a2d6843009414.png" data-original-src="https://miro.medium.com/v2/resize:fit:424/format:webp/1*RxyX8eMTEzZaA4MaKrsHng.png"/></div><figcaption class="kb kc et er es kd ke bd b be z dx translated">将模型拟合到训练数据集中。</figcaption></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es kf"><img src="../Images/feba14997a406b87d05a5d628e0920ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1020/format:webp/1*-_YG3SXk8pCbUaEYmUYNWw.png"/></div><figcaption class="kb kc et er es kd ke bd b be z dx translated">为预测创造14天的时间框架。</figcaption></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es kg"><img src="../Images/ab040873bd4265fc9a006d09c843d3dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:824/format:webp/1*Yw5mPAVzv-SSohQoJ8Q50Q.png"/></div></figure><p id="7bb0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这是模型的结果。根据下面的结果，我们可以知道，在接下来的14天里，美国的病例将继续增加，但速度较慢。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es kh"><img src="../Images/4d710e450217d038fe9f65d6c8206140.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1bV58aO7gOXMEVy6KLunCg.png"/></div></div></figure><p id="b62b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们基于几个评估指标的结果告诉我们，这个模型做得很好。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es ki"><img src="../Images/251e795b3d370eb146a6cf1a89e5bde9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1164/format:webp/1*-iA2blAN7HLqClCn8qyfAw.png"/></div></figure><p id="6018" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">默认情况下，FBprophet模型为预测值提供了80%的不确定性区间。这是它在图中的样子:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es kj"><img src="../Images/741c994799b1ce566f4c4d6a43cfaeca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bm2f91lKEY_WmpU1pQUzDg.png"/></div></div></figure><p id="e89a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如你所见，实际值，在虚线范围内，这是我们的不确定度上下区间。</p><p id="b499" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">就是这样！我在github上已经覆盖了比我在这里写的更多的内容(更多的模型+交叉验证)。所以只要去<a class="ae jy" href="https://github.com/gyiernahfufie/COVID-Analysis---US-and-India" rel="noopener ugc nofollow" target="_blank">那里</a>，请让我知道我如何才能更好地改善这一点！</p></div></div>    
</body>
</html>