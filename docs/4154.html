<html>
<head>
<title>Working behind DECISION TREES — Easy Explanation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">决策树背后的工作——简单解释</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/working-behind-decision-trees-easy-explanation-729d3864866d?source=collection_archive---------2-----------------------#2021-09-02">https://medium.com/analytics-vidhya/working-behind-decision-trees-easy-explanation-729d3864866d?source=collection_archive---------2-----------------------#2021-09-02</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/d3472fb43d45df9cde1ae0cb609ad041.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bL99z7w5KhLuBNBPme7uJA.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">关于决策树你需要知道的一切！</figcaption></figure><p id="3247" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">决策树是机器学习中使用的一种分类算法</strong>。它足够通用，因为它也可以用来解决回归问题。它是具有根节点、非叶节点、叶节点和分支的树或类似图形的结构。</p><p id="7d5b" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">下面是一个使用AND运算的决策树示例</p><figure class="js jt ju jv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es jr"><img src="../Images/5722afb5a84d534419004c2ab337a02e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fFmOtpfzzlYqgKbzdDZQbQ.jpeg"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">使用AND操作创建的决策树</figcaption></figure><p id="29eb" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">在围绕决策树工作时，有一些<strong class="iv hi">重要术语</strong>必须知道</p><ol class=""><li id="a5ce" class="jw jx hh iv b iw ix ja jb je jy ji jz jm ka jq kb kc kd ke bi translated"><strong class="iv hi">根节点</strong>:根节点是决策树的起点。它表示决策树的总体。人口是我们用来解决问题的数据。根节点在特征(列/属性)值上被分割。</li><li id="9d4a" class="jw jx hh iv b iw kf ja kg je kh ji ki jm kj jq kb kc kd ke bi translated"><strong class="iv hi">非叶节点</strong>:当一个节点分裂成子部分(在一个特征值上)时，分裂形成的节点称为非叶节点。</li><li id="c953" class="jw jx hh iv b iw kf ja kg je kh ji ki jm kj jq kb kc kd ke bi translated"><strong class="iv hi">叶节点</strong>:不能再分割(任何特征值)的节点称为叶节点。</li><li id="0e3d" class="jw jx hh iv b iw kf ja kg je kh ji ki jm kj jq kb kc kd ke bi translated"><strong class="iv hi">分裂</strong>:分裂是根据结果将节点分成两个或两个以上的子节点。在“是”或“否”的情况下，一个节点将分成两个子节点，一个指向来自“是”的结果&amp;，另一个指向来自“否”的结果</li><li id="e8f8" class="jw jx hh iv b iw kf ja kg je kh ji ki jm kj jq kb kc kd ke bi translated"><strong class="iv hi">杂质</strong>:当一个节点没有明确的结果或者不属于一个单一的目标类/输出类时，无论是Yes还是No类，0还是1类，该节点都被认为是不纯的。如果节点具有单个类的所有值，则称为纯节点。</li></ol></div><div class="ab cl kk kl go km" role="separator"><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp"/></div><div class="ha hb hc hd he"><h1 id="19e8" class="kr ks hh bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo bi translated">节点如何&amp;我们如何知道在哪个特性上分割节点？</h1><p id="299f" class="pw-post-body-paragraph it iu hh iv b iw lp iy iz ja lq jc jd je lr jg jh ji ls jk jl jm lt jo jp jq ha bi translated">为了选择分裂的特征，我们计算节点的杂质。我们想要<strong class="iv hi">选择给我们</strong> <strong class="iv hi">最低杂质</strong>的特征。</p><p id="05c0" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">最低杂质</strong>表示分割将产生“较少”不纯节点。</p><p id="5214" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">目标是到达纯节点，其中每个节点属于一个输出类。</p><h2 id="e264" class="lv ks hh bd kt lw lx ly kx lz ma mb lb je mc md lf ji me mf lj jm mg mh ln mi bi translated">我们如何计算杂质？</h2><p id="ee85" class="pw-post-body-paragraph it iu hh iv b iw lp iy iz ja lq jc jd je lr jg jh ji ls jk jl jm lt jo jp jq ha bi translated">最常用的方法是GINI指数。用于<strong class="iv hi">二进制分割，即只有两类的输出</strong>。其他措施包括</p><ol class=""><li id="7e81" class="jw jx hh iv b iw ix ja jb je jy ji jz jm ka jq kb kc kd ke bi translated">准确(性)</li><li id="7e2e" class="jw jx hh iv b iw kf ja kg je kh ji ki jm kj jq kb kc kd ke bi translated">信息增益</li><li id="fb3b" class="jw jx hh iv b iw kf ja kg je kh ji ki jm kj jq kb kc kd ke bi translated">增益比</li></ol><p id="0742" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi"> <em class="lu">让我们关注GINI指数，以理解使用特征分割节点的概念。</em> </strong></p><h2 id="12f7" class="lv ks hh bd kt lw lx ly kx lz ma mb lb je mc md lf ji me mf lj jm mg mh ln mi bi translated">我们如何计算基尼指数？</h2><p id="7901" class="pw-post-body-paragraph it iu hh iv b iw lp iy iz ja lq jc jd je lr jg jh ji ls jk jl jm lt jo jp jq ha bi translated">基尼指数= 1的平方(肯定的概率)-否定的概率的平方</p><figure class="js jt ju jv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mj"><img src="../Images/f0c469f2ef3188d937ab7e6557ba7840.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*B6m9IzITpBAOizVP"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">基尼指数公式</figcaption></figure><h2 id="de82" class="lv ks hh bd kt lw lx ly kx lz ma mb lb je mc md lf ji me mf lj jm mg mh ln mi bi translated"><strong class="ak">现在让我们拿一个数据集来理解如何选择分割结点的特征？</strong></h2><p id="36b2" class="pw-post-body-paragraph it iu hh iv b iw lp iy iz ja lq jc jd je lr jg jh ji ls jk jl jm lt jo jp jq ha bi translated">我们有一个独立变量或特征的数据集，如胸痛、良好的血液循环和阻塞的动脉，确定这个人是否患有心脏病。心脏病是我们的目标类别或因变量。因此，数据集的目标类为Yes或No。</p><figure class="js jt ju jv fd ii er es paragraph-image"><div class="er es mk"><img src="../Images/0c6716206b06eea6bf045a16e6447967.png" data-original-src="https://miro.medium.com/v2/resize:fit:1038/0*VQStgoYmqNjf7dax"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated">样本数据集</figcaption></figure><p id="47aa" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">在上面的数据集中，我们有四个特征:胸痛，良好的血液循环和阻塞的动脉。在这四个特征中，我们可以将任何一个作为根节点。为了决定哪个节点做根，我们计算基尼指数并挑选最低杂质特征。</p><p id="a8b3" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">假设，我们选择胸痛作为根节点特征:-</p><ul class=""><li id="2638" class="jw jx hh iv b iw ix ja jb je jy ji jz jm ka jq ml kc kd ke bi translated">如果胸痛是肯定的-&gt; 105个人有心脏病，39个人没有心脏病。</li><li id="d7c1" class="jw jx hh iv b iw kf ja kg je kh ji ki jm kj jq ml kc kd ke bi translated">如果胸痛没有-&gt; 34人有心脏病，125人没有心脏病。</li></ul><figure class="js jt ju jv fd ii er es paragraph-image"><div class="ab fe cl mm"><img src="../Images/81bda300075594f55b0c472e873d3182.png" data-original-src="https://miro.medium.com/v2/0*N55bE8i7MeMExpZZ"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated">根节点位置的可能候选者(特征)。</figcaption></figure><p id="072a" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">现在，计算胸痛特征的基尼指数:- </strong></p><p id="ee0b" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">胸痛为是时的基尼指数= 1-心脏病为是的概率的平方-心脏病为否的概率的平方</p><p id="af79" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">= 1的平方(105/105+39)-的平方(39/105+39)</p><p id="9f8b" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi"> = 0.395 </strong></p></div><div class="ab cl kk kl go km" role="separator"><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp"/></div><div class="ha hb hc hd he"><p id="5282" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">使用相同的公式，当胸痛为否时，基尼指数= 0.336</p></div><div class="ab cl kk kl go km" role="separator"><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp"/></div><div class="ha hb hc hd he"><p id="3927" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">现在，我们计算有无胸痛的总基尼指数。</strong></p><p id="d2c8" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">总基尼指数</strong> =叶节点基尼系数的加权平均值</p></div><div class="ab cl kk kl go km" role="separator"><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp"/></div><div class="ha hb hc hd he"><p id="f805" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">胸痛结节的总胃肠道指数= [(胸痛是/胸痛患者总数)x胸痛是] + [(胸痛否/胸痛患者总数)x胸痛否的胃肠道指数]</p><p id="d344" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">=[(144/144+159)x 0.395]+[(159/144+159)x 0.336)]</p><p id="97b3" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi">= 0.364</p></div><div class="ab cl kk kl go km" role="separator"><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp"/></div><div class="ha hb hc hd he"><p id="b62f" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">使用基尼指数计算的胸痛特征的杂质是0.364</p><p id="475a" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">在像我们对胸痛特征所做的那样计算每个特征的基尼指数之后，我们会发现良好的血液循环特征具有最低的杂质。因此，我们选择良好的血液循环特征作为根节点。</p><p id="7a76" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">类似地，我们继续寻找下一个节点并完成我们的决策树。</p></div></div>    
</body>
</html>