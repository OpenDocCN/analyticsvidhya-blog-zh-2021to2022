<html>
<head>
<title>Seasonality analysis of RSI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">RSI的季节性分析</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/seasonality-analysis-of-rsi-c624eca9180f?source=collection_archive---------1-----------------------#2021-12-31">https://medium.com/analytics-vidhya/seasonality-analysis-of-rsi-c624eca9180f?source=collection_archive---------1-----------------------#2021-12-31</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="e7af" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">RSI是衡量超买和超卖的常用技术指标。范围从0到100。在本文中，我将展示RSI的季节性以及如何将其应用于时间序列预测。</p><p id="684a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里我用VGT的每日收盘价作为例子。VGT是一种交易所交易基金，跟踪衡量信息技术板块股票投资回报的基准指数的表现。</p><p id="90bc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了平滑波动，我使用14天RSI的20天移动平均线。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/06e55e7991b730e597e44891c9519b55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*koLb2ZHBlC_Uw14xwVN7Rg.png"/></div></div></figure><blockquote class="jp jq jr"><p id="703f" class="if ig js ih b ii ij ik il im in io ip jt ir is it ju iv iw ix jv iz ja jb jc hb bi translated">看上面2020年和2021年RSI月平均值的图表，它们遵循相似的起伏模式。因此，它似乎有每年的季节性</p></blockquote><p id="ed2a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了进一步检查RSI是否遵循年度模式，我们取不同年份的月平均值，然后用它作为年度模式的近似值。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jw"><img src="../Images/23dc329845f37b6399801cb0948f88cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bA3v-GgtxN_TbzQRsHH0vQ.png"/></div></div></figure><p id="9b51" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在大多数时间(尤其是最近的时间)，它符合每年的起伏模式，尽管在数据开始时有一些差异。这意味着可能有其他季节性周期影响RSI。结果是多重季节性的结合。</p><p id="7998" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以使用python函数<code class="du jx jy jz ka b">sm.tsa.seasonal_decompose</code>通过统计检验来验证季节性。</p><pre class="je jf jg jh fd kb ka kc kd aw ke bi"><span id="0924" class="kf kg hi ka b fi kh ki l kj kk">import statsmodels.api as sm<br/>from statsmodels.tsa.stattools import adfuller</span><span id="efa7" class="kf kg hi ka b fi kl ki l kj kk">res = sm.tsa.seasonal_decompose(Y_true,period=12)<br/>r = res.resid<br/>r = r[~np.isnan(r)]<br/>result = adfuller(r)<br/>print(‘ADF Statistic: %f’ % result[0])<br/>print(‘p-value: %f’ % result[1])<br/>print(‘Critical Values:’)<br/>for key, value in result[4].items():<br/>    print(‘\t%s: %.3f’ % (key, value))</span></pre><p id="85e1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上面的代码是将RSI时间序列数据按指定周期(12个月)进行分解，然后对残差进行Adfuller检验，检查残差是否平稳。如果残差是稳定的，这意味着RSI数据在统计上显示出很强的季节性。</p><p id="c2d3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">p值可以决定残差是否平稳，越接近0，表明平稳性的证据越强。我们比较了(1)期= 12个月和(2)期= 6个月的结果。</p><pre class="je jf jg jh fd kb ka kc kd aw ke bi"><span id="f632" class="kf kg hi ka b fi kh ki l kj kk">12-month period: p-value = 1.219e-07</span><span id="87d3" class="kf kg hi ka b fi kl ki l kj kk">6-month period : p-value = 1.888e-08</span></pre><blockquote class="jp jq jr"><p id="eaa4" class="if ig js ih b ii ij ik il im in io ip jt ir is it ju iv iw ix jv iz ja jb jc hb bi translated">我们得到了一个更小的6个月的p值。因此，我们可以说RSI数据显示了半年的季节性。</p></blockquote><p id="2f9e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">季节性可以帮助我们预测时间序列数据。<a class="ae km" href="https://facebook.github.io/prophet/docs/quick_start.html#python-api" rel="noopener ugc nofollow" target="_blank">脸书预言家</a>是能够预测具有指定季节性的时间序列数据的软件包之一。</p><p id="d469" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要使用prophet，我们需要将数据格式化为两列:<code class="du jx jy jz ka b">ds</code>和<code class="du jx jy jz ka b">y</code></p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kn"><img src="../Images/8a5c323a0fed0d46979d815b49d00f57.png" data-original-src="https://miro.medium.com/v2/resize:fit:596/format:webp/1*i9SKu4qoKifTcW-Yn2_VBA.png"/></div></figure><pre class="je jf jg jh fd kb ka kc kd aw ke bi"><span id="aaa7" class="kf kg hi ka b fi kh ki l kj kk">dfph = df[[‘ds’,’y’]]<br/>m = Prophet(yearly_seasonality=True)<br/>m.add_seasonality(name=’half_year’, period=182,fourier_order=5)<br/>m.add_country_holidays(country_name=’US’)<br/>m.fit(dfph)<br/>future = m.make_future_dataframe(periods=182)<br/>forecast = m.predict(future)<br/>fig1 = m.plot(forecast)</span></pre><p id="ca7e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，我们通过启用年度季节性并添加半年季节性(182天)来创建Prophet模型。我们还需要为我们指定节假日，因为节假日没有交易数据。</p><p id="530b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在训练数据<code class="du jx jy jz ka b">m.fit</code>之后，我们可以预测未来182天的RSI。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ko"><img src="../Images/876184101d61911e788bfc553dbe6185.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PaA0Prs8LVlvyuJ0Oh_Emw.png"/></div></div></figure><p id="5d9a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">预测(蓝线)非常吻合，看起来也很合理。</p><p id="6d9c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">随着RSI预测的增强，我们可以应用我以前文章中的交易策略。我用100天来进行回溯测试。</p><p id="e3e7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">没有时间序列预测的简单RSI策略</strong></p><pre class="je jf jg jh fd kb ka kc kd aw ke bi"><span id="8498" class="kf kg hi ka b fi kh ki l kj kk">Hit ratio       =  43.14 %<br/>Net profit      =  $ -42.01<br/>Expectancy      =  $ -0.82 per trade<br/>Profit factor   =  0.67<br/>Total Return    =  -42.01 %</span><span id="1b65" class="kf kg hi ka b fi kl ki l kj kk">Trades = 51</span></pre><p id="bac6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">用时间序列预测季节性</strong></p><pre class="je jf jg jh fd kb ka kc kd aw ke bi"><span id="3c63" class="kf kg hi ka b fi kh ki l kj kk">Hit ratio       =  25.0 %<br/>Net profit      =  $ 32.65<br/>Expectancy      =  $ 8.16 per trade<br/>Profit factor   =  3.53<br/>Total Return    =  32.65 %</span><span id="6777" class="kf kg hi ka b fi kl ki l kj kk">Trades = 4</span></pre><p id="9113" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该策略产生的交易信号较少，但利润较高。这意味着时间序列预测有助于消除虚假信号。</p><p id="5def" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">代码可以在Git ( <a class="ae km" href="https://github.com/iwasnothing/ts-prediction-rsi/blob/main/rsi_backtest.py" rel="noopener ugc nofollow" target="_blank"> rsi_backtest.py </a>)中找到。</p></div></div>    
</body>
</html>