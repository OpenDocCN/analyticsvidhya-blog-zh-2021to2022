<html>
<head>
<title>Hypothesis Testing: what it actually is?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">假设检验:它到底是什么？</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/hypothesis-testing-what-it-actually-is-249d23da06bf?source=collection_archive---------10-----------------------#2021-04-02">https://medium.com/analytics-vidhya/hypothesis-testing-what-it-actually-is-249d23da06bf?source=collection_archive---------10-----------------------#2021-04-02</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="e5a6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">通常，在假设检验的话题上有一些混乱。关于这一主题的标准本科课程涉及诸如“零假设”、“替代假设”、“检验的功效”、“统计显著性”、“p &lt;0.05”, etc., which can be misleading or misunderstood. Most of this is due to the fact that the Neyman-Pearson paradigm of Hypothesis Testing has been stipulated in science and engineering as the standard mindset when data-based decisions have to be made.</p><p id="af2d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">This has to change. The use of this paradigm without justification has led to a lot of confusion not only in students but in practitioners. Why should scientific findings have to rely on “p&lt;0.05”? What does “statistically significant” really mean? Do we need to accept the “null hypothesis”? The relevance of these questions led the American Statistical Association to publish (at least) two papers giving statements and best practices of Hypothesis Testing: 1) <a class="ae jc" href="https://www.tandfonline.com/doi/full/10.1080/00031305.2016.1154108" rel="noopener ugc nofollow" target="_blank">”等术语。美国儿科学会关于p值的声明:背景、过程和目的</a>和2) <a class="ae jc" href="https://www.tandfonline.com/doi/full/10.1080/00031305.2019.1583913" rel="noopener ugc nofollow" target="_blank">走向超越“p&lt;0.05”</a>。</p><p id="0eb4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在接下来的内容中，我将给出一个简单的假设检验和p值的定义，并用一个简单的例子来加强。在此之后，将有一个假设检验的三个主要范式的简短回顾。</p><h1 id="8def" class="jd je hh bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">一个非常简单的方法</h1><p id="3c1a" class="pw-post-body-paragraph ie if hh ig b ih kb ij ik il kc in io ip kd ir is it ke iv iw ix kf iz ja jb ha bi translated">让我简单地给假设检验下定义</p><blockquote class="kg kh ki"><p id="c214" class="ie if kj ig b ih ii ij ik il im in io kk iq ir is kl iu iv iw km iy iz ja jb ha bi translated">假设检验通过与数据的矛盾来证明。</p></blockquote><p id="ae40" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们拥有的是一个关于世界的陈述或假设(每次多云都会下雨)，以及对比或测试这个假设的数据(我见过没有下雨的多云天气)，有了这些，我们就可以决定这个陈述是否得到了数据的支持(不是每次多云都会下雨)。</p><p id="77ed" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">观察数据没有义务与假设相矛盾(我还没有见过不下雨的阴天)但这并不导致我们接受假设为真(我必须继续观察天空，也许未来会有不下雨的阴天)。</p><p id="5bc0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">正如你所看到的，假设检验就像思考的过程一样自然:用数据观察、规定和检验你的信念。</p><p id="4095" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">不幸的是，对于假设检验的正式数学定义还没有达成共识。这也许是为什么尼曼-皮尔逊范式被作为默认程序，因为它有正式的定义和定理(例如，见著名的<a class="ae jc" href="https://en.wikipedia.org/wiki/Neyman%E2%80%93Pearson_lemma" rel="noopener ugc nofollow" target="_blank">尼曼-皮尔逊引理</a>)。)</p><p id="2ced" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们可以通过解释假设检验的要素来理解假设检验，而不是遵循一个正式的定义，正如D.A. Sprott在《科学中的统计推断》中所做的那样。正如本书第6章所提到的，假设检验或显著性检验的目的是衡量实验数据提供的证据相对于假设h的强度。进行检验的两个要素是:</p><ol class=""><li id="3cc3" class="kn ko hh ig b ih ii il im ip kp it kq ix kr jb ks kt ku kv bi translated">一个非负的差异度量或统计量，我们用<em class="kj"> T </em>表示。</li><li id="337f" class="kn ko hh ig b ih kw il kx ip ky it kz ix la jb ks kt ku kv bi translated">假设H为真，<em class="kj"> T </em>大于或等于某个有趣值<em class="kj"> t </em>的概率。如果我们有假设H下的<em class="kj"> T </em>的分布就可以算出来，但是一般情况下，我们可以近似这个概率，而不是确定H下的<em class="kj"> T </em>的分布，即假设H为真。</li></ol><p id="9e00" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">注意:在第二点中，<em class="kj"> T </em>是一个理论上的<a class="ae jc" href="https://en.wikipedia.org/wiki/Random_variable" rel="noopener ugc nofollow" target="_blank">随机变量</a>,<em class="kj">T</em>是一个实验的一个实现中从<em class="kj"> T </em>观察到的值。</p><p id="5a07" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">第二点提到的概率，也就是，</p><figure class="lc ld le lf fd lg er es paragraph-image"><div class="er es lb"><img src="../Images/bc0639f8c8ec5348189e80a33e659865.png" data-original-src="https://miro.medium.com/v2/resize:fit:614/format:webp/1*hXBthcewlXnmS5oGI0U9rQ.png"/></div></figure><p id="814a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">测试的p值被称为<em class="kj"/>。</p><p id="38d2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这里的想法是构建一个统计量<em class="kj"> T，</em>，它是实验中收集的数据的函数，以这种方式，较大的(正)值代表与假设的差异。</p><p id="beee" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">更有甚者，如果我们知道在兴趣假设<em class="kj"> H </em>下<em class="kj"> T </em>的分布，并且<em class="kj"> t </em>是实验中<em class="kj"> T </em>的观测值，那么一个接近于0的p值将表明“<em class="kj"> T </em>大于等于<em class="kj"> t </em>的事件是非常可改善的。</p><p id="5809" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">让我说一个简单的例子:假设我们有一个硬币，我们想确定它是否是一个公平的硬币，也就是说，我们想测试是否<em class="kj"> p </em> =，其中<em class="kj"> p </em>是每当我们抛硬币时它正面朝上的概率。简单来说，我们要检验假设H: <em class="kj"> p </em> =。</p><p id="f1a5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">让<em class="kj"> X </em>成为一次翻转的结果。所以如果是正面，那么<em class="kj"> X </em> =1，如果是反面，那么<em class="kj"> X </em> =0。用<em class="kj"> Y </em>表示10个<a class="ae jc" href="https://en.wikipedia.org/wiki/Independence_(probability_theory)" rel="noopener ugc nofollow" target="_blank">独立</a>翻转中<em class="kj"> X </em>的总和。也就是说，翻转的结果就是序列</p><figure class="lc ld le lf fd lg er es paragraph-image"><div class="er es lj"><img src="../Images/1c2665987e8a860b69318b2e64b29cde.png" data-original-src="https://miro.medium.com/v2/resize:fit:758/0*_KAcu8bTVNJ4TnwM"/></div></figure><p id="f482" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">和</p><figure class="lc ld le lf fd lg er es paragraph-image"><div class="er es lk"><img src="../Images/c3774f136ca01f11873ddf62658707c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/0*zxGILPTvCtivBN_t"/></div></figure><p id="00e5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">由于每次翻转都是一个<a class="ae jc" href="https://en.wikipedia.org/wiki/Bernoulli_trial" rel="noopener ugc nofollow" target="_blank">伯努利试验</a>并且试验是独立的，因此很容易看出，在假设H: <em class="kj"> p </em> =，<em class="kj"> Y </em>具有参数<em class="kj"> n </em> =10和<em class="kj"> p </em> =的<a class="ae jc" href="https://en.wikipedia.org/wiki/Binomial_distribution" rel="noopener ugc nofollow" target="_blank">二项式</a>分布。</p><p id="9b96" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">假设H为真，在10次试验后，我们预计<em class="kj"> Y </em>的值约为5头。因此，如果我们观察到一个远离5的值，我们就有证据表明<em class="kj"> p </em>不等于，即H不为真，或者更准确地说，数据不支持假设H。因此，我们将差异度量<em class="kj"> T </em>定义为</p><figure class="lc ld le lf fd lg er es paragraph-image"><div class="er es ll"><img src="../Images/0987ef873ce1937759def1cc8480b54b.png" data-original-src="https://miro.medium.com/v2/resize:fit:834/0*kWEQtloRtQGEZGgB"/></div></figure><p id="9815" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">记住<em class="kj"> T </em>是理论随机变量，<em class="kj"> t </em>是实验中<em class="kj"> T </em>的观测值。假设H为真，很容易证明</p><figure class="lc ld le lf fd lg er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es lm"><img src="../Images/fd232a4dc821394a44b38a93650f5d81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*FJTa1wCjDGPKOwjv"/></div></div></figure><p id="74b1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">注意<em class="kj"> T </em>在0(当<em class="kj"> Y </em> =5时)和5(当<em class="kj"> Y </em> =10时)之间，所以我们只能在区间[0，5]内评估<em class="kj"> t </em>的值。</p><p id="2bfe" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">那么，如果实验的结果是</p><p id="53ec" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi">0,1,1,1,1,0,1,1,1,1</p><p id="2432" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们得到<em class="kj"> t </em> =8，p值为</p><figure class="lc ld le lf fd lg er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es lr"><img src="../Images/25b588919947bf451933aa8e61acffa7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*XBDMEaBFooy1f5vg"/></div></div></figure><p id="9798" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">因为这个p值可以被认为是低的，这给了我们证据，假设H: <em class="kj"> p </em> =不被数据支持。</p><p id="e420" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">请注意，我们并没有“拒绝”或者更糟地“接受”假设H，我们只是开发了一种由概率分布支持的方法来衡量数据在多大程度上符合假设H。</p><p id="8950" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">从这个意义上来说，我们必须把假设检验程序看作是温度计(p值)的构造，它能让我们洞察科学假设的真实性。对于未来的应用，假设是否为真取决于执行测试的人(或一些想要使用结果的外部人员)的标准。</p><h1 id="4751" class="jd je hh bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">三种范式</h1><p id="a9ba" class="pw-post-body-paragraph ie if hh ig b ih kb ij ik il kc in io ip kd ir is it ke iv iw ix kf iz ja jb ha bi translated">在Ronald Christensen的论文“检验Fisher、Neyman、Pearson和Bayes”中，作者提出了假设检验的三种主要范式:</p><ol class=""><li id="a238" class="kn ko hh ig b ih ii il im ip kp it kq ix kr jb ks kt ku kv bi translated">鱼貂</li><li id="528f" class="kn ko hh ig b ih kw il kx ip ky it kz ix la jb ks kt ku kv bi translated">奈曼-皮尔逊公司</li><li id="cbc2" class="kn ko hh ig b ih kw il kx ip ky it kz ix la jb ks kt ku kv bi translated">贝叶斯</li></ol><p id="38b1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">上一节介绍的方法是费雪或费雪范式，由罗纳德·费雪在20世纪初提出。</p><p id="c737" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">本文的目的并不是说Fisher范式比其他两个更好。而是强调进行统计检验的方法不止一种，进行统计检验的人必须决定哪种方法最适合手头的任务。</p><p id="0e86" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">强调费希尔范式的原因是为了说明假设检验有时会被误解，而且这个概念实际上比它通常表现出来的要简单。</p><p id="50db" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">简而言之，下面是更适合使用每个范例的常见场景:</p><p id="0512" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">费舍尔</strong>。每当你有一个科学或商业相关的假设，在得出测试程序的结论时，没有明确的行动可以采取，就使用它。</p><p id="570d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这种情况的一个例子是前面提到的。在这种情况下，硬币的公平性的结论只是科学的好奇心，它与后来必须采取的任何行动无关。</p><p id="9156" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">内曼-皮尔森</strong>。这是最著名的方法，也是定义“零假设”、“替代假设”、“显著性水平”、“检验的功效”等概念的方法。当你必须根据测试的结论做出决定并采取行动时，使用尼曼-皮尔森范式。这就是为什么我们有“无效”和“替代”的概念，因为我们需要在两个相互竞争的假设之间做出决定。</p><p id="fff9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">还有，“显著性水平”这个概念的出现是因为你可以规定犯某个错误比其他错误更糟糕。这些错误被称为“1型”和“2型”，定义为当零假设为真时拒绝零假设(假阳性)，当零假设为假时接受零假设(假阴性)。</p><p id="d0d7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这种情况的一个例子是在一个制造工厂中，您必须决定产品的质量是否符合期望的标准。如果产品是好的，你继续这个过程，否则，你停止生产。你需要在这里规定什么是更糟的:当生产良好时停止流程，或者当生产不够好时继续流程。</p><p id="8daa" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">贝氏</strong>。这种方法从根本上不同于前两种，因为你使用贝叶斯统计来计算假设为真的概率。这是一个范式的转变，不仅在假设过程中，而且在涉及的统计概念化中，因为你假设感兴趣的参数本身是随机变量。根据这一假设，您可以获得假设的概率，而不是p值。</p><p id="c6f6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">贝叶斯方法具有更强的可解释性，可以在你必须做出决定时使用。当比较两个假设时，你只需获得两个概率，并取概率较高的假设。</p><p id="456f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">应用贝叶斯过程的唯一两个要求是1)得出参数的<a class="ae jc" href="https://en.wikipedia.org/wiki/Prior_probability" rel="noopener ugc nofollow" target="_blank">先验分布</a>，以及2)获得(或模拟)T2后验分布。这两个步骤并不总是显而易见的，但是当达到这两个步骤时，所有的分析就更容易解释了。</p><h1 id="51c2" class="jd je hh bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">结论</h1><p id="60b5" class="pw-post-body-paragraph ie if hh ig b ih kb ij ik il kc in io ip kd ir is it ke iv iw ix kf iz ja jb ha bi translated">测试一个假设就像用矛盾来证明一样。你建立一个假设，并获得数据，看看它是否与假设一致。如果你观察到一些<em class="kj">怪异</em>的东西与假设相矛盾，你就有证据证明它是错误的。相反，如果数据与假设一致，你不会马上接受它，但你可以得出结论，没有证据证明假设的虚假性。</p><p id="1e13" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">要执行测试过程，您需要一个测试统计量及其在感兴趣的假设下的分布。有了这个，你就可以计算出p值，p值就是数据与假设的一致性的度量。</p><p id="4fdd" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">假设检验有三种主要范式:费希尔、尼曼-皮尔逊和贝叶斯。您可以根据手头的情况和您所掌握的问题信息来使用每一种方法。</p></div></div>    
</body>
</html>