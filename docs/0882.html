<html>
<head>
<title>Plotting with Seaborn: part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Seaborn绘图:第2部分</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/plotting-with-seaborn-part-2-9c4b68457f92?source=collection_archive---------23-----------------------#2021-02-04">https://medium.com/analytics-vidhya/plotting-with-seaborn-part-2-9c4b68457f92?source=collection_archive---------23-----------------------#2021-02-04</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/9316b5ffacd2dc97591f708b63149d43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Mt6l0rC2rmcOtIF9G5pQ7A.png"/></div></div></figure><p id="0db4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在第一部分中，我们使用了“提示”数据集，现在我们将使用“企鹅”数据集。</p><p id="3e8c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在让我们加载数据集。</p><pre class="jn jo jp jq fd jr js jt ju aw jv bi"><span id="73d5" class="jw jx hh js b fi jy jz l ka kb">d = sns.load_dataset(“penguins”)<br/>d.columns<br/>&gt;&gt; Index(['species', 'island', 'bill_length_mm', 'bill_depth_mm',        'flipper_length_mm', 'body_mass_g', 'sex'],dtype='object')</span></pre><h1 id="e4fd" class="kc jx hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated"><strong class="ak">小提琴手</strong></h1><p id="05c7" class="pw-post-body-paragraph ip iq hh ir b is kz iu iv iw la iy iz ja lb jc jd je lc jg jh ji ld jk jl jm ha bi translated">画出箱线图和核密度估计的组合。</p><p id="59af" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">小提琴图与盒须图的作用相似。它显示了数量数据在一个(或多个)分类变量的几个级别上的分布，以便对这些分布进行比较。与箱线图不同，在箱线图中，所有图的组成部分都对应于实际数据点，violin图的特点是对基础分布的核密度估计。</p><p id="9f22" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">竖琴剧情，</strong></p><pre class="jn jo jp jq fd jr js jt ju aw jv bi"><span id="1dea" class="jw jx hh js b fi jy jz l ka kb">sns.violinplot(data=d,x=”species”,y = “bill_depth_mm”)</span></pre><figure class="jn jo jp jq fd ii er es paragraph-image"><div class="er es le"><img src="../Images/cc8e1c5201dacca1e7a2ccea8fdfd038.png" data-original-src="https://miro.medium.com/v2/resize:fit:766/format:webp/1*hWExRCOY-4NQ6dCGoRPDIw.png"/></div></figure><pre class="jn jo jp jq fd jr js jt ju aw jv bi"><span id="d9ff" class="jw jx hh js b fi jy jz l ka kb">sns.violinplot(data=d,x=”species”,y = “body_mass_g”)</span></pre><figure class="jn jo jp jq fd ii er es paragraph-image"><div class="er es lf"><img src="../Images/3aec113a1271445094653e9ec2bb26cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:792/format:webp/1*GwpgDjDNSLS1Rn5tXSQxQA.png"/></div></figure><p id="66e3" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">拆分小提琴来比较色调变量，</p><pre class="jn jo jp jq fd jr js jt ju aw jv bi"><span id="4411" class="jw jx hh js b fi jy jz l ka kb">sns.violinplot(data=d,x=”species”,y=“body_mass_g”,hue=”sex”,split=True)</span></pre><figure class="jn jo jp jq fd ii er es paragraph-image"><div class="er es lf"><img src="../Images/ce03194cd1addd5477ad912622d5abd2.png" data-original-src="https://miro.medium.com/v2/resize:fit:792/format:webp/1*oHS__q2DLh7DCRD2-CTuxQ.png"/></div></figure><p id="40f4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在四分位数是水平线，</p><pre class="jn jo jp jq fd jr js jt ju aw jv bi"><span id="0061" class="jw jx hh js b fi jy jz l ka kb">sns.violinplot(data=d,x="species",y = "body_mass_g",hue="sex",split=True,inner="quartile")</span></pre><figure class="jn jo jp jq fd ii er es paragraph-image"><div class="er es lf"><img src="../Images/f830a239237502a9cd0aa82b1aed3394.png" data-original-src="https://miro.medium.com/v2/resize:fit:792/format:webp/1*0_14oR5hcIE87oDpoS17dg.png"/></div></figure><p id="e127" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">要用小提琴内部的木棒显示每个观察结果:</p><pre class="jn jo jp jq fd jr js jt ju aw jv bi"><span id="fc9f" class="jw jx hh js b fi jy jz l ka kb">sns.violinplot(data=d,x="species",y = "body_mass_g",hue="sex",split=True,inner="stick")</span></pre><figure class="jn jo jp jq fd ii er es paragraph-image"><div class="er es lf"><img src="../Images/d7c161ccd3bd1f2f60d1a991ca1d1d17.png" data-original-src="https://miro.medium.com/v2/resize:fit:792/format:webp/1*yvRNhxGkVR82too_KSgTAA.png"/></div></figure><pre class="jn jo jp jq fd jr js jt ju aw jv bi"><span id="30c8" class="jw jx hh js b fi jy jz l ka kb">sns.violinplot(data=d,x=”species”,y = “body_mass_g”,hue=”island”)</span></pre><figure class="jn jo jp jq fd ii er es paragraph-image"><div class="er es lf"><img src="../Images/6d60730976ba39f24f6432290d31b8eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:792/format:webp/1*kH017MnndJG2EVcdHGABcQ.png"/></div></figure><p id="09ce" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们使用<code class="du lg lh li js b">catplot<strong class="ir hi">().</strong></code>将violinplot()和FaceGrid()结合起来，这允许在附加的分类变量中进行分组。使用<code class="du lg lh li js b"><a class="ae lj" href="https://seaborn.pydata.org/generated/seaborn.catplot.html#seaborn.catplot" rel="noopener ugc nofollow" target="_blank"><strong class="ir hi">catplot()</strong></a></code>比直接使用<code class="du lg lh li js b"><a class="ae lj" href="https://seaborn.pydata.org/generated/seaborn.FacetGrid.html#seaborn.FacetGrid" rel="noopener ugc nofollow" target="_blank"><strong class="ir hi">FacetGrid</strong></a></code>更安全，因为它确保了变量的同步。</p><pre class="jn jo jp jq fd jr js jt ju aw jv bi"><span id="fdad" class="jw jx hh js b fi jy jz l ka kb">p = sns.catplot(<br/>data = d,x = "species",<br/>y = "flipper_length_mm",hue = "sex",col = "island",<br/>kind = "violin")</span></pre><figure class="jn jo jp jq fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lk"><img src="../Images/ba6355d81d2b2b62fc2304428f7cf83e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fikKenUNi7T7d2_VRlUcdg.png"/></div></div></figure><h1 id="67e8" class="kc jx hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">条形图</h1><p id="ffb0" class="pw-post-body-paragraph ip iq hh ir b is kz iu iv iw la iy iz ja lb jc jd je lc jg jh ji ld jk jl jm ha bi translated">条形图用每个矩形的高度表示数值变量的集中趋势估计值，并使用误差线提供该估计值周围不确定性的一些指示。条形图在量化轴范围内包含0，当0是量化变量的有意义值，并且您想要与之进行比较时，它们是很好的选择。</p><p id="1ea6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">条形图仅显示平均值(或其他估计值)，但在许多情况下，显示分类变量每个级别的值的分布可能会提供更多信息。在这种情况下，其他方法，如盒子或小提琴情节可能更合适。</p><pre class="jn jo jp jq fd jr js jt ju aw jv bi"><span id="df19" class="jw jx hh js b fi jy jz l ka kb">sns.barplot(data=d,x="species",y="body_mass_g")</span></pre><figure class="jn jo jp jq fd ii er es paragraph-image"><div class="er es lf"><img src="../Images/a93d3044446abb7c798a3c9d4ff535eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:792/format:webp/1*qeEzEdZe-imb4Y1gyS6x9Q.png"/></div></figure><pre class="jn jo jp jq fd jr js jt ju aw jv bi"><span id="51fe" class="jw jx hh js b fi jy jz l ka kb">sns.barplot(data=d,x="species",y="flipper_length_mm")</span></pre><figure class="jn jo jp jq fd ii er es paragraph-image"><div class="er es ll"><img src="../Images/277fdd6b0ef0309f793de6f71698aece.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*g5XQnI9KWe5AUSZC_nzXXQ.png"/></div></figure><pre class="jn jo jp jq fd jr js jt ju aw jv bi"><span id="af53" class="jw jx hh js b fi jy jz l ka kb">sns.barplot(data=d,x=”island”,y=”body_mass_g”)</span></pre><figure class="jn jo jp jq fd ii er es paragraph-image"><div class="er es lf"><img src="../Images/0993846b4f02d4b37731fe4fd636c16e.png" data-original-src="https://miro.medium.com/v2/resize:fit:792/format:webp/1*wFdiFaV5xutMRqExCgzvaQ.png"/></div></figure><p id="02a9" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">通过两个变量嵌套分组的竖线:</p><pre class="jn jo jp jq fd jr js jt ju aw jv bi"><span id="b022" class="jw jx hh js b fi jy jz l ka kb">sns.barplot(data=d,x="island",y="body_mass_g",hue = "sex")</span></pre><figure class="jn jo jp jq fd ii er es paragraph-image"><div class="er es lf"><img src="../Images/6c5ff530c15fd31366727504030d42d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:792/format:webp/1*yD_JxiG7uFArsH4x9Bb1Yg.png"/></div></figure><p id="0581" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">作为集中趋势估计值的中位数:</p><pre class="jn jo jp jq fd jr js jt ju aw jv bi"><span id="c358" class="jw jx hh js b fi jy jz l ka kb"><strong class="js hi">from</strong> <strong class="js hi">numpy</strong> <strong class="js hi">import</strong> median<br/>sns.barplot(data=d,x="species",y="flipper_length_mm",estimator=median)</span></pre><figure class="jn jo jp jq fd ii er es paragraph-image"><div class="er es ll"><img src="../Images/07f8c27b6e17b435f9286a9277d28034.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*dVA4kQuifI3IaK6UwV69rQ.png"/></div></figure><p id="7c04" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">观察值的标准偏差，而不是置信区间:</p><pre class="jn jo jp jq fd jr js jt ju aw jv bi"><span id="cde8" class="jw jx hh js b fi jy jz l ka kb">sns.barplot(data=d,x="species",y="flipper_length_mm",ci="sd")</span></pre><figure class="jn jo jp jq fd ii er es paragraph-image"><div class="er es ll"><img src="../Images/02fa0f1e49b5c8ec9dbbccbe122b41de.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*PKp7hI1yZzkCMK-P0sZbxA.png"/></div></figure><p id="57a0" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">谢谢大家！</p></div></div>    
</body>
</html>