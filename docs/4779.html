<html>
<head>
<title>Simple Application to summarize data using GPT-3 openai model</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用GPT-3 openai模型汇总数据的简单应用程序</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/simple-application-to-summarize-data-using-gpt-3-openai-model-37e6423a4b1c?source=collection_archive---------1-----------------------#2022-02-11">https://medium.com/analytics-vidhya/simple-application-to-summarize-data-using-gpt-3-openai-model-37e6423a4b1c?source=collection_archive---------1-----------------------#2022-02-11</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><h1 id="4784" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">让我们构建一个强大的应用程序，使用GPT-3 openai模型来汇总数据</h1><h1 id="4ed2" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">需要什么</h1><ul class=""><li id="02a4" class="jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt bi translated">首先去—<a class="ae ju" href="https://beta.openai.com/" rel="noopener ugc nofollow" target="_blank">https://beta.openai.com/</a>注册一个试用账户</li><li id="c280" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">如果您的组织有一个帐户，然后注册该帐户</li><li id="48e4" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">创建新的API密钥</li><li id="9d09" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">在上面的网站的右上方点击你的名字，然后点击API键</li><li id="f350" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">然后创建一个新的密钥来使用</li><li id="17bd" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">请确保在完成教程后删除密钥</li><li id="8f0a" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">转到文档并查看完成情况</li><li id="997b" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">我们将使用完井api</li><li id="6dc8" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">还需要Azure帐户和power平台许可证</li></ul><h1 id="590d" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">创建一个强大的应用程序</h1><ul class=""><li id="116d" class="jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt bi translated">要创建一个电力应用程序，首先需要创建一个电力流</li><li id="21c3" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">流由powerapp触发器调用</li><li id="f803" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">文本信息将被传递给流</li></ul><h1 id="45d6" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">能流</h1><ul class=""><li id="6fad" class="jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt bi translated">让我们创造一个能量流</li><li id="03ca" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">在power apps的左侧菜单中，单击“流量”</li><li id="f04c" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">https://make.preview.powerapps.com/<a class="ae ju" href="https://make.preview.powerapps.com/" rel="noopener ugc nofollow" target="_blank"/></li><li id="91f1" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">点击流程</li><li id="9c5f" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">单击新流程</li><li id="e9a8" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">将其命名为getsummary</li><li id="5217" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">这是整个流程</li></ul><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es ka"><img src="../Images/49d9cca59a62035a60fe3959173254e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ls9GWGBvRvRr8OXM.jpg"/></div></div></figure><ul class=""><li id="cd5d" class="jc jd hh je b jf km jh kn jj ko jl kp jn kq jp jq jr js jt bi translated">首先添加触发器作为电源应用程序</li><li id="d595" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">然后初始化一个变量</li></ul><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es kr"><img src="../Images/395b5e9439d57d0a969054551057f768.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*kyonZkOXCvwJ86Ok.jpg"/></div></div></figure><ul class=""><li id="9406" class="jc jd hh je b jf km jh kn jj ko jl kp jn kq jp jq jr js jt bi translated">对于从高级应用程序分配的值</li><li id="5676" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">它将接受输入值并赋给名为prompt的变量</li><li id="af86" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">现在，让我们将数据发送到openai API，以使用GPT-3的达芬奇模型</li><li id="77e5" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">首先带来HTTP操作</li><li id="376a" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">然后选择“发布”动作</li><li id="e35d" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">这是网址</li></ul><pre class="kb kc kd ke fd ks kt ku kv aw kw bi"><span id="b155" class="kx if hh kt b fi ky kz l la lb"><a class="ae ju" href="https://api.openai.com/v1/engines/davinci-msft/completions" rel="noopener ugc nofollow" target="_blank">https://api.openai.com/v1/engines/davinci-msft/completions</a></span></pre><ul class=""><li id="8a02" class="jc jd hh je b jf km jh kn jj ko jl kp jn kq jp jq jr js jt bi translated">注意，我们需要内容类型作为应用程序/json</li><li id="ca4e" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">还需要授权为不记名<your_api_key/></li><li id="436b" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">这是尸体</li></ul><pre class="kb kc kd ke fd ks kt ku kv aw kw bi"><span id="5b81" class="kx if hh kt b fi ky kz l la lb">{<br/>  "prompt": @{triggerBody()['Initializevariable_Value']},<br/>  "temperature": 0.5,<br/>  "max_tokens": 100,<br/>  "top_p": 1,<br/>  "frequency_penalty": 0.2,<br/>  "presence_penalty": 0,<br/>  "stop": [<br/>    "\"\"\""<br/>  ]<br/>}</span></pre><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es lc"><img src="../Images/97ac678f74942b6fd2b29137c2959a0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*-KJgGwFR-CLQSTlH.jpg"/></div></div></figure><ul class=""><li id="dc85" class="jc jd hh je b jf km jh kn jj ko jl kp jn kq jp jq jr js jt bi translated">确保prompt属性被替换为变量prompt的值，如上所示</li><li id="abe1" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">接下来，我们需要解析上面HTTP输出的响应</li></ul><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es ld"><img src="../Images/6c3a72bd851367d4ed35ffe3ce4f0c37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Zq-0jBeTL4JfcuPt.jpg"/></div></div></figure><ul class=""><li id="bc37" class="jc jd hh je b jf km jh kn jj ko jl kp jn kq jp jq jr js jt bi translated">现在我们需要提供一个样本文档来解析JSON模式</li></ul><pre class="kb kc kd ke fd ks kt ku kv aw kw bi"><span id="0565" class="kx if hh kt b fi ky kz l la lb">{<br/>  "id": "cmpl-xxxxxxxxxxx",<br/>  "object": "text_completion",<br/>  "created": 1640707195,<br/>  "model": "davinci:2020-05-03",<br/>  "choices": [<br/>    {<br/>      "text": " really bright. You can see it in the sky at night.\nJupiter is the third brightest thing in the sky, after the Moon and Venus.\n",<br/>      "index": 0,<br/>      "logprobs": null,<br/>      "finish_reason": "stop"<br/>    }<br/>  ]<br/>}</span></pre><ul class=""><li id="ed52" class="jc jd hh je b jf km jh kn jj ko jl kp jn kq jp jq jr js jt bi translated">从示例生成的架构</li></ul><pre class="kb kc kd ke fd ks kt ku kv aw kw bi"><span id="8c18" class="kx if hh kt b fi ky kz l la lb">{<br/>    "type": "object",<br/>    "properties": {<br/>        "id": {<br/>            "type": "string"<br/>        },<br/>        "object": {<br/>            "type": "string"<br/>        },<br/>        "created": {<br/>            "type": "integer"<br/>        },<br/>        "model": {<br/>            "type": "string"<br/>        },<br/>        "choices": {<br/>            "type": "array",<br/>            "items": {<br/>                "type": "object",<br/>                "properties": {<br/>                    "text": {<br/>                        "type": "string"<br/>                    },<br/>                    "index": {<br/>                        "type": "integer"<br/>                    },<br/>                    "logprobs": {},<br/>                    "finish_reason": {<br/>                        "type": "string"<br/>                    }<br/>                },<br/>                "required": [<br/>                    "text",<br/>                    "index",<br/>                    "logprobs",<br/>                    "finish_reason"<br/>                ]<br/>            }<br/>        }<br/>    }<br/>}</span></pre><ul class=""><li id="4197" class="jc jd hh je b jf km jh kn jj ko jl kp jn kq jp jq jr js jt bi translated">初始化一个名为outsummary的变量</li></ul><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es le"><img src="../Images/537bcfe4a66270ab0b1b80cbfea26296.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*WMQuCTeecbyLwf1T.jpg"/></div></div></figure><ul class=""><li id="048f" class="jc jd hh je b jf km jh kn jj ko jl kp jn kq jp jq jr js jt bi translated">选择字符串类型</li><li id="90ec" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">解析之后，我们需要循环数组并将文本赋给变量</li><li id="341b" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">将应用于每个动作</li><li id="3ab0" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">选择选项作为数组属性</li><li id="ead8" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">现在带来集合变量动作</li><li id="42e4" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">将currentitem赋给变量outsummary</li></ul><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es lf"><img src="../Images/79b9b8f8c428ae13f615897a1f2ad02d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*MGquuq3q8hHTLmy6.jpg"/></div></div></figure><ul class=""><li id="2552" class="jc jd hh je b jf km jh kn jj ko jl kp jn kq jp jq jr js jt bi translated">下一步添加对电源应用程序的响应</li><li id="2c6e" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">将超出的摘要作为响应发送回Power Apps</li></ul><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es ld"><img src="../Images/2149d822f24f88fa1f8fc47151cfd16b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*-GF82F_0-Rhk63to.jpg"/></div></div></figure><ul class=""><li id="70a4" class="jc jd hh je b jf km jh kn jj ko jl kp jn kq jp jq jr js jt bi translated">保存流量</li><li id="a44a" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">通过传递示例文本进行手动测试</li><li id="b722" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">如果成功了，你就可以开始心流了</li></ul><h1 id="468f" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">高级应用程序</h1><ul class=""><li id="040d" class="jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt bi translated">现在让我们创建一个强大的应用程序</li><li id="4af2" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">这只是一个简单的应用程序</li><li id="69f7" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">我正在创建一个画布应用程序</li><li id="84b3" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">将应用程序命名为:OpenAPITest</li></ul><pre class="kb kc kd ke fd ks kt ku kv aw kw bi"><span id="f356" class="kx if hh kt b fi ky kz l la lb">Note: this process can be applied to any HTTP REST enabled actions needed to be invoked by Power Apps</span></pre><ul class=""><li id="13b5" class="jc jd hh je b jf km jh kn jj ko jl kp jn kq jp jq jr js jt bi translated">现在我们需要创建一个画布</li><li id="e686" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">▲文本输入框</li><li id="3cf9" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">添加默认文本作为提示</li></ul><pre class="kb kc kd ke fd ks kt ku kv aw kw bi"><span id="31ea" class="kx if hh kt b fi ky kz l la lb">My second grader asked me what this passage means:\n\"\"\"\nJupiter is the fifth planet from the Sun and the largest in the Solar System. It is a gas giant with a mass one-thousandth that of the Sun, but two-and-a-half times that of all the other planets in the Solar System combined. Jupiter is one of the brightest objects visible to the naked eye in the night sky, and has been known to ancient civilizations since before recorded history. It is named after the Roman god Jupiter.[19] When viewed from Earth, Jupiter can be bright enough for its reflected light to cast visible shadows,[20] and is on average the third-brightest natural object in the night sky after the Moon and Venus.\n\"\"\"\nI rephrased it for him, in plain language a second grader can understand:\n\"\"\"\nJupiter is the fifth planet from the Sun. It is a big ball of gas. It is really bright, and you can see it in the sky at night. The ancient people named it after the Roman god Jupiter.\nJupiter is really big. It is bigger than all of the other planets in the Solar System combined. Jupiter is so big that if you could fit all of the other planets inside of Jupiter, you could still see Jupiter shining in the night sky!\nJupiter is</span></pre><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es lg"><img src="../Images/9be36ead2d0c628bcff5b41b266178ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Q2Hz2Jk3NP3-8S_z.jpg"/></div></div></figure><ul class=""><li id="c99c" class="jc jd hh je b jf km jh kn jj ko jl kp jn kq jp jq jr js jt bi translated">现在添加一个按钮</li><li id="cbe7" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">调用流并将返回值赋给变量</li></ul><pre class="kb kc kd ke fd ks kt ku kv aw kw bi"><span id="0e98" class="kx if hh kt b fi ky kz l la lb">Set(summarytext,getsummary.Run(TextInput1.Text))</span></pre><ul class=""><li id="7173" class="jc jd hh je b jf km jh kn jj ko jl kp jn kq jp jq jr js jt bi translated">在选择中应用上述公式。</li><li id="f814" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">getsummary是流的名称，我们将参数作为textinput1.text传递</li><li id="6e23" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">现在让我们添加一个文本标签作为label1</li><li id="21bb" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">将text属性分配给summarytext.summarytext</li><li id="0f5d" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">summarytext是流中设置的输出属性</li></ul><pre class="kb kc kd ke fd ks kt ku kv aw kw bi"><span id="37d3" class="kx if hh kt b fi ky kz l la lb">summarytext.summarytext</span></pre><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es lh"><img src="../Images/e5556eaed735ac9d1b74b3aff99fe80c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*jkgX6GWyQS9U4Qvk.jpg"/></div></div></figure><ul class=""><li id="4db6" class="jc jd hh je b jf km jh kn jj ko jl kp jn kq jp jq jr js jt bi translated">保存画布应用程序</li><li id="e49a" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">运行应用程序并测试它</li><li id="55f1" class="jc jd hh je b jf jv jh jw jj jx jl jy jn jz jp jq jr js jt bi translated">下面应该是输出</li></ul></div><div class="ab cl li lj go lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="ha hb hc hd he"><p id="06d3" class="pw-post-body-paragraph lp lq hh je b jf km lr ls jh kn lt lu jj lv lw lx jl ly lz ma jn mb mc md jp ha bi translated"><em class="me">最初发表于</em><a class="ae ju" href="https://github.com/balakreshnan/Samples2022/blob/main/PowerPlatform/openaigpt3.md" rel="noopener ugc nofollow" target="_blank"><em class="me">【https://github.com】</em></a><em class="me">。</em></p></div></div>    
</body>
</html>