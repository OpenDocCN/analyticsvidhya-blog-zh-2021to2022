<html>
<head>
<title>Build your first Data Science app with Streamlit in 5 lines of code.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用5行代码用Streamlit构建您的第一个数据科学应用程序。</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/build-your-first-data-science-app-with-streamlit-in-5-lines-of-code-26ed1f73e1fe?source=collection_archive---------7-----------------------#2021-04-22">https://medium.com/analytics-vidhya/build-your-first-data-science-app-with-streamlit-in-5-lines-of-code-26ed1f73e1fe?source=collection_archive---------7-----------------------#2021-04-22</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/7061a28b6c87abc86d3feb60e433fbaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G7ouh9d0p0TjCpk4NgucGA.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">用5行代码构建这个应用程序！</figcaption></figure><p id="3e8e" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">作为一名数据科学家，我一直在评估新的工具和技术来改进我的工作流程。作为一名软件工程师，我开始了我的职业生涯，我对安装程序和设置环境感到很舒服。我最大的挑战之一一直是，“我如何以一种快速简单的方式展示我工作中的洞察力？”</p><p id="6544" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">Jupyter笔记本易于使用，但最终用户无法获得除所提供内容之外的任何其他信息。<a class="ae jr" href="https://plotly.com/dash/" rel="noopener ugc nofollow" target="_blank"> Plotly Dash </a>制作了漂亮的仪表盘和应用程序，但它需要对回调、风格化和容器有更多的理解，这超出了我对原型制作或快速分享见解的真正需求。最近，我开始使用<a class="ae jr" href="http://streamlit.io" rel="noopener ugc nofollow" target="_blank"> Streamlit </a>，它让快速分享见解变得很容易。</p><h1 id="77b5" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">为什么使用Streamlit？</h1><p id="959a" class="pw-post-body-paragraph it iu hh iv b iw kq iy iz ja kr jc jd je ks jg jh ji kt jk jl jm ku jo jp jq ha bi translated">Streamlit由一群数据科学家创建。这有什么关系？如果有人知道数据科学家的挣扎，那就是数据科学家。Streamlit使我能够专注于获得我想要分享的见解和功能，而不会陷入应用程序/仪表板开发中。</p><h1 id="13ac" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">什么是Streamlit？</h1><p id="2deb" class="pw-post-body-paragraph it iu hh iv b iw kq iy iz ja kr jc jd je ks jg jh ji kt jk jl jm ku jo jp jq ha bi translated">根据他们的网站，Streamlit是一个面向机器学习和数据科学团队的开源应用框架。Streamlit提供了一种简单的方法，可以在几个小时内构建应用程序，这些应用程序可以在本地运行和共享，由私人托管，或通过他们的平台发布。通过运行以下命令，可以在python中通过<code class="du kv kw kx ky b">pip</code>安装Streamlit:</p><p id="34f8" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><code class="du kv kw kx ky b">pip install streamlit</code></p><p id="0cf0" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">几分钟后，您就可以安装并使用Streamlit了。</p><h1 id="b5d1" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">我们来建个app吧！</h1><p id="53c5" class="pw-post-body-paragraph it iu hh iv b iw kq iy iz ja kr jc jd je ks jg jh ji kt jk jl jm ku jo jp jq ha bi translated">为了展示构建一个应用程序是多么容易，我将用几行代码(几分钟)构建一个全功能的Streamlit应用程序。让我们一起来建造它！</p><p id="5a12" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">对于这个项目，我们将建立一个视觉塔斯马尼亚的“服务塔斯马尼亚”的位置。该应用程序将在地图上为他们的位置点组成。这个数据集是免费的，包含城市名称、地址、经度和纬度等等。出于我们的目的，我们将关注这个数据集中的纬度和经度。</p><p id="a64b" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">首先，让我们确保已经安装了我们需要的包</p><pre class="kz la lb lc fd ld ky le lf aw lg bi"><span id="84f3" class="lh jt hh ky b fi li lj l lk ll"># Standard Imports<br/>import io<br/>import requests</span><span id="1892" class="lh jt hh ky b fi lm lj l lk ll"># Third-Party Imports<br/>import pandas as pd<br/>import streamlit as st</span></pre><p id="e4c0" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">如果你没有安装<code class="du kv kw kx ky b">pandas</code>，你可以像对Streamlit那样做<code class="du kv kw kx ky b">pip install pandas</code>。</p><p id="1230" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">让我们进入代码。我们想做的是从data.gov.au获取<a class="ae jr" href="https://data.gov.au/dataset/648d7a00-96bb-40b5-ad8e-5ca51f90f441/resource/b8e618b5-2ec4-46b7-a1ce-e1fafedce05f/download/stoshops.csv" rel="noopener ugc nofollow" target="_blank">服务塔斯马尼亚数据集</a>，并将其放入数据帧中。python模块<code class="du kv kw kx ky b">requests</code>将允许您发送HTTP请求，以便您可以从他们的网站获取csv文件。</p><pre class="kz la lb lc fd ld ky le lf aw lg bi"><span id="60f6" class="lh jt hh ky b fi li lj l lk ll">url="https://data.gov.au/dataset/648d7a00-96bb-40b5-ad8e-5ca51f90f441/resource/b8e618b5-2ec4-46b7-a1ce-e1fafedce05f/download/stoshops.csv"</span><span id="286e" class="lh jt hh ky b fi lm lj l lk ll">result=requests.get(url).content</span></pre><p id="54e8" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">这将返回以字节存储的csv内容。我们想把这些内容转换成一种格式来创建一个熊猫数据框架。我们将不得不使用utf-8对字节进行<code class="du kv kw kx ky b">decode</code>处理，流入信息并将其转换为数据帧，并将Latitude重命名为lat，将Longitude重命名为lon(或者，您可以将列名小写):</p><pre class="kz la lb lc fd ld ky le lf aw lg bi"><span id="75bd" class="lh jt hh ky b fi li lj l lk ll">df=pd.read_csv(io.StringIO(result.decode('utf-8'))).rename(columns = {"Latitude" : "lat", "Longitude": "lon"})</span></pre><p id="e895" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">现在神奇的事情发生了，我们想要创建地图并把这些点放在地图上。听起来工作量很大，但实际上只有一行！</p><pre class="kz la lb lc fd ld ky le lf aw lg bi"><span id="ba47" class="lh jt hh ky b fi li lj l lk ll">st.map(df)</span></pre><p id="1c03" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">将所有这些放在一起看起来像这样:</p><figure class="kz la lb lc fd ii"><div class="bz dy l di"><div class="ln lo l"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated">app.py</figcaption></figure><p id="b280" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">将此文件另存为<code class="du kv kw kx ky b">app.py</code>，这样我们就可以运行应用程序了。</p><h1 id="58cc" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">运行您的应用</h1><p id="04e2" class="pw-post-body-paragraph it iu hh iv b iw kq iy iz ja kr jc jd je ks jg jh ji kt jk jl jm ku jo jp jq ha bi translated">要运行您的应用程序，请导航至您保存文件的目录并键入</p><p id="b908" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><code class="du kv kw kx ky b">streamlit run app.py</code></p><figure class="kz la lb lc fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lp"><img src="../Images/413f014403bcd04c613475528e7014b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FJmJ09NhUe3qLHyZvztRyg.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">恭喜你！你做了你的第一个应用！</figcaption></figure><p id="ee2d" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">几秒钟后，您应该会看到您的浏览器打开，您的应用程序出现。在您的终端中，您应该注意到有两个链接:localhost(只能在您的计算机上访问)和network URL(只要您的防火墙允许，网络上的任何人都可以访问)。</p><p id="e2c2" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">就是这样！</p><h1 id="3039" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">回顾和后续步骤</h1><p id="965d" class="pw-post-body-paragraph it iu hh iv b iw kq iy iz ja kr jc jd je ks jg jh ji kt jk jl jm ku jo jp jq ha bi translated">Streamlit是一个强大的框架，允许您快速构建web应用程序来共享见解和更多内容，而不必关注大量的web开发。我们介绍了启动和运行项目的一些基础知识，但是您还可以做更多的事情，包括添加UI元素(按钮、复选框等)。)或者使用其他的包和绘图框架(plotly，matplotlib，seaborn等)。).还有很多东西要学，所以玩得开心点，继续探索吧！</p></div></div>    
</body>
</html>