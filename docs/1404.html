<html>
<head>
<title>Connecting Compute Engine with Cloud SQL on GCP</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在GCP上连接计算引擎和云SQL</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/connecting-compute-engine-with-cloud-sql-on-gcp-92644618801c?source=collection_archive---------8-----------------------#2021-02-28">https://medium.com/analytics-vidhya/connecting-compute-engine-with-cloud-sql-on-gcp-92644618801c?source=collection_archive---------8-----------------------#2021-02-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="0c70" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">计算引擎(Compute Engine)是谷歌在GCP(如你所知，谷歌云平台)上提供的计算基础设施。它允许用户根据自己的需求动态创建虚拟机。</p><p id="6597" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">云SQL是GCP上提供的托管关系存储，主要存储关系数据。</p><p id="8604" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这个项目中，我建立了两者之间的联系。</p><h2 id="f038" class="jd je hi bd jf jg jh ji jj jk jl jm jn iq jo jp jq iu jr js jt iy ju jv jw jx bi translated"><strong class="ak">可能需要这种连接的原因:</strong></h2><p id="0d10" class="pw-post-body-paragraph if ig hi ih b ii jy ik il im jz io ip iq ka is it iu kb iw ix iy kc ja jb jc hb bi translated">嗯，虽然同样的事情可能有很多原因，但我想探究所有这些原因的一个潜在点-</p><p id="2306" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">虚拟机是虚拟环境，我们可以在其中开发我们需要的不同项目。数据库是我们大多数应用程序的巨大需求，无论是网页、网站还是任何用途的任何应用程序，因为大多数应用程序都需要存储和管理数据。因此，将两者联系起来非常有帮助。</p><p id="b263" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">先决条件:</strong></p><ol class=""><li id="e02c" class="kd ke hi ih b ii ij im in iq kf iu kg iy kh jc ki kj kk kl bi translated">GCP账户</li><li id="a87d" class="kd ke hi ih b ii km im kn iq ko iu kp iy kq jc ki kj kk kl bi translated">对GCP控制台和SSH命令有一些初步了解将是一个优势。</li></ol><p id="3d27" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">步骤:</strong></p><p id="103a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在左侧菜单中，找到SQL并单击它。</p><figure class="ks kt ku kv fd kw er es paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="er es kr"><img src="../Images/62776fa35433532c54a033fd21c3ff47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JkTYkIaVGLj3EZhXaeCRkA.png"/></div></div></figure><p id="8506" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来单击创建实例，如下图所示:</p><figure class="ks kt ku kv fd kw er es paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="er es kr"><img src="../Images/34829448784f4d7a9892346a306f5724.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JOiZ3tWM9SIJx6RQNt8RCQ.png"/></div></div></figure><p id="6994" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后会出现如下页面，你必须从这个项目的选项中选择MySQL。</p><figure class="ks kt ku kv fd kw er es paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="er es kr"><img src="../Images/2e04a6fe966e0ee741344f1b7d70d79f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yKTrBTekP4vthyBxWc7P0A.png"/></div></div></figure><p id="39d3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，在下面出现的表格中填写“whatever”作为密码:</p><figure class="ks kt ku kv fd kw er es paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="er es kr"><img src="../Images/1d15ad632401f7971a3b486a0815b6fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pnTo8ejgBK_ZCBmmh4PX9g.png"/></div></div></figure><p id="c5e3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">并点击保存。</p><figure class="ks kt ku kv fd kw er es paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="er es kr"><img src="../Images/50b31a6746cd22b1f89b0a65bcad84c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UR6r6wQKwHdHXRvvhcW32w.png"/></div></div></figure><p id="5cff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，您必须从左侧的选项中选择概述。正如您在下面看到的，您必须从“连接到此实例”中选择“使用云外壳连接”。</p><figure class="ks kt ku kv fd kw er es paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="er es kr"><img src="../Images/f9f8674a805b7a6be79c2235f9c24750.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k168qx7v0SUnAn7AY7RYmg.png"/></div></div></figure><p id="0acf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将出现一个授权弹出窗口，接受它。</p><figure class="ks kt ku kv fd kw er es paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="er es kr"><img src="../Images/6fea7982f46bdb3a59b36ba5a1cf991a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rNwe95dMmwR9lTL0t4U4rw.png"/></div></div></figure><p id="16ce" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">几秒钟后，它会要求输入密码，给出密码，然后回车。然后你可以看到mysql的提示是可见的。您的下一个任务是复制粘贴并输入下面的代码:</p><p id="39e1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">创建数据库；</p><p id="943e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">(没理由选wordpress这个名字，随便取的，喜欢的话可以用别的词。)</p><figure class="ks kt ku kv fd kw er es paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="er es kr"><img src="../Images/a37b9200553dd0fa3ddc2f4f69a23494.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EdGv8iO6PzyOdy8-Eqf3yw.png"/></div></div></figure><p id="239c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，在下面的图片中输入代码:</p><figure class="ks kt ku kv fd kw er es paragraph-image"><div class="er es ld"><img src="../Images/f03bb475ca98520531680c541252fc62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1212/format:webp/1*Fzuup8RNYqL0YqX2XC21Vw.png"/></div></figure><figure class="ks kt ku kv fd kw er es paragraph-image"><div class="er es le"><img src="../Images/5fced8452c831df8bf224ff42bd30124.png" data-original-src="https://miro.medium.com/v2/resize:fit:1178/format:webp/1*M2q36T387Jbyx_yoExdDmQ.png"/></div></figure><figure class="ks kt ku kv fd kw er es paragraph-image"><div class="er es lf"><img src="../Images/d73828ae33a1507d2020148c10b44ad8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1102/format:webp/1*E5vIQbtcXCUcxX-GuTiIug.png"/></div></figure><p id="fbe0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下一个任务是创建一个计算引擎实例。从左侧菜单中选择计算引擎，然后创建一个新实例。</p><figure class="ks kt ku kv fd kw er es paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="er es kr"><img src="../Images/8646214fdc735d26c3be03d61d16c715.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*itOFuljPmoDJna5sW4mfPg.png"/></div></div></figure><figure class="ks kt ku kv fd kw er es paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="er es kr"><img src="../Images/a937252291c507a2ffbcd9ef3cea9d07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6TmNwQkHStXE1N23c9eWVA.png"/></div></div></figure><p id="8d4c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">点击创建。稍等几秒钟，实例就准备好了。然后对着它嘘。</p><figure class="ks kt ku kv fd kw er es paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="er es lg"><img src="../Images/c42b0e931800a6e34c05bd20fa2d5098.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_TvCP4N_mYJpkvRDFE16Yw.png"/></div></div></figure><p id="9335" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">复制您在上面看到的IP地址供以后使用。现在，输入下面的命令:</p><p id="e125" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">$sudo apt-get更新</p><p id="bb42" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">$sudo apt-get -y安装apache2默认-mysql-client php 7.0</p><p id="4d59" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，转到SQL连接选项卡，点击“添加网络”并复制粘贴我要求复制的IP地址。(如下所示)</p><figure class="ks kt ku kv fd kw er es paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="er es kr"><img src="../Images/67a3f3b5e90afcb713a912d4212e5766.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b5kwbLOCyhmFaC-Yzk3GOA.png"/></div></div></figure><p id="2089" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">转到Cloud SQL，复制粘贴您创建的SQL数据库的公共IP地址，如下所示。</p><figure class="ks kt ku kv fd kw er es paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="er es kr"><img src="../Images/dc63de5c1c2e717b06f08cb4ac955d44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vOiGzTzjfsT6eKtMbgMRgg.png"/></div></div></figure><p id="8b28" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">转到您的SSH实例，编写如下图所示的代码，在-h后面加上上面复制的IP地址。</p><figure class="ks kt ku kv fd kw er es paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="er es lh"><img src="../Images/45a0725c2fb5a691a627e456b0127ad8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wGdGXvLB9nl31glyh4vXhg.png"/></div></div></figure><p id="8e1b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后嘣！您在前面看到的正是您在其中创建数据库的MySQL提示符。</p><figure class="ks kt ku kv fd kw er es paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="er es li"><img src="../Images/8e46c95d1a96e2207008e910ec249543.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bpebZBxj-4eLLqO_pDb-4w.png"/></div></div></figure><p id="23a7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">不相信自己？没问题。</p><p id="563e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">键入SHOW DATABASES你自己检查一下。</p><figure class="ks kt ku kv fd kw er es paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="er es lj"><img src="../Images/95e4ce6f6a446c5bb0d13eeb5e7dc181.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wrbKimxYH9la2LZWdBuxrg.png"/></div></div></figure><p id="2203" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如你所看到的，数据库列表包含你在云SQL控制台中创建的wordpress。</p><p id="3530" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在是时候记住并删除您在计算引擎和云SQL上创建的实例了，这样您就不会产生任何不必要的费用。</p><p id="3327" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">谢谢你一直读到最后。下次见！</p></div></div>    
</body>
</html>