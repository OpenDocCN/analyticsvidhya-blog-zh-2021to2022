# 历代音乐

> 原文：<https://medium.com/analytics-vidhya/music-through-the-ages-b7acbfa9eb7c?source=collection_archive---------12----------------------->

一位数据极客对问题 ***“这些年来音乐品味有什么变化？”***

![](img/b70887efceb22b7e68408a1b189ca91c.png)

照片由[特拉维斯·耶韦尔](https://unsplash.com/@shutters_guild?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)在 [Unsplash](https://unsplash.com/@tanulmathur/likes?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上拍摄

我相信你们中的很多人在童年的某个时候都会和父母有过这样的对话“你在听什么声音？在《我们的日子》中，我们听的是真正的歌曲，有着优美的旋律和感人的曲调，而不是这种猴子拿着乐器发出的刺耳声音！”对我来说，这听起来总是像一个经典的概括，一个笼统的声明，比较几代人的音乐品味，而不考虑个人偏好的差异。作为代沟，我从来没有想过它，直到最近我听到了一些 2021 年的最新热门歌曲。我不禁想到，风水轮流转，我对今天的歌曲的看法和我父母对我的播放列表的看法一样。这让我想知道音乐趋势真的在改变吗？50 年前风靡一时的歌曲现在流行了吗？还是我们已经开始喜欢完全不同的歌曲了？

这个项目试图收集相关的证据(数据)并对其进行分析，以获得这些问题的答案。

# 工作流程

这是项目工作流程的快照-

![](img/c7ed73c9c976e4e4eb30d2789e0b6777.png)

为了创造一个没有偏见的流行音乐集，我决定使用公告牌年终热门 100 首美国单曲排行榜中的歌曲。这些排行榜非常理想，因为它们的排名是基于一整年的歌曲流行度，这是通过结合线下销售和播放时间来衡量的。此外，它从总体市场角度提供了一致的受欢迎程度参考，避免了任何个人观点/偏见。在从维基百科的页面上抓取了这个列表后，我使用曲目和艺术家的名字从 Spotify API 中提取音频特征，并创建了一个最终的数据集进行分析。

## Spotify 音频功能

与本分析最相关的一些 [Spotify 音频功能定义](https://developer.spotify.com/documentation/web-api/reference/#endpoint-get-audio-features)的快速上下文(使用官方网站上提到的定义) :

*   **声音度** —从 0.0 到 1.0 的音轨是否是声音的置信度度量。1.0 表示音轨是声学的高置信度。
*   **可跳舞性** —描述一首曲目在音乐元素组合的基础上适合跳舞的程度，包括速度、节奏稳定性、节拍强度和整体规律性。值 0.0 最不适合跳舞，1.0 最适合跳舞。
*   **能量** —能量是一个从 0.0 到 1.0 的度量，代表强度和活动的感知度量。通常，高能轨道感觉起来很快，很响，很嘈杂。例如，死亡金属具有高能量，而巴赫前奏曲在音阶上得分较低。对该属性有贡献的感知特征包括动态范围、感知响度、音色、开始速率和一般熵。
*   **效价** —一个从 0.0 到 1.0 的量度，描述一首曲目所传达的音乐积极性。高价曲目听起来更积极(例如，快乐、愉快、欣快)，而低价曲目听起来更消极(例如，悲伤、沮丧、愤怒)。
*   **响度** —音轨的整体响度，单位为分贝(dB)。响度值是整个轨道的平均值，可用于比较轨道的相对响度。响度是声音的质量，是与体力(振幅)相关的主要心理因素。值的典型范围在-60 和 0 db 之间。

这些特征对于分析非常有用，因为它们代表歌曲的固有特征，而不是代表单个流派。

现在我们已经讨论了技术细节，让我们深入数据集，看看我们能找到什么。如果你对数据提取是如何完成的感兴趣，你可以参考我的 [github repo。](https://github.com/tanul-mathur/music-through-the-ages)

# 数据探索

首先，让我们通过绘制直方图来查看数据集的汇总统计信息。

![](img/aba3517f037b1edc6f8841ce834c9585.png)

这很快让我们看到了关键的亮点-

*   化合价、声音、能量、舞蹈性、响度——这些似乎是传播最广的
*   大多数歌曲似乎偏向于更高的可舞性、活力
*   模式和工具性几乎没有显示任何传播。它们对我们这里的分析可能不是很有用
*   惊喜惊喜，器乐歌在百强中很少见

现在让我们将这些特征标准化，以便它们可以在相同的尺度上进行比较。

![](img/433d69449ba6b959f7b526898a303e4a.png)

标准化要素上的快速脏盒图可以非常清晰地显示数据集的整体特征。很少有亮点出现-

*   舞蹈、能量、响度绝对是关键主题，歌曲的分布似乎偏向更高的一边
*   类似地，在另一端，高度“演讲”或有声歌曲在前 100 名中也很少见
*   这些歌曲的情感范围似乎很广，从快乐到悲伤
*   一些特征在数据集上几乎没有变化，值得去掉——键、模式、工具性、活跃度、持续时间

现在我们已经了解了整个数据集，我们需要更深入地分析任何变化的模式。一种方法是使用上面的特征，并随时间逐个分析它们。然而，这将被证明是一种孤立的方法，专注于个人特色，而没有关注歌曲之间的互动或共同主题。另一种方法可以是将相似的歌曲分组，然后分析特征的变化，希望挖掘出一些潜在的主题。

# 使聚集

这就把我们带到了最流行的机器学习算法之一——K 均值聚类。非常简单，K-Means 是一种无监督学习算法，它使用数据点的邻近性(接近度)将它们分组到相似的簇中。最相关的聚类示例可能是网络系列、电影、电视节目、各种流媒体平台(如网飞、Prime Video 等)上的播客的类型分组。

## 脚尖倾斜

现在，即使有了执行聚类的强烈直觉，了解数据集是否真的有显示任何聚类的潜力也是很重要的。这可以通过在缩放数据集上计算“霍普金斯分数”来完成。本质上，这是检查数据集是否来自均匀分布。如果所得分数更接近 0，则表明数据不是均匀分布的，使用聚类技术对观察值进行分类是有价值的，如果分数更接近 0.5，则意味着数据集来自均匀分布，并且没有底层聚类。通常，小于 0.2 的值被认为是可接受的聚类值。[参考链接](https://pyclustertend.readthedocs.io/en/master/)供进一步阅读。代码看起来像下面这样简单-

【https://gist.github.com/ef84d0d09fc10284f89e186ea3b35cf0 号

对于这个前 100 首歌曲数据集，Hopkins 得分为 ***~0.176*** ，表明有集群等待被发现！

# 肘试验

但是有多少呢？在开始实现 K-Means 之前，我们仍然需要找出理想的聚类数。首先，让我们试试传统的“肘图”。在这种方法中，我们对一系列聚类数运行 K-means，并记录每个聚类数的类内距离平方和(WSSD)。接下来，我们将聚类数与它们各自的 WSSDs 相对照，希望找到一个弯曲点，使最佳聚类数显而易见。然而，每个有经验的数据科学家都知道，这种情况很少发生。

![](img/09586740d4dd8fec72e5d7a7178343dd.png)

似乎 3 个集群是未来的方向，但感觉不是很确定。我们可以看到，在 3 个集群之后，SSD 的减少是不值得的，但是 7 个集群呢？

# 聚类预测强度

为了寻找找到最佳聚类的另一种方法，我最终回到了教科书。安德烈·布尔科夫 100 页的 ML 书展示了一种有趣的 ML 方法来计算星团的预测强度。其概念是将数据集分成训练/测试，对它们进行聚类，然后比较在每个数据集上形成的聚类，以确定在训练和测试中标记为相同质心的点的百分比。推荐进一步阅读[书中的](http://themlbook.com/)。

我还在网上发现了这篇很棒的[文章](https://towardsdatascience.com/prediction-strength-a-simple-yet-relatively-unknown-way-to-evaluate-clustering-2e5eaf56643)，它用一个例子说明了这个概念。

深入计算预测强度已经超出了本文的范围。现在让我们继续，看看我们的数据集的预测强度是什么样的。

![](img/8e49f78436c931cd3f4cdc717315a597.png)

就在 3 个聚类点之后，预测强度下降到 60%,并且随着聚类数量的增加而进一步下降。因此表明直到 3 个聚类，对于> 90%的情况，质心标签在测试和训练组中是一致的，并且随着我们增加聚类，标签变得更加不一致，百分比下降到 60%以下。现在，这让我们有信心相信 3 个集群是最佳选择！

现在，让我们使用推荐的 k = 3 来实现 K-Means 并分析聚类。首先查看聚类的总体汇总统计，即特征空间中聚类中心的位置，每个聚类中的歌曲数量。

![](img/662d013e1310c8bccc408506d07f2aa5.png)

几乎一半的歌曲被标记为聚类“1”，接着是“0”和“2”。聚类中心看起来肯定很有趣，但很难在一张表上进行比较，让我们看看能否以不同的方式将它们可视化。

![](img/98ea599627037b0c7130311ee8d441aa.png)

这个极坐标图有助于透视星团，看起来像-

*   0 是能量/响度相对较高的中性歌曲——中性能量
*   1 是高能量/可舞性的快乐歌曲——快乐的舞蹈
*   2 是低能量/可跳舞性的柔和声学歌曲——柔和声学

当然，这只是基于聚类中心(均值)，让我们验证这些主题是否适用于整个数据集。

![](img/1371355601a6b0a1defd949539b7fa9f.png)

有意思！集群主题在不同的发行版中也绝对是一致的！

*   所有跨越声学和化合价行的图表清楚地区分了“快乐的舞蹈”和“柔和的声学”集群
*   尤其是声音与效价——“柔和的声音”歌曲集中在图表的右侧。而左上方的“快乐的舞蹈”则是低音高价。最后，左下方的“中性精力充沛”在这两个特征中都较低
*   内核密度图还提供了对“中性能量”集群的有益洞察，除了偏向中性悲伤情绪区之外，与“快乐舞蹈”歌曲相比，这些歌曲声音相对较大，能量相似，但可跳舞性较低
*   很难根据节奏和语速来区分集群，这些在整个集群中都是一致的

总的来说，我对集群的表现很满意。最后一次检查，看看这些年来集群的特性是如何保持的。因为我在聚类时已经故意排除了“年”作为一个特征，所以这应该不是什么大问题。

![](img/e087485c83328bfdad11123d9f8aaff9.png)

这些图表按聚类和时间显示各自特征均值的趋势。(我忽略了速度和语速，因为它们与聚类无关)为了更好地理解，让我们举一个例子，并关注左上角的图表，该图表按聚类和年份绘制声音的平均值。在这里，我们可以看到来自“软声学”聚类的歌曲明显高于其余聚类，这种情况在整个 50 年中都保持不变。在其他图表中也可以看到类似的趋势，各个聚类平均值始终保持不同。这些趋势有助于进一步验证多年来聚类的一致性。

好了，现在我们来回顾一下，我们已经创建了 50 年来前 100 首歌曲及其音频特征的数据集，确定了歌曲簇，定义了它们的主题，并根据整个数据集和整个时间对它们进行了验证。接下来是回答大问题的时候了。

# 在过去的 50 年里，音乐趋势发生了怎样的变化？

![](img/dbd3e0ae01c61c9067e98d433a0f5415.png)

瞧啊。随着时间的推移，音乐趋势已经发生了变化！

*   “中性活力”歌曲越来越受欢迎。从 20 世纪 70 年代只有 12%的歌曲进入前 100 名开始，这一类别已经成为 2010 年代最受欢迎的类别，拥有 57%的歌曲份额
*   “柔和的原声”歌曲已经失去了最受欢迎的程度。在 20 世纪 70 年代，他们是粉丝的最爱，拥有 37%的份额，现在已经下降到 2010 年代的 12%
*   《快乐的舞蹈》的歌曲在 2000 年之前似乎是一个永恒的流行类别，但在 2010 年，它们的份额甚至下降到只有 31%

贯穿星团和时间的一个潜在主题是，我们喜欢充满活力的舞曲。歌曲的情感梯度可能已经从过去几年的快乐音符转移到更中性的音调，但在整个 50 年里，我们一直喜欢一首让我们陷入最佳状态的歌曲！

# 结论

这就把我们带到了这个项目的最后。在这里，我使用了网络抓取、Spotify API 的音频功能和 K-means 聚类算法来展示音乐品味在过去 50 年中确实发生了变化。虽然可跳舞和充满活力的歌曲的流行程度没有发生根本性的变化(它们仍然是永恒的最爱)，但情感梯度无疑已经从“快乐”转移到更“中性”的音符。希望这个项目展示了我们如何使用/提取相关数据、开源库和机器学习来回答看似抽象的问题。

# 后续步骤

还有几个更有趣的领域，我想进一步扩展这个项目-

1.  扩大覆盖范围，包括(a) 1945 年，(b)英国、印度等其他市场的歌曲。
2.  添加音频数据的其他维度，如流派、歌词、使用的主要乐器等。
3.  这将是伟大的获得销售信息周围的个人专辑，给深度流行超越公告牌排行榜
4.  让用户上传他们喜欢的歌曲并预测他们年龄范围的网络应用程序
5.  允许用户创建任何一年的 Billboard 前 100 首歌曲的 Spotify 播放列表的网络应用程序

# 音乐穿越时代应用程序

[🎶](https://share.streamlit.io/tanul-mathur/music-through-the-ages/AppFinal.py)

想玩玩数据集吗？想知道哪位艺术家的点击率最高？剧透警告这不是平克·弗洛伊德！威肯在吗？等等，什么-关于披头士？？前往 [Streamlit 应用](https://share.streamlit.io/tanul-mathur/music-through-the-ages/AppFinal.py)，探索你最喜欢的艺术家在 100 强中的位置，以及他们的歌曲是如何演变的！

感谢阅读。希望你玩得开心，我真的很开心。😃