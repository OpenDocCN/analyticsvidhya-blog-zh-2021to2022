<html>
<head>
<title>Playing the generator game</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">玩发电机游戏</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/playing-the-generator-game-8a3c22987722?source=collection_archive---------14-----------------------#2021-03-26">https://medium.com/analytics-vidhya/playing-the-generator-game-8a3c22987722?source=collection_archive---------14-----------------------#2021-03-26</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="33d5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">不久前，我写了一篇文章</p><div class="jc jd ez fb je jf"><a href="https://dev.to/satylogin/how-i-misunderstood-lombok-1k44" rel="noopener  ugc nofollow" target="_blank"><div class="jg ab dw"><div class="jh ab ji cl cj jj"><h2 class="bd hi fi z dy jk ea eb jl ed ef hg bi translated">我是如何误解龙目岛的</h2><div class="jm l"><h3 class="bd b fi z dy jk ea eb jl ed ef dx translated">我当时正在做一个项目，我写了一些代码，我希望能很好地工作。</h3></div><div class="jn l"><p class="bd b fp z dy jk ea eb jl ed ef dx translated">开发到</p></div></div></div></a></div><p id="71df" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">所以这一次，我不想犯同样的错误，这让我们回到这个帖子。</p><p id="1af9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">先给熟悉<code class="du jo jp jq jr b">lombok</code>和<code class="du jo jp jq jr b">dependency injection</code>的人做一个简单的练习。您认为下面的代码块应该生成什么样的代码</p><figure class="js jt ju jv fd jw"><div class="bz dy l di"><div class="jx jy l"/></div></figure><p id="8787" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我想大多数人会猜测(看过lombok生成的代码的人)这将转化为</p><figure class="js jt ju jv fd jw"><div class="bz dy l di"><div class="jx jy l"/></div></figure><p id="96b5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">但是如果是这样的话，我们就不会在这里了，不是吗……<br/>所以让我们看看它实际上会产生什么</p><figure class="js jt ju jv fd jw"><div class="bz dy l di"><div class="jx jy l"/></div></figure><p id="5bc3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">但奇怪的是，我可以清楚地看到我已经用@Named注释了我的字段，如果在依赖项注入期间没有名称发现，那么它如何找到要注入的正确依赖项呢？</p><p id="1ad5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">事实证明，lombok并不尊重所有的注释，因为实现这种行为太复杂了。你可以通过github问题了解详情<a class="ae jz" href="https://github.com/rzwitserloot/lombok/issues/1634" rel="noopener ugc nofollow" target="_blank">1</a>T7】2</p><p id="aab1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">所以现在我们知道这是事实，问题是如何解决这个问题。</p><ol class=""><li id="3190" class="ka kb hh ig b ih ii il im ip kc it kd ix ke jb kf kg kh ki bi translated">在lombok的新版本中，可以在<code class="du jo jp jq jr b">lombok.config</code>文件中添加<code class="du jo jp jq jr b">lombok.copyableAnnotations += com.google.inject.name.Named</code>，lombok会在生成构造函数时尝试复制它们。</li><li id="0fd1" class="ka kb hh ig b ih kj il kk ip kl it km ix kn jb kf kg kh ki bi translated">使用我们老式的基于构造函数的注入和编写</li></ol><figure class="js jt ju jv fd jw"><div class="bz dy l di"><div class="jx jy l"/></div></figure><p id="c725" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我更喜欢2，因为有几个原因</p><ol class=""><li id="5068" class="ka kb hh ig b ih ii il im ip kc it kd ix ke jb kf kg kh ki bi translated">在lombok.config中放一个conf来决定复制什么隐藏了太多的信息，坦白地说，这只是一个等待发生的意外，当有人看到这个代码样本并试图复制它时，它以某种方式工作，因为没有冲突。</li><li id="830b" class="ka kb hh ig b ih kj il kk ip kl it km ix kn jb kf kg kh ki bi translated">它只复制已经为它们实现了copyable的注释，所以万一我们遇到不可复制的东西，我们还是要实现2。</li><li id="eef9" class="ka kb hh ig b ih kj il kk ip kl it km ix kn jb kf kg kh ki bi translated">我喜欢第二种，因为它更具表达性，我喜欢编写更具表达性的代码，因为最终我们是为人类编写它们，如果我们不隐藏太多东西并保持简单，以便阅读代码的人可以更多地关注业务逻辑，而不是花时间理解他们的注入为什么或为什么不工作，那会更好。</li></ol></div><div class="ab cl ko kp go kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="ha hb hc hd he"><p id="c247" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="kv">原载于2021年3月26日</em><a class="ae jz" href="https://dev.to/satylogin/playing-the-generator-game-2bk4" rel="noopener ugc nofollow" target="_blank"><em class="kv">https://dev . to</em></a><em class="kv">。</em></p></div></div>    
</body>
</html>