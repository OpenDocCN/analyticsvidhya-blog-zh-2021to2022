<html>
<head>
<title>Twitter Sentiment Analysis from scratch</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从零开始的Twitter情感分析</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/twitter-sentiment-analysis-from-scratch-9ad93b72a83d?source=collection_archive---------7-----------------------#2021-04-23">https://medium.com/analytics-vidhya/twitter-sentiment-analysis-from-scratch-9ad93b72a83d?source=collection_archive---------7-----------------------#2021-04-23</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/79f050733d12bcc83ce13aaceff626cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pqPmYQLNFGwldjEokOd_HA.jpeg"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">图片来源:Unsplash</figcaption></figure><p id="5de6" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">有一句非常著名的话叫做<strong class="iv hi">“笔锋胜于武力”</strong>。这是真的，因为你的话可以让某人开心，也可以毁了它。所以，明智地选择你的用词总是明智的。但在当今的社交媒体世界，人们不假思索地说出自己的心声。因此，在这篇文章中，我们将看到人们在这些社交媒体平台上可以有多积极或消极。</p></div><div class="ab cl jr js go jt" role="separator"><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw"/></div><div class="ha hb hc hd he"><p id="b28f" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">问题陈述</strong></p><ul class=""><li id="74e3" class="jy jz hh iv b iw ix ja jb je ka ji kb jm kc jq kd ke kf kg bi translated">我们将回顾twitter的数据，找出这个平台上人们的情绪。</li><li id="943a" class="jy jz hh iv b iw kh ja ki je kj ji kk jm kl jq kd ke kf kg bi translated">我们将训练一个模型，它将一个人的推文作为输入，并告诉我们它是积极的还是消极的。</li></ul></div><div class="ab cl jr js go jt" role="separator"><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw"/></div><div class="ha hb hc hd he"><p id="0916" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">数据集</strong></p><ul class=""><li id="93c4" class="jy jz hh iv b iw ix ja jb je ka ji kb jm kc jq kd ke kf kg bi translated">我们将使用<a class="ae km" href="https://www.kaggle.com/kazanova/sentiment140" rel="noopener ugc nofollow" target="_blank"> Kaggle数据集</a>进行分析。这个数据集包含160万条推文，以及正面或负面的目标标签。每个类包含80万个示例</li></ul><figure class="ko kp kq kr fd ii er es paragraph-image"><div class="er es kn"><img src="../Images/05529e8e661a1e48f7e76434a4c41354.png" data-original-src="https://miro.medium.com/v2/resize:fit:1022/format:webp/1*_dSSSQ24Fb9cLLN4ZrKs4w.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated">包含推文和目标的数据</figcaption></figure></div><div class="ab cl jr js go jt" role="separator"><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw"/></div><div class="ha hb hc hd he"><h1 id="9b63" class="ks kt hh bd ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated"><strong class="ak">推文预处理</strong></h1><ul class=""><li id="b93f" class="jy jz hh iv b iw lq ja lr je ls ji lt jm lu jq kd ke kf kg bi translated">预处理是任何机器学习管道中非常重要的一部分。在我们的数据中，我们有很多对我们的模型没有任何价值的信息，所以我们将一个一个地处理它。我们将对数据执行以下预处理步骤:</li></ul><ol class=""><li id="fd60" class="jy jz hh iv b iw ix ja jb je ka ji kb jm kc jq lv ke kf kg bi translated">删除我们文本中的任何电子邮件id。</li><li id="2de8" class="jy jz hh iv b iw kh ja ki je kj ji kk jm kl jq lv ke kf kg bi translated">从我们的推文中删除所有标签和提及(例如<a class="lw lx ge" href="https://medium.com/u/e4f0c7250996?source=post_page-----9ad93b72a83d--------------------------------" rel="noopener" target="_blank"> Arpan Srivastava </a>)。</li><li id="e225" class="jy jz hh iv b iw kh ja ki je kj ji kk jm kl jq lv ke kf kg bi translated">删除我们推文中的任何标点符号。</li><li id="d4f0" class="jy jz hh iv b iw kh ja ki je kj ji kk jm kl jq lv ke kf kg bi translated">从我们的推文中删除数字。</li></ol><p id="4e86" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">完成以上步骤后，我们完成了50%的清洁工作。现在，我们将执行预处理的第二部分，并了解与NLP相关的概念。</p><p id="0026" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">删除停用词</strong></p><ul class=""><li id="ca1c" class="jy jz hh iv b iw ix ja jb je ka ji kb jm kc jq kd ke kf kg bi translated">停用词指的是一种语言中最常见的词。在英语中，这些词有["have "、" they "、" our "、" is"]等。这些词在我们的分析中没有多大作用，因为它们主要出现在负面和正面的推文中。</li><li id="6827" class="jy jz hh iv b iw kh ja ki je kj ji kk jm kl jq kd ke kf kg bi translated">我们将使用nltk库从我们的tweets列表中删除这些停用词。</li></ul><p id="6a1f" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">词干和小写</strong></p><ul class=""><li id="af6c" class="jy jz hh iv b iw ix ja jb je ka ji kb jm kc jq kd ke kf kg bi translated">词干化是将每个单词缩减为其词根的过程。假设有3个词，调，调和调。所有的单词可能看起来不同，但它们都来自同一个单词“吞”。所以在词干分析中，我们所做的是用它们的词根替换这些单词。</li><li id="f569" class="jy jz hh iv b iw kh ja ki je kj ji kk jm kl jq kd ke kf kg bi translated">然后我们把所有的单词都转换成小写，这样在我们的分析中就不会把great、GREAT和Great当作不同的单词。</li></ul><h1 id="7efd" class="ks kt hh bd ku kv ly kx ky kz lz lb lc ld ma lf lg lh mb lj lk ll mc ln lo lp bi translated">数据的矢量化</h1><ul class=""><li id="750d" class="jy jz hh iv b iw lq ja lr je ls ji lt jm lu jq kd ke kf kg bi translated">现在，在执行了所有的预处理之后，我们得到了一个类似如下的数据集:</li></ul><figure class="ko kp kq kr fd ii er es paragraph-image"><div class="er es md"><img src="../Images/6f12406f0659133fb5dc63585a5318c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:660/format:webp/1*w1saa17d5FTTRP6CreBlXA.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated">预处理数据</figcaption></figure><ul class=""><li id="9605" class="jy jz hh iv b iw ix ja jb je ka ji kb jm kc jq kd ke kf kg bi translated">现在我们无法将这些文本数据输入到我们的机器学习模型中。因为机器只能理解数字而不能理解文本。所以我们将对上面的文本数据进行矢量化。</li><li id="2b0d" class="jy jz hh iv b iw kh ja ki je kj ji kk jm kl jq kd ke kf kg bi translated">我们能做的是使用我们数据中所有独特的单词创建一个词汇数组。</li><li id="13bb" class="jy jz hh iv b iw kh ja ki je kj ji kk jm kl jq kd ke kf kg bi translated">假设我们有三个例子</li></ul><ol class=""><li id="7bd3" class="jy jz hh iv b iw ix ja jb je ka ji kb jm kc jq lv ke kf kg bi translated">我喜欢编程。</li><li id="50bd" class="jy jz hh iv b iw kh ja ki je kj ji kk jm kl jq lv ke kf kg bi translated">编程是我喜欢的。</li><li id="e1d6" class="jy jz hh iv b iw kh ja ki je kj ji kk jm kl jq lv ke kf kg bi translated">编程很酷。</li></ol><ul class=""><li id="0e6c" class="jy jz hh iv b iw ix ja jb je ka ji kb jm kc jq kd ke kf kg bi translated">所以，如果我们用上面的三个句子创建一个词汇表，我们会得到一个类似这样的数组:["我"，"爱"，"编程"，"是"，"什么"，"酷"]</li><li id="7935" class="jy jz hh iv b iw kh ja ki je kj ji kk jm kl jq kd ke kf kg bi translated">现在我们将通过一个简单的技巧把我们的句子转换成向量。如果我们的词汇中有一个词存在于我们的句子中，我们会在那里放一个1，否则放0</li><li id="3e95" class="jy jz hh iv b iw kh ja ki je kj ji kk jm kl jq kd ke kf kg bi translated">因此，转换看起来会像这样:</li><li id="0591" class="jy jz hh iv b iw kh ja ki je kj ji kk jm kl jq kd ke kf kg bi translated">“我爱编程”-&gt; [1，1，1，0，0，0]</li><li id="c720" class="jy jz hh iv b iw kh ja ki je kj ji kk jm kl jq kd ke kf kg bi translated">“编程是我所热爱的”-&gt; [1，1，1，1，0]</li><li id="6c19" class="jy jz hh iv b iw kh ja ki je kj ji kk jm kl jq kd ke kf kg bi translated">“编程很酷”-&gt;[0，0，1，1，0，1]</li></ul><p id="5179" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">上述方法的问题</strong></p><ul class=""><li id="35e5" class="jy jz hh iv b iw ix ja jb je ka ji kb jm kc jq kd ke kf kg bi translated">上述方法将创建一个非常大的稀疏矩阵，我们的学习算法将因此变得缓慢。</li></ul></div><div class="ab cl jr js go jt" role="separator"><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw"/></div><div class="ha hb hc hd he"><p id="609e" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">更好的解决方案</strong></p><ul class=""><li id="881d" class="jy jz hh iv b iw ix ja jb je ka ji kb jm kc jq kd ke kf kg bi translated">在这种方法中，我们要做的是创建一个包含句子中所有独特单词的词汇表。</li><li id="5972" class="jy jz hh iv b iw kh ja ki je kj ji kk jm kl jq kd ke kf kg bi translated">获取所有正面推文的列表，并找出这些正面推文中每个词的频率。</li><li id="537e" class="jy jz hh iv b iw kh ja ki je kj ji kk jm kl jq kd ke kf kg bi translated">同样，我们得到所有的负面推文，并找出负面推文中所有词的频率。</li></ul><figure class="ko kp kq kr fd ii er es paragraph-image"><div class="er es me"><img src="../Images/2ab332271a97c555c518cab347f917e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:776/format:webp/1*T86ZKcvE-L0dgw-i5wEiHA.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated">肯定词和否定词的频率</figcaption></figure><ul class=""><li id="2aa4" class="jy jz hh iv b iw ix ja jb je ka ji kb jm kc jq kd ke kf kg bi translated">现在我们将使用一个简单的公式把我们的句子转换成向量。</li></ul><p id="d651" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">|V|=[1，正面推文的频率和，负面推文的频率和]</p><ul class=""><li id="635b" class="jy jz hh iv b iw ix ja jb je ka ji kb jm kc jq kd ke kf kg bi translated">让我们借助一个例子来理解我们的公式。</li><li id="c37b" class="jy jz hh iv b iw kh ja ki je kj ji kk jm kl jq kd ke kf kg bi translated">假设我们的句子是-&gt;‘我快乐学代码’。</li><li id="8bb2" class="jy jz hh iv b iw kh ja ki je kj ji kk jm kl jq kd ke kf kg bi translated">现在正面推文的频率总和= 3(I)+3(am)+2(快乐)+1(学习)+1(代码)=&gt;10</li><li id="a700" class="jy jz hh iv b iw kh ja ki je kj ji kk jm kl jq kd ke kf kg bi translated">类似地，负面推文的频率总和= 3(I)+3(am)+0(快乐)+1(学习)+1(代码)=&gt;8</li><li id="9c60" class="jy jz hh iv b iw kh ja ki je kj ji kk jm kl jq kd ke kf kg bi translated">所以最后我们的句子将被表示为[1，10，8]。</li><li id="82b1" class="jy jz hh iv b iw kh ja ki je kj ji kk jm kl jq kd ke kf kg bi translated">记住，首字母1代表偏差。</li><li id="8971" class="jy jz hh iv b iw kh ja ki je kj ji kk jm kl jq kd ke kf kg bi translated">我们现在可以把每个例子转换成向量。</li></ul><h1 id="0998" class="ks kt hh bd ku kv ly kx ky kz lz lb lc ld ma lf lg lh mb lj lk ll mc ln lo lp bi translated">训练我们的模型</h1><ul class=""><li id="986a" class="jy jz hh iv b iw lq ja lr je ls ji lt jm lu jq kd ke kf kg bi translated">由于现在这是一个二元分类问题，您可以简单地使用逻辑回归或任何其他二元分类算法来训练和测试您的模型。</li></ul><h1 id="6640" class="ks kt hh bd ku kv ly kx ky kz lz lb lc ld ma lf lg lh mb lj lk ll mc ln lo lp bi translated"><strong class="ak">代码演练</strong></h1><ul class=""><li id="fa32" class="jy jz hh iv b iw lq ja lr je ls ji lt jm lu jq kd ke kf kg bi translated">对于代码演练，你可以参考我在Kaggle上的笔记本<a class="ae km" href="https://www.kaggle.com/arpansri/sentiment-analysis" rel="noopener ugc nofollow" target="_blank"> Twitter情绪分析</a></li></ul><p id="b59b" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">到那时快乐学习！！</strong></p></div></div>    
</body>
</html>