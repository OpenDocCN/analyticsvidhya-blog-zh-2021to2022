<html>
<head>
<title>How to download Kaggle Datasets into Google Colab via Google Drive</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何通过Google Drive将Kaggle数据集下载到Google Colab</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/how-to-download-kaggle-datasets-into-google-colab-via-google-drive-dcb348d7af07?source=collection_archive---------2-----------------------#2021-01-17">https://medium.com/analytics-vidhya/how-to-download-kaggle-datasets-into-google-colab-via-google-drive-dcb348d7af07?source=collection_archive---------2-----------------------#2021-01-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/c56f00a2e625524b3895d54390c5709e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*T1bU_Glkb2dg8L4xamwZiQ.gif"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">Kaggle到Google Colab</figcaption></figure><p id="3ba5" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">每个数据科学和机器学习爱好者都听说过两个流行词<strong class="iw hj"> Kaggle </strong>和<strong class="iw hj"> Google Colab </strong>。让我把这些话介绍给新手。</p><ol class=""><li id="e7cb" class="js jt hi iw b ix iy jb jc jf ju jj jv jn jw jr jx jy jz ka bi translated"><strong class="iw hj"> Kaggle </strong>允许用户查找和发布数据集，在基于网络的数据科学环境中探索和构建模型，与其他数据科学家和机器学习工程师合作，并参加竞赛以解决数据科学挑战。</li><li id="8e37" class="js jt hi iw b ix kb jb kc jf kd jj ke jn kf jr jx jy jz ka bi translated">Colaboratory，简称“<strong class="iw hj"> Colab </strong>”，是谷歌研究院的产品。<strong class="iw hj"> Colab </strong>允许任何人通过浏览器编写和执行任意python代码，特别适合机器学习、数据分析和教育。</li></ol><p id="52f9" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">大多数新加入的人在将数据集从Kaggle下载到Google Colab时面临困难。我发现了通过Google Drive从Kaggle下载数据集到Colab的最简单的方法。Google Drive用于存储数据集，供Colab以后使用。让我们开始吧。</p></div><div class="ab cl kg kh gp ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="hb hc hd he hf"><p id="e392" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">请仔细遵循以下步骤，</p><h1 id="8e3f" class="kn ko hi bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">步骤1:创建您的Kaggle API令牌</h1><ul class=""><li id="1f36" class="js jt hi iw b ix ll jb lm jf ln jj lo jn lp jr lq jy jz ka bi translated">转到<strong class="iw hj">您的个人资料</strong>，点击<strong class="iw hj">编辑个人资料</strong>。</li><li id="7fa6" class="js jt hi iw b ix kb jb kc jf kd jj ke jn kf jr lq jy jz ka bi translated">滚动页面直到<strong class="iw hj"> API </strong>部分，并点击<strong class="iw hj">创建新的API令牌</strong>按钮</li></ul><figure class="ls lt lu lv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lr"><img src="../Images/503a64bda4cb24e5bf3fdd3c38d878ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4iwONEgO3JSecNpfRUl-Uw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">作者截图— Kaggle API部分</figcaption></figure><ul class=""><li id="a470" class="js jt hi iw b ix iy jb jc jf ju jj jv jn jw jr lq jy jz ka bi translated">将下载一个名为<strong class="iw hj"> kaggle.json </strong>的文件，其中包含您的用户名和令牌密钥</li></ul><h1 id="8ad9" class="kn ko hi bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">第二步:上传kaggle.json到Google Drive</h1><ul class=""><li id="af6b" class="js jt hi iw b ix ll jb lm jf ln jj lo jn lp jr lq jy jz ka bi translated">在Google Drive中创建一个文件夹(在我的例子中，我使用的是:<strong class="iw hj"> Kaggle </strong>)，我们将在那里存储我们的Kaggle数据集</li><li id="0872" class="js jt hi iw b ix kb jb kc jf kd jj ke jn kf jr lq jy jz ka bi translated">将下载的<strong class="iw hj"> kaggle.json </strong>文件上传到创建的文件夹中</li></ul><figure class="ls lt lu lv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lw"><img src="../Images/ad43925e529aa6558e1745c7717c9ea5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dJLuCpX9HeZB9KRiIR9BaQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">作者截图— kaggle.json上传至Google Drive</figcaption></figure><h1 id="0243" class="kn ko hi bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">第三步:打开Colab笔记本</h1><p id="1e42" class="pw-post-body-paragraph iu iv hi iw b ix ll iz ja jb lm jd je jf lx jh ji jj ly jl jm jn lz jp jq jr hb bi translated">打开您的Google colab笔记本或创建一个新的Google colab笔记本,您可以在其中使用Kaggle数据集</p><h1 id="5ea4" class="kn ko hi bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">步骤4:将Google Drive安装到Google Colab笔记本上</h1><ul class=""><li id="349a" class="js jt hi iw b ix ll jb lm jf ln jj lo jn lp jr lq jy jz ka bi translated">运行下面的脚本来安装你的Google Drive</li></ul><pre class="ls lt lu lv fd mb mc md me aw mf bi"><span id="16a5" class="mg ko hi mc b fi mh mi l mj mk"><strong class="mc hj">from</strong> google.colab <strong class="mc hj">import</strong> drive<br/>drive.mount('<strong class="mc hj">/content/drive</strong>')</span></pre><figure class="ls lt lu lv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ml"><img src="../Images/8386f10a0ddb21f0600339f2069d4a33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*xPF40waZjncVHV94.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">作者截图——验证谷歌账户</figcaption></figure><ul class=""><li id="bd7f" class="js jt hi iw b ix iy jb jc jf ju jj jv jn jw jr lq jy jz ka bi translated">单击链接以验证用户Google帐户</li><li id="7712" class="js jt hi iw b ix kb jb kc jf kd jj ke jn kf jr lq jy jz ka bi translated">选择您要安装的相应Google Drive帐户，然后单击登录</li><li id="f865" class="js jt hi iw b ix kb jb kc jf kd jj ke jn kf jr lq jy jz ka bi translated">将验证码复制并粘贴到输入单元格中</li><li id="9072" class="js jt hi iw b ix kb jb kc jf kd jj ke jn kf jr lq jy jz ka bi translated">恭喜你。你的谷歌硬盘已经安装好了，</li></ul><figure class="ls lt lu lv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mm"><img src="../Images/8449a78b7289ebfe360078c7c47ca9a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*GO8MJoJ1njfVQSgJ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">作者截图——安装了Google Drive</figcaption></figure><h1 id="0929" class="kn ko hi bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">步骤5:配置Kaggle</h1><p id="d02c" class="pw-post-body-paragraph iu iv hi iw b ix ll iz ja jb lm jd je jf lx jh ji jj ly jl jm jn lz jp jq jr hb bi translated">下面的代码将Kaggle配置路径设置为<strong class="iw hj">ka ggle . JSON</strong>T28】。 <strong class="iw hj">注意:</strong>如果您对<em class="mn"> kaggle.json </em>使用了不同的文件夹名或目录路径，请使用相同的而不是下面代码中的<em class="mn"> /Kaggle </em></p><pre class="ls lt lu lv fd mb mc md me aw mf bi"><span id="b6d4" class="mg ko hi mc b fi mh mi l mj mk"><strong class="mc hj">import</strong> os<br/>os.environ['<strong class="mc hj">KAGGLE_CONFIG_DIR</strong>'] = "<strong class="mc hj">/content/drive/MyDrive/Kaggle</strong>"</span></pre><h1 id="99b4" class="kn ko hi bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">步骤6:更改当前工作目录</h1><ul class=""><li id="1b98" class="js jt hi iw b ix ll jb lm jf ln jj lo jn lp jr lq jy jz ka bi translated">下面的shell命令会将当前工作目录设置为，<br/> <code class="du mo mp mq mc b">/content/drive/MyDrive/Kaggle</code></li></ul><pre class="ls lt lu lv fd mb mc md me aw mf bi"><span id="b4c0" class="mg ko hi mc b fi mh mi l mj mk">%cd <strong class="mc hj">/content/drive/MyDrive/Kaggle/</strong></span></pre><p id="19cc" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj">注意:</strong>您的Google Drive主目录位于，<code class="du mo mp mq mc b">/content/drive/MyDrive/</code></p><h1 id="f9c8" class="kn ko hi bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">步骤7:下载Kaggle数据集</h1><p id="5df5" class="pw-post-body-paragraph iu iv hi iw b ix ll iz ja jb lm jd je jf lx jh ji jj ly jl jm jn lz jp jq jr hb bi translated">现在，您可以下载普通数据集或竞争数据集。根据您的要求，遵循以下步骤，</p><h2 id="f470" class="mg ko hi bd kp mr ms mt kt mu mv mw kx jf mx my lb jj mz na lf jn nb nc lj nd bi translated">第七步。答:正常数据集</h2><ul class=""><li id="da3c" class="js jt hi iw b ix ll jb lm jf ln jj lo jn lp jr lq jy jz ka bi translated">进入Kaggle数据集仪表板，点击<strong class="iw hj">复制API命令</strong>，如图所示。</li></ul><figure class="ls lt lu lv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ne"><img src="../Images/967434cf5b5df1ba45c801e049baa4bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DosjQ7ozQ5_AlDo6tlkoWA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">作者截图—泰坦尼克号数据集仪表板</figcaption></figure><ul class=""><li id="dda1" class="js jt hi iw b ix iy jb jc jf ju jj jv jn jw jr lq jy jz ka bi translated">您的API命令将类似于<code class="du mo mp mq mc b">kaggle datasets download -d <strong class="iw hj">&lt;username&gt;/&lt;datasets&gt;</strong></code>或<code class="du mo mp mq mc b">kaggle datasets download -d <strong class="iw hj">&lt;datasets&gt;</strong></code></li><li id="0b98" class="js jt hi iw b ix kb jb kc jf kd jj ke jn kf jr lq jy jz ka bi translated">使用<code class="du mo mp mq mc b"><strong class="iw hj">!</strong></code>符号运行命令，</li></ul><pre class="ls lt lu lv fd mb mc md me aw mf bi"><span id="343b" class="mg ko hi mc b fi mh mi l mj mk">!kaggle datasets download -d <strong class="mc hj">heptapod/titanic</strong></span></pre><ul class=""><li id="00fd" class="js jt hi iw b ix iy jb jc jf ju jj jv jn jw jr lq jy jz ka bi translated">您可以使用<code class="du mo mp mq mc b">ls</code>命令检查文件，</li></ul><figure class="ls lt lu lv fd ij er es paragraph-image"><div class="er es nf"><img src="../Images/c5233b18856c48ebed51dcb9c4985f7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1216/format:webp/1*24xz4E1c-u1Sjq15bIJr8w.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">作者截图——从Kaggle下载的压缩文件格式的泰坦尼克号数据集</figcaption></figure><p id="3fa9" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj">注意:</strong>数据集下载为<strong class="iw hj"> zip文件</strong>。您需要手动解压缩文件。但是，有一个关键字<code class="du mo mp mq mc b">--unzip</code>用于下载后即时解压文件，删除zip文件。</p><pre class="ls lt lu lv fd mb mc md me aw mf bi"><span id="5f4f" class="mg ko hi mc b fi mh mi l mj mk">!kaggle datasets download -d <strong class="mc hj">heptapod/titanic</strong> --unzip</span></pre><figure class="ls lt lu lv fd ij er es paragraph-image"><div class="er es ng"><img src="../Images/654ed5ded1ba0e297d6baba01169eb98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1178/format:webp/1*kBimeaAA8ZTcnHmPV01Twg.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">作者截图——泰坦尼克号数据集被下载并立即解压缩</figcaption></figure><p id="7514" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">了解更多关于<a class="ae ma" href="https://github.com/Kaggle/kaggle-api#datasets" rel="noopener ugc nofollow" target="_blank"> Kaggle数据集API命令</a></p><h2 id="ddf2" class="mg ko hi bd kp mr ms mt kt mu mv mw kx jf mx my lb jj mz na lf jn nb nc lj nd bi translated">第七步。b:竞赛数据集</h2><ul class=""><li id="d3bd" class="js jt hi iw b ix ll jb lm jf ln jj lo jn lp jr lq jy jz ka bi translated">进入Kaggle竞赛仪表盘，点击<strong class="iw hj">数据</strong>选项卡，如图所示。</li></ul><figure class="ls lt lu lv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nh"><img src="../Images/d5aecca9597c1f70d776c68816282ce7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mk29AdwrWsNHA0E1i5sH7g.png"/></div></div></figure><ul class=""><li id="9c13" class="js jt hi iw b ix iy jb jc jf ju jj jv jn jw jr lq jy jz ka bi translated">向下滚动同一页。您将看到Kaggle API命令。在右侧，有一个复制命令的图标。</li></ul><figure class="ls lt lu lv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ni"><img src="../Images/db0bd9def03fbc012c9776902c744c4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ha5JgASZDRHoXavPkmmcmg.png"/></div></div></figure><ul class=""><li id="0646" class="js jt hi iw b ix iy jb jc jf ju jj jv jn jw jr lq jy jz ka bi translated">您的API命令将类似于<code class="du mo mp mq mc b">kaggle competitions download -c <strong class="iw hj">&lt;username&gt;/&lt;datasets&gt;</strong></code>或<code class="du mo mp mq mc b">kaggle competitions download -c <strong class="iw hj">&lt;datasets&gt;</strong></code></li><li id="796e" class="js jt hi iw b ix kb jb kc jf kd jj ke jn kf jr lq jy jz ka bi translated">使用<code class="du mo mp mq mc b"><strong class="iw hj">!</strong></code>符号运行命令，</li></ul><pre class="ls lt lu lv fd mb mc md me aw mf bi"><span id="aaaf" class="mg ko hi mc b fi mh mi l mj mk">!kaggle competitions download -c <strong class="mc hj">santander-customer-transaction-prediction</strong></span></pre><ul class=""><li id="b874" class="js jt hi iw b ix iy jb jc jf ju jj jv jn jw jr lq jy jz ka bi translated">根据比赛情况，可能会下载一个或多个zip文件。使用<code class="du mo mp mq mc b">ls</code>命令查看文件。在我的例子中，有三个文件下载为zip文件</li></ul><figure class="ls lt lu lv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nj"><img src="../Images/b97059e1a2e2701c0839328f425553a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E7OuWCfpDsMj1EbjLqqesg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">作者截图—从Kaggle下载的zip文件形式的竞赛数据集</figcaption></figure><p id="411c" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj">注意:</strong>与普通数据集不同，您不能使用<code class="du mo mp mq mc b">--unzip</code>关键字来解压缩下载的zip文件，即使它不是实时的。你可以使用python的内置包来解压文件。下面是这样做的代码，</p><pre class="ls lt lu lv fd mb mc md me aw mf bi"><span id="4208" class="mg ko hi mc b fi mh mi l mj mk"><strong class="mc hj">import</strong> zipfile</span><span id="34ab" class="mg ko hi mc b fi nk mi l mj mk">for <strong class="mc hj">file</strong> in os.listdir():<br/>    if <strong class="mc hj">file</strong>.endswith("<strong class="mc hj">.zip</strong>"):<br/>        with zipfile.ZipFile(<strong class="mc hj">file</strong>, "<strong class="mc hj">r</strong>") as <strong class="mc hj">zip_file</strong>:<br/>            <strong class="mc hj">zip_file</strong>.extractall()<br/>        os.remove(<strong class="mc hj">file</strong>)</span></pre><figure class="ls lt lu lv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nl"><img src="../Images/f36f1cc10ccc7e8366b1ead82eefd383.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4jrs1xq5rYBwVrzhNkQ2Xg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">作者截图—用于解压缩压缩文件的Python代码</figcaption></figure><p id="5e33" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">了解更多关于<a class="ae ma" href="https://github.com/Kaggle/kaggle-api#competitions" rel="noopener ugc nofollow" target="_blank"> Kaggle竞赛相关API命令</a></p><p id="47d8" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">恭喜你！！我们已经成功地从Kaggle下载了数据集。快乐学习…</p></div><div class="ab cl kg kh gp ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="hb hc hd he hf"><h1 id="acb9" class="kn ko hi bd kp kq nm ks kt ku nn kw kx ky no la lb lc np le lf lg nq li lj lk bi translated">参考:</h1><ol class=""><li id="a1e5" class="js jt hi iw b ix ll jb lm jf ln jj lo jn lp jr jx jy jz ka bi translated"><a class="ae ma" href="https://colab.research.google.com/" rel="noopener ugc nofollow" target="_blank">谷歌实验室</a></li><li id="f2b4" class="js jt hi iw b ix kb jb kc jf kd jj ke jn kf jr jx jy jz ka bi translated">https://github.com/Kaggle/kaggle-api#kaggle-api<a class="ae ma" href="https://github.com/Kaggle/kaggle-api#kaggle-api" rel="noopener ugc nofollow" target="_blank">Kaggle API命令</a>—<a class="ae ma" href="https://github.com/Kaggle/kaggle-api#kaggle-api" rel="noopener ugc nofollow" target="_blank"/></li><li id="2b67" class="js jt hi iw b ix kb jb kc jf kd jj ke jn kf jr jx jy jz ka bi translated"><a class="ae ma" href="https://github.com/Kaggle/kaggle-api#datasets" rel="noopener ugc nofollow" target="_blank"> Kaggle数据集API命令</a>—<a class="ae ma" href="https://github.com/Kaggle/kaggle-api#datasets" rel="noopener ugc nofollow" target="_blank">https://github.com/Kaggle/kaggle-api#datasets</a></li><li id="3922" class="js jt hi iw b ix kb jb kc jf kd jj ke jn kf jr jx jy jz ka bi translated"><a class="ae ma" href="https://github.com/Kaggle/kaggle-api#competitions" rel="noopener ugc nofollow" target="_blank"> Kaggle竞赛API命令</a>——<a class="ae ma" href="https://github.com/Kaggle/kaggle-api#competitions" rel="noopener ugc nofollow" target="_blank">https://github.com/Kaggle/kaggle-api#competitions</a></li></ol></div></div>    
</body>
</html>