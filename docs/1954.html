<html>
<head>
<title>Simplest Dictionary web app using streamlit and beautifultsoup</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用streamlit和beautifultsoup的最简单的字典web应用程序</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/simplest-dictionary-web-app-using-streamlit-and-beautifultsoup-66025e66d8ef?source=collection_archive---------14-----------------------#2021-03-28">https://medium.com/analytics-vidhya/simplest-dictionary-web-app-using-streamlit-and-beautifultsoup-66025e66d8ef?source=collection_archive---------14-----------------------#2021-03-28</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="787b" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">只需输入单词，就可以通过这个简单的网络应用程序获得最常见的意思。</h2></div><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es iw"><img src="../Images/2f973ac9e9cb90d79406a753021ea62d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2sOOAQahJkjOVpQqyUbQAw.png"/></div></div></figure><p id="49be" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">使用的重要库:</p><ul class=""><li id="f524" class="ke kf hh jk b jl jm jo jp jr kg jv kh jz ki kd kj kk kl km bi translated">细流</li><li id="b173" class="ke kf hh jk b jl kn jo ko jr kp jv kq jz kr kd kj kk kl km bi translated">美味的汤</li><li id="32d4" class="ke kf hh jk b jl kn jo ko jr kp jv kq jz kr kd kj kk kl km bi translated">要求</li></ul><p id="d0df" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">前几天在参加一个关于python的研讨会时，认识了两个库，Beautiful Soup和Streamlit。</p><p id="be18" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">我的想法是，也可以使用这些库来创建字典。所以我开始写代码。</p><p id="5f7b" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">我有三项任务要完成:</p><ul class=""><li id="82ed" class="ke kf hh jk b jl jm jo jp jr kg jv kh jz ki kd kj kk kl km bi translated"><em class="ks">使用美汤创建工作代码</em></li><li id="c22f" class="ke kf hh jk b jl kn jo ko jr kp jv kq jz kr kd kj kk kl km bi translated"><em class="ks">使用streamlit创建一个可以在本地机器上运行的web应用</em></li><li id="29f4" class="ke kf hh jk b jl kn jo ko jr kp jv kq jz kr kd kj kk kl km bi translated"><em class="ks">在Heroku上部署app。</em></li></ul><h2 id="ccd0" class="kt ku hh bd kv kw kx ky kz la lb lc ld jr le lf lg jv lh li lj jz lk ll lm ln bi translated"><strong class="ak"> <em class="lo">任务一:</em> </strong></h2><p id="2791" class="pw-post-body-paragraph ji jj hh jk b jl lp ii jn jo lq il jq jr lr jt ju jv ls jx jy jz lt kb kc kd ha bi translated">Beautiful Soup是一个Python库，用于从HTML和XML文件中提取数据。它与您喜欢的解析器一起工作，提供导航、搜索和修改解析树的惯用方式。它通常为程序员节省数小时或数天的工作。</p><p id="9b23" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">初始代码:</p><pre class="ix iy iz ja fd lu lv lw lx aw ly bi"><span id="641a" class="kt ku hh lv b fi lz ma l mb mc">import requests<br/>from bs4 import BeautifulSoup as bs<br/>import lxml.etree as xml<br/>import lxml</span><span id="e11f" class="kt ku hh lv b fi md ma l mb mc">word = input('enter the word: ')<br/>url = f'<a class="ae me" href="https://www.dictionary.com/browse/{word}?s=t'" rel="noopener ugc nofollow" target="_blank">https://www.dictionary.com/browse/{word}?s=t'</a><br/>web_page = bs(requests.get(url, {}).text, "lxml")<br/>meanings = web_page.find_all('div', attrs={'class': 'css-1ghs5zt e1q3nk1v2'})<br/>print('\nThe meaning(s) of the word is: ')<br/># for all the meanings<br/># for meaning in meanings:<br/>#   print('* '+ meaning.text)<br/>#   print('\n')</span><span id="2386" class="kt ku hh lv b fi md ma l mb mc"># for most common meaning <br/>print(meanings[0].text)</span></pre><p id="0b45" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">它需要用户的一句话。之后，它访问<a class="ae me" href="https://www.dictionary.com/" rel="noopener ugc nofollow" target="_blank"><strong class="jk hi">dictionary.com</strong></a>网站。寻找这个词的意思。它抓取所有单词并返回第一个意思，即最常见的意思。</p></div><div class="ab cl mf mg go mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="ha hb hc hd he"><h2 id="6862" class="kt ku hh bd kv kw kx ky kz la lb lc ld jr le lf lg jv lh li lj jz lk ll lm ln bi translated"><strong class="ak">任务二</strong></h2><p id="92fc" class="pw-post-body-paragraph ji jj hh jk b jl lp ii jn jo lq il jq jr lr jt ju jv ls jx jy jz lt kb kc kd ha bi translated">下一个任务是将这个小代码转换成web应用程序。Streamlit是一个面向机器学习和数据科学团队的开源应用框架。在数小时内而不是数周内创建漂亮的数据应用。全是纯Python。创建web应用程序时，您也可以在语法中添加HTML代码。</p><p id="dfca" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">要安装streamlit，请使用以下命令</p><p id="3e07" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated"><code class="du mm mn mo lv b">pip install streamlit</code></p><p id="400a" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">streamlit中有很多有趣的函数。对原始代码做了一些修改。但是，对于这个简单的项目，只使用了以下几种:</p><p id="e3bc" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated"><code class="du mm mn mo lv b">st.title()</code>:为网络应用添加标题</p><p id="5d41" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated"><code class="du mm mn mo lv b">st.subheader()</code>:添加副标题</p><p id="7f84" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated"><code class="du mm mn mo lv b">st.text_input()</code>:获取用户的输入</p><p id="b832" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated"><code class="du mm mn mo lv b">st.write()</code>:显示输出</p><p id="77da" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated"><code class="du mm mn mo lv b">st.sidebar.markdown()</code>:添加带降价文字的侧边栏。</p><p id="2f41" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">要在本地机器上运行应用程序，您必须键入以下命令。</p><p id="00b0" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated"><code class="du mm mn mo lv b">streamlit run app_name.py</code></p><p id="f442" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">它将打开默认浏览器并运行应用程序。你也可以改变应用程序的外观。点击页面右上角的三个栏，然后点击设置。按照您的意愿应用修改。</p></div><div class="ab cl mf mg go mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="ha hb hc hd he"><h2 id="941a" class="kt ku hh bd kv kw kx ky kz la lb lc ld jr le lf lg jv lh li lj jz lk ll lm ln bi translated"><strong class="ak">任务三</strong></h2><p id="fea3" class="pw-post-body-paragraph ji jj hh jk b jl lp ii jn jo lq il jq jr lr jt ju jv ls jx jy jz lt kb kc kd ha bi translated">现在，这两项测量任务已经完成。是时候在Heroku上部署应用程序了。Heroku是一个平台即服务(PaaS ),使开发人员能够完全在云中构建、运行和操作应用程序。Heroku支持多种编程语言，如Java、Node.js、Scala、Clojure、Python、PHP和Go。</p><p id="76dc" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">部署应用程序很容易，但却是一个谨慎的过程。需要创建三个重要的文件。</p><ul class=""><li id="a308" class="ke kf hh jk b jl jm jo jp jr kg jv kh jz ki kd kj kk kl km bi translated">首先是<strong class="jk hi"> requirement.txt </strong>文件。该文件将包含应用程序中使用的库。</li></ul><pre class="ix iy iz ja fd lu lv lw lx aw ly bi"><span id="4287" class="kt ku hh lv b fi lz ma l mb mc">streamlit==0.79.0<br/>requests==2.25.1<br/>lxml==4.6.3<br/>beautifulsoup4==4.9.3</span></pre><ul class=""><li id="92ac" class="ke kf hh jk b jl jm jo jp jr kg jv kh jz ki kd kj kk kl km bi translated">第二个文件是<strong class="jk hi"> setup.sh </strong>文件。该文件包含以下代码</li></ul><pre class="ix iy iz ja fd lu lv lw lx aw ly bi"><span id="e5fc" class="kt ku hh lv b fi lz ma l mb mc">mkdir -p ~/.streamlit/</span><span id="eda2" class="kt ku hh lv b fi md ma l mb mc">echo "\<br/>[server]\n\<br/>headless = true\n\<br/>port = $PORT\n\<br/>enableCORS = false\n\<br/>\n\<br/>" &gt; ~/.streamlit/config.toml</span></pre><ul class=""><li id="ae8c" class="ke kf hh jk b jl jm jo jp jr kg jv kh jz ki kd kj kk kl km bi translated">最后是<strong class="jk hi"> Procfile </strong>。它包含部署应用程序时要运行的命令。需要记住的重要一点是，Procfile <strong class="jk hi">不会有任何扩展名。</strong></li></ul><p id="0853" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated"><code class="du mm mn mo lv b">web: sh setup.sh &amp;&amp; streamlit run app.py</code></p><p id="a5a5" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">当这一步完成后，剩下的过程就简单了。以下是步骤:</p><ol class=""><li id="b118" class="ke kf hh jk b jl jm jo jp jr kg jv kh jz ki kd mp kk kl km bi translated">创建GitHub repo。</li><li id="8b7c" class="ke kf hh jk b jl kn jo ko jr kp jv kq jz kr kd mp kk kl km bi translated">将包括上述文件在内的文件推送到repo。</li><li id="1e92" class="ke kf hh jk b jl kn jo ko jr kp jv kq jz kr kd mp kk kl km bi translated">打开Heroku 网站。(如果您还没有，请创建一个帐户)</li><li id="07c7" class="ke kf hh jk b jl kn jo ko jr kp jv kq jz kr kd mp kk kl km bi translated">点击<strong class="jk hi">新建</strong>并选择<strong class="jk hi">创建新应用</strong>选项。</li><li id="f04c" class="ke kf hh jk b jl kn jo ko jr kp jv kq jz kr kd mp kk kl km bi translated">给应用命名，点击<strong class="jk hi">创建应用</strong>按钮。</li><li id="ab15" class="ke kf hh jk b jl kn jo ko jr kp jv kq jz kr kd mp kk kl km bi translated">连接您的GitHub帐户。它将首次请求授权。</li><li id="ae12" class="ke kf hh jk b jl kn jo ko jr kp jv kq jz kr kd mp kk kl km bi translated">然后搜索推送web app代码的回购。</li><li id="a4ca" class="ke kf hh jk b jl kn jo ko jr kp jv kq jz kr kd mp kk kl km bi translated">部署有两种选择。自动部署和手动部署。自动部署将根据您在代码中所做的更改自动更新应用程序。选择你喜欢的选项。</li><li id="a05d" class="ke kf hh jk b jl kn jo ko jr kp jv kq jz kr kd mp kk kl km bi translated">单击部署选项后。它将开始部署应用程序。</li></ol><p id="6ab9" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">在这个过程的最后，你会得到一个<strong class="jk hi">查看app </strong>按钮。点击它访问网络应用程序。</p></div><div class="ab cl mf mg go mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="ha hb hc hd he"><ul class=""><li id="dfc6" class="ke kf hh jk b jl jm jo jp jr kg jv kh jz ki kd kj kk kl km bi translated">要使用最简单的字典，点击<a class="ae me" href="https://simplest-dictionary.herokuapp.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="jk hi">这里。</strong> </a></li><li id="08e2" class="ke kf hh jk b jl kn jo ko jr kp jv kq jz kr kd kj kk kl km bi translated"><strong class="jk hi"> Github </strong> <a class="ae me" href="https://github.com/sanketchavan5595/stwebapp" rel="noopener ugc nofollow" target="_blank"> <strong class="jk hi">链接</strong></a>T29】:</li><li id="cbfb" class="ke kf hh jk b jl kn jo ko jr kp jv kq jz kr kd kj kk kl km bi translated">要连接:<a class="ae me" href="https://www.linkedin.com/in/sanket-chavan5595/" rel="noopener ugc nofollow" target="_blank"> Sanket Chavan | LinkedIn </a></li></ul><blockquote class="mq"><p id="d4bc" class="mr ms hh bd mt mu mv mw mx my mz kd dx translated">谢谢你，祝你愉快</p></blockquote></div></div>    
</body>
</html>