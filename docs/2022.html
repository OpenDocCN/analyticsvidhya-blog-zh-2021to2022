<html>
<head>
<title>Implement PTC Thingworx in Azure PaaS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Azure PaaS中实现PTC Thingworx</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/implement-ptc-thingworx-in-azure-paas-4ec7270f5c7e?source=collection_archive---------5-----------------------#2021-04-01">https://medium.com/analytics-vidhya/implement-ptc-thingworx-in-azure-paas-4ec7270f5c7e?source=collection_archive---------5-----------------------#2021-04-01</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><h1 id="a183" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">用例</h1><h1 id="a051" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">在Azure PaaS中实施PTC Thingworx工业物联网解决方案</h1><ul class=""><li id="7e0e" class="jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt bi translated">如何使用PaaS组件在Azure中部署thingworx</li><li id="5475" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">将AKS用于应用程序</li><li id="242c" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">使用Azure SQL数据库进行数据库存储</li><li id="b9e3" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">使用Azure物联网中心进行设备通信和管理</li><li id="58fd" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">将Azure存储用于检查点和长期数据存储</li><li id="3f9b" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">docker容器存储在Azure容器注册表中</li><li id="1287" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">在azure keyvault中存储机密</li></ul><h1 id="b027" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">体系结构</h1><figure class="ka kb kc kd fd ke er es paragraph-image"><div role="button" tabindex="0" class="kf kg di kh bf ki"><div class="er es jz"><img src="../Images/59270042726f92b55dde424f039d654e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E6_QHlQ71rbf7u5MOf6U4w.jpeg"/></div></div></figure><h1 id="cf34" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">设计</h1><ul class=""><li id="0f6e" class="jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt bi translated">电力网设计</li><li id="dab8" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">为AKS创建专用网络</li><li id="ffe1" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">为存储创建专用端点</li><li id="ecf7" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">为Azure SQL数据库创建私有端点</li><li id="ece4" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">创建私有DNS</li><li id="988f" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">确保允许并打开通信防火墙规则</li><li id="0f5a" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">Azure防火墙</li><li id="d322" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">虚拟机— F16系列虚拟机，带16个CPU — 32 GB —至少3个生产节点</li><li id="dce7" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">将Azure DevOps用于代码存储库</li><li id="3050" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">使用Azure DevOps for CI/CD在环境之间进行部署</li><li id="7851" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">可选的terraform也可用于部署</li></ul><h1 id="ed63" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">Azure组件</h1><ul class=""><li id="5768" class="jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt bi translated">物联网中心</li><li id="f5d4" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">Azure SQL数据库</li><li id="7b18" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">发展——DTU——最低200</li><li id="e045" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">对于质量保证/测试/生产— 16个CPU — 32千兆字节</li><li id="a4ee" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">Azure容器注册表</li><li id="7157" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">Azure Keyvault</li><li id="b7db" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">Azure存储— ADLS第二代</li><li id="1109" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">蓝色广告</li><li id="0880" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">Azure监视器</li><li id="9a0a" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">Azure Devops —用于CI/CD基础架构部署</li></ul><h1 id="3143" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">Thingxworx组件</h1><p id="7de0" class="pw-post-body-paragraph kl km hh je b jf jg kn ko jh ji kp kq jj kr ks kt jl ku kv kw jn kx ky kz jp ha bi translated">发展</p><ul class=""><li id="b1fc" class="jc jd hh je b jf la jh lb jj lc jl ld jn le jp jq jr js jt bi translated">1个Nginx控制器—入口码头集装箱</li><li id="02e1" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">1个thingworx码头集装箱</li><li id="588a" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">1点燃容器</li><li id="0245" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">1个IotHub thingworx连接器</li><li id="445b" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">1个动物园管理员节点</li></ul><p id="c00b" class="pw-post-body-paragraph kl km hh je b jf la kn ko jh lb kp kq jj lf ks kt jl lg kv kw jn lh ky kz jp ha bi translated">生产/质量保证/测试</p><ul class=""><li id="dfd3" class="jc jd hh je b jf la jh lb jj lc jl ld jn le jp jq jr js jt bi translated">2 Nginx控制器—入口码头集装箱</li><li id="98e2" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">3 thingworx码头集装箱</li><li id="a1c8" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">2点燃容器</li><li id="6c0a" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">1个IotHub thingworx连接器</li><li id="2c88" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">3个动物园管理员节点</li><li id="284f" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">以上配置可容纳多达100，000台设备</li><li id="e471" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">将ngix控制器分配给thingworx URL —基本上是将端口443与nginx ip和thingworx IP相匹配。</li><li id="ab69" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">上面的体系结构显示了它连接到哪个端口</li></ul><h1 id="2320" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">如何</h1><ul class=""><li id="c8d7" class="jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt bi translated">从PTC的下载网站下载Thingworx模块</li><li id="34c1" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated"><a class="ae li" href="https://support.ptc.com/help/thingworx/platform/r9/en/index.html#page/ThingWorx%2FHelp%2FInstallation%2FThingWorxDockerGuide%2Fthingworx_docker_landing_page.html%23" rel="noopener ugc nofollow" target="_blank">https://support . PTC . com/help/thing worx/platform/r9/en/index . html # page/thing worx % 2f help % 2f installation % 2f ThingWorx docker guide % 2f ThingWorx _ docker _ landing _ page . html % 23</a></li><li id="bd54" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">下载的模块是zip文件或jar文件</li><li id="5383" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">创建docker映像并上传到Azure容器注册表</li><li id="6419" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">配置thinkgworx以连接到Azure SQL数据库</li><li id="a7c7" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">在Kubernetes pod中安装thingworx容器</li><li id="4e5d" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">在pod中安装NGinx容器</li><li id="394a" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">配置nginx IP到thingworx(这是访问thing worx URL—<a class="ae li" href="https://ip/" rel="noopener ugc nofollow" target="_blank">https://IP:443/</a>)</li><li id="4a32" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">使用Azure SQL信息配置thinkworx容器</li><li id="a92d" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">这将在第一次加载时创建模式</li><li id="a2cd" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">Thinkworx使用SQL身份验证</li><li id="7863" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">将创建一个名为thinkworx的数据库</li><li id="4b96" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">配置完成后，登录thingworx URL</li><li id="213b" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">用ignite ip地址和端口配置thingworx</li><li id="0b9b" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">用Zookeeper ip地址和端口配置thingworx</li><li id="de8a" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">配置物联网集线器连接器</li><li id="6841" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">这是PTC创建的容器</li><li id="2101" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">Thingworx将创建一个名为thingworx的消费者群体</li><li id="1769" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">为检查点配置存储容器</li><li id="f161" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">根据PTC文档配置物联网集线器设置</li><li id="5a81" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated"><a class="ae li" href="https://support.ptc.com/help/thingworx/azure_connector_scm/en/#page/thingworx_scm_azure%2Fazure_connector%2Fc_azure_connector_create_security_entities_for_connector.html%23" rel="noopener ugc nofollow" target="_blank">https://support . PTC . com/help/thing worx/azure _ connector _ SCM/en/# page/thing worx _ SCM _ azure % 2fa zure _ connector % 2Fc _ azure _ connector _ create _ security _ entities _ for _ connector . html % 23</a></li><li id="c7cd" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">连接器端口是9009</li><li id="b933" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">现在加载并配置所有thinkworx型号设置</li><li id="8720" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">在门户中创建新的物联网集线器设备</li><li id="ed1c" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">使用物联网集线器设备连接字符串配置物联网边缘设备。</li><li id="8f8b" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">配置边缘设备向物联网集线器发送数据。</li><li id="4341" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">登录Thingworx门户网站，搜索设备，查看属性是否正在更新</li><li id="f8ae" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">浏览历史记录，查看是否有新数据可用</li></ul><h1 id="d3a8" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">Thingworx开发</h1><ul class=""><li id="7836" class="jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt bi translated">所有的开发工作都完成了thingworx门户网站</li><li id="ec97" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">Thingworx门户网站内置了事物建模和仪表板</li><li id="2aab" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">thingworx需要许可证</li><li id="2c0e" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">所有的thingworx模块都可以通过他们的门户网站获得</li><li id="1eaa" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">需要PTC提供的登录信息来访问下载</li></ul><p id="3765" class="pw-post-body-paragraph kl km hh je b jf la kn ko jh lb kp kq jj lf ks kt jl lg kv kw jn lh ky kz jp ha bi translated">原文—【PTC/ptcinaks . MD at main balakreshnan/PTC(github.com)</p></div></div>    
</body>
</html>