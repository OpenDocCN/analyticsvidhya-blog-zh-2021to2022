<html>
<head>
<title>Introduction to Image Processing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">图像处理导论</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/introduction-to-image-processing-f044b1946adf?source=collection_archive---------17-----------------------#2021-01-27">https://medium.com/analytics-vidhya/introduction-to-image-processing-f044b1946adf?source=collection_archive---------17-----------------------#2021-01-27</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="e074" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">图像随处可见。</p><p id="e32d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">它们可以是一幅简单的风景，一张简单的自拍照，或者一张简单的日常生活快照。为了能够存储我们创造的这些珍贵的记忆，我们将这些图像保存为不同的文件格式和图像文件，目前，我们可以将这些文件格式称为图像的数字表示，或者简单的数字图像。</p><p id="e6b4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">作为一名数据科学家，我们应该能够为其他目的处理图像，这可能对我们的问题有用。</p><p id="5ef8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为此，我们可以进行图像处理来清理图像。</p><p id="5b7b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">图像文件由对应于每个颜色通道值和像素的几个整数/浮点值组成。数组值决定了图片中可以看到的像素的颜色值。所以，换句话说，我们可以把图像想象成一个相互堆叠的NumPy数组。</p><p id="b0c9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在我们有了一个上下文，问题是，我们如何看到数组的不同值？</p><p id="b040" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">有不同的方法可以做到这一点，让我们在本文中讨论一下。我们也将展示一些图像处理的基本技术。</p><h1 id="83d4" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated"><strong class="ak">使用scikit-图像库</strong></h1><p id="a51a" class="pw-post-body-paragraph ie if hh ig b ih ka ij ik il kb in io ip kc ir is it kd iv iw ix ke iz ja jb ha bi translated">通过使用读取不同格式图像文件的imread函数，我们可以使用scikit-image python库来读取数字图像。您可以在imread函数中传递图像的名称，它会自动读取图像文件。</p><p id="ce2d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">imread函数的输出是图像文件的等价NumPy数组。还可以通过使用imread函数到imshow函数的结果来显示图像文件。让我们试着用下面花束的形象。</p><figure class="kg kh ki kj fd kk er es paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="er es kf"><img src="../Images/a881148977293904f214354a8c05a7cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*soLxM1g7q9wU8-wG7FknaQ.jpeg"/></div></div><figcaption class="kr ks et er es kt ku bd b be z dx translated">(图片由作者提供)</figcaption></figure><p id="b55a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">下面的代码演示了如何使用python命令进行读取和显示。</p><pre class="kg kh ki kj fd kv kw kx ky aw kz bi"><span id="b716" class="la jd hh kw b fi lb lc l ld le">from skimage.io import imshow, imread</span><span id="76d1" class="la jd hh kw b fi lf lc l ld le">#read using the imread function<br/>sample = imread(‘flower.jpg’)<br/>print(sample[0])</span><span id="9a36" class="la jd hh kw b fi lf lc l ld le">#show using imshow function<br/>imshow(sample)</span></pre><figure class="kg kh ki kj fd kk er es paragraph-image"><div class="er es lg"><img src="../Images/be848daedeb96d8a2540bccecbcede43.png" data-original-src="https://miro.medium.com/v2/resize:fit:330/format:webp/1*hhpHAm_SacrxDOEfoP4lRQ.png"/></div><figcaption class="kr ks et er es kt ku bd b be z dx translated">图1:等效的Numpy数组</figcaption></figure><p id="1cd0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如图1所示，如果我们打印imread函数的结果值，我们可以看到一个整数数组。</p><figure class="kg kh ki kj fd kk er es paragraph-image"><div class="er es lh"><img src="../Images/fb0724925cf6a42ca4f9267f8b7e6fe9.png" data-original-src="https://miro.medium.com/v2/resize:fit:836/format:webp/1*DoCK1_Si7nYD8Q125w9m1g.png"/></div><figcaption class="kr ks et er es kt ku bd b be z dx translated">图2:花束的样本图片(图片由作者提供)</figcaption></figure><p id="d0c5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在图2中，您可以看到imshow函数的结果，scikit-image可以在一个类似于带有x和y坐标的图形中反映数字图像。</p><p id="70c0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们还可以展示数组的形状:</p><pre class="kg kh ki kj fd kv kw kx ky aw kz bi"><span id="ecba" class="la jd hh kw b fi lb lc l ld le">sample.shape</span></pre><p id="077d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi">(1367, 2048, 3)</p><p id="c15d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">正如你在数组的形状上看到的，它有3个值，分别对应于图像本身的长度和宽度，以及图像拥有的颜色通道的数量。</p><p id="d0af" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们还可以定义一个示例数组，并将其传递给imshow函数:</p><pre class="kg kh ki kj fd kv kw kx ky aw kz bi"><span id="015b" class="la jd hh kw b fi lb lc l ld le">array = np.array([[255, 0], <br/>                 [0, 255]])</span><span id="2057" class="la jd hh kw b fi lf lc l ld le">imshow(array,cmap='gray');</span></pre><figure class="kg kh ki kj fd kk er es paragraph-image"><div class="er es li"><img src="../Images/3005d7ea19377987926fd36ed398997e.png" data-original-src="https://miro.medium.com/v2/resize:fit:678/format:webp/1*9lIGXcuCG95kGwDE_n25Xw.png"/></div><figcaption class="kr ks et er es kt ku bd b be z dx translated">图imshow函数的结果(图片由作者提供)</figcaption></figure><p id="bf70" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如图3所示，imshow函数的结果是黑白像素的图形，因为255是颜色通道中最白的值，零是最黑的值。</p><p id="f2d4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">请注意，imshow函数还可以检测数组中输入的浮点数。</p><pre class="kg kh ki kj fd kv kw kx ky aw kz bi"><span id="ee85" class="la jd hh kw b fi lb lc l ld le">sample2 = np.random.random((5,3))<br/>print(sample2)<br/>imshow(sample2)</span></pre><figure class="kg kh ki kj fd kk er es paragraph-image"><div class="er es lj"><img src="../Images/63390e88973dd3edfc3fd2c34d4c7749.png" data-original-src="https://miro.medium.com/v2/resize:fit:736/format:webp/1*bnXRymGwldDkB3BHxh88qQ.png"/></div><figcaption class="kr ks et er es kt ku bd b be z dx translated">图4:示例数组2(图片由作者提供)</figcaption></figure><p id="ff5e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们可以在图4中看到，数组中有一个浮点值，形状为(5，3)</p><figure class="kg kh ki kj fd kk er es paragraph-image"><div class="er es lk"><img src="../Images/ed4a78916064e249c5a01f794be17637.png" data-original-src="https://miro.medium.com/v2/resize:fit:354/format:webp/1*sYiNb_NeBHODpcxakKFNFA.png"/></div><figcaption class="kr ks et er es kt ku bd b be z dx translated">图imshow函数的结果(图片由作者提供)</figcaption></figure><p id="4f8c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">imshow函数的结果显示白色、黑色和灰色的不同色调，这意味着该值越高且越接近于1，它就越白。值越低，越接近零，越黑。</p><p id="8ae3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">由于它是一个数组，我们也可以用下面不同的绘图风格来显示它:</p><pre class="kg kh ki kj fd kv kw kx ky aw kz bi"><span id="121c" class="la jd hh kw b fi lb lc l ld le">import matplotlib.pyplot as plt</span><span id="4cc3" class="la jd hh kw b fi lf lc l ld le">fig, ax = plt.subplots(1, 3, figsize=(12,3))<br/>ax[0].pcolor(sample2)<br/>ax[0].set_title('pcolor')<br/>ax[1].matshow(sample2)<br/>ax[1].set_title('matshow')<br/>ax[2].imshow(sample2)<br/>ax[2].set_title('imshow');</span></pre><figure class="kg kh ki kj fd kk er es paragraph-image"><div class="er es ll"><img src="../Images/d4a2c05e00082ff2e9f23bf4e6dc66fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1294/format:webp/1*7FC8stXuGo8O-RhOo0JQ3A.png"/></div><figcaption class="kr ks et er es kt ku bd b be z dx translated">图6:不同的绘图风格(作者图片)</figcaption></figure><h2 id="ed74" class="la jd hh bd je lm ln lo ji lp lq lr jm ip ls lt jq it lu lv ju ix lw lx jy ly bi translated"><strong class="ak">图像的切片</strong></h2><p id="5b78" class="pw-post-body-paragraph ie if hh ig b ih ka ij ik il kb in io ip kc ir is it kd iv iw ix ke iz ja jb ha bi translated">我们还可以使用图上显示的x轴和y轴来切割图像的一部分。让我们先使用示例:</p><pre class="kg kh ki kj fd kv kw kx ky aw kz bi"><span id="ca9e" class="la jd hh kw b fi lb lc l ld le">import matplotlib.pyplot as plt<br/>slice1 = sample[0:600]<br/>slice2 = sample[:,0:1000]</span><span id="10dd" class="la jd hh kw b fi lf lc l ld le">fig, ax = plt.subplots(1, 3, figsize=(15,5))<br/>ax[0].imshow(sample)<br/>ax[0].set_title('Original Image')<br/>ax[1].imshow(slice1)<br/>ax[1].set_title('Sliced Image 1')<br/>ax[2].imshow(slice2)<br/>ax[2].set_title('Sliced Image 2');</span></pre><figure class="kg kh ki kj fd kk er es paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="er es lz"><img src="../Images/c154a22627bed8e8899d6aa9be57927d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jOH_JNy1pz6TCub-Tg8f6w.png"/></div></div><figcaption class="kr ks et er es kt ku bd b be z dx translated">图7:切片图像(作者提供的图像)</figcaption></figure><p id="42dc" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如图4所示，我们可以根据输入的x和y坐标对图像进行切片，我们使用NumPy索引和NumPy数组切片方法对特定图像进行垂直和水平切片。</p><p id="3e46" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们也可以使用其他python库来完成上述过程。其他库的示例代码如下:</p><p id="4589" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">使用PIL图书馆</strong></p><pre class="kg kh ki kj fd kv kw kx ky aw kz bi"><span id="0169" class="la jd hh kw b fi lb lc l ld le">from PIL import Image</span><span id="3c96" class="la jd hh kw b fi lf lc l ld le">sample3 = Image.open('flower.jpg')<br/># will output a separate window for the picture<br/>sample3.show()</span><span id="335b" class="la jd hh kw b fi lf lc l ld le">#will convert the image to array<br/>array2 = np.asarray(sample3)</span></pre><figure class="kg kh ki kj fd kk er es paragraph-image"><div class="er es ma"><img src="../Images/cd8a70a9405068b306361c30fe2ce57f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1164/format:webp/1*Od2geWaDX0H_mjRHsYJe6A.png"/></div><figcaption class="kr ks et er es kt ku bd b be z dx translated">图imshow的结果(图片由作者提供)</figcaption></figure><p id="c2e5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">正如你所看到的，使用PIL库下的show()函数，它输出一个单独的窗口，在那里可以看到图像。</p><p id="5952" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">您可以通过将Numpy等价数组传递给NumPy函数来获得它。</p><h1 id="c4c2" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated"><strong class="ak">总结</strong></h1><p id="c75d" class="pw-post-body-paragraph ie if hh ig b ih ka ij ik il kb in io ip kc ir is it kd iv iw ix ke iz ja jb ha bi translated">有不同的方法来读取数字图像，但最容易使用的图像处理库之一是scikit-image。</p><p id="0d46" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">但是等等！</p><p id="bc9c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">既然我们可以定义如何读取图像文件作为一个NumPy数组，我们可以做更多的图像处理！</p><p id="9b3b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">继续关注</strong>下一篇文章，我们将通过不同的技术来清洁、处理和增强不同种类的图像。</p></div></div>    
</body>
</html>