<html>
<head>
<title>OpenCV vs Skimage for Image analysis. Which one is better?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">OpenCV与Skimage的图像分析。哪个更好？</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/opencv-vs-skimage-for-image-analysis-which-one-is-better-e2bec8d1954f?source=collection_archive---------2-----------------------#2021-07-26">https://medium.com/analytics-vidhya/opencv-vs-skimage-for-image-analysis-which-one-is-better-e2bec8d1954f?source=collection_archive---------2-----------------------#2021-07-26</a></blockquote><div><div class="dt gx gy gz ha hb"/><div class="hc hd he hf hg"><div class=""/><p id="5bf6" class="pw-post-body-paragraph ig ih hj ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hc bi translated">这两种算法在它们能检测到什么和不能检测到什么方面都有其优缺点。</p><p id="4935" class="pw-post-body-paragraph ig ih hj ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hc bi translated"><strong class="ii hk"> OpenCV </strong>在后端用C++编程，用python作为分析图像模式的机器学习包。</p><p id="c474" class="pw-post-body-paragraph ig ih hj ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hc bi translated"><strong class="ii hk"> Skimage </strong>也称为Scikit-Image，是一个为图像预处理而构建的机器学习包，用于发现隐藏的模式。</p><h1 id="b38c" class="je jf hj bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated"><strong class="ak">两者的最佳平台？</strong></h1><p id="4068" class="pw-post-body-paragraph ig ih hj ii b ij kc il im in kd ip iq ir ke it iu iv kf ix iy iz kg jb jc jd hc bi translated">OpenCV最好在基于服务器的笔记本上完成，比如google colab，或者google cloud、Azure cloud甚至IBM的笔记本扩展。</p><p id="a91e" class="pw-post-body-paragraph ig ih hj ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hc bi translated">而对于Skimage来说，即使是Jupyter Lab/Notebooks也可以很好地工作，因为它在处理上没有OpenCV那么繁重。</p><h1 id="b1fa" class="je jf hj bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">使用Skimage分析面部数据的Python代码</h1><pre class="kh ki kj kk fe kl km kn ko aw kp bi"><span id="99f3" class="kq jf hj km b fj kr ks l kt ku"><strong class="km hk">from</strong> <strong class="km hk">skimage</strong> <strong class="km hk">import</strong> data<br/><strong class="km hk">from</strong> <strong class="km hk">skimage.feature</strong> <strong class="km hk">import</strong> Cascade<br/><br/><strong class="km hk">import</strong> <strong class="km hk">matplotlib.pyplot</strong> <strong class="km hk">as</strong> <strong class="km hk">plt</strong><br/><strong class="km hk">from</strong> <strong class="km hk">matplotlib</strong> <strong class="km hk">import</strong> patches<br/><br/><em class="kv"># Load the trained file from the module root.</em><br/>trained_file = data.lbp_frontal_face_cascade_filename()<br/><br/><em class="kv"># Initialize the detector cascade.</em><br/>detector = Cascade(trained_file)<br/><br/>img = data.astronaut()<br/><br/>detected = detector.detect_multi_scale(img=img,<br/>                                       scale_factor=1.2,<br/>                                       step_ratio=1,<br/>                                       min_size=(60, 60),<br/>                                       max_size=(90, 500))<br/><br/>plt.imshow(img)<br/>img_desc = plt.gca()<br/>plt.set_cmap('gray')<br/><br/><strong class="km hk">for</strong> patch <strong class="km hk">in</strong> detected:<br/><br/>    img_desc.add_patch(<br/>        patches.Rectangle(<br/>            (patch['c'], patch['r']),<br/>            patch['width'],<br/>            patch['height'],<br/>            fill=<strong class="km hk">False</strong>,<br/>            color='r',<br/>            linewidth=2<br/>        )<br/>    )<br/><br/>plt.show()</span></pre><figure class="kh ki kj kk fe kx es et paragraph-image"><div class="es et kw"><img src="../Images/d67248b36735fa414903626d00bd0963.png" data-original-src="https://miro.medium.com/v2/resize:fit:524/format:webp/1*M9ay7za50qbL1HGSeIFkyA.png"/></div></figure><pre class="kh ki kj kk fe kl km kn ko aw kp bi"><span id="f983" class="kq jf hj km b fj kr ks l kt ku"># We have detected a face using Skimage in python</span><span id="9a60" class="kq jf hj km b fj la ks l kt ku"><em class="kv"># Obtain the segmentation with default 100 regions</em><br/>segments = slic(img)<br/><br/><em class="kv"># Obtain segmented image using label2rgb</em><br/>segmented_image = label2rgb(segments, img, kind=’avg’)<br/><br/><em class="kv"># Detect the faces with multi scale method</em><br/>detected = detector.detect_multi_scale(img=segmented_image, <br/>                                       scale_factor=1.2, <br/>                                       step_ratio=1, <br/>                                       min_size=(10, 10), max_size=(1000, 1000))<br/><br/><em class="kv"># Show the detected faces</em><br/>show_detected_face(segmented_image, detected)</span></pre><figure class="kh ki kj kk fe kx es et paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="es et lb"><img src="../Images/e17e5e1588cdeca6d712b8bb5add551f.png" data-original-src="https://miro.medium.com/v2/resize:fit:462/format:webp/1*uwthzzCS9tj7RYV6-J5C5w.png"/></div></div></figure><h2 id="5585" class="kq jf hj bd jg lg lh li jk lj lk ll jo ir lm ln js iv lo lp jw iz lq lr ka ls bi translated">因此，我们在这里看到了如何使用python中的Skimage来检测人脸和推断图像。</h2><h1 id="1550" class="je jf hj bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">用OpenCV分析数据的Python代码</h1><pre class="kh ki kj kk fe kl km kn ko aw kp bi"><span id="7076" class="kq jf hj km b fj kr ks l kt ku">from google.colab import drive</span><span id="1ff5" class="kq jf hj km b fj la ks l kt ku">drive.mount('/content/drive')</span><span id="9962" class="kq jf hj km b fj la ks l kt ku">image = cv2.imread(r'/content/drive/MyDrive/12-14-2020-tout.jpg')</span><span id="f82d" class="kq jf hj km b fj la ks l kt ku"># check properties of the image</span><span id="df13" class="kq jf hj km b fj la ks l kt ku">image.shape</span><span id="c769" class="kq jf hj km b fj la ks l kt ku"># This image has 1333 pxl width, 2000 pxl height and 3 channels(red, green, blue)</span><span id="efd7" class="kq jf hj km b fj la ks l kt ku">from google.colab.patches import cv2_imshow</span><span id="a45b" class="kq jf hj km b fj la ks l kt ku">cv2_imshow(image)</span></pre><p id="8596" class="pw-post-body-paragraph ig ih hj ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hc bi translated">这里我们用OpenCV上传了一张图片</p><figure class="kh ki kj kk fe kx es et paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="es et lt"><img src="../Images/ed8cc9f908bd86db3399a04932220828.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ex-K3lmNvdPgbUMoqHQy7w.png"/></div></div></figure><pre class="kh ki kj kk fe kl km kn ko aw kp bi"><span id="f6e5" class="kq jf hj km b fj kr ks l kt ku">eye_detector = cv2.CascadeClassifier('/content/drive/MyDrive/haarcascade_frontalcatface.xml')</span><span id="30de" class="kq jf hj km b fj la ks l kt ku">eye_detections = eye_detector.detectMultiScale(image)</span><span id="c652" class="kq jf hj km b fj la ks l kt ku">eye_detections</span><span id="bcd2" class="kq jf hj km b fj la ks l kt ku"># detect face with eyes on one of the faces</span><span id="59e9" class="kq jf hj km b fj la ks l kt ku">eye_detections = eye_detector.detectMultiScale(image)</span><span id="5413" class="kq jf hj km b fj la ks l kt ku">for (x,y,w,h) in eye_detections:</span><span id="d58a" class="kq jf hj km b fj la ks l kt ku">cv2.rectangle(image, (x,y), (x+w, y+h), (0,300,0), 2)</span><span id="945a" class="kq jf hj km b fj la ks l kt ku">cv2_imshow(image)</span></pre><figure class="kh ki kj kk fe kx es et paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="es et lt"><img src="../Images/774ba4a1ae1620a2be86404768ec0a7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4X17Lb-66TQTffNWb_CciQ.png"/></div></div></figure><h2 id="646a" class="kq jf hj bd jg lg lh li jk lj lk ll jo ir lm ln js iv lo lp jw iz lq lr ka ls bi translated">这里，我们使用OpenCV中的Hascade参数技术检测了其中一个人脸，该技术也可以调整为检测所有人脸。</h2></div></div>    
</body>
</html>