# ä½¿ç”¨ OpenCV æ’­æ”¾å›¾åƒ

> åŸæ–‡ï¼š<https://medium.com/analytics-vidhya/playing-with-images-using-opencv-5dca960d1b0b?source=collection_archive---------3----------------------->

![](img/59bf2e921d5480877f456c9e2624b8f2.png)

æ ¼ä¼¦Â·å¡æ–¯æ»•æ–¯-å½¼å¾—æ–¯åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) ä¸Šæ‹æ‘„çš„ç…§ç‰‡

åœ¨è¿™ç¯‡åšå®¢ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»ä½¿ç”¨ OpenCV è¿›è¡Œå›¾åƒå¤„ç†çš„ä¸€äº›åŸºç¡€çŸ¥è¯†ï¼ŒåŒ…æ‹¬ç»˜åˆ¶å›¾åƒã€è£å‰ªå›¾åƒã€äº¤æ¢è£å‰ªéƒ¨åˆ†ã€è¿æ¥ä¸¤å¹…å›¾åƒå¹¶åˆ›å»ºä¸€å¹…å›¾åƒã€‚

## å›¾åƒæ˜¯å¦‚ä½•åˆ¶ä½œå’Œå­˜å‚¨çš„ï¼Ÿ

å›¾åƒç”±åƒç´ ç»„æˆï¼Œå¹¶ä»¥ jpegã€tiff æˆ– raw ç­‰æ ¼å¼å­˜å‚¨ï¼Œä¸‰ä¸ªé¢œè‰²é€šé“(çº¢è‰²ã€ç»¿è‰²å’Œè“è‰²)æ„æˆå½©è‰²å›¾åƒã€‚åƒç´ æ˜¯ä¸€ä¸ªå¾®å°çš„é¢œè‰²æ–¹å—ï¼Œå½“æŠŠå®ƒä»¬æ”¾åœ¨ä¸€èµ·æ—¶ï¼Œå°±å½¢æˆäº†ä¸€å¹…å›¾åƒã€‚åƒç´ èŒƒå›´ä» 0 åˆ° 255ã€‚åœ¨ OpenCV ä¸­ä½¿ç”¨å›¾åƒæ—¶ï¼Œå®ƒå­˜å‚¨ä¸ºåƒç´ æ•°ç»„ï¼Œå¯ä»¥æ˜¯äºŒç»´æ•°ç»„(ç°åº¦)å’Œä¸‰ç»´æ•°ç»„(å…·æœ‰ä¸‰ä¸ªé€šé“çš„ç®€å•ç°åº¦å›¾åƒ)ã€‚

è®©æˆ‘ä»¬å¼€å§‹æˆ‘ä»¬çš„è®®ç¨‹ã€‚

## ç”»ä¸€å¹…å›¾åƒ

æˆ‘ä»¬å°†ç»˜åˆ¶ä¸€ä¸ªç®€å•çš„ç™½è‰²èƒŒæ™¯çš„å°å±‹å›¾åƒã€‚æˆ‘ä»¬å°†é¦–å…ˆä½¿ç”¨ ***np.ones((480ï¼Œ640ï¼Œ3)) * 255*** åˆ›å»ºä¸€ä¸ªç™½è‰²èƒŒæ™¯çš„å›¾åƒï¼Œè¿™å°†åˆ›å»ºä¸€ä¸ª ***480x640*** çš„å›¾åƒï¼Œå…·æœ‰ 3 ä¸ªé¢œè‰²é€šé“(è“è‰²ã€ç»¿è‰²å’Œçº¢è‰²)ï¼Œå¹¶ç”¨ç™½è‰²å¡«å……åƒç´ ã€‚

```
R,G,B = (255,255,255) creates white colour.
```

![](img/606a87826d66e05cad7b2a5522ca3436.png)

ç°åœ¨ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä»¥ä¸‹ä»£ç åœ¨ç™½è‰²èƒŒæ™¯ä¸Šåˆ›å»ºä¸€ä¸ªä¸‰è§’å½¢:

```
# Some random co-ordinates for the triangle
triangle_pnts = np.array([(319,50),(165,160),(476,160)])# Create a contour with filled color in it
image = cv2.drawContours(image, [triangle_pnts],0,(0,0,255),-1)
```

***cv2 . draw contours()***ç”¨æ‰€éœ€çš„é¢œè‰²åœ¨ç»™å®šçš„è¾“å…¥å›¾åƒä¸Šä¸ºè¾“å…¥åæ ‡åˆ›å»ºè½®å»“ï¼Œå¡«å……è½®å»“å†…çš„æ•´ä¸ªåŒºåŸŸ(-1)ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯æˆ‘ä»¬éœ€è¦ç»˜åˆ¶çš„è½®å»“çš„ç´¢å¼•ï¼Œæˆ‘ä»¬ä¼ é€’äº† 0ï¼Œå› ä¸ºæˆ‘ä»¬ç”¨é¢œè‰²å¡«å……æ•´ä¸ªèº«ä½“ï¼Œä¸éœ€è¦è½®å»“ã€‚

è¿™ä¼šåœ¨ç™½è‰²èƒŒæ™¯ä¸Šäº§ç”Ÿä¸€ä¸ªçº¢è‰²ä¸‰è§’å½¢ã€‚

![](img/dec7c0d1f00b27e518c469966f83a9e4.png)

ç„¶åï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä»¥ä¸‹ä»£ç ç»˜åˆ¶ä¸€ä¸ªçŸ©å½¢:

```
bgr_rectangle = (0,255,0)start_point = (213,160)end_point = (426,360)image = cv2.rectangle(image,start_point,end_point,bgr_rectangle,-1)
```

åˆ›å»ºçŸ©å½¢æ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦èµ·ç‚¹(å·¦ä¸Šè§’ç‚¹)å’Œç»ˆç‚¹(å³ä¸‹è§’ç‚¹)ä»¥åŠ in -1 åšåº¦ï¼Œå› ä¸ºå®ƒç”¨ä¸€ç§é¢œè‰²å¡«å……çŸ©å½¢ã€‚è¿™å°†å¯¼è‡´ç»¿è‰²çš„çŸ©å½¢ã€‚

![](img/8d414f1713f708e1d76c76bd07024b67.png)

ç»§ç»­åˆ›å»ºä¸€æ‰‡é—¨å’Œä¸¤æ‰‡çª—ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ç›¸åŒçš„***cv2 . rectangle()***ã€‚

ä½¿ç”¨ä¸‹é¢çš„ä»£ç ï¼Œå®ç°äº†å·¦è¾¹çš„å›¾åƒã€‚

```
bgr_door = (255,0,0)start_point = (284,240)end_point = (355,360)image = cv2.rectangle(image,start_point,end_point,bgr_door,-1)
```

![](img/83914ac40019b23bd15d64f4b4816b72.png)![](img/4edd999660851c4b16ccf6dcc60444ca.png)

ä½¿ç”¨ä¸‹é¢çš„ä»£ç ï¼Œè·å¾—äº†æ­£ç¡®çš„å›¾åƒã€‚

```
bgr_window = (255,126,0)start_point = (255,180)end_point = (305,210)image = cv2.rectangle(image,start_point,end_point,bgr_window,-1)bgr_window = (255,126,0)start_point = (339,180)end_point = (389,210)image = cv2.rectangle(image,start_point,end_point,bgr_window,-1)
```

æˆ‘ä»¬ä½¿ç”¨ä¸‹é¢çš„ä»£ç æ¥æ˜¾ç¤ºå›¾åƒã€‚

```
cv2.imshow('image',image)cv2.waitKey()cv2.destroyAllWindows()
```

***cv2.imshow(captionï¼Œimage)*** æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œå…¶ä¸­åŒ…æ‹¬å›¾åƒçª—å£å’Œå›¾åƒæ•°ç»„çš„æ ‡é¢˜ã€‚

***cv2 . waitkey()***ç”¨äºä½¿çª—å£ç›´åˆ°é”®ç›˜ä¸­æ–­ï¼Œæˆ–è€…æˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸€ä¸ªæ—¶é—´é€€å‡ºçª—å£ã€‚

***cv2 . destroyallwindows()***ç”¨äºåœ¨ç­‰å¾…ç»“æŸåé”€æ¯æ‰€æœ‰çª—å£ã€‚

è¿™ä¸‰è¡Œç”¨äºåœ¨ python ä¸­ä½¿ç”¨ OpenCV æ—¶æ˜¾ç¤ºå›¾åƒã€‚

## è£å‰ªå›¾åƒå¹¶äº¤æ¢è£å‰ªçš„éƒ¨åˆ†

æˆ‘ä»¬å°†è£å‰ªå›¾åƒå¹¶äº¤æ¢å®ƒä»¬ã€‚å¯ä»¥ä½¿ç”¨å¯¹é˜µåˆ—çš„åˆ‡ç‰‡æ“ä½œæ¥è£å‰ªå›¾åƒã€‚

ä½¿ç”¨ä»¥ä¸‹ä»£ç åŠ è½½å›¾åƒ:

```
image_one = cv2.imread('image_one.jpg')image_two = cv2.imread('image_two.jpg')
```

![](img/182b5110482dea9b6e8bafbf8e76af7b.png)

å›¾ç‰‡ _ ä¸€

![](img/d7045fa97f2deef5fc372ce077958b31.png)

å›¾ç‰‡ _ äºŒ

æˆ‘ä»¬å°†ä½¿ç”¨åˆ‡ç‰‡æ“ä½œæ¥è£å‰ªå›¾åƒã€‚

```
image_one_crop = image_one[256:512,240:720].copy()image_two_crop = image_two[256:512,240:720].copy()
```

![](img/e0e1f46b95345d376e79b102e7700dae.png)![](img/732834ed8c94d5119fbf12292a5b87c3.png)

è£å‰ªéƒ¨åˆ†

Python ä½¿ç”¨å†…å­˜å¼•ç”¨ï¼Œè€Œå˜é‡ä½¿ç”¨ç›¸åŒçš„å€¼ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦å°†å…ƒç´ å¤åˆ¶åˆ°å˜é‡ä¸­ã€‚å¦‚æœæˆ‘ä»¬ä¸ä½¿ç”¨ copy()ï¼Œé‚£ä¹ˆå®ƒå°†åœ¨äº¤æ¢æ—¶è¦†ç›–åƒç´ ï¼Œå¹¶ä¸”åªæœ‰ä¸€ä¸ªå›¾åƒå°†è¢«è£å‰ªéƒ¨åˆ†æ›¿æ¢ã€‚

ç°åœ¨ï¼Œäº¤æ¢è£å‰ªéƒ¨åˆ†ï¼Œç„¶åä½¿ç”¨ä¸‹é¢çš„ä»£ç ç”¨äº¤æ¢çš„è£å‰ªéƒ¨åˆ†æ›¿æ¢å›¾åƒã€‚

```
# swapping the cropped part
image_one_crop, image_two_crop = image_two_crop, image_one_crop
```

ç„¶åï¼Œæˆ‘ä»¬å°†åˆ†é…ç»™åŸå§‹å›¾åƒçš„è£å‰ªå’Œäº¤æ¢éƒ¨åˆ†ã€‚

```
image_one[256:512,240:720] = image_one_cropimage_two[256:512,240:720] = image_two_crop
```

![](img/0ca6403f7dc0b15a280574c7b1438075.png)![](img/70a4d97c294357f4f81018ae697cbbfc.png)

## è¿æ¥ä¸¤ä¸ªå›¾åƒå¹¶åˆ›å»ºä¸€ä¸ªå›¾åƒ

ä¸ºäº†å¯¹å›¾åƒæ‰§è¡Œè¿æ¥æ“ä½œï¼Œæˆ‘ä»¬åªéœ€è¦ä½¿ç”¨***NP . hs stack()***æˆ–***NP . vs stack()***æ¥è¿æ¥æ•°ç»„ã€‚

***NP . hs stack()***å°†å¸®åŠ©ä¸¤ä¸ªæ•°ç»„æ°´å¹³è¿æ¥ï¼Œ***NP . vs stack()***ç”¨äºå‚ç›´è¿æ¥ä¸¤ä¸ªæ•°ç»„ã€‚

ä½¿ç”¨ä¸‹é¢çš„ä»£ç ï¼Œæˆ‘ä»¬æ°´å¹³å’Œå‚ç›´åœ°è¿æ¥äº†ä¸¤å¹…å›¾åƒã€‚

```
image_join_1 = np.hstack([image_1,image_2])image_join_2 = np.hstack([image_2,image_1])image_join = np.vstack([image_join_1,image_join_2])
```

ç°åœ¨ï¼Œå›¾åƒæ˜¯åŸå§‹å°ºå¯¸çš„ 4 å€ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦ä½¿ç”¨é€šå¸¸ç”¨äºç¼©å°å›¾åƒå°ºå¯¸çš„ ***INTER_AREA*** æ’å€¼å°†å›¾åƒå°ºå¯¸è°ƒæ•´åˆ°åŸå§‹å°ºå¯¸ã€‚

```
dims = (image_1.shape[1],image_1.shape[0])resized = cv2.resize(image_join,dims,interpolation=cv2.INTER_AREA)
```

ç°åœ¨å›¾åƒç»ˆäºè¢«åˆ›å»ºäº†ã€‚

![](img/d57c1ff2559ff423aea9c2d0a7b5e75f.png)

æ˜¯çš„ï¼Œæˆ‘ä»¬å®Œæˆäº†æˆ‘ä»¬çš„è®®ç¨‹ã€‚ç»™ä¸€ä¸ªğŸ‘ï¼Œå¦‚æœä½ è§‰å¾—æœ‰è¶£çš„è¯ã€‚

[](https://github.com/Launchpad5682/summer_training_21/tree/main/task_4) [## å¯åŠ¨å¹³å° 5682/summer_training_21

### æ­¤æ—¶æ‚¨ä¸èƒ½æ‰§è¡Œè¯¥æ“ä½œã€‚æ‚¨å·²ä½¿ç”¨å¦ä¸€ä¸ªæ ‡ç­¾é¡µæˆ–çª—å£ç™»å½•ã€‚æ‚¨å·²åœ¨å¦ä¸€ä¸ªé€‰é¡¹å¡ä¸­æ³¨é”€ï¼Œæˆ–è€…â€¦

github.com](https://github.com/Launchpad5682/summer_training_21/tree/main/task_4)