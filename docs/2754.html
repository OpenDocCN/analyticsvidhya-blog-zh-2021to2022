<html>
<head>
<title>Personal Film Content Analysis</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">个人电影内容分析</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/personal-film-content-analysis-word-cloud-ad867c772775?source=collection_archive---------20-----------------------#2021-05-15">https://medium.com/analytics-vidhya/personal-film-content-analysis-word-cloud-ad867c772775?source=collection_archive---------20-----------------------#2021-05-15</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="03bd" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">由于我有写日志的习惯，所以，我看的电影或戏剧也记录在我的日志里。在收集了大约4年的每日日志数据后，我想看看我看得最多的是哪种电影。为了得到这个答案，我用了两种方法。基本上，这两种方式也是基于WordCloud模块，但是输入不同。第一个纯粹只是使用电影片名第二个是用自己定义的类型给每部电影贴上标签，然后以此作为输入。</p></div><div class="ab cl jc jd go je" role="separator"><span class="jf bw bk jg jh ji"/><span class="jf bw bk jg jh ji"/><span class="jf bw bk jg jh"/></div><div class="ha hb hc hd he"><p id="3b2e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">第一步是获取数据并清理数据。我们需要的信息只是电影内容，所以首先我们用我们需要的列创建日期框架。然后我们通过设置这个条件过滤掉空值:<strong class="ig hi"> <em class="jj"> ac_log['Film']。isnull()==False </em> </strong>。<br/>之后，我们将电影内容的“新闻”输入到每一行数据中，如果它不包括这些信息，因为我实际上每天都在看新闻，但不知何故在某些时候我不再记录它了。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es jk"><img src="../Images/0bbea04bc0873f22604800bc3b15be95.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r1ZOFcLHi_wu4ANHkCps4g.png"/></div></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">将该电影内容添加到新闻数据中</figcaption></figure><p id="5545" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">然后下一步就是调整格式了，因为影片是以斜杠作为分隔符的XXX/XXX/XXX这样的格式录制的。为了使每一行成为独立的电影内容，我们必须将其拆分，然后附加到我们之前创建的数据帧中。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es jk"><img src="../Images/6455fa2bed10d6b2cced1b82ce9ce5ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MOKbzXC1qlySSc7-ti33ZA.png"/></div></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">调整数据格式</figcaption></figure><p id="88a6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">经过处理后，我们将得到如下表所示的结果。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es ka"><img src="../Images/c92db4546e33a6cb2ec5d273e80c5989.png" data-original-src="https://miro.medium.com/v2/resize:fit:1050/format:webp/1*pig2DOLvArvha1Pi5mF-ig.png"/></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">格式调整后的表格</figcaption></figure><p id="ae54" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们得到的数据范围是2017年到2021年，然而数据标注只做了2017年到2020年，所以这里需要过滤掉2021年的数据。同时，我们还想删除里面带“-”表示没有值的数据。在处理完所有这些事情之后，我们创建一个名为“count”的列来帮助我们以后做一些计算。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es kb"><img src="../Images/9ca7a904fe0e5cdeec64b7f1bae7f215.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kWJZ6R9kUDSvG_loSkFdYA.png"/></div></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">过滤掉2021年的数据</figcaption></figure><p id="027b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">然后，我们用计数列将数据按胶片分组，以计算每张胶片的计数。下表显示了这一结果，显然我看了相当多的中国历史剧。然而，我实际上也看了很多纪录片，但由于这些纪录片不在同一个系列中，因此它们不会显示在这个计数排名表中。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es kc"><img src="../Images/bdcf7146026bb78877801f5e0a43c767.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BTse8iNXvXvwV9iiXAuJMg.png"/></div></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">电影计数表</figcaption></figure><p id="c3b2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为了去神秘化我实际看的是什么样的内容，标签表是必不可少的。一开始，我试图寻找是否有一个AI工具可以帮助我标记这些电影内容，但遗憾的是我还没有找到。如果你正在阅读我的文章，并且知道如何做，请给我留言，因为这将节省我大量的时间🙏。在找到这个好工具之前，唯一的标注方式就是一个一个的手工标注。总的来说，我根据自己的主观判断将我的电影内容分为30类。那么我们将得到如下表所示的结果。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es kd"><img src="../Images/ccc1e9576f7975713f5fd07dfdddd771.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*421-yB9a9F1gsnNRRLafEQ.png"/></div></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">胶片标签表</figcaption></figure><p id="4d72" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">由于我们没有2016年的任何电影记录数据，所以需要过滤掉2016年的数据。此外，2017年和2018年的标签数据也不完整，但在这里我们只是凑合着用，因为标签数据真的很繁琐😞。下表显示了薄膜标签的内容。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es ke"><img src="../Images/d956d0c5157c8dae088f0acf308e8bf2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*95hXGI9xfN3aMJdQgoPIPg.png"/></div></div></figure><p id="5510" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">但是，由于电影标签也像电影记录一样用斜线分割，所以我们也需要像电影记录一样做一些格式调整。因此，我们将得到如下表所示的结果。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es kf"><img src="../Images/e7c6d4482b51cc85eab5b95263f45dff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kqjt8uJI3w5IeMi1SxvsWA.png"/></div></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">调整后的胶片标签表</figcaption></figure><p id="5dd7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">下一步是将胶片记录数据与标签表进行匹配。这里我们用difflib模块来完成这个过程。并且如果电影记录可以在标签表中找到匹配的电影名称(足够相似以匹配)，则标签表的电影名称将被给予电影记录，否则它将被给予值0。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es kg"><img src="../Images/adbbdd93f9ea2f86815b30129979367a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pkeqSqw7mUajcVpxEXftwA.png"/></div></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">胶片匹配过程</figcaption></figure><p id="3396" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">之后，我们检查丢失的数据，发现大约有870个数据丢失。大约有三分之一的数据丢失，这个结果并不理想。正如我们所知，2017年至2018年<strong class="ig hi">的电影数据不是真正干净的</strong>，我们也没有将这两年的所有电影记录放入标签流程。然而，我们<strong class="ig hi">现在可能还不能处理这个，</strong>但是我们会用这个来看看结果会怎么样。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es kh"><img src="../Images/cbc9c8aac665b908426c49c8901f712b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S8zuvyEEzJ9vt5FMGqBn_Q.png"/></div></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">丢失数据表</figcaption></figure><p id="be1d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">然后，我们将匹配标签表的结果与电影记录表合并，如下所示。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es ki"><img src="../Images/bb700e748eccc01379796d01f7dc14de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qiRka8mmE7QgsX-6penWwA.png"/></div></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">带有标签的电影记录的合并结果</figcaption></figure><p id="6e84" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们根据电影标签对数据进行分组。在这里，我们可以发现我看的前5个电影类别是<strong class="ig hi">新闻、历史、戏剧、世界和纪录片</strong>。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es kj"><img src="../Images/178f1c8a215df32152f6cfd0b7a12f22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IQse6uCyNun2v5zU4hcDGg.png"/></div></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">电影标签数量排名</figcaption></figure><p id="7ae5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">最后，让我们用上面提到的两种方法来看看“云”这个词。第一种方法基于电影名称，第二种方法基于电影标签。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es kk"><img src="../Images/97dcc834fc29d98b3f5dd6fc8d26bdf8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oScT3PkXdIn3ZNNVuM5fPQ.png"/></div></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">电影片名的字云</figcaption></figure><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es kl"><img src="../Images/993b9afaa27704cb90d3597e1e68465a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oQyy9JFImQFFX_lk1aQ9Bw.png"/></div></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">电影标签的文字云</figcaption></figure></div><div class="ab cl jc jd go je" role="separator"><span class="jf bw bk jg jh ji"/><span class="jf bw bk jg jh ji"/><span class="jf bw bk jg jh"/></div><div class="ha hb hc hd he"><p id="a4f1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">总结一下，我的五大电影类别<strong class="ig hi">新闻、历史、戏剧、世界、纪录片</strong>。我看的大部分电视剧都与历史有关。纪录片这种电影类型在某种程度上也是与历史相关的电影类型。据此，我们可以推断我可能是喜欢<strong class="ig hi">听故事</strong>、<strong class="ig hi">从历史</strong>中学习并且<strong class="ig hi">对世界上发生的事情</strong>好奇的人。</p><div class="jl jm jn jo fd ab cb"><figure class="km jp kn ko kp kq kr paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><img src="../Images/0f7193e1841016be90005b417f5bd8cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:994/format:webp/1*mfJOuJIO-02XNIwT_Rib1w.png"/></div></figure><figure class="km jp ks ko kp kq kr paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><img src="../Images/e6def10540b5ebc259c2aa416dfe29c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1008/format:webp/1*y8prtbfbHWhRW40w-lrMmQ.png"/></div></figure></div></div></div>    
</body>
</html>