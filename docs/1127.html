<html>
<head>
<title>Correlation Status: It’s Complicated</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">相关状态:很复杂</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/correlation-status-its-complicated-97a945bb68a1?source=collection_archive---------18-----------------------#2021-02-15">https://medium.com/analytics-vidhya/correlation-status-its-complicated-97a945bb68a1?source=collection_archive---------18-----------------------#2021-02-15</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div class="er es ie"><img src="../Images/675cdca96b4fb0df088cdf84b883be52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1326/format:webp/1*KfcL6ESV8FebhoWp7IIhJA.jpeg"/></div></figure><p id="dbb1" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">这篇文章讲的都是<strong class="in hi"><em class="jj">关系。</em> </strong>两个自变量之间的关系。这些变量是如何关联的，它们的关联有多强。我们将一步一步来，并尝试讨论相关性的每个方面。</p><p id="ddd7" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">首先，我们来讨论一个非常重要的术语<strong class="in hi">协方差</strong>。协方差说明变量之间的关系。如果协方差为正，这意味着如果一个变量增加，其他变量也会增加，如果为负，这意味着如果一个变量增加，其他变量会减少。</p><figure class="jl jm jn jo fd ii er es paragraph-image"><div class="er es jk"><img src="../Images/4302559a3e4222e55663694042804110.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/1*OnuXbSjqOMaildI06s3HnQ.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">方差和协方差方程</figcaption></figure><blockquote class="jt ju jv"><p id="7ea5" class="il im jj in b io ip iq ir is it iu iv jw ix iy iz jx jb jc jd jy jf jg jh ji ha bi translated">仔细看协方差方程，如果我们把<strong class="in hi">【Y】</strong>换成<strong class="in hi">【X】</strong>，那么它就是方差方程。因此我们可以说</p><p id="0583" class="il im jj in b io ip iq ir is it iu iv jw ix iy iz jx jb jc jd jy jf jg jh ji ha bi translated"><strong class="in hi"> COV(X，X)= VAR(X) </strong></p></blockquote><p id="b6f5" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">现在你一定在想，如果协方差告诉我们变量是如何相关的，那么我们为什么需要相关性。因为协方差告诉我们关系的<strong class="in hi">方向</strong>，而相关性告诉我们关系的<strong class="in hi">强度</strong>。</p><p id="fe7f" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">我们将讨论三种计算变量相关性的方法。</p><ol class=""><li id="1118" class="jz ka hh in b io ip is it iw kb ja kc je kd ji ke kf kg kh bi translated">卡尔·皮尔逊相关系数</li><li id="7327" class="jz ka hh in b io ki is kj iw kk ja kl je km ji ke kf kg kh bi translated">斯皮尔曼等级相关系数</li><li id="b50e" class="jz ka hh in b io ki is kj iw kk ja kl je km ji ke kf kg kh bi translated">肯德尔氏τ</li></ol><h1 id="b285" class="kn ko hh bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">卡尔·皮尔逊相关系数</h1><figure class="jl jm jn jo fd ii er es paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="er es ll"><img src="../Images/54f70a3609aeaaef4eb556f90c98ff5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FtT6c4T8yYW3ZKYtC3P1ng.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">皮尔逊相关系数的公式</figcaption></figure><p id="734a" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">使用皮尔逊相关系数时，必须记住这几点。</p><ol class=""><li id="bb2d" class="jz ka hh in b io ip is it iw kb ja kc je kd ji ke kf kg kh bi translated">相关系数的值总是在<strong class="in hi"> 1 </strong>之间。</li><li id="13ec" class="jz ka hh in b io ki is kj iw kk ja kl je km ji ke kf kg kh bi translated">相关系数与<strong class="in hi">原点和</strong>标度无关。</li><li id="adae" class="jz ka hh in b io ki is kj iw kk ja kl je km ji ke kf kg kh bi translated">变量之间的关系是<strong class="in hi">线性的。</strong></li><li id="5e6b" class="jz ka hh in b io ki is kj iw kk ja kl je km ji ke kf kg kh bi translated">变量是相互独立的。</li><li id="f4ab" class="jz ka hh in b io ki is kj iw kk ja kl je km ji ke kf kg kh bi translated">变量应形成<strong class="in hi">正态分布</strong>。</li></ol><p id="03e4" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">皮尔逊相关系数确实有一些缺点。当变量是非线性的或有一些异常值时。</p><figure class="jl jm jn jo fd ii er es paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="er es lq"><img src="../Images/ec316083903b3452a2f5057d505493c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hZcanDfPC6SHhX9OnfQ-ug.jpeg"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图1显示了异常值，图2显示了非线性问题</figcaption></figure><p id="bad6" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">这两种情况都不会显示正确的相关值。为了克服这个缺点，我们使用Spearman的等级相关系数。</p><h1 id="958d" class="kn ko hh bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">斯皮尔曼等级相关系数</h1><p id="f982" class="pw-post-body-paragraph il im hh in b io lr iq ir is ls iu iv iw lt iy iz ja lu jc jd je lv jg jh ji ha bi translated">斯皮尔曼等级相关系数是卡尔·皮尔逊相关系数的非参数版本。当数据不是正态分布时使用。</p><h2 id="1ee3" class="lw ko hh bd kp lx ly lz kt ma mb mc kx iw md me lb ja mf mg lf je mh mi lj mj bi translated">没有并列的队伍。</h2><figure class="jl jm jn jo fd ii er es paragraph-image"><div class="er es mk"><img src="../Images/f5326cbfb59bbed771e925f1558f314c.png" data-original-src="https://miro.medium.com/v2/resize:fit:348/format:webp/1*ZY24QhOxtYjRslpEUjc6Dg.jpeg"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">不存在并列等级时的Spearman等级相关系数公式</figcaption></figure><p id="7f8f" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">计算Spearman等级相关系数需要遵循的步骤</p><ol class=""><li id="e6b3" class="jz ka hh in b io ip is it iw kb ja kc je kd ji ke kf kg kh bi translated">基于变量值分配等级。</li><li id="4f9c" class="jz ka hh in b io ki is kj iw kk ja kl je km ji ke kf kg kh bi translated">计算变量等级之间的差异(d)。</li><li id="253d" class="jz ka hh in b io ki is kj iw kk ja kl je km ji ke kf kg kh bi translated">计算d，即变量等级之间差值(d)的平方。</li><li id="8e83" class="jz ka hh in b io ki is kj iw kk ja kl je km ji ke kf kg kh bi translated">将d求和，放入斯皮尔曼秩的公式中，计算相关性。</li></ol><p id="ad1c" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi"> <em class="jj">例:</em>无并列兵卒例。</strong></p><figure class="jl jm jn jo fd ii er es paragraph-image"><div class="er es ml"><img src="../Images/d87544ffac6733296888ec10aa68c3f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:968/format:webp/1*yUWtvtqQ-vniWCWbZ7XlLg.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated"><em class="mm">例子:</em>没有并列名次的例子。</figcaption></figure><p id="df81" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">我们必须为分数和学习时间分配等级。分数排名1，学习时间排名2，然后我们计算d，即变量排名之间的差异。最后，我们计算了d并总结了。</p><p id="fb41" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">将值放入公式d =194和n=10中。我们得到相关性= -0.17</p><h2 id="04d0" class="lw ko hh bd kp lx ly lz kt ma mb mc kx iw md me lb ja mf mg lf je mh mi lj mj bi translated"><strong class="ak">如何处理并列排名</strong></h2><p id="ab2d" class="pw-post-body-paragraph il im hh in b io lr iq ir is ls iu iv iw lt iy iz ja lu jc jd je lv jg jh ji ha bi translated">并列等级意味着如果变量中的两个条目具有相同的值，那么它们的等级也将相同，在这种情况下，我们必须分配相同的等级。对于这种情况，有一个不同的公式</p><figure class="jl jm jn jo fd ii er es paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="er es mn"><img src="../Images/2696eff0dfc34969283e7fa2e476ef7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1338/format:webp/1*cpQMstmHW-mid7e2JdsVUw.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">存在并列秩时的Spearman秩相关系数公式</figcaption></figure><p id="d171" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">但这只有在相同的级别很少的情况下才会起作用。在有很多秩相同的情况下，我们更喜欢肯德尔的τ</p><h1 id="7c31" class="kn ko hh bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">肯德尔氏τ</h1><p id="aea9" class="pw-post-body-paragraph il im hh in b io lr iq ir is ls iu iv iw lt iy iz ja lu jc jd je lv jg jh ji ha bi translated">肯德尔的Tau是对已排序数据列之间关系的非参数度量</p><p id="53f7" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi"> <em class="jj">肯德尔的τ=(C—D/C+D)</em></strong><br/>其中C是和谐对的个数，D是不和谐对的个数。</p><p id="7351" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">Concordant指定当前值之下的<strong class="in hi">比当前值大</strong>多少个值。</p><p id="bb85" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">不一致指定当前值下面有多少个值比当前值小。</p><p id="5bc6" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">计算肯德尔τ需要遵循的步骤</p><ol class=""><li id="920c" class="jz ka hh in b io ip is it iw kb ja kc je kd ji ke kf kg kh bi translated">根据参数分配等级1和等级2</li><li id="8faf" class="jz ka hh in b io ki is kj iw kk ja kl je km ji ke kf kg kh bi translated">排序等级1</li><li id="f492" class="jz ka hh in b io ki is kj iw kk ja kl je km ji ke kf kg kh bi translated">使用秩2计算和谐和不和谐</li><li id="e22f" class="jz ka hh in b io ki is kj iw kk ja kl je km ji ke kf kg kh bi translated">将最终值放入公式<strong class="in hi"> <em class="jj"> (C — D / C + D) </em> </strong></li></ol><p id="9dc2" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi"> <em class="jj">例题</em> </strong></p><figure class="jl jm jn jo fd ii er es paragraph-image"><div class="er es mo"><img src="../Images/e04716392ad0a175e344dadaa2aad2ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:978/format:webp/1*uCOVhrQbXBqwusU3_Tjw4g.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated"><strong class="bd kp"> <em class="mm">例题</em> </strong></figcaption></figure><p id="9fb3" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在这个例子中，我们已经计算了等级1和等级2，按照升序排列等级1。</p><p id="5856" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">现在我们可以计算C和D值C=9和D=1，将这些项放入公式中，我们得到<em class="jj">肯德尔的τ= 0.8</em>。</p><p id="6402" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi">最终想法</strong></p><p id="b8aa" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">理解相关性非常重要，因为它可以帮助我们了解drop特性。我们可以去掉相关的特征。也有很多方法来计算它。我们可以根据数据集选择一种方法。没有一种方法是完全正确或错误的，这取决于哪种数据会给出更好的结果。</p></div></div>    
</body>
</html>