<html>
<head>
<title>Boid Simulator: Coding Challenge #1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Boid模拟器:编码挑战#1</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/coding-challenge-1-boid-simulator-f3cf37d939f4?source=collection_archive---------15-----------------------#2021-06-19">https://medium.com/analytics-vidhya/coding-challenge-1-boid-simulator-f3cf37d939f4?source=collection_archive---------15-----------------------#2021-06-19</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/d8d7d4bfe9fe6886d879ad179af28688.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*40VswSP8_cvk4MeDHaREcA.jpeg"/></div></div></figure><p id="1fef" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这是探索初学者和专家面临的各种编码挑战的系列文章的第一部分。这些文章将深入探讨各种项目的概念，同时保持一切简单明了，易于理解。我将不包括任何真正的代码，以便让您可以用您喜欢的任何语言或框架来创建这个项目。</p></div><div class="ab cl jn jo go jp" role="separator"><span class="jq bw bk jr js jt"/><span class="jq bw bk jr js jt"/><span class="jq bw bk jr js"/></div><div class="ha hb hc hd he"><h1 id="21e1" class="ju jv hh bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">什么是boid？</h1><p id="41c0" class="pw-post-body-paragraph ip iq hh ir b is ks iu iv iw kt iy iz ja ku jc jd je kv jg jh ji kw jk jl jm ha bi translated">boid这个词来自克雷格·雷诺兹开发的一个模拟鸟类群集行为的程序。这种行为也非常类似于鱼类和其他群居动物的行为。虽然在最初的观察中，鸟类的行为似乎非常复杂，但Craig Reynolds提出了三种基本行为，当它们一起实施时，模拟了这种非常复杂的行为。这被称为紧急行为。直到今天，这些基本规则仍然被用来在电子游戏中产生成群的鸟和鱼。</p><figure class="kz la lb lc fd ii er es paragraph-image"><div class="er es ky"><img src="../Images/93a4f8049e4e10f62f62af1235c43f55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/0*B6zH8BzpaZGVE39S"/></div></figure><p id="473c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这三种行为如下:</p><ul class=""><li id="0355" class="ld le hh ir b is it iw ix ja lf je lg ji lh jm li lj lk ll bi translated"><strong class="ir hi">隔离</strong>:引导以避免拥挤当地的羊群同伴</li><li id="b65e" class="ld le hh ir b is lm iw ln ja lo je lp ji lq jm li lj lk ll bi translated"><strong class="ir hi">对准</strong>:朝着当地羊群同伴的平均航向</li><li id="1d94" class="ld le hh ir b is lm iw ln ja lo je lp ji lq jm li lj lk ll bi translated">凝聚力:引导向当地群体成员的重心移动</li></ul><figure class="kz la lb lc fd ii er es paragraph-image"><div class="er es lr"><img src="../Images/6633ad0e0bc5971becbd6ac36529b7fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:796/format:webp/0*QlQebjna1PiSdv7v.png"/></div></figure><p id="3adc" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">除此之外，每个boid通常都有一个圆锥/扇形视野。这可以防止boids对它不应该看到的其他boids做出反应。显然，真实的动物看不到自己身后，所以模拟这种行为也是有意义的。在代码中，这往往被实现为boid的设定角度之间的大量光线投射。在光线投射不可用的情况下，也可以通过数学计算当前boid和另一个boid之间的直线，并检查距离和角度是否在各自的限制范围内，来手动完成。强烈建议使用类来表示每个boid，否则会使这个过程变得更加困难。该类应该保存一个x，y和旋转变量以及每个规则的函数。或者，该类可以保存一个向量变量来保存所有三个值。</p><h1 id="f8fa" class="ju jv hh bd jw jx ls jz ka kb lt kd ke kf lu kh ki kj lv kl km kn lw kp kq kr bi translated">Boid分离</h1><p id="c1d5" class="pw-post-body-paragraph ip iq hh ir b is ks iu iv iw kt iy iz ja ku jc jd je kv jg jh ji kw jk jl jm ha bi translated">这对于boid的行为是至关重要的，因为它确保它们不会相互碰撞。这是最基本的行为，对让每个boid看起来有智能大有帮助。在代码中，这可以通过光线投射来完成，如果另一个boid被击中，则转向与该光线相反的方向。同样，如果光线投射不可用，你可以使用一些矢量数学计算出附近任何物体的方向，然后转向相反的方向。你必须记住，每个机器人必须避开它视野范围内的所有其他机器人，并且平均转向方向。我不建议直接将角度设置为任何特定值。相反，轻推旋转看起来更平滑、更真实。</p><h1 id="ecbb" class="ju jv hh bd jw jx ls jz ka kb lt kd ke kf lu kh ki kj lv kl km kn lw kp kq kr bi translated">Boid对齐</h1><p id="29c2" class="pw-post-body-paragraph ip iq hh ir b is ks iu iv iw kt iy iz ja ku jc jd je kv jg jh ji kw jk jl jm ha bi translated">这是创造群居鸟类的一般行为的规则，它们和群居的鸟一样朝同一个方向移动。这是非常简单的实现，只需要找到视觉锥内的boids和查询他们当前的旋转。附近所有其他boid的平均旋转可以用于通知每个boid的旋转。同样，建议轻推旋转，而不是将其设置为平均值，以防止方向突然改变。</p><h1 id="2270" class="ju jv hh bd jw jx ls jz ka kb lt kd ke kf lu kh ki kj lv kl km kn lw kp kq kr bi translated">Boid内聚力</h1><p id="7629" class="pw-post-body-paragraph ip iq hh ir b is ks iu iv iw kt iy iz ja ku jc jd je kv jg jh ji kw jk jl jm ha bi translated">这是最后一条规则，它创造了boids中最漂亮的行为之一。内聚性是在boids/birds中产生漩涡图案的原因，在飞行过程中它们看起来像是在互相绕圈。这也很容易实现，并且需要找到附近所有boids的平均位置(不是旋转)。平均这些位置给出了每组boid的中心靠近每个boid。现在，将旋转推向那个中心点是实现内聚力所需要的。</p><h1 id="2e18" class="ju jv hh bd jw jx ls jz ka kb lt kd ke kf lu kh ki kj lv kl km kn lw kp kq kr bi translated">结论</h1><p id="ba19" class="pw-post-body-paragraph ip iq hh ir b is ks iu iv iw kt iy iz ja ku jc jd je kv jg jh ji kw jk jl jm ha bi translated">一旦这些规则被实现，你应该有一个像样的boid模拟。您可能需要调整每个规则的一些旋转强度来优化行为。从这里开始，您可以进行各种修改来添加功能:</p><ul class=""><li id="3f21" class="ld le hh ir b is it iw ix ja lf je lg ji lh jm li lj lk ll bi translated">(简单)如果您的原始实现是2D，尝试将其转换为3D</li><li id="ab7e" class="ld le hh ir b is lm iw ln ja lo je lp ji lq jm li lj lk ll bi translated">(中等)增加一个强大的风力来影响羊群</li><li id="682f" class="ld le hh ir b is lm iw ln ja lo je lp ji lq jm li lj lk ll bi translated">(中等)添加栖息行为，以便鸟儿在继续前进之前在屏幕底部停留一段时间。</li><li id="71f6" class="ld le hh ir b is lm iw ln ja lo je lp ji lq jm li lj lk ll bi translated">(硬)创造一个捕食者，机器人必须避免造成群体分散</li></ul></div></div>    
</body>
</html>