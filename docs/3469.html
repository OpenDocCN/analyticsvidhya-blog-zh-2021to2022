<html>
<head>
<title>Here’s how I used Azure ML studio to build a regression model using an e-commerce dataset</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">下面是我如何使用Azure ML studio通过电子商务数据集构建回归模型</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/heres-how-i-used-azure-ml-studio-to-build-a-regression-model-using-an-e-commerce-dataset-c8ad1b2807ba?source=collection_archive---------5-----------------------#2021-07-02">https://medium.com/analytics-vidhya/heres-how-i-used-azure-ml-studio-to-build-a-regression-model-using-an-e-commerce-dataset-c8ad1b2807ba?source=collection_archive---------5-----------------------#2021-07-02</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="1a28" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在下面的例子中，我使用一个电子商务数据集来建立一个回归模型。这里我们使用Azure ML studio堆栈来创建和测试我们的模型。它节省了大量时间，并创造了一些伟大的机器学习。</p><p id="0e22" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">线性回归可能是预测分析领域中使用的最基本的机器学习算法之一，如下图所示。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jc"><img src="../Images/c1dc4c6118086b84c1c4af8d6134aad4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Mur0UGGeu6YK-6F1Is5QVQ.png"/></div></div></figure><p id="9bf4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">变量X和Y有线性关系，如果知道这里的方程，我们也可以知道Y值对X值。“m”是“x”的系数，也是直线的斜率，“c”是截距，这意味着当x = 0时，c= y。</p><p id="4f5e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们使用的数据集来自Kaggle，可以在这里找到<a class="ae jo" href="https://www.kaggle.com/iyadavvaibhav/ecommerce-customer-device-usage" rel="noopener ugc nofollow" target="_blank">https://www . ka ggle . com/iyadavvaibhav/ecommerce-customer-device-usage</a></p><p id="859c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">让我们从加载数据集开始，一旦上传到Azure ML studio中，就像拖放一样简单。</p><div class="jd je jf jg fd ab cb"><figure class="jp jh jq jr js jt ju paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><img src="../Images/e35f0ee8171ae2185263f11d89f8dc16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1026/format:webp/1*W7Q_sn-fVkUi8Db0qL63cA.png"/></div></figure><figure class="jp jh jv jr js jt ju paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><img src="../Images/b0c454c11ca0d1fe594d21dd9cf7216a.png" data-original-src="https://miro.medium.com/v2/resize:fit:976/format:webp/1*SfFJjSI_6uyjd4zdHQdUbg.png"/></div><figcaption class="jw jx et er es jy jz bd b be z dx ka di kb kc translated">将我们的数据集上传并添加到空白实验中</figcaption></figure></div><p id="a9d5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">可视化我们的数据集很重要，让我们做一些EDA来理解数据集。</p><p id="398c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">因为我们打算在这个数据集上运行线性回归模型，所以我们需要使用列选择器来选择数据集中的所有数字列。</p><div class="jd je jf jg fd ab cb"><figure class="jp jh kd jr js jt ju paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><img src="../Images/4ab42af46e39cd2230e76585d0f9fa1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1512/format:webp/1*YS6IwEvcxXfrv7nquiJEcw.png"/></div></figure><figure class="jp jh ke jr js jt ju paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><img src="../Images/3a3c9bd972e72ae98516ca4df09379a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:490/format:webp/1*2NdO2j4tXON67YCphP7m-w.png"/></div><figcaption class="jw jx et er es jy jz bd b be z dx kf di kg kc translated">EDA使用Azure ML studio只需点击几下鼠标</figcaption></figure></div><p id="913f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">让我们在尝试建立模型之前检查一下我们的数据集是否有缺失值，我们需要去掉任何空白单元格，因为ML算法不支持这些单元格中的数据。</p><div class="jd je jf jg fd ab cb"><figure class="jp jh kh jr js jt ju paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><img src="../Images/cdc1b538c251513699700b82760778a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:998/format:webp/1*_CDnaKlgUKWiqo7gF5RdzA.png"/></div></figure><figure class="jp jh ki jr js jt ju paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><img src="../Images/58500acd89a305114f8570b20f93a898.png" data-original-src="https://miro.medium.com/v2/resize:fit:1004/format:webp/1*h-8O_XcRwb5JswLbT7Hrpg.png"/></div><figcaption class="jw jx et er es jy jz bd b be z dx kj di kk kc translated">从操作菜单中拖放“清除丢失的数据”,并重新可视化数据集，现在您可以看到它有0个丢失的值</figcaption></figure></div><p id="d4c6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在我们已经熟悉了数据集，让我们开始一些模型构建，我们可以尝试预测Y =每年花费的金额和X = [会员时间，网站时间，应用时间，平均。会话长度]</p><p id="4d20" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">接下来，我们必须将数据集分为训练和测试数据，这里我将分数设置为0.7，并随机固定种子。这意味着我们将70 %用于训练我们的模型，30 %用于预测和测试我们的模型。</p><p id="a6df" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们需要从机器学习菜单中拖放我们想要应用的模型，这里我们将使用经典的线性回归模型。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es kl"><img src="../Images/26dcd73ca90de8fe6ab422f15e82b5b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6ceHb0SY4rCLn0yZnvfczw.png"/></div></div></figure><p id="4d16" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">一旦我们选择了我们的模型，是时候训练它了，在运行实验后右键单击并可视化，我们得到如下输出。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es km"><img src="../Images/3a8d20b9622a6b4e8d291eee3fe3e240.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OD8_2bOwH6T1T5TXvln7yQ.png"/></div></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">特征权重</figcaption></figure><p id="8017" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">正如我们所看到的，我们得到的偏差为-1087.03，这只是回归方程的常数部分[1][2]</p><p id="05dc" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">预测变量的系数为</p><p id="3952" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">成员资格年限:61.3245年</p><p id="6441" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">App上的时间:38.7306</p><p id="af20" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">平均值。会话长度:26.0933</p><p id="7195" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">网站时间:1.10656</p><p id="c35f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们的回归方程:-1087.03+61.3245 *[会员时长]+38.7306 *[App上的时间]+26.0933 *[平均。会话长度]+1.10[在网站上的时间]</p><p id="f0dd" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">最后一项检查是预测值和预测变量之间的线性关系测试，因此通过检查数据集中所有变量之间的相关性来进行这个简单的测试。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es kn"><img src="../Images/7b266a2cbabecb05496d2a6fbebfc6b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i1n60agJYK-OqqhpWJwIoQ.png"/></div></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">预测值和预测变量之间的线性检验</figcaption></figure><p id="f83c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们注意到每年花在网站上的时间和花费之间的相关性接近0，我们可以安全地从回归方程中移除这个变量，因为这意味着这些变量在统计上彼此无关紧要。</p><p id="2381" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们最终的回归方程变成:</p><p id="7be7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">年消费金额=-1087.03+61.3245 *[会员时长]+38.7306 *[在App上的时间]+26.0933 *[平均。会话长度] </strong></p><p id="a03f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">还有最后一步，我们需要评估我们的模型，看看它的准确性。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es ko"><img src="../Images/f79d05bb897a15357c3fefbb516d3e98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q7-4cdGPh-rB6C8JiQst3g.png"/></div></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">模型评估</figcaption></figure><p id="0cdf" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们得到了一个模型，其决定系数或简单的R平方为0.98，这意味着它在98%的情况下都是非常适合和可靠的。这里我们有一个非常可靠的模型，只需点击一下就可以部署。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es kp"><img src="../Images/8a427aaec3702a51d0ef45b7f8cfc822.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e0_lyfQqexFONK9I47xp1A.png"/></div></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">电子商务数据集的最终端到端工作回归模型</figcaption></figure><p id="043c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">参考资料:</p><p id="8c8b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">[1]<a class="ae jo" href="http://breaking-bi.blogspot.com/2017/03/azure-machine-learning-regression-using.html" rel="noopener ugc nofollow" target="_blank">http://breaking-bi . blogspot . com/2017/03/azure-machine-learning-regression-using . html</a></p><p id="bebd" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">[2]【https://www.youtube.com/watch?v=knFLC4CKajM】17:16/23:00</p></div></div>    
</body>
</html>