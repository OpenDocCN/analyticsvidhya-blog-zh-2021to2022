<html>
<head>
<title>MLOps deployment in to AWS Fargate: II</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">MLOpséƒ¨ç½²åˆ°AWS Fargate: II</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/analytics-vidhya/mlops-deployment-in-to-aws-fargate-ii-95321942b9e1?source=collection_archive---------8-----------------------#2021-01-07">https://medium.com/analytics-vidhya/mlops-deployment-in-to-aws-fargate-ii-95321942b9e1?source=collection_archive---------8-----------------------#2021-01-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/a838e5e44d63def6384ade0a0703889e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rdYTnHIljy7oBJeewD2pOQ.jpeg"/></div></div></figure><p id="4bd4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">æ¬¢è¿å­¦ä¹ ç«¯åˆ°ç«¯MLOpsçš„3éƒ¨åˆ†æ•™ç¨‹ï¼Œä»åŸ¹è®­ã€è·Ÿè¸ªã€éƒ¨ç½²å’Œæ¨ç†å¼€å§‹ã€‚</p><p id="10a0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ç¬¬1éƒ¨åˆ†:åœ¨AWS EC2ä¸Šè®¾ç½®MLflow</p><p id="baa9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ç¬¬2éƒ¨åˆ†:åœ¨AWS Fargateä¸Šéƒ¨ç½²MLOps</p><p id="64cd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ç¬¬3éƒ¨åˆ†:AWS Fargate: IIä¸Šçš„MLOpséƒ¨ç½²</p><p id="7b30" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ç»§ç»­ç¬¬3éƒ¨åˆ†â€¦</p><p id="394c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ä½ å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°æ‰€æœ‰ä½¿ç”¨è¿‡çš„ä»£ç <a class="ae jo" href="https://github.com/vaibhavsatpathy/psAI-clOps" rel="noopener ugc nofollow" target="_blank">çš„Githubåº“ï¼</a></p><p id="2bc3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">åœ¨ä¸Šä¸€éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬å·²ç»è®¾ç½®äº†å°†æ¨¡å‹éƒ¨ç½²åˆ°äº‘ç¯å¢ƒä¸­æ‰€éœ€çš„æ‰€æœ‰åŸºç¡€è®¾æ–½ã€‚æ—¢ç„¶åŸ¹è®­å·²ç»å®Œæˆï¼Œæˆ‘ä»¬å·²ç»æœ‰äº†å·¥ä»¶ï¼Œä¸‹ä¸€ä¸ªå…·æœ‰æŒ‘æˆ˜æ€§çš„ä»»åŠ¡æ˜¯åˆ›å»ºAPIï¼Œåˆ›å»ºä¸€ä¸ªåŒ…å«æ‰€æœ‰å¿…éœ€å†…å®¹çš„Dockeræ˜ åƒï¼Œå¹¶å°†å…¶è®¾ç½®åˆ°AWSä¸­ã€‚</p><p id="dc03" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ä¸ºäº†é¿å…æ‰‹åŠ¨åˆ›å»ºDockeré•œåƒåŠå…¶æ‰€æœ‰ä¾èµ–é¡¹çš„ç¹çä»»åŠ¡ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸€ä¸ªåä¸º<a class="ae jo" href="https://www.bentoml.ai/" rel="noopener ugc nofollow" target="_blank"> BentoML </a>çš„Pythonæ¡†æ¶ã€‚</p><p id="7a41" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">BentoMLä½¿å¼€å‘å’Œéƒ¨ç½²ç¥ç»æ¨¡å‹æˆä¸ºæ¯ä¸ªäººçš„èŒ¶ã€‚è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•è®¾ç½®pythonè„šæœ¬æ¥è·å¾—æƒ³è¦çš„ç»“æœã€‚</p><p id="70e0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">åˆ›å»ºAPIéœ€è¦ç¼–å†™ä¸¤ä¸ªpythonè„šæœ¬ã€‚ç¬¬ä¸€ä¸ªç”¨æ¥æ‰“åŒ…æ‰€æœ‰å¿…éœ€çš„å·¥ä»¶ï¼Œå¦ä¸€ä¸ªç”¨æ¥å£°æ˜æ‰€æœ‰å¿…éœ€çš„APIå’Œä¾èµ–é¡¹ã€‚</p><h2 id="3fbe" class="jp jq hi bd jr js jt ju jv jw jx jy jz jb ka kb kc jf kd ke kf jj kg kh ki kj bi translated">å…ˆå†³æ¡ä»¶:</h2><ol class=""><li id="65cc" class="kk kl hi is b it km ix kn jb ko jf kp jj kq jn kr ks kt ku bi translated">ç³»ç»Ÿä¸Šé…ç½®çš„AWSè´¦å·:<br/> CLIå®‰è£…:<a class="ae jo" href="https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-install.html" rel="noopener ugc nofollow" target="_blank">https://docs . AWS . Amazon . com/CLI/latest/user guide/CLI-chap-install . html</a>T7ã€‘è´¦å·é…ç½®:<a class="ae jo" href="https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-configure.html" rel="noopener ugc nofollow" target="_blank">https://docs . AWS . Amazon . com/CLI/latest/user guide/CLI-chap-configure . html</a></li><li id="4ccf" class="kk kl hi is b it kv ix kw jb kx jf ky jj kz jn kr ks kt ku bi translated">ç³»ç»Ÿä¸Šå®‰è£…çš„Docker</li><li id="ad0c" class="kk kl hi is b it kv ix kw jb kx jf ky jj kz jn kr ks kt ku bi translated">AWS ecs-cliå®‰è£…å’Œé…ç½®<br/> CLIå®‰è£…:<a class="ae jo" href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ECS_CLI_installation.html" rel="noopener ugc nofollow" target="_blank">https://docs . AWS . Amazon . com/AmazonECS/latest/developer guide/ECS _ CLI _ installation . html</a></li></ol><p id="45ce" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">I .ä½¿ç”¨<a class="ae jo" href="https://docs.bentoml.org/en/latest/quickstart.html" rel="noopener ugc nofollow" target="_blank"> BentoMLæŒ‡å—</a>å¼€å‘å¿…è¦çš„è„šæœ¬ã€‚</p><ol class=""><li id="b809" class="kk kl hi is b it iu ix iy jb la jf lb jj lc jn kr ks kt ku bi translated">ä¾¿å½“åŒ…è£…è„šæœ¬éœ€è¦ç»™å‡ºå·¥ä»¶çš„è·¯å¾„ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬ä»S3ä¸‹è½½æ–‡ç‰©åˆ°æˆ‘ä»¬çš„æœ¬åœ°ç³»ç»Ÿï¼Œå¹¶ç»™å‡ºäº†ç›¸åº”çš„è·¯å¾„</li></ol><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ld"><img src="../Images/e2a2423d7f915f9a5030e37b65ac79d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QpgJvyhRdfImY310RlQPVg.png"/></div></div></figure><p id="d16e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.Bentoé¢„æµ‹è„šæœ¬éœ€è¦å°†æ‰€æœ‰çš„éœ€æ±‚å’ŒAPIç»“æ„æ•´åˆåˆ°AWSä¸­ã€‚</p><p id="dbf5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">è®©æˆ‘ä»¬æ¥çœ‹çœ‹å‰§æœ¬</p><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es li"><img src="../Images/08fcaaaf723e062594a52ee1e5bcacd1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XqhwDBRp-jA6bkzKuVPFmg.png"/></div></div></figure><p id="1107" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">decorator @bentoml.apiå¸®åŠ©åˆ›å»ºåä¸ºpredict_imageçš„apiå‡½æ•°ã€‚APIå·²ç»è¢«æ„å»ºä¸ºåœ¨å…¶è¯·æ±‚ä¸­æ¥æ”¶å­—èŠ‚æ ¼å¼çš„å›¾åƒæ–‡ä»¶ï¼Œä½œä¸ºå›æŠ¥ï¼Œå®ƒå°†å‘é€æ ‡ç­¾ã€‚</p><p id="c780" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">å¦‚æ‚¨æ‰€è§ï¼Œå¿…è¦çš„äººå·¥åˆ¶å“æ˜¯ä¸€ä¸ªåŸºäºTensorflowçš„æ¨¡å‹å’Œä¸€ä¸ªåŒ…å«æ ‡ç­¾çš„Jsonæ–‡ä»¶ã€‚</p><p id="5361" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">decorator @bentoml.envæœ‰åŠ©äºè‡ªåŠ¨ç”Ÿæˆrequirements.txtæ–‡ä»¶ï¼Œä»¥ä¾¿æ ¹æ®è„šæœ¬ä¸­å¯¼å…¥çš„åŒ…æ„å»ºDockeræ˜ åƒã€‚</p><p id="2068" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3.ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿è¡Œä¾¿å½“æ‰“åŒ…è„šæœ¬</p><pre class="le lf lg lh fd lj lk ll lm aw ln bi"><span id="a703" class="jp jq hi lk b fi lo lp l lq lr">python3 bento_package.py</span></pre><p id="477c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">4.è¿™å°†åˆ›å»ºä¸€ä¸ªä»¥UUIDä½œä¸ºå…¶æ–‡ä»¶å¤¹åç§°çš„æœ¬åœ°å­˜å‚¨åº“ï¼Œå®ƒå°†åŒ…å«æ„å»ºdockeræ˜ åƒå’Œæµ‹è¯•å…¶åŠŸèƒ½æ‰€éœ€çš„æ‰€æœ‰æ•°æ®ã€‚</p><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ls"><img src="../Images/c72a883c710c986fc588b3ea3611b193.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EWI-jDbhESV7Bfl7FcFXdA.png"/></div></div></figure><p id="4e47" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">5.ä¸ºäº†åœ¨æœ¬åœ°æµ‹è¯•ç»“æœï¼Œæˆ‘ä»¬éœ€è¦è¿è¡Œä»¥ä¸‹å‘½ä»¤:</p><pre class="le lf lg lh fd lj lk ll lm aw ln bi"><span id="afda" class="jp jq hi lk b fi lo lp l lq lr">bentoml serve ImageClassifier:latest</span></pre><p id="a592" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">äºŒã€‚<a class="ae jo" href="https://docs.bentoml.org/en/latest/deployment/aws_ecs.html" rel="noopener ugc nofollow" target="_blank">å°†BentoMLæ¨¡å‹æœåŠ¡å™¨è£…ç®±è¿›è¡Œéƒ¨ç½²</a></p><ol class=""><li id="d25c" class="kk kl hi is b it iu ix iy jb la jf lb jj lc jn kr ks kt ku bi translated">ä¸ºäº†åˆ›å»ºECSéƒ¨ç½²ï¼Œéœ€è¦å¯¹æ¨¡å‹æœåŠ¡å™¨è¿›è¡Œå®¹å™¨åŒ–ï¼Œå¹¶å°†å…¶æ¨é€åˆ°å®¹å™¨æ³¨å†Œä¸­å¿ƒ(ECR)</li><li id="1f33" class="kk kl hi is b it kv ix kw jb kx jf ky jj kz jn kr ks kt ku bi translated">æˆ‘ä»¬éœ€è¦ç™»å½•Docker</li></ol><pre class="le lf lg lh fd lj lk ll lm aw ln bi"><span id="6018" class="jp jq hi lk b fi lo lp l lq lr">aws ecr get-login-password --region us-east-2</span><span id="0adb" class="jp jq hi lk b fi lt lp l lq lr"><em class="lu"># Sample output (Authentication Token)</em><br/><br/>eyJ.................OOH</span></pre><p id="ac0e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3.ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ä¸­çš„è¾“å‡ºå¹¶æ·»åŠ æ‚¨çš„å¸æˆ·IDã€‚</p><pre class="le lf lg lh fd lj lk ll lm aw ln bi"><span id="0fa0" class="jp jq hi lk b fi lo lp l lq lr">docker login -u AWS -p eyJ.................OOH https://account_id.dkr.ecr.us-west-2.amazonaws.com</span></pre><p id="83eb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">4.åˆ›å»ºAWS ECRå­˜å‚¨åº“</p><pre class="le lf lg lh fd lj lk ll lm aw ln bi"><span id="bba7" class="jp jq hi lk b fi lo lp l lq lr">aws ecr create-repository --repository-name irisclassifier-ecs</span></pre><p id="3d7b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">5.å»ºç«‹Dockerå½¢è±¡</p><pre class="le lf lg lh fd lj lk ll lm aw ln bi"><span id="f705" class="jp jq hi lk b fi lo lp l lq lr">saved_path=<strong class="lk hj">$(</strong>bentoml get IrisClassifier:latest --print-location --quiet<strong class="lk hj">)</strong><br/><br/>docker build --tag=account_id.dkr.ecr.us-west-2.amazonaws.com/irisclassifier-ecs $saved_path</span></pre><p id="012f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">6.æ¨é€dockerå›¾åƒ</p><pre class="le lf lg lh fd lj lk ll lm aw ln bi"><span id="acb0" class="jp jq hi lk b fi lo lp l lq lr">docker push account_id.dkr.ecr.us-west-2.amazonaws.com/irisclassifier-ecs</span></pre><p id="89cf" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">7.ä¸ºECRéƒ¨ç½²å‡†å¤‡AWS</p><pre class="le lf lg lh fd lj lk ll lm aw ln bi"><span id="7701" class="jp jq hi lk b fi lo lp l lq lr">$ cat task-execution-assume-role.json<br/><br/># Sample output<br/><br/>{<br/>  "Version": "2012-10-17",<br/>  "Statement": [<br/>    {<br/>      "Sid": "",<br/>      "Effect": "Allow",<br/>      "Principal": {<br/>        "Service": "ecs-tasks.amazonaws.com"<br/>      },<br/>      "Action": "sts:AssumeRole"<br/>    }<br/>  ]<br/>}</span></pre><p id="4375" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">8.åˆ›å»ºIAMè§’è‰²</p><pre class="le lf lg lh fd lj lk ll lm aw ln bi"><span id="ecb0" class="jp jq hi lk b fi lo lp l lq lr">aws iam --region us-west-2 create-role --role-name ecsTaskExecutionRole \<br/>  --assume-role-policy-document file://task-execution-assume-role.json<br/><br/># Sample output<br/><br/>{<br/>    "Role": {<br/>        "Path": "/",<br/>        "RoleName": "ecsTaskExecutionRole",<br/>        "RoleId": "AROASZNL76Z7C7Q7SZJ4D",<br/>        "Arn": "arn:aws:iam::192023623294:role/ecsTaskExecutionRole",<br/>        "CreateDate": "2019-12-17T01:04:08Z",<br/>        "AssumeRolePolicyDocument": {<br/>            "Version": "2012-10-17",<br/>            "Statement": [<br/>                {<br/>                    "Sid": "",<br/>                    "Effect": "Allow",<br/>                    "Principal": {<br/>                        "Service": "ecs-tasks.amazonaws.com"<br/>                    },<br/>                    "Action": "sts:AssumeRole"<br/>                }<br/>            ]<br/>        }<br/>    }<br/>}</span></pre><p id="6137" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">9.å°†ç­–ç•¥AmazonECSTaskExecutionRolePolicyæ·»åŠ åˆ°è§’è‰²ecsTaskExecutionRole</p><pre class="le lf lg lh fd lj lk ll lm aw ln bi"><span id="d206" class="jp jq hi lk b fi lo lp l lq lr">aws iam --region us-west-2 attach-role-policy --role-name ecsTaskExecutionRole <strong class="lk hj">\</strong><br/>  --policy-arn arn:aws:iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy</span></pre><p id="b1e0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ä¸‰ã€‚é…ç½®ECRé…ç½®æ–‡ä»¶</p><ol class=""><li id="4625" class="kk kl hi is b it iu ix iy jb la jf lb jj lc jn kr ks kt ku bi translated">åˆ›å»ºECR CLIé…ç½®æ–‡ä»¶</li></ol><pre class="le lf lg lh fd lj lk ll lm aw ln bi"><span id="9271" class="jp jq hi lk b fi lo lp l lq lr">ecs-cli configure profile --access-key $AWS_ACCESS_KEY_ID --secret-key $AWS_SECRET_ACCESS_KEY --profile-name docuedge-bentoml-profile</span></pre><p id="87e1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.åˆ›å»ºECRé›†ç¾¤é…ç½®æ–‡ä»¶é…ç½®</p><pre class="le lf lg lh fd lj lk ll lm aw ln bi"><span id="f483" class="jp jq hi lk b fi lo lp l lq lr">ecs-cli configure --cluster docuedge-bentoml-modelzoo --default-launch-type FARGATE --config-name docuedge-bentoml-config --region us-east-2</span></pre><p id="367e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3.ä½¿ç”¨ä¸Šé¢åˆ›å»ºçš„é…ç½®æ–‡ä»¶åˆ›å»ºä¸€ä¸ªé›†ç¾¤</p><pre class="le lf lg lh fd lj lk ll lm aw ln bi"><span id="6f82" class="jp jq hi lk b fi lo lp l lq lr">ecs-cli up --vpc vpc-01b4edaf92e19af08 --subnets subnet-0345b051535c9625d, subnet-00e7bff093931a167 --cluster-config docuedge-bentoml-config --cluster docuedge-bentoml-modelzoo</span></pre><p id="3ef9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">å››ã€‚åˆ›é€ å¿…è¦çš„ã€‚yamlæ–‡ä»¶</p><ol class=""><li id="c4e7" class="kk kl hi is b it iu ix iy jb la jf lb jj lc jn kr ks kt ku bi translated">åˆ›å»ºdocker-compose.yamlæ–‡ä»¶ï¼Œä½¿ç”¨å‰é¢æ­¥éª¤ä¸­çš„å›¾åƒæ ‡è®°</li></ol><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lv"><img src="../Images/48a5a6d2592f6590e62f36232f4119df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AyGkDK31zVnF39UOZxSN-w.png"/></div></div></figure><p id="be72" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.ä½¿ç”¨æ‚¨åœ¨æœ¬é›†çš„å‰ä¸€éƒ¨åˆ†ä¸­ä½¿ç”¨çš„å®‰å…¨ç»„å’Œå­ç½‘åˆ›å»ºecs-params.yamlã€‚</p><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lw"><img src="../Images/f2884dab7255cb1900cc84109649a6f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KPjOHJGzq7GT-0oe3SBTOw.png"/></div></div></figure><p id="6cf5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="lu">ç”±äºæˆ‘ä»¬ä½¿ç”¨Tensorflowï¼Œdockerå›¾åƒçš„å¤§å°å¤§äº4GBï¼Œå› æ­¤åˆ†é…ç»™ä»»åŠ¡çš„å¤§å°æ˜¯8GBï¼ŒCPUé™åˆ¶ä¹Ÿæ˜¯ç›¸åŒçš„ã€‚</em></p><p id="ae0f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="lu"> EFSæ˜¯å¯é€‰çš„ï¼Œå¦‚æœæ‚¨åœ¨ç³»ç»Ÿä¸­è®¾ç½®äº†å®ƒï¼Œæ‚¨å¯ä»¥å¦‚ä¸Šæ‰€è¿°å°†å…¶æ·»åŠ åˆ°ecs-params.yamlä¸­ï¼Œæˆ–è€…å°†å…¶ä»æ–‡ä»¶ä¸­åˆ é™¤ã€‚</em></p><p id="2af7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">åŠ¨è¯ ï¼ˆverbçš„ç¼©å†™ï¼‰å°†BentoServiceéƒ¨ç½²åˆ°Fargate</p><p id="0b5e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">æˆ‘ä»¬æŒ‰ç…§åœ¨å‰é¢ç« èŠ‚ä¸­è®¾ç½®çš„å†…å®¹æ¥è®¾ç½®ç›®æ ‡ç»„ã€é›†ç¾¤é…ç½®æ–‡ä»¶å’Œé¡¹ç›®åç§°ã€‚</p><pre class="le lf lg lh fd lj lk ll lm aw ln bi"><span id="ea86" class="jp jq hi lk b fi lo lp l lq lr">ecs-cli compose --project-name docuedge-bentoml-modelzoo service up --target-groups targetGroupArn=arn:aws:elasticloadbalancing:us-east-2:142339138776:targetgroup/docuedgedev-bentoml/5743cdb7a5630ff9,containerName=web,containerPort=5000 --create-log-groups --cluster-config docuedge-bentoml-config --ecs-profile docuedge-bentoml-profile</span></pre><p id="c581" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">æ­å–œæ‚¨ï¼Œæ‚¨å·²ç»æˆåŠŸåœ°å°†æ¨¡å‹éƒ¨ç½²åˆ°æ‚¨çš„AWSäº‘ç¯å¢ƒä¸­ã€‚è¦æŸ¥çœ‹Swaggeræ–‡æ¡£æˆ–APIå¥—ä»¶ï¼Œè¯·å¯¼èˆªåˆ°æ‚¨çš„AWSä»ªè¡¨æ¿å¹¶ä½¿ç”¨æ‚¨çš„ALBçš„DNSã€‚æˆ–è€…ï¼Œå¦‚æœæ‚¨å·²ç»é™„åŠ äº†SSLè¯ä¹¦ï¼Œè¯·æ‰“å¼€æ‚¨åœ¨ACMè¯ä¹¦ä¸­æåˆ°çš„HTTPSé“¾æ¥</p><p id="dfe0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ä½ åº”è¯¥çœ‹åˆ°è¿™æ ·çš„ä¸œè¥¿ï¼ï¼ï¼</p><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lx"><img src="../Images/cdfebd74b3bc16d609330c24eae59480.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sINkcT9UI_cw-tZ_heWVoQ.png"/></div></div></figure><p id="6387" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">è¦ä½¿ç”¨Pythonæ¥ä½¿ç”¨APIï¼Œåªéœ€å¤åˆ¶é“¾æ¥å¹¶å°†å…¶æ›¿æ¢ä¸ºä¸‹é¢çš„ä»£ç ç‰‡æ®µ</p><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ly"><img src="../Images/50854ca36abc68c2b168e403f47f049e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nE9Ld5WiVt01tVeEs4j3Kw.png"/></div></div></figure><p id="bf2c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">å¸Œæœ›ä½ è§‰å¾—è¿™ä¸ªæ•™ç¨‹æœ‰ç”¨ã€‚ğŸ˜ğŸ˜</p></div></div>    
</body>
</html>