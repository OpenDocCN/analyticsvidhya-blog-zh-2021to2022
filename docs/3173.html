<html>
<head>
<title>Introduction to OpenCV</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">OpenCV简介</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/introduction-to-opencv-586e38d536fd?source=collection_archive---------12-----------------------#2021-06-14">https://medium.com/analytics-vidhya/introduction-to-opencv-586e38d536fd?source=collection_archive---------12-----------------------#2021-06-14</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/85c85e0e5353c9b56f77303be0c48072.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*feZWR5Gy-M8GiQqyy8fxyw.png"/></div></div></figure><p id="1995" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">目录</strong></p><ol class=""><li id="7633" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm js jt ju jv bi translated">图像介绍</li><li id="d4e4" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">装置</li><li id="d4b9" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">进口</li><li id="f360" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">读取图像</li><li id="7e0c" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">阅读视频</li><li id="3626" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">访问网络摄像头</li><li id="c765" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">将图像转换为灰度、模糊、hsv</li><li id="bbdb" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">边缘检测</li><li id="8aab" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">图像扩展、腐蚀</li><li id="4d27" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">裁剪和调整大小</li><li id="3f1f" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">在图像上绘制形状</li><li id="bfab" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">将文本放在图像上</li><li id="33c8" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">扭曲透视</li><li id="aff6" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">连接图像</li></ol><h1 id="ca76" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">图像介绍</h1><figure class="la lb lc ld fd ii er es paragraph-image"><div class="er es kz"><img src="../Images/23bfdb819d0f9af5e937777d3cd49454.png" data-original-src="https://miro.medium.com/v2/resize:fit:450/format:webp/1*PgwL0ggvAgKT6NiZnb3how.png"/></div><figcaption class="le lf et er es lg lh bd b be z dx translated">【qgis.org的T2】图片</figcaption></figure><p id="da9d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">一个<strong class="ir hi">像素</strong>是图像的最小单位。它组合起来形成一个图像，视频，文本，或任何我们在电脑显示器上看得见的东西。</p><h2 id="d69f" class="lj kc hh bd kd lk ll lm kh ln lo lp kl ja lq lr kp je ls lt kt ji lu lv kx lw bi translated">装置</h2><pre class="la lb lc ld fd lx ly lz ma aw mb bi"><span id="d7d4" class="lj kc hh ly b fi mc md l me mf">pip install opencv-python</span></pre><p id="f71e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">导入</strong></p><pre class="la lb lc ld fd lx ly lz ma aw mb bi"><span id="2a5c" class="lj kc hh ly b fi mc md l me mf">import cv2<br/>cv2.__version__</span></pre><p id="3637" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">opencv-python包中的cv2.imshow()函数与Jupyter/Colab notebook不兼容。因此，请使用以下函数:</p><pre class="la lb lc ld fd lx ly lz ma aw mb bi"><span id="8777" class="lj kc hh ly b fi mc md l me mf">from google.colab.patches import cv2_imshow <br/>cv2_imshow(img)</span></pre><h2 id="bf70" class="lj kc hh bd kd lk ll lm kh ln lo lp kl ja lq lr kp je ls lt kt ji lu lv kx lw bi translated">读取图像</h2><pre class="la lb lc ld fd lx ly lz ma aw mb bi"><span id="dc5c" class="lj kc hh ly b fi mc md l me mf"># import image in img variable</span><span id="b49b" class="lj kc hh ly b fi mg md l me mf">img = cv2.imread('lambo.jpeg')</span></pre><h2 id="5d8a" class="lj kc hh bd kd lk ll lm kh ln lo lp kl ja lq lr kp je ls lt kt ji lu lv kx lw bi translated">显示图像</h2><pre class="la lb lc ld fd lx ly lz ma aw mb bi"><span id="3f3e" class="lj kc hh ly b fi mc md l me mf">cv2.imshow('Output', img)<br/>cv2.waitKey(0)</span></pre><p id="5cfa" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如果你不使用waitKey()函数，那么图像会立即消失，你在屏幕上什么也看不到。</p><p id="878d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">waitKey(x)在图像消失之前增加了x毫秒的延迟。当从键盘上按下一个键时，它返回该键的ASCII值。如果在x毫秒之前没有按下任何东西，则返回-1。waitKey(0)无限期等待按键。</p><h2 id="fa00" class="lj kc hh bd kd lk ll lm kh ln lo lp kl ja lq lr kp je ls lt kt ji lu lv kx lw bi translated">阅读视频</h2><pre class="la lb lc ld fd lx ly lz ma aw mb bi"><span id="b419" class="lj kc hh ly b fi mc md l me mf">cap = cv2.VideoCapture(VIDEO PATH)<br/>while True:<br/>  success, img = cap.read()<br/>  cv2.imshow('Output', img)<br/>  if cv2.waitKey(1) &amp; 0xFF == ord('q'):<br/>    break</span></pre><p id="4b26" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">变量'<em class="mh"> cap </em>'存储视频。“img”将在每次迭代中从视频中获取下一帧</p><p id="7661" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><em class="mh">cv2 . wait key(1)&amp;0x ff = = ord(' q ')这一行表示</em>当用户从键盘上按下' q '时，我们的视频将会停止。</p><p id="13a3" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Colab/Jupyter笔记本将显示视频中的图像序列。</p><h2 id="11be" class="lj kc hh bd kd lk ll lm kh ln lo lp kl ja lq lr kp je ls lt kt ji lu lv kx lw bi translated">访问网络摄像头</h2><pre class="la lb lc ld fd lx ly lz ma aw mb bi"><span id="751b" class="lj kc hh ly b fi mc md l me mf">cap = cv2.VideoCapture(0) # id for default webcam = 0<br/><br/>cap.set(3, 640) # width=640, id=3 for width<br/>cap.set(4, 480) # height=480, id=4 for height<br/>cap.set(10, 100) # brightness=100, id=10 for brightness<br/><br/>while True:<br/>    success, img = cap.read()<br/>    cv2.imshow('Output', img)<br/>    if cv2.waitKey(1) &amp; 0xFF == ord('q'):<br/>        break</span></pre><p id="a8ef" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Google Colab是一个云平台，它不能访问你的本地系统网络摄像头，所以上面的代码不会在上面运行。如果你正在使用Google Colab，点击这里的链接<a class="ae mi" href="https://androidkt.com/how-to-capture-and-play-video-in-google-colab/" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="65c2" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">将图像转换成灰度</strong></p><pre class="la lb lc ld fd lx ly lz ma aw mb bi"><span id="1019" class="lj kc hh ly b fi mc md l me mf">imgGray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)</span></pre><figure class="la lb lc ld fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mj"><img src="../Images/040dfd057eba33d60044253e279b7951.png" data-original-src="https://miro.medium.com/v2/resize:fit:582/format:webp/1*wKSzr_GU6ru2tsVOxoW4yQ.png"/></div></div></figure><p id="16d0" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">使图像模糊</strong></p><pre class="la lb lc ld fd lx ly lz ma aw mb bi"><span id="d709" class="lj kc hh ly b fi mc md l me mf">imgBlur = cv2.GaussianBlur(imgGray, (7, 7), 0)</span></pre><figure class="la lb lc ld fd ii er es paragraph-image"><div class="er es mk"><img src="../Images/61b3950250570f8368e31cf2c50ba98f.png" data-original-src="https://miro.medium.com/v2/resize:fit:572/format:webp/1*XycFzn-ktP9e1Ov4cBLq3w.png"/></div></figure><p id="5111" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">将图像转换成HSV图像</strong></p><pre class="la lb lc ld fd lx ly lz ma aw mb bi"><span id="17ed" class="lj kc hh ly b fi mc md l me mf">imgHSV = cv2.cvtColor(img, cv2.COLOR_BGR2HSV)</span></pre><figure class="la lb lc ld fd ii er es paragraph-image"><div class="er es ml"><img src="../Images/eb465f11f8a6e24bcb8940525b43dbf5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1250/format:webp/1*3mFmaAHdmDH5w-j7ayl59A.png"/></div></figure><p id="32b7" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">边缘检测器:在图像中寻找边缘</strong></p><pre class="la lb lc ld fd lx ly lz ma aw mb bi"><span id="6c8d" class="lj kc hh ly b fi mc md l me mf">imgCanny = cv2.Canny(img, 100, 100)</span></pre><figure class="la lb lc ld fd ii er es paragraph-image"><div class="er es mm"><img src="../Images/64cdfa268bff91628e29b20660497f7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:724/format:webp/1*yiMchXwD9xIVukD8IMUrEg.png"/></div></figure><p id="eeba" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">扩张:增加边缘厚度</strong></p><pre class="la lb lc ld fd lx ly lz ma aw mb bi"><span id="9416" class="lj kc hh ly b fi mc md l me mf">kernel = np.ones((5,5), np.uint8)<br/>imgDialation = cv2.dilate(imgCanny, kernel, iterations=1)</span></pre><figure class="la lb lc ld fd ii er es paragraph-image"><div class="er es mn"><img src="../Images/7425ae7a009e8ab18ccffc4c27aca176.png" data-original-src="https://miro.medium.com/v2/resize:fit:722/format:webp/1*8UK_E1rYS51F8LxmFFhvFw.png"/></div></figure><p id="cdb9" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">侵蚀:减少边缘厚度</strong></p><pre class="la lb lc ld fd lx ly lz ma aw mb bi"><span id="d453" class="lj kc hh ly b fi mc md l me mf">kernel = np.ones((5, 5), np.uint8)<br/>imgEroded = cv2.erode(imgDialation, kernel, iterations=1)</span></pre><p id="3436" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">调整大小和裁剪</strong></p><p id="fdd1" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">缩小尺寸:</p><pre class="la lb lc ld fd lx ly lz ma aw mb bi"><span id="8ef3" class="lj kc hh ly b fi mc md l me mf">imgResize = cv2.resize(img, (300, 200))</span></pre><p id="8cfc" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">增加尺寸:</p><pre class="la lb lc ld fd lx ly lz ma aw mb bi"><span id="f858" class="lj kc hh ly b fi mc md l me mf">imgResize = cv2.resize(img, (800, 200))</span></pre><figure class="la lb lc ld fd ii er es paragraph-image"><div class="er es mo"><img src="../Images/5658b4161c451cd3d68cd72af94472c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1244/format:webp/1*a_T-nbBjQRREc1yDXk7xSQ.png"/></div></figure><p id="8ea9" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">裁剪:</p><pre class="la lb lc ld fd lx ly lz ma aw mb bi"><span id="c35e" class="lj kc hh ly b fi mc md l me mf">imgCropped = img[0:200, 200:500]</span></pre><figure class="la lb lc ld fd ii er es paragraph-image"><div class="er es mp"><img src="../Images/b3d6890e119cedf396fc0375c43ee7a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:704/format:webp/1*hGn0gMA_i77dUWrbzdgO_Q.png"/></div></figure><p id="12c6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">在图像上画正方形</strong></p><pre class="la lb lc ld fd lx ly lz ma aw mb bi"><span id="6895" class="lj kc hh ly b fi mc md l me mf">img = np.zeros((512, 512, 3), np.uint8)<br/>img[:] = 255, 0, 0</span></pre><figure class="la lb lc ld fd ii er es paragraph-image"><div class="er es mq"><img src="../Images/a721e04a3f0466a7fc1a503bfb0d571f.png" data-original-src="https://miro.medium.com/v2/resize:fit:574/format:webp/1*86f4zAFRjVrZ0p1QR7wrTg.png"/></div></figure><pre class="la lb lc ld fd lx ly lz ma aw mb bi"><span id="b5f7" class="lj kc hh ly b fi mc md l me mf">img[200:300, 200:300] = 0,255,0</span></pre><figure class="la lb lc ld fd ii er es paragraph-image"><div class="er es mr"><img src="../Images/f7ac548ce64e88c5fa98b52366d05f27.png" data-original-src="https://miro.medium.com/v2/resize:fit:576/format:webp/1*AgF2vOc3k5WijiOkY7h0IQ.png"/></div></figure><p id="6b31" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">在图像上画线</strong></p><p id="f96d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><em class="mh"> cv2.line(图像，起点，终点，颜色，厚度)</em></p><pre class="la lb lc ld fd lx ly lz ma aw mb bi"><span id="95af" class="lj kc hh ly b fi mc md l me mf">img = np.zeros((256, 256, 3), np.uint8)</span><span id="eca3" class="lj kc hh ly b fi mg md l me mf">cv2.line(img, (0,0), (100,200), (0,0,255), 3)</span></pre><figure class="la lb lc ld fd ii er es paragraph-image"><div class="er es ms"><img src="../Images/4a449bfec521ad42b6e274866a340e59.png" data-original-src="https://miro.medium.com/v2/resize:fit:434/format:webp/1*CKzPzaKfuzonbfL4yXDgeQ.png"/></div></figure><p id="d425" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">在图像上绘制矩形</strong></p><p id="fc55" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><em class="mh"> cv2.rectangle(图像，起点，终点，颜色，填充矩形。</em></p><pre class="la lb lc ld fd lx ly lz ma aw mb bi"><span id="18e9" class="lj kc hh ly b fi mc md l me mf">img = np.zeros((256, 256, 3), np.uint8) <br/>cv2.rectangle(img, (0,0), (200, 150), (0,255,0), cv2.FILLED)</span></pre><figure class="la lb lc ld fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mt"><img src="../Images/65da1aea8b0ea7f80074f228514960ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:560/format:webp/1*j-Prc38hwTtiWI1p1oYpWA.png"/></div></div></figure><p id="3a1c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">在图像上画圆</strong></p><p id="dd25" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><em class="mh"> cv2.circle(图像，中心，半径，颜色，粗细)</em></p><pre class="la lb lc ld fd lx ly lz ma aw mb bi"><span id="f800" class="lj kc hh ly b fi mc md l me mf">img = np.zeros((256, 256, 3), np.uint8) <br/>cv2.circle(img, (100, 150), 30, (11, 12, 122), 2)</span></pre><figure class="la lb lc ld fd ii er es paragraph-image"><div class="er es mu"><img src="../Images/42ac56278069e337262277f2dfa008a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:570/format:webp/1*pjfVd9jvQ3iqUIJG-aGBvg.png"/></div></figure><p id="9121" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">在图像上写文字</strong></p><p id="8d30" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><em class="mh"> cv2.putText(图像、文本、起点、字体样式、比例、颜色、粗细)</em></p><pre class="la lb lc ld fd lx ly lz ma aw mb bi"><span id="7dc0" class="lj kc hh ly b fi mc md l me mf">img = np.zeros((256, 256, 3), np.uint8) <br/>cv2.putText(img, 'OPENCV', (30,100), cv2.FONT_HERSHEY_COMPLEX, 1, (255,0,0), 1)</span></pre><figure class="la lb lc ld fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mv"><img src="../Images/84a492d70dcfbf83211c125d33406da2.png" data-original-src="https://miro.medium.com/v2/resize:fit:580/format:webp/1*VV6P59Y5JwlkehGAWJ11Sw.png"/></div></div></figure><p id="0baf" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">扭曲透视:获得图像的鸟瞰图</strong></p><p id="b3f9" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">透视变换</strong>用于正确对齐图像。参见图片示例:</p><figure class="la lb lc ld fd ii er es paragraph-image"><div class="er es mw"><img src="../Images/550cce51c5c19fe01a7b4d4f4f1c6c4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1258/format:webp/1*C_KjogQ9omG-aUIrgrnVuw.png"/></div></figure><pre class="la lb lc ld fd lx ly lz ma aw mb bi"><span id="3b6d" class="lj kc hh ly b fi mc md l me mf">import numpy as np<br/>import cv2</span><span id="4bea" class="lj kc hh ly b fi mg md l me mf">img = cv2.imread(IMAGE PATH)</span><span id="11ab" class="lj kc hh ly b fi mg md l me mf">width, height = 250, 350</span><span id="4fd5" class="lj kc hh ly b fi mg md l me mf">pts1 = np.float32([[111,219],[287,188],[154,482],[352,440]])<br/><br/>pts2 = np.float32([[0,0],[width,0],[0,height],[width, height]])<br/>matrix = cv2.getPerspectiveTransform(pts1, pts2)</span><span id="c61f" class="lj kc hh ly b fi mg md l me mf">imgOutput = cv2.warpPerspective(img, matrix, (width, height))</span><span id="523d" class="lj kc hh ly b fi mg md l me mf">cv2.imshow('img', img)<br/>cv2.imshow('Result', imgOutput)<br/>cv2.waitKey(0)</span></pre><figure class="la lb lc ld fd ii er es paragraph-image"><div class="er es mx"><img src="../Images/cb651ea4f60b6387574e48beec49ca29.png" data-original-src="https://miro.medium.com/v2/resize:fit:732/format:webp/1*E68e0_UdYTWxPo3tV4RSOg.png"/></div></figure><p id="273e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">加入图像</strong></p><pre class="la lb lc ld fd lx ly lz ma aw mb bi"><span id="f594" class="lj kc hh ly b fi mc md l me mf">import numpy as np<br/>import cv2</span><span id="26f1" class="lj kc hh ly b fi mg md l me mf">img = cv2.imread(IMAGE PATH)<br/>imgHor = np.hstack((img, img))<br/>imgVer = np.vstack((img, img))</span><span id="260d" class="lj kc hh ly b fi mg md l me mf">cv2.imshow('Horizontal', imgHor)<br/>cv2.imshow('Vertical', imgVer)<br/>cv2.waitKey(0)</span></pre><figure class="la lb lc ld fd ii er es paragraph-image"><div class="er es my"><img src="../Images/144bd7953e220c845bdc905d71425d3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:762/format:webp/1*8_S2EfmTYb3vI_UpV8qCiQ.png"/></div></figure><p id="c3f2" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">对于以上两种方法，图像应该具有相同数量的通道，并且图像不能被缩小或放大。</p><p id="0a49" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">因此，请使用下面的函数:</p><pre class="la lb lc ld fd lx ly lz ma aw mb bi"><span id="f266" class="lj kc hh ly b fi mc md l me mf">def stackImages(scale,imgArray):<br/>    rows = len(imgArray)<br/>    cols = len(imgArray[0])<br/>    rowsAvailable = isinstance(imgArray[0], list)<br/>    width = imgArray[0][0].shape[1]<br/>    height = imgArray[0][0].shape[0]<br/>    if rowsAvailable:<br/>        for x in range ( 0, rows):<br/>            for y in range(0, cols):<br/>                if imgArray[x][y].shape[:2] == imgArray[0][0].shape [:2]:<br/>                    imgArray[x][y] = cv2.resize(imgArray[x][y], (0, 0), None, scale, scale)<br/>                else:<br/>                    imgArray[x][y] = cv2.resize(imgArray[x][y], (imgArray[0][0].shape[1], imgArray[0][0].shape[0]), None, scale, scale)<br/>                if len(imgArray[x][y].shape) == 2: imgArray[x][y]= cv2.cvtColor( imgArray[x][y], cv2.COLOR_GRAY2BGR)<br/>        imageBlank = np.zeros((height, width, 3), np.uint8)<br/>        hor = [imageBlank]*rows<br/>        hor_con = [imageBlank]*rows<br/>        for x in range(0, rows):<br/>            hor[x] = np.hstack(imgArray[x])<br/>        ver = np.vstack(hor)<br/>    else:<br/>        for x in range(0, rows):<br/>            if imgArray[x].shape[:2] == imgArray[0].shape[:2]:<br/>                imgArray[x] = cv2.resize(imgArray[x], (0, 0), None, scale, scale)<br/>            else:<br/>                imgArray[x] = cv2.resize(imgArray[x], (imgArray[0].shape[1], imgArray[0].shape[0]), None,scale, scale)<br/>            if len(imgArray[x].shape) == 2: imgArray[x] = cv2.cvtColor(imgArray[x], cv2.COLOR_GRAY2BGR)<br/>        hor= np.hstack(imgArray)<br/>        ver = hor<br/>    return ver</span></pre><p id="5b6b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在，使用上面的函数连接图像:</p><pre class="la lb lc ld fd lx ly lz ma aw mb bi"><span id="6344" class="lj kc hh ly b fi mc md l me mf">import numpy as np<br/>import cv2</span><span id="e839" class="lj kc hh ly b fi mg md l me mf">img = cv2.imread(IMAGE PATH)<br/>imgGray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)</span><span id="3ec9" class="lj kc hh ly b fi mg md l me mf">imgStack = stackImages(0.5, ([[img, img, img], [img, imgGray, img]]))<br/># Here, 0.5 is the scale. You can add the scale of your choice</span><span id="251d" class="lj kc hh ly b fi mg md l me mf">cv2.imshow('Horizontal', imgStack)<br/>cv2.waitKey(0)</span></pre><figure class="la lb lc ld fd ii er es paragraph-image"><div class="er es mz"><img src="../Images/de7086e129f7055f1f5afa7ff5793fc3.png" data-original-src="https://miro.medium.com/v2/resize:fit:730/format:webp/1*LXXeQBaxHSHhC3rq8WbVVQ.png"/></div></figure><p id="f067" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这些是opencv的一些基本功能。要了解更多，请参考opencv官方文档<a class="ae mi" href="https://docs.opencv.org/master/d6/d00/tutorial_py_root.html" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><p id="f8d9" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如果你喜欢我的博客，那么看看我以前的一些博客:</p><ol class=""><li id="84f0" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm js jt ju jv bi translated"><a class="ae mi" href="https://khushijain2810.medium.com/seaborn-data-visualization-library-142ac64d5560" rel="noopener">海风</a></li><li id="07e5" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated"><a class="ae mi" href="https://khushijain2810.medium.com/pandas-python-data-analysis-library-1d061c982fc8" rel="noopener">熊猫</a></li><li id="899c" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated"><a class="ae mi" href="https://khushijain2810.medium.com/numpy-day-3-at-internity-foundation-efcef826e549" rel="noopener"> Numpy </a></li></ol><p id="a18c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">快乐学习！！</p></div></div>    
</body>
</html>