<html>
<head>
<title>Company Ranking in Bayesian Perspective</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">贝叶斯视角下的公司排名</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/company-ranking-in-bayesian-perspective-b5edef78b11b?source=collection_archive---------3-----------------------#2021-07-31">https://medium.com/analytics-vidhya/company-ranking-in-bayesian-perspective-b5edef78b11b?source=collection_archive---------3-----------------------#2021-07-31</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><h1 id="4906" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated"><strong class="ak">背景</strong></h1><p id="8ba4" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">最近偶然看到一篇文章:<a class="ae ka" href="https://journal.revou.co/happiness-index-perusahaan-teknologi/" rel="noopener ugc nofollow" target="_blank"> Revou幸福指数</a>。该报告评估了印度尼西亚的38家科技公司，并利用Jobstreet和Glassdoor上的公司评论对它们进行了排名。下面是他们的结果裁剪图像。你是否注意到有些公司的评论数量较少，但排名较高，而平均评论差异很小？例如:平均评论相差0.05的Payfazz (23条评论，平均4.7)和Happyfresh (62条评论，平均4.65)。</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kb"><img src="../Images/97040a90055b3d132dae77e7b0c8922d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yrEs5LI-4nbdWnKjLDGv8g.png"/></div></div></figure><p id="9008" class="pw-post-body-paragraph jc jd hh je b jf kn jh ji jj ko jl jm jn kp jp jq jr kq jt ju jv kr jx jy jz ha bi translated">有更多的数据意味着我们有更多的证据证明某些事情是对的？在这种情况下，我们如何决定哪家公司应该排在第一位？这0.05的差距不是很小吗？另一方面，相比于Payfazz，我们应该更重视对Happyfresh的信任度评价？(因为他们评论比较多)。这里我们面临一个困难的情况，我们应该在多大程度上相信我们拥有的数据？那么下一个可能的问题是，我们如何将不确定性纳入排名？</p><p id="cebb" class="pw-post-body-paragraph jc jd hh je b jf kn jh ji jj ko jl jm jn kp jp jq jr kq jt ju jv kr jx jy jz ha bi translated">我创建这个分析来分享我们如何使用贝叶斯观点来解决这个问题。贝叶斯的意思是，我们将考虑在给定数据/证据的情况下，我们应该在多大程度上调整我们的信念，因此在排名计算中将考虑不确定性。</p><p id="b403" class="pw-post-body-paragraph jc jd hh je b jf kn jh ji jj ko jl jm jn kp jp jq jr kq jt ju jv kr jx jy jz ha bi translated">与Revou的报告相比，分析的范围略有不同。我们将只对Jobstreet的38家公司进行评估。因为Glassdoor只分享一个公司的平均评审，而不是在粒度级的评审。</p><h1 id="40d7" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated"><strong class="ak">问题陈述</strong></h1><blockquote class="ks kt ku"><p id="1674" class="jc jd kv je b jf kn jh ji jj ko jl jm kw kp jp jq kx kq jt ju ky kr jx jy jz ha bi translated">给定来自JobStreet的公司评论，我们应该如何更好地对这些公司进行排名？</p></blockquote><h1 id="fb6b" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">数据</h1><p id="dcd9" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">我们可以使用这个脚本从JobStreet获得38家公司的评论。该分析使用截至2021年7月20日的JobStreet数据。以下是基于<strong class="je hi">均值评估</strong>的前10家公司。请注意，评论数量越少，标准差越高。它代表了我们对现有数据的不确定性。数据少了，信心就少了。稍后，我们将考虑排名的不确定性。</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kz"><img src="../Images/a6deb2d52fbbce53839d41cbf3eefd77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gKkC5INfRE47Misj_tpIwg.png"/></div></div></figure><h1 id="7936" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated"><strong class="ak">替代方法</strong></h1><ol class=""><li id="98a4" class="la lb hh je b jf jg jj jk jn lc jr ld jv le jz lf lg lh li bi translated">按加权平均评审排名</li><li id="827f" class="la lb hh je b jf lj jj lk jn ll jr lm jv ln jz lf lg lh li bi translated">根据后验分布的统计数据进行排序(贝叶斯分析)</li></ol><p id="5b0b" class="pw-post-body-paragraph jc jd hh je b jf kn jh ji jj ko jl jm jn kp jp jq jr kq jt ju jv kr jx jy jz ha bi translated"><strong class="je hi"> 1。加权平均评审</strong></p><p id="61ad" class="pw-post-body-paragraph jc jd hh je b jf kn jh ji jj ko jl jm jn kp jp jq jr kq jt ju jv kr jx jy jz ha bi translated">它的灵感来自于IMDb之前对250部电影的排名。下面是公式。</p><pre class="kc kd ke kf fd lo lp lq lr aw ls bi"><span id="84a5" class="lt if hh lp b fi lu lv l lw lx">weighted rank (WR) = (v ÷ (v+m)) × R + (m ÷ (v+m)) × C</span><span id="8009" class="lt if hh lp b fi ly lv l lw lx"> where:<br/>  R = average review for the company = (mean_review)<br/>  v = number of review for the company = (sum_review)<br/>  m = minimum num of review required to be listed in the analysis<br/>  C = the average review across the whole report</span><span id="5467" class="lt if hh lp b fi ly lv l lw lx">note for this analysis<br/>m = <!-- -->5<br/>C = <!-- -->4.318</span></pre><p id="1640" class="pw-post-body-paragraph jc jd hh je b jf kn jh ji jj ko jl jm jn kp jp jq jr kq jt ju jv kr jx jy jz ha bi translated">请注意，如果一部电影只有几条评论，那么<strong class="je hi"/>将更接近总体平均评论(<strong class="je hi"> C </strong>)。相反，如果一部电影的评论数远远高于<strong class="je hi"> m </strong>，那么<strong class="je hi"> WR </strong>将接近该电影的平均评论数。它强调了这样一个概念，即只要有大量的评论，就要相信一般的评论。以下是根据<strong class="je hi">加权平均评估</strong>得出的前10名公司。</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es lz"><img src="../Images/8f3514983bce9352db55dfc0af7af6e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2FdOu_G3qbxf6iS0-Cg8lg.png"/></div></div></figure><p id="51f1" class="pw-post-body-paragraph jc jd hh je b jf kn jh ji jj ko jl jm jn kp jp jq jr kq jt ju jv kr jx jy jz ha bi translated">如果我们看两家公司:DANA和Mekari。他们的<strong class="je hi">均值评论</strong>相差只有0.006(左表)，但是他们的评论数相差很多。Mekari有69条评论，而DANA只有5条评论。因此，如果我们根据加权平均评审对他们进行排名，Mekari的排名将高于DANA(右图)。</p><p id="ffdc" class="pw-post-body-paragraph jc jd hh je b jf kn jh ji jj ko jl jm jn kp jp jq jr kq jt ju jv kr jx jy jz ha bi translated"><strong class="je hi"> 2。贝叶斯分析</strong></p><p id="13e9" class="pw-post-body-paragraph jc jd hh je b jf kn jh ji jj ko jl jm jn kp jp jq jr kq jt ju jv kr jx jy jz ha bi translated">在贝叶斯分析中，我们有一个关于参数的先验信念，我们将更新关于参数的给定数据的信念。在这个分析中，我们有一个参数:<code class="du ma mb mc lp b">company review</code>，其值在1到5之间。我们将假设参数具有高斯(正态)先验分布。因为正态-正态共轭先验，我们将得到正态后验分布。</p><p id="fb5f" class="pw-post-body-paragraph jc jd hh je b jf kn jh ji jj ko jl jm jn kp jp jq jr kq jt ju jv kr jx jy jz ha bi translated">我们将对所有公司使用相同的先验。它被认为是弱先验。先验(正态分布)的参数均值= 0，标准差= 1。对一家公司的评论中的观察将改变我们的先验，然后我们得到我们的后验。后验分布越紧密，意味着我们对自己的信念越有把握。相反，后验分布越宽，意味着我们对自己的信念越不确定。</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es md"><img src="../Images/eb41966c19c70c777bcc32cee3fd8e54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sLzY-6hDmaT12PY573tqpQ.png"/></div></div></figure><p id="25ee" class="pw-post-body-paragraph jc jd hh je b jf kn jh ji jj ko jl jm jn kp jp jq jr kq jt ju jv kr jx jy jz ha bi translated">使用贝叶斯分析的好处是我们有后验分布，而不是点估计。从后验分布中，我们可以得到关于参数的任何统计量。出于排序/排名的目的，我们可以使用<code class="du ma mb mc lp b">percentile 25 of the distribution</code>来代替平均值。下图显示了为什么后验分布的平均值不是排名的好指标。相反，p25将告诉我们关于后验分布的不确定性。</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es me"><img src="../Images/4a9e15d50d3781fe0a02769eac5fa038.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HjmmPHp-vn3sepcXPoq--Q.png"/></div></div></figure><p id="8533" class="pw-post-body-paragraph jc jd hh je b jf kn jh ji jj ko jl jm jn kp jp jq jr kq jt ju jv kr jx jy jz ha bi translated">以下是基于后验分布的<strong class="je hi">第25百分位的前10家公司。如上图所述，DANA被放在了较低的位置，因为我们仍然不确定它的评论。我们再来看看Blibli和GoJek，他们分别有相当一致的4.455和4.453的平均评论。但Gojek的评论数(245)高于Blibli (134)。与Blibli相比，Gojek也获得了5颗星的好评。这就是为什么Gojek在右表中的位置比Blibli高。</strong></p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es mf"><img src="../Images/ec78949d41e8de1cf7278e934961edb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W1n1q74VNnxsZDH6rZ8fDg.png"/></div></div></figure><h1 id="2d89" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">结论</h1><p id="c064" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">我们现在看到，使用贝叶斯观点对公司进行排名还有其他方法。如果你想在分析中加入“不确定性”,这些方法适合你。有了这些，你就不会盲目相信你所拥有的数据。相反，你会相应地用数据更新你先前的信念。</p><p id="587f" class="pw-post-body-paragraph jc jd hh je b jf kn jh ji jj ko jl jm jn kp jp jq jr kq jt ju jv kr jx jy jz ha bi translated">本文的所有源代码都在我的<a class="ae ka" href="https://github.com/ajisamudra/bayesian-company-ranking" rel="noopener ugc nofollow" target="_blank"> github/ajisamudra </a>中。</p><h1 id="2615" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">参考</h1><ol class=""><li id="1c3b" class="la lb hh je b jf jg jj jk jn lc jr ld jv le jz lf lg lh li bi translated"><a class="ae ka" href="http://camdavidsonpilon.github.io/Probabilistic-Programming-and-Bayesian-Methods-for-Hackers/" rel="noopener ugc nofollow" target="_blank">概率编程&amp;黑客的贝叶斯方法</a>，卡梅隆·戴维森-皮隆。</li><li id="28d2" class="la lb hh je b jf lj jj lk jn ll jr lm jv ln jz lf lg lh li bi translated">谷歌回答，<a class="ae ka" href="http://answers.google.com/answers/threadview/id/507508.html" rel="noopener ugc nofollow" target="_blank">替代IMDb公式</a>。</li><li id="d559" class="la lb hh je b jf lj jj lk jn ll jr lm jv ln jz lf lg lh li bi translated"><a class="ae ka" href="https://journal.revou.co/happiness-index-perusahaan-teknologi/" rel="noopener ugc nofollow" target="_blank"> Revou </a></li><li id="1f1e" class="la lb hh je b jf lj jj lk jn ll jr lm jv ln jz lf lg lh li bi translated"><a class="ae ka" href="https://www.jobstreet.co.id/" rel="noopener ugc nofollow" target="_blank"> JobStreet </a></li></ol></div></div>    
</body>
</html>