<html>
<head>
<title>Sets in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中的集合</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/sets-in-python-9c7ce3e57932?source=collection_archive---------8-----------------------#2021-01-05">https://medium.com/analytics-vidhya/sets-in-python-9c7ce3e57932?source=collection_archive---------8-----------------------#2021-01-05</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="65b3" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">如何在Python中创建和操作集合</h2></div><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es iw"><img src="../Images/7d8647a84a44ed95268490a653ee4ceb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sj76gx1iy30Kq2mTEIL-jg.jpeg"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx translated">Goran Ivos在unsplash.com拍摄的照片</figcaption></figure><p id="76f7" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated">在今天的文章中，我们将探索Python中的集合。你一定在数学课上学过集合，如果你还记得集合是元素的集合，今天我们将深入研究Python中集合的细节，它与数学集合很接近，但又不相同。Set是Python中的四种内置数据类型之一，另外三种是List、Tuple和Dictionary，它们都有不同的性质和用途。它用于存储数据集合，用花括号写。</p><p id="dd3b" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated">在Python中，集合存储无序值，同一元素不能多次出现。它使得集合非常有用，可以有效地从列表或元组中删除重复值，并执行常见的数学运算，如并集和交集。例如，设S是一组小于或等于10的偶数。</p><pre class="ix iy iz ja fd ki kj kk kl aw km bi"><span id="1b8c" class="kn ko hh kj b fi kp kq l kr ks">S = set([2,4,6,8,10])</span></pre><p id="a5f7" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated">我说过，集合既不能有任何顺序，也不能有重复的值。</p><pre class="ix iy iz ja fd ki kj kk kl aw km bi"><span id="964b" class="kn ko hh kj b fi kp kq l kr ks">In [ ]: set([2,4,6,8,10,8,6])</span><span id="9bed" class="kn ko hh kj b fi kt kq l kr ks">Out [ ]:{2, 4, 6, 8, 10}</span></pre><p id="a34b" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated">你可以在上面的代码中看到，每个元素在集合中只能出现一次。现在，设W是一个集合</p><pre class="ix iy iz ja fd ki kj kk kl aw km bi"><span id="6768" class="kn ko hh kj b fi kp kq l kr ks">In [ ]: W = set(['hello','hola','bonjour'])<br/>print(W)<br/>Out [ ]: {'hola', 'hello', 'bonjour'}</span></pre><p id="0b19" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated">在上面的例子中，集合W的顺序没有被保留。</p><h1 id="8c67" class="ku ko hh bd kv kw kx ky kz la lb lc ld in le io lf iq lg ir lh it li iu lj lk bi translated">初始化集合</h1><p id="383e" class="pw-post-body-paragraph jm jn hh jo b jp ll ii jr js lm il ju jv ln jx jy jz lo kb kc kd lp kf kg kh ha bi translated">为了创建一个新的空集，可以使用set()</p><pre class="ix iy iz ja fd ki kj kk kl aw km bi"><span id="6b6c" class="kn ko hh kj b fi kp kq l kr ks">S <strong class="kj hi">=</strong> set()</span></pre><h1 id="5a9b" class="ku ko hh bd kv kw kx ky kz la lb lc ld in le io lf iq lg ir lh it li iu lj lk bi translated">添加和删除集合中的值</h1><p id="3d75" class="pw-post-body-paragraph jm jn hh jo b jp ll ii jr js lm il ju jv ln jx jy jz lo kb kc kd lp kf kg kh ha bi translated">我们可以使用<strong class="jo hi"> update() </strong>向集合中添加新元素。它将集合中的元素(作为参数传递)添加到集合中。在下面的例子中，我使用了update()向空集s中添加新元素。</p><pre class="ix iy iz ja fd ki kj kk kl aw km bi"><span id="7251" class="kn ko hh kj b fi kp kq l kr ks">In [ ]: S.update({1,3,5,7,9,11,13,15})<br/>print(S)</span><span id="c56b" class="kn ko hh kj b fi kt kq l kr ks">Out [ ]: {1, 3, 5, 7, 9, 11, 13, 15}</span></pre><p id="bbd6" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated">从集合中删除元素。我们可以使用<strong class="jo hi"> remove() </strong>，只有当集合中存在要删除的元素时，它才起作用。</p><pre class="ix iy iz ja fd ki kj kk kl aw km bi"><span id="f12c" class="kn ko hh kj b fi kp kq l kr ks">In [ ]: S.remove(3)<br/>print(S)</span><span id="957b" class="kn ko hh kj b fi kt kq l kr ks">Out [ ]: {1, 5, 7, 9, 11, 13, 15}</span></pre><p id="401f" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated">而<strong class="jo hi"> discard() </strong>则不管集合中是否存在要删除的元素。</p><pre class="ix iy iz ja fd ki kj kk kl aw km bi"><span id="8d40" class="kn ko hh kj b fi kp kq l kr ks">In [ ]: S.discard(5)<br/>print(S)</span><span id="b1de" class="kn ko hh kj b fi kt kq l kr ks">Out [ ]: {1, 7, 9, 11, 13, 15}</span><span id="bf90" class="kn ko hh kj b fi kt kq l kr ks">In [ ]: S.discard(17)<br/>print(S)</span><span id="b862" class="kn ko hh kj b fi kt kq l kr ks">Out [ ]: {1, 7, 9, 11, 13, 15}</span></pre><p id="b482" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated">我们可以使用<strong class="jo hi"> pop() </strong>从集合中移除一个随机元素。</p><pre class="ix iy iz ja fd ki kj kk kl aw km bi"><span id="d803" class="kn ko hh kj b fi kp kq l kr ks">In [ ]: S.pop()<br/>print(S)</span><span id="8f00" class="kn ko hh kj b fi kt kq l kr ks">Out [ ]: {7, 9, 11, 13, 15}</span><span id="5490" class="kn ko hh kj b fi kt kq l kr ks">In [ ]: S.pop()<br/>print(S)</span><span id="38f5" class="kn ko hh kj b fi kt kq l kr ks">Out [ ]: {9, 11, 13, 15}</span></pre><p id="b943" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated">为了从一个集合中得到一个排序列表，我们使用<strong class="jo hi"> sorted() </strong>函数。</p><pre class="ix iy iz ja fd ki kj kk kl aw km bi"><span id="e5f7" class="kn ko hh kj b fi kp kq l kr ks">In [ ]: S <strong class="kj hi">=</strong> {<strong class="kj hi">-</strong>9,1,7,5,9,<strong class="kj hi">-</strong>1,<strong class="kj hi">-</strong>5,<strong class="kj hi">-</strong>3,3,<strong class="kj hi">-</strong>7}<br/>print(sorted(S))</span><span id="e6a1" class="kn ko hh kj b fi kt kq l kr ks">Out [ ]: [-9, -7, -5, -3, -1, 1, 3, 5, 7, 9]</span></pre><h1 id="688d" class="ku ko hh bd kv kw kx ky kz la lb lc ld in le io lf iq lg ir lh it li iu lj lk bi translated">不可变元素</h1><p id="7aef" class="pw-post-body-paragraph jm jn hh jo b jp ll ii jr js lm il ju jv ln jx jy jz lo kb kc kd lp kf kg kh ha bi translated">虽然一个集合是可变的，也就是说，我们可以添加或删除其中的元素，但是集合中的元素是不可变的(不能改变)。不可变对象包括数字、字符串和元组。在下面的例子中，你可以看到一个集合的元素可以是元组。</p><pre class="ix iy iz ja fd ki kj kk kl aw km bi"><span id="292c" class="kn ko hh kj b fi kp kq l kr ks">In [ ]: T <strong class="kj hi">=</strong> set([(2,5),(4,7),(6,9)]<br/>print(T)</span><span id="9842" class="kn ko hh kj b fi kt kq l kr ks">Out [ ]: {(2, 5), (6, 9), (4, 7)}</span></pre><p id="20e6" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated">但它们不能是列表。</p><pre class="ix iy iz ja fd ki kj kk kl aw km bi"><span id="6d0a" class="kn ko hh kj b fi kp kq l kr ks">In [ ]: L <strong class="kj hi">=</strong> set([[2,5],[4,7],[6,9]])<br/>print(L)</span><span id="7d77" class="kn ko hh kj b fi kt kq l kr ks"><strong class="kj hi">---------------------------------------------------------------------------</strong><br/><strong class="kj hi">TypeError</strong>                                 Traceback (most recent call last)<br/><strong class="kj hi">&lt;ipython-input-139-efadde9932a3&gt;</strong> in &lt;module&gt;<br/><strong class="kj hi">----&gt; 1 </strong>L <strong class="kj hi">=</strong> set<strong class="kj hi">([[2,5],[4,7],[6,9]])</strong><br/>      2 print<strong class="kj hi">(</strong>L<strong class="kj hi">)</strong></span><span id="f20e" class="kn ko hh kj b fi kt kq l kr ks"><strong class="kj hi">TypeError</strong>: unhashable type: 'list'</span></pre><h1 id="d1ab" class="ku ko hh bd kv kw kx ky kz la lb lc ld in le io lf iq lg ir lh it li iu lj lk bi translated">集合运算</h1><p id="e27c" class="pw-post-body-paragraph jm jn hh jo b jp ll ii jr js lm il ju jv ln jx jy jz lo kb kc kd lp kf kg kh ha bi translated">Python定义了集合上的许多运算。大多数操作有两种形式，一种是方法，另一种是数学运算符的重载。</p><pre class="ix iy iz ja fd ki kj kk kl aw km bi"><span id="c915" class="kn ko hh kj b fi kp kq l kr ks">In [ ]:<br/><em class="lq"># Let A be a set of even integers between 0 and 9<br/></em>A <strong class="kj hi">=</strong> set([0,2,4,6,8])<br/><em class="lq"># Let B be set of all integers between 0 and 8<br/></em>B <strong class="kj hi">=</strong> set(range(0,9))<br/><em class="lq"># C be set of odd integers between 0 and 9<br/></em>C <strong class="kj hi">=</strong> set([1,3,5,7,9])</span></pre><p id="457e" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated"><strong class="jo hi"/>或<strong class="jo hi">的元素属于:</strong>为了检查一个元素是否在集合中，我们使用了“in”和“not in”运算符。</p><pre class="ix iy iz ja fd ki kj kk kl aw km bi"><span id="30e5" class="kn ko hh kj b fi kp kq l kr ks">In [ ]: 9 <strong class="kj hi">in</strong> A, 2 <strong class="kj hi">not</strong> <strong class="kj hi">in</strong> B, 7 <strong class="kj hi">in</strong> C</span><span id="5e5d" class="kn ko hh kj b fi kt kq l kr ks">Out [ ]: (False, False, True)</span></pre><p id="82bb" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated"><strong class="jo hi">子集</strong> <strong class="jo hi"> (A⊆B ): </strong>若集合a包含在集合b中，则a是b的子集，换句话说，集合a中的所有元素也是集合b中的元素，如下图所示。为了在Python中研究一个集合A是否是另一个集合B的子集，我们使用issubset()或&lt; =。</p><pre class="ix iy iz ja fd ki kj kk kl aw km bi"><span id="b700" class="kn ko hh kj b fi kp kq l kr ks">In [ ]: A.issubset(B)</span><span id="f9f9" class="kn ko hh kj b fi kt kq l kr ks">Out [ ]: True</span><span id="b95b" class="kn ko hh kj b fi kt kq l kr ks">In [ ]: A<strong class="kj hi">&lt;=</strong>B</span><span id="ad4a" class="kn ko hh kj b fi kt kq l kr ks">Out [ ]: True</span></pre><figure class="ix iy iz ja fd jb er es paragraph-image"><div class="er es lr"><img src="../Images/395ae6c04a2e7baf19c084712df9c059.png" data-original-src="https://miro.medium.com/v2/resize:fit:562/format:webp/1*KXNadZX_eWWIe9Tp25E3dg.png"/></div><figcaption class="ji jj et er es jk jl bd b be z dx translated"><strong class="bd kv"> A⊆B </strong></figcaption></figure><p id="92ae" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated"><strong class="jo hi">超集(B⊇A): </strong> B是a的超集是a是b的子集的另一种说法，为了在Python中检验它，我们使用issuperset()或&gt; =。</p><pre class="ix iy iz ja fd ki kj kk kl aw km bi"><span id="1b12" class="kn ko hh kj b fi kp kq l kr ks">In [ ]: B.issuperset(A)</span><span id="5be3" class="kn ko hh kj b fi kt kq l kr ks">Out [ ]: True</span><span id="5fb5" class="kn ko hh kj b fi kt kq l kr ks">In [ ]: B<strong class="kj hi">&gt;=A</strong></span><span id="e44c" class="kn ko hh kj b fi kt kq l kr ks">Out [ ]: True</span></pre><p id="2a2c" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated"><strong class="jo hi">Union</strong><strong class="jo hi">(a⋃b):</strong>a⋃b<strong class="jo hi"/>拥有属于集合a或集合b的所有元素，要在Python中找到union，我们使用union()或|。</p><pre class="ix iy iz ja fd ki kj kk kl aw km bi"><span id="562f" class="kn ko hh kj b fi kp kq l kr ks">In [ ]: A.union(B)</span><span id="7b98" class="kn ko hh kj b fi kt kq l kr ks">Out [ ]: {0, 1, 2, 3, 4, 5, 6, 7, 8}</span><span id="abe1" class="kn ko hh kj b fi kt kq l kr ks">In [ ]: A <strong class="kj hi">|</strong> B</span><span id="8637" class="kn ko hh kj b fi kt kq l kr ks">Out [ ]: {0, 1, 2, 3, 4, 5, 6, 7, 8}</span></pre><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es ls"><img src="../Images/89eae53bb155aec504f05cba16ca3e85.png" data-original-src="https://miro.medium.com/v2/resize:fit:814/format:webp/1*zky753PB4C6c04ru8LTUQg.png"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx translated"><strong class="bd kv"> A⋃B </strong></figcaption></figure><p id="fae5" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated"><strong class="jo hi">交集</strong><strong class="jo hi">(a⋂b):</strong>a⋂b<strong class="jo hi"/>拥有同时属于集合a和集合b的所有元素，在Python中判断交集，我们使用交集()或&amp;。</p><pre class="ix iy iz ja fd ki kj kk kl aw km bi"><span id="c563" class="kn ko hh kj b fi kp kq l kr ks">In [ ]: A.intersection(B)</span><span id="2814" class="kn ko hh kj b fi kt kq l kr ks">Out [ ]: {0, 2, 4, 6, 8}</span><span id="4986" class="kn ko hh kj b fi kt kq l kr ks">In [ ]: A&amp;B</span><span id="fb62" class="kn ko hh kj b fi kt kq l kr ks">Out [ ]: {0, 2, 4, 6, 8}</span></pre><figure class="ix iy iz ja fd jb er es paragraph-image"><div class="er es lt"><img src="../Images/9685f24d979daeb48825c974585d9c53.png" data-original-src="https://miro.medium.com/v2/resize:fit:804/format:webp/1*vWUAkCHHLchmtlN_S5N4_A.png"/></div><figcaption class="ji jj et er es jk jl bd b be z dx translated"><strong class="bd kv"> A⋂B </strong></figcaption></figure><p id="ad02" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated"><strong class="jo hi">difference</strong><strong class="jo hi">(B-A):</strong>B-A包含所有在B中而不在A中的元素，在Python中要计算Difference，我们用Difference()或-。</p><pre class="ix iy iz ja fd ki kj kk kl aw km bi"><span id="2e57" class="kn ko hh kj b fi kp kq l kr ks">In [ ]: B.difference(A)</span><span id="338f" class="kn ko hh kj b fi kt kq l kr ks">Out[ ]: {1, 3, 5, 7}</span><span id="a010" class="kn ko hh kj b fi kt kq l kr ks">In [ ]: B<strong class="kj hi">-</strong>A</span><span id="6211" class="kn ko hh kj b fi kt kq l kr ks">Out[ ]: {1, 3, 5, 7}</span></pre><figure class="ix iy iz ja fd jb er es paragraph-image"><div class="er es lu"><img src="../Images/6d08d4c2eaa5b1d1650d8b48ae7e2188.png" data-original-src="https://miro.medium.com/v2/resize:fit:926/format:webp/1*Hz_5U4f-1I__hLjj2HliIg.png"/></div><figcaption class="ji jj et er es jk jl bd b be z dx translated"><strong class="bd kv"> B-A </strong></figcaption></figure><p id="4f4d" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated"><strong class="jo hi">对称差(A △ B): </strong> A <strong class="jo hi"> △ </strong> B包含属于A或B但不属于它们的交集的所有元素，或者包含属于两个集合之一但不属于两个集合的所有元素。我们使用symmetric_difference()或^的方法来寻找Python中的对称差。</p><pre class="ix iy iz ja fd ki kj kk kl aw km bi"><span id="8cfd" class="kn ko hh kj b fi kp kq l kr ks">In [ ]: A.symmetric_difference(B)</span><span id="eb3e" class="kn ko hh kj b fi kt kq l kr ks">Out [ ]: {1, 3, 5, 7}</span><span id="28d5" class="kn ko hh kj b fi kt kq l kr ks">In [ ]: A<strong class="kj hi">^</strong>B</span><span id="de02" class="kn ko hh kj b fi kt kq l kr ks">Out [ ]: {1, 3, 5, 7}</span></pre><figure class="ix iy iz ja fd jb er es paragraph-image"><div class="er es lv"><img src="../Images/3e93cfba32f83bdedccaf96a17d0238c.png" data-original-src="https://miro.medium.com/v2/resize:fit:928/format:webp/1*Tu8dzRF5AcMjsetNQ4KxpA.png"/></div><figcaption class="ji jj et er es jk jl bd b be z dx translated"><strong class="bd kv"> A △ B </strong></figcaption></figure><p id="8e49" class="pw-post-body-paragraph jm jn hh jo b jp jq ii jr js jt il ju jv jw jx jy jz ka kb kc kd ke kf kg kh ha bi translated"><strong class="jo hi">计算笛卡尔积</strong> <br/>两个集合A和B的笛卡尔积，记为A × B，是所有可能的有序对的集合，其中A的元素第一，B的元素第二。在集合构造符号中，A × B = {(a，b) : a ∈ A和b ∈ B}。下面的代码片段用Python计算了两个集合A和B的笛卡尔积。</p><pre class="ix iy iz ja fd ki kj kk kl aw km bi"><span id="1053" class="kn ko hh kj b fi kp kq l kr ks">In [ ]: <em class="lq"># Let A be a set of even integers between 0 and 9<br/></em>A <strong class="kj hi">=</strong> set([0,2,4,6,8])<br/><em class="lq"># Let B be set of all integers between 0 and 8<br/></em>B <strong class="kj hi">=</strong> set(range(0,9))<br/>C <strong class="kj hi">= </strong>set()</span><span id="8fe7" class="kn ko hh kj b fi kt kq l kr ks"><strong class="kj hi">for</strong> x <strong class="kj hi">in</strong> A:<br/><strong class="kj hi">   for</strong> y <strong class="kj hi">in</strong> B:<br/>      C.add((x,y))<br/>C</span><span id="e39b" class="kn ko hh kj b fi kt kq l kr ks">Out [ ]:<br/>{(0, 0),<br/> (0, 1),<br/> (0, 2),<br/> (0, 3),<br/> (0, 4),<br/> (0, 5),<br/> (0, 6),<br/> (2, 0),<br/> (2, 1),<br/> (2, 2),<br/> (2, 3),<br/> (2, 4),<br/> (2, 5),<br/> (2, 6),<br/> (4, 0),<br/> (4, 1),<br/> (4, 2),<br/> (4, 3),<br/> (4, 4),<br/> (4, 5),<br/> (4, 6),<br/> (6, 0),<br/> (6, 1),<br/> (6, 2),<br/> (6, 3),<br/> (6, 4),<br/> (6, 5),<br/> (6, 6)}</span></pre><h1 id="7ae3" class="ku ko hh bd kv kw kx ky kz la lb lc ld in le io lf iq lg ir lh it li iu lj lk bi translated">结论</h1><p id="c231" class="pw-post-body-paragraph jm jn hh jo b jp ll ii jr js lm il ju jv ln jx jy jz lo kb kc kd lp kf kg kh ha bi translated">在本文中，我们学习了Python中的集合，如何创建集合，如何在集合中添加和删除元素。我们讨论了可应用于布景的操作。我们还看到集合本身是可变的，但是它们的元素是不可变的。感谢您的阅读。我希望这篇文章对你有用。如果你有任何问题，请在下面的评论中或通过Twitter联系我们。快乐的蟒蛇！</p></div></div>    
</body>
</html>