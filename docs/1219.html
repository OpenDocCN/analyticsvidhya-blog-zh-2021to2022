<html>
<head>
<title>Simple steps to run your local Python programs in AWS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在AWS中运行本地Python程序的简单步骤</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/simple-steps-to-run-your-local-python-programs-in-aws-815b5b2d993?source=collection_archive---------4-----------------------#2021-02-20">https://medium.com/analytics-vidhya/simple-steps-to-run-your-local-python-programs-in-aws-815b5b2d993?source=collection_archive---------4-----------------------#2021-02-20</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="7af3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">我为什么要写这个？</strong></p><p id="952d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">当运行我的机器学习模型特别是图像分割时，我对自己的计算能力感到沮丧。在本地不可能运行。我也没有在谷歌colab和Kaggle笔记本上找到任何运气。:(都提供了很好的IDE，所以你可以立刻运行你的代码，但是没有人保证有很好的计算能力。GPU就在那里，但是想象一下，你必须改变你的代码，只在GPU中运行，这也是不能保证的！总之，长话短说，我想在具有原始计算能力的远程机器上运行我的python代码。我很难得到一个清晰的文章，特别是我在windows对不起伙计们，Mac还没有在我的国家流行:)</p><p id="5fe6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果你在某个地方看到超过10个步骤来做这个简单的事情，那你就在正确的地方！</p><p id="3c9c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">步骤1:在AWS控制台中创建密钥对并下载</strong></p><p id="3a9e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">转到AWS控制台中的密钥对服务，然后单击创建密钥:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jc"><img src="../Images/f80a03cbba419d8efff33b580c84534a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8qYi6Yfh5mfRYE8YjjVF1Q.png"/></div></div></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jo"><img src="../Images/8ab7b24365d45d3455999e96e472437c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tecQIBUjZHaR72xue8fzLQ.png"/></div></div></figure><p id="f138" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">创建完成后，您可以下载到本地，然后关注我将在下面分享的重要信息。</p><p id="3315" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">请务必从Windows中的PowerShell连接EC2实例。所有的截图都来自powershell。现在，要从powershell执行ssh，请记住您需要成为密钥文件(即。pem文件。如果你右击。pem文件和查看权限应该显示为完全控制:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jp"><img src="../Images/deb7e2662c71902aef24c0ff765176d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vZiRDBDAaCCxAIOIzXpiqg.png"/></div></div></figure><p id="1f4a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果创建一个更好的方法，请不要“禁用继承”。pem文件，然后正确修复安全权限。</p><p id="3730" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">步骤2 : </strong> <strong class="ig hi">创建一个EC2实例</strong>请按照我之前的故事<a class="ae jq" rel="noopener" href="/@jaganbisoyi/connect-aws-ec2-instance-through-windows-remote-desktop-70fc90cbf7ee?sk=c1e1edb18fcdb2f1caa9596bf1cdb175">这个</a>创建一个EC2实例。我不会在这里重复同样的话。但是不要忘记第1步，我们需要为pem文件提供适当的权限。</p><p id="c494" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">选择带有Anaconda的AMI，这样在启动EC2之后就不需要安装任何软件了！</p><p id="3a16" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">选择AMI:在搜索框中键入anaconda并选择一个AMI。我选择第一选择。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jr"><img src="../Images/5396a4e635a58a50581daa9ff9b3e09f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R4e4tEiqKmyK7jOn3hWWPw.png"/></div></div></figure><p id="3457" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">只需点击默认选择，如下一步，并继续每当你找到。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es js"><img src="../Images/56667653f4aba5a7909a364e61b3c468.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FmzfWD6HJo3ongaf4wN5Yw.png"/></div></div></figure><p id="05a9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">更新安全组以便允许来自端口8888的任何IP地址的请求(有点冒险！不建议用于生产质量)</p><p id="5d10" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">上面将打开Jupyter笔记本端口，以便从您的本地机器或世界上的任何机器访问Jupyter笔记本服务器！。请按如下方式更新安全组:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jt"><img src="../Images/16d1f7d578f400619ffb85efd6af0236.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VxSsMvwcy696Le87qFXPZQ.png"/></div></div></figure><p id="c580" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">选择密钥对(如果您忘记下载pem文件，也可以在此步骤中下载)</p><p id="c8e8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">就在完成EC2实例创建之前，将弹出一个UI来选择密钥对。请选择密钥对。pem文件。它会下载到您的本地。保证它的安全。这是连接EC2实例的密钥。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es ju"><img src="../Images/197027f02074dd9d3ab5da15d554ccc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VWkvGD-1ZpGhmUItVvwMQw.png"/></div></div></figure><p id="ab16" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">步骤3:在EC2中启动Jupyter笔记本:</strong></p><p id="a9d0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">通过公钥对实例执行ssh:</p><blockquote class="jv jw jx"><p id="aaf7" class="ie if jy ig b ih ii ij ik il im in io jz iq ir is ka iu iv iw kb iy iz ja jb ha bi translated">ssh-I .<pemfile-name>。PEM ec2-用户@ <public-ip-address-of-ec2/></pemfile-name></p></blockquote><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es kc"><img src="../Images/041c8faf22e126555230389a75237823.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ptjR_pYLmU9XAT4E9DHKgQ.png"/></div></div></figure><p id="ce3c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">键入Yes并继续:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es kd"><img src="../Images/1cae861539e3e55cff3aea560c774b5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GPzz2xZxhLICwnCoNHasAQ.png"/></div></div></figure><p id="bb47" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">通过<strong class="ig hi"> jupyter笔记本—无浏览器</strong>运行jupyter笔记本</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es ke"><img src="../Images/2d758168bd677677288c642d76fac321.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QDbaUtTyabnnd5mxcA1wmA.png"/></div></div></figure><p id="be01" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">步骤4:配置本地文件，这样你就可以连接到运行在EC2中的Jupyter笔记本。</strong></p><p id="775c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在用户目录/.ssh .中创建一个名为' config '的文件，并结束下面的。从EC2下载后，我已经将pemfile.pem保存在我的用户目录中。</p><blockquote class="jv jw jx"><p id="8d46" class="ie if jy ig b ih ii ij ik il im in io jz iq ir is ka iu iv iw kb iy iz ja jb ha bi translated">主机ec2 <br/>主机名ec2–XX–YYY–ZZZ–MMM.compute-1.amazonaws.com<br/>用户ec2-用户<br/>身份文件~/pemfile.pem</p></blockquote><p id="d134" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">步骤5:连接到EC2内部运行的Jupyter笔记本</strong></p><p id="68ed" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">打开您的本地power shell，传递下面的命令，并在出现提示时键入yes。</p><blockquote class="jv jw jx"><p id="9f4b" class="ie if jy ig b ih ii ij ik il im in io jz iq ir is ka iu iv iw kb iy iz ja jb ha bi translated">ssh -NfL 9999:本地主机:8888 ec2</p></blockquote><p id="664b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">上面是一个简单的步骤，将您的本地9999端口请求转发到端口8888上EC2实例内部托管的Jupyter笔记本。</p><p id="cb2c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">你都设置好了，不要关闭powershell，让它挂在那里。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es kf"><img src="../Images/533bea2c5afde25cf85928827ff170c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3CLN1Q9jhTEGe2KESN1lcg.png"/></div></div></figure><p id="b4e7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">从EC2内部运行的笔记本中复制令牌。toke=[xxxx-yyyy]</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es kg"><img src="../Images/49380fcb6502aa8069b47d1831e7500e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wj0NcZKHSHYWseyURcPZ2w.png"/></div></div></figure><p id="25b2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">进入浏览器，访问您刚刚在AWS EC2中创建的Jupyter笔记本。<a class="ae jq" href="http://localhost:9999/" rel="noopener ugc nofollow" target="_blank"> localhost:9999/ </a>你会看到类似下面的内容。你可以粘贴之前复制的令牌并访问notebook，也可以生成一个密码(我更喜欢这样，因为这样可以提供个人密码)</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es kh"><img src="../Images/823b29a00a28657ab4168605a07158eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1282/format:webp/1*Fa_eK4LtlpZxrKTSaPfRJg.png"/></div></figure><p id="9b6b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为您的jupyter笔记本服务器设置密码，这是我们的Hello EC2！！</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es ki"><img src="../Images/f07bbd916ed492c148b0112ab821edf9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*OfBfG1Xgz26L_2bbHZzEZw.png"/></div></figure><p id="bd84" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我花了几个小时得到这个简单直接的方法，所以你不需要做同样的事情:)。如果您有任何问题，请务必让我知道，并在错误日志中留言，我很乐意帮助您！</p><p id="6037" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">快乐计算和快乐编码！！</p></div></div>    
</body>
</html>