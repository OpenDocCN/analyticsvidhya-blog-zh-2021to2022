<html>
<head>
<title>Predicting Cryptocurrency Prices using Facebook Prophet</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用脸书预言家预测加密货币价格</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/predicting-cryptocurrency-prices-using-facebook-prophet-a1509415224f?source=collection_archive---------4-----------------------#2021-02-25">https://medium.com/analytics-vidhya/predicting-cryptocurrency-prices-using-facebook-prophet-a1509415224f?source=collection_archive---------4-----------------------#2021-02-25</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="485e" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">或者如何使用Python、Streamlit &amp; Heroku部署预测Web应用程序</h2></div><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es iw"><img src="../Images/a0fadbd7a916bad79a6bf9eb61be1fdd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7s0V3E8weget4WrTBZPqmA.jpeg"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx translated">尼克·崇在<a class="ae jm" href="https://unsplash.com/s/photos/stock-market?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="8a5a" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">随着最近加密炒作和采用的复苏，许多人都在猜测空间，尤其是价格可能会去哪里。遇到了<strong class="jp hi">脸书预言家</strong>，广受欢迎的&amp;易于使用的预测模块(针对Python和R)，它似乎是一个预测未来的潜在有趣工具。</p><p id="7522" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">更有趣的是<strong class="jp hi"> Streamlit </strong>模块，这是一个非常简单的包，它使任何具有基本Python编码技能的人都能创建一个看起来不错的web应用程序！在这种情况下，它是一个用于估计未来加密货币价格的实时预测工具，但是它可以针对任何类型的用例运行任何类型的应用程序！</p><p id="c434" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">因为我们急于知道价格在不久的将来是否会上涨，所以让我们使用Fabebook Prophet &amp; Streamlit构建一个预测应用程序！如果我们想公开展示应用程序，它需要被部署(在云端)，这样任何人都可以从任何地方访问它。从我遇到的最流行的云服务和部署方法来看，使用<strong class="jp hi"> Heroku </strong>似乎是创建简单应用部署的最简单平台。对于更专业的&amp;生产级部署，Azure、AWS和Google Cloud可能是你的最佳选择。</p><p id="47f7" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">首先，让我们构建我们的应用程序！</p><h1 id="3afc" class="kj kk hh bd kl km kn ko kp kq kr ks kt in ku io kv iq kw ir kx it ky iu kz la bi translated">构建Streamlit加密预测器</h1><p id="afb5" class="pw-post-body-paragraph jn jo hh jp b jq lb ii js jt lc il jv jw ld jy jz ka le kc kd ke lf kg kh ki ha bi translated">和往常一样，构建应用程序的第一步是导入所需的包。请注意，使用Python 3.7 &amp;安装pystan包是安装脸书先知包所必需的。总之，我们需要以下包:</p><pre class="ix iy iz ja fd lg lh li lj aw lk bi"><span id="e200" class="ll kk hh lh b fi lm ln l lo lp">$pip install pandas <br/>$pip install streamlit <br/>$pip install plotly <br/>$pip install cryptocmd <br/>$pip install pystan<br/>$pip install fbprophet</span></pre><p id="0ffc" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">运行Streamlit应用程序非常简单。只需使用命令提示符(使用命令“<em class="lq"> cd C:\your\folder </em>”)转到保存Python文件的文件夹，并使用命令“<em class="lq">streamlit run your _ app _ name . py</em>”。这将在您的浏览器中打开一个本地Streamlit应用程序，从中您可以看到脚本的确切输出。最酷的是，您可以进行更改&amp;保存脚本，这将使您的Streamlit应用程序自动重新运行更改！再往下一点，我会展示这是什么样子。</p><h2 id="fc59" class="ll kk hh bd kl lr ls lt kp lu lv lw kt jw lx ly kv ka lz ma kx ke mb mc kz md bi translated">数据</h2><p id="0a83" class="pw-post-body-paragraph jn jo hh jp b jq lb ii js jt lc il jv jw ld jy jz ka le kc kd ke lf kg kh ki ha bi translated">要构建一个加密价格预测应用程序，我们首先需要最新的价格数据。我们可以构建自己的网络抓取工具，从Coinmarketcap.com这样的价格源中抓取价格数据。话虽如此，当我们可以站在巨人的肩膀上建设时，为什么要重新发明轮子呢？这样的刮价Python包毕竟早就有了，叫做<strong class="jp hi"> cryptocmd </strong>。因此，让我们使用scraper生成的输入，使用下面的代码，通过选择一个ticker，初始化scraper &amp;加载数据。</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="me mf l"/></div></figure><h2 id="51b4" class="ll kk hh bd kl lr ls lt kp lu lv lw kt jw lx ly kv ka lz ma kx ke mb mc kz md bi translated">图表</h2><p id="c2a0" class="pw-post-body-paragraph jn jo hh jp b jq lb ii js jt lc il jv jw ld jy jz ka le kc kd ke lf kg kh ki ha bi translated">现在我们有了数据，我们想创建一个交互式的图表来查看我们的加密货币的历史价格。使用下面的代码，我们创建了一个选项，以常规比例或对数比例(测量价格的百分比差异，而不是绝对价格)绘制所选股票的所有可用数据。</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="me mf l"/></div></figure><p id="72db" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">现在我们有了数据和图，让我们看看在Streamlit中是什么样子。</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es mg"><img src="../Images/217bb8bfe3b55d31dc1a6b970326a59c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YpZWQcEB0_sl-73LQrz96w.png"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx translated">利用当前价格数据和时间序列图简化应用概述</figcaption></figure><h2 id="cf78" class="ll kk hh bd kl lr ls lt kp lu lv lw kt jw lx ly kv ka lz ma kx ke mb mc kz md bi translated">脸书先知</h2><p id="f6f3" class="pw-post-body-paragraph jn jo hh jp b jq lb ii js jt lc il jv jw ld jy jz ka le kc kd ke lf kg kh ki ha bi translated">厉害！现在我们有了一个显示我们选择的加密股票的数据和图表的应用程序，终于到了创建我们的脸书预言家预测模型的时候了。</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="me mf l"/></div></figure><p id="755f" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">好了，我们的细流加密预测器准备好了！在做了一些应用程序的翻译后，我添加和调整了一些参数和样式，使它更具可定制性和更好看。应用程序的完整代码可以在我的<a class="ae jm" href="https://github.com/michaeltuijp/streamlit-crypto-forecaster" rel="noopener ugc nofollow" target="_blank"> <strong class="jp hi"> Github </strong> </a>上找到。</p><h1 id="0d78" class="kj kk hh bd kl km kn ko kp kq kr ks kt in ku io kv iq kw ir kx it ky iu kz la bi translated">在Heroku的部署</h1><p id="1ff2" class="pw-post-body-paragraph jn jo hh jp b jq lb ii js jt lc il jv jw ld jy jz ka le kc kd ke lf kg kh ki ha bi translated">准备好应用程序后，您现在可以在本地使用它了。但是，如果您希望其他人访问您的应用程序，那么它需要被部署(在云或本地服务器上)。大多数生产级应用程序大多部署在三大云平台之一(AWS、Azure和Google Cloud)上，为此，我将在未来撰写一篇关于在这些平台上部署的文章。然而，对于快速简单的部署，Heroku是一个很好的起点！</p><h2 id="6f4f" class="ll kk hh bd kl lr ls lt kp lu lv lw kt jw lx ly kv ka lz ma kx ke mb mc kz md bi translated">必需的文件</h2><p id="e09b" class="pw-post-body-paragraph jn jo hh jp b jq lb ii js jt lc il jv jw ld jy jz ka le kc kd ke lf kg kh ki ha bi translated">为了在Heroku上部署应用程序，我们需要一些额外的文件。首先，我们需要一个<strong class="jp hi"> requirements.txt </strong>文件，其中包含运行应用程序所需的所有Python包&amp;及其版本。接下来需要一个<strong class="jp hi"> setup.sh </strong>文件，它指定了部署的基本设置要求，如下所示。</p><pre class="ix iy iz ja fd lg lh li lj aw lk bi"><span id="645d" class="ll kk hh lh b fi lm ln l lo lp">mkdir -p ~/.streamlit/</span><span id="f24a" class="ll kk hh lh b fi mh ln l lo lp">echo “\<br/>[server]\n\<br/>port = $PORT\n\<br/>enableCORS = false\n\<br/>headless = true\n\<br/>\n\<br/>“ &gt; ~/.streamlit/config.toml</span></pre><p id="3ec1" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">最后，我们需要执行setup &amp; python文件，为此需要一个<strong class="jp hi"> Procfile </strong>，看起来像下面的命令。</p><pre class="ix iy iz ja fd lg lh li lj aw lk bi"><span id="dbac" class="ll kk hh lh b fi lm ln l lo lp">web: sh setup.sh &amp;&amp; streamlit run streamlit_crypto_forecaster.py</span></pre><h2 id="9f9b" class="ll kk hh bd kl lr ls lt kp lu lv lw kt jw lx ly kv ka lz ma kx ke mb mc kz md bi translated">赫罗库</h2><p id="f161" class="pw-post-body-paragraph jn jo hh jp b jq lb ii js jt lc il jv jw ld jy jz ka le kc kd ke lf kg kh ki ha bi translated">现在所有文件都准备好了，我们准备在<a class="ae jm" href="https://heroku.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp hi"> Heroku </strong> </a>上部署应用程序。你确实需要一个Github &amp; Heroku账号，这两个账号都可以免费创建。要开始在Github上创建资源库，请查看这篇<a class="ae jm" rel="noopener" href="/swlh/a-beginners-guide-to-github-e4747a93765c"> <strong class="jp hi">文章</strong> </a>。一旦你也有了Heroku的帐户，你可以选择<em class="lq">创建新应用程序，</em>给它一个唯一的名字&amp;选择离你最近的地区。创建应用后，您将看到下面的部署概述。</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es mg"><img src="../Images/b67805efdf050c9c7a3f4d56d3f5db4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-nJdCTYVPr8-5eWM3R2emw.png"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx translated">Heroku部署概述，使用Github连接作为部署方法</figcaption></figure><p id="9e3c" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">在这里，我们选择Github作为部署方法。之后，只需填写Github存储库的路径，(可选)<em class="lq">启用自动部署</em>(这会自动将您提交到Github存储库的任何更改部署到Heroku应用程序)，并通过单击<em class="lq">部署分支</em>完成。</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es mg"><img src="../Images/4dcdfc38c5355ff7f76fd0858eaec28b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f3qfbEFaNiiB8cHuXAvV3A.png"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx translated">连接您的Github存储库路径并部署您的应用程序！</figcaption></figure><p id="5a82" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">恭喜你！您的Heroku应用程序现已部署完毕，您想与之分享的任何人都可以访问它！您现在可以随时随地探索Streamlit加密预测器 ！同样，如果你想看到或克隆完整应用程序的代码，请在我的<a class="ae jm" href="https://github.com/michaeltuijp/streamlit-crypto-forecaster" rel="noopener ugc nofollow" target="_blank"> <strong class="jp hi"> Github </strong> </a>上查看。在撰写本文时，该模型似乎对可预见的未来相当乐观！</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div class="er es mi"><img src="../Images/a0fb60c170cd9681d81271a4240ab777.png" data-original-src="https://miro.medium.com/v2/resize:fit:1268/format:webp/1*gvwgyu12KS1fhz3KuSa75w.png"/></div><figcaption class="ji jj et er es jk jl bd b be z dx translated">使用脸书先知预测未来365天</figcaption></figure><h2 id="7109" class="ll kk hh bd kl lr ls lt kp lu lv lw kt jw lx ly kv ka lz ma kx ke mb mc kz md bi translated">最后一个音符</h2><p id="dea5" class="pw-post-body-paragraph jn jo hh jp b jq lb ii js jt lc il jv jw ld jy jz ka le kc kd ke lf kg kh ki ha bi translated">撰写本文是出于对加密领域的最新发展、最新的Python包和应用程序以及当今易于使用的云平台的兴奋。这些文章帮助我提出并构建了应用程序，所以也给他们读一读吧！<a class="ae jm" href="https://towardsdatascience.com/time-series-analysis-with-facebook-prophet-how-it-works-and-how-to-use-it-f15ecf2c0e3a" rel="noopener" target="_blank"><strong class="jp hi">(1)</strong></a><a class="ae jm" href="https://towardsdatascience.com/time-series-modeling-of-bitcoin-prices-5133edfec30b" rel="noopener" target="_blank"><strong class="jp hi">(2)</strong></a><a class="ae jm" href="https://towardsdatascience.com/deploying-a-prophet-forecasting-model-with-streamlit-to-heroku-caf1729bd917" rel="noopener" target="_blank"><strong class="jp hi">(3)</strong></a></p><p id="d8a2" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">现在，创建您喜欢的任何类型的(数据科学)应用程序比以往任何时候都更容易&amp;部署它非常快速和容易！我很高兴能在未来探索和从事类似的项目，让任何人都能构建自己的应用程序！</p><p id="a7b6" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi"> P.S. </strong>任何价格预测或提及都不是财务建议；)</p></div></div>    
</body>
</html>