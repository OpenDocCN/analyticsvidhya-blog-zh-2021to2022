<html>
<head>
<title>Installing the requirements for GPT-2. TensorFlow, PyTorch and Transformers.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">满足GPT新协议的要求。TensorFlow，PyTorch和Transformers。</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/installing-the-requirements-for-gpt-2-tensorflow-pytorch-and-transformers-9105348f10f4?source=collection_archive---------3-----------------------#2021-02-15">https://medium.com/analytics-vidhya/installing-the-requirements-for-gpt-2-tensorflow-pytorch-and-transformers-9105348f10f4?source=collection_archive---------3-----------------------#2021-02-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="77ff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">"我变成了张量流，环境的破坏者."</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/f15425c4cdb9516e766f5a2c388e3264.png" data-original-src="https://miro.medium.com/v2/resize:fit:1134/format:webp/0*7pWrzD7GdW5ahhSF.jpg"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">美国能源部— <a class="ae jp" href="https://en.wikipedia.org/wiki/Trinity_and_Beyond" rel="noopener ugc nofollow" target="_blank"> <em class="jq">三位一体与超越:原子弹电影</em> </a></figcaption></figure><p id="b138" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">各位数据爱好者，你们好。我目前正在做一个有趣的人工智能写作项目，将使用GPT-2。我为安装这样做的需求而心痛不已，并迷失在大量似乎没有帮助的信息中。所以我想我会分享我的成功故事，以防它可以帮助其他人也经历这场斗争。</p><p id="f3d4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第一步:创建虚拟环境</strong></p><p id="0dd2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我假设您已经完成了安装anaconda的第0步，在我的例子中，我使用gitbash作为我的命令行界面。我也在Windows 10上运行，如果你在不同的系统上，这可能会改变事情，特别是如果你打算安装pytorch。我将在第3步中展示它是如何完成的。好的免责声明结束。我们走吧。</p><ol class=""><li id="b031" class="jr js hi ih b ii ij im in iq jt iu ju iy jv jc jw jx jy jz bi translated">使用代表“更改目录”的<code class="du ka kb kc kd b">$ cd</code>转到GIT BASH中的主目录。</li><li id="c027" class="jr js hi ih b ii ke im kf iq kg iu kh iy ki jc jw jx jy jz bi translated">如果您在主目录中安装了anaconda，那么使用<code class="du ka kb kc kd b">$ cd anaconda3/envs</code>进入Anaconda环境。如果不在那里，你可以使用<code class="du ka kb kc kd b">$ where conda</code>找到你安装anaconda的地方</li><li id="00f7" class="jr js hi ih b ii ke im kf iq kg iu kh iy ki jc jw jx jy jz bi translated">创造新的环境。我将我的新环境命名为<em class="kj"> gpt_env </em>，但是你可以用你喜欢的任何东西来代替它。<strong class="ih hj">重要提示:使用PYTHON 3.7或更早的模型。</strong>到目前为止python的最新版本3.9将无法有效地与TensorFlow一起工作。3.8将与TensorFlow 2一起工作，但如果你打算训练gpt-2，你将需要一个旧的TensorFlow和一个旧的python版本。<br/> <code class="du ka kb kc kd b">$ conda create --name gpt_env python=3.7</code></li></ol><p id="15df" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第二步:激活新环境</strong></p><p id="4abd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用conda activate激活新环境。<br/> <code class="du ka kb kc kd b">$ conda activate gpt_env/</code> <br/>在你的CLI中你应该能确定我们处于新的环境中。我的环境出现在用户名之前。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="er es kk"><img src="../Images/945b1bbdbea30ec51007c4405e5c0d45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j06l4GG1zBgNZKirU57gjg.jpeg"/></div></div></figure><p id="6978" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第三步:开始安装必要的库</p><p id="db7a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我建议先安装TensorFlow，因为它有很多依赖项，如果安装过程顺序不对，可能会搞砸。我很艰难地学会了这一点，所以你不必…希望如此。</p><p id="9b71" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">需要特别注意的是，TensorFlow 2(本文发布时TF的当前版本)不允许在没有一些创造性修改的情况下对gpt2进行训练/微调。如果你打算微调gpt2，我建议安装TensorFlow版。更多详情可点击此处:<a class="ae jp" href="https://www.tensorflow.org/install/pip" rel="noopener ugc nofollow" target="_blank">用pip安装TensorFlow】。正如我上面提到的，TensorFlow 2适用于Python 8及以上版本，而TensorFlow 1.15适用于Python 7及以下版本。</a></p><pre class="je jf jg jh fd kp kd kq kr aw ks bi"><span id="c55a" class="kt ku hi kd b fi kv kw l kx ky">#If you intend to just generate text<br/>$ pip install tensorflow </span><span id="965b" class="kt ku hi kd b fi kz kw l kx ky">#If you intend to fine-tune gpt-2 <br/>$ pip install tensorflow==1.15</span></pre><p id="2ad6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来我安装了PyTorch。PyTorch非常适合gpt-2文本生成，这也是我使用它的原因。你需要去<a class="ae jp" href="https://pytorch.org/get-started/locally/" rel="noopener ugc nofollow" target="_blank">本地启动| PyTorch </a>并列出你的安装规格。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="er es la"><img src="../Images/89167aa8c375213e6df9a721153e2e0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8IhFdOvR2QHeBhWfqrnptw.png"/></div></div></figure><pre class="je jf jg jh fd kp kd kq kr aw ks bi"><span id="3588" class="kt ku hi kd b fi kv kw l kx ky">$ pip install torch==1.7.1+cpu torchvision==0.8.2+cpu torchaudio===0.7.2 -f <a class="ae jp" href="https://download.pytorch.org/whl/torch_stable.html" rel="noopener ugc nofollow" target="_blank">https://download.pytorch.org/whl/torch_stable.html</a></span></pre><p id="ae57" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，我安装了来自huggingface.co的变压器。下面是安装指南:【huggingface.co】安装—变压器4.3.0文档。</p><pre class="je jf jg jh fd kp kd kq kr aw ks bi"><span id="7715" class="kt ku hi kd b fi kv kw l kx ky">$ pip install transformers</span></pre><p id="cb3e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第四步:安装GPT-2 </strong></p><p id="5f57" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我发现了几种做这件事的方法。对于我的简单用例，我决定在我的系统上安装gpt-2。它可以在python项目索引中找到:py <a class="ae jp" href="https://pypi.org/project/gpt-2-simple/" rel="noopener ugc nofollow" target="_blank"> gpt-2-simple PyPI </a>。它可以通过在CLI中输入以下内容来安装。</p><pre class="je jf jg jh fd kp kd kq kr aw ks bi"><span id="18f3" class="kt ku hi kd b fi kv kw l kx ky">pip install gpt-2-simple</span></pre><p id="a3c2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第五步:运行朱庇特实验室，用GPT 2号接管世界！</p><p id="c5d6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在你要开始有趣的部分了！我希望这对你有用。如果你有任何问题，请在下面评论，让我知道！<br/>为了进行测试，你可以跟随这个视频:<a class="ae jp" href="https://www.youtube.com/watch?v=YvVQgvAz9dY&amp;t=325s" rel="noopener ugc nofollow" target="_blank">用Python编写OpenAI的GPT-2语言生成</a>来自一个叫James Briggs的家伙。GPT 2号能做的事情真是太棒了！祝你好运！</p></div><div class="ab cl lb lc gp ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="hb hc hd he hf"><p id="ab69" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">演职员表</strong> : <br/>杰西·陶(Jesse Tao)非常棒，在我经历了很多挣扎之后，他给了我明智的建议，并指导我完成了这个过程。他帮我解决了这个问题。查看他的网站<a class="ae jp" href="https://jesseptao.com/" rel="noopener ugc nofollow" target="_blank">杰西的数据科学之旅(jesseptao.com)</a><br/>和:<a class="ae jp" href="https://www.youtube.com/channel/UCv83tO5cePwHMt1952IVVHw" rel="noopener ugc nofollow" target="_blank">詹姆斯·布里格斯——YouTube</a></p></div></div>    
</body>
</html>