<html>
<head>
<title>3 Tricks to write code in a Pythonic way</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">以Pythonic方式编写代码的3个技巧</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/3-tricks-to-write-code-in-a-pythonic-way-b8dbf23d977e?source=collection_archive---------13-----------------------#2021-07-13">https://medium.com/analytics-vidhya/3-tricks-to-write-code-in-a-pythonic-way-b8dbf23d977e?source=collection_archive---------13-----------------------#2021-07-13</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/213544689adcb69b3062d72ea112150c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Q1IiicuVsz5b2wAm"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">戴维·赫斯洛在<a class="ae it" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="1410" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">随着数据分析、数据可视化、机器学习、Web开发和游戏开发等领域对边缘技术需求的不断增长，Python已经成为当今最深刻的编码语言之一。</p><p id="3024" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">虽然每天都有功能强大的python包发布的消息让我们兴奋不已，但我们常常忽略了Python必须提供的基本功能。在本文中，我将讨论三个这样的python主题，它们可以帮助您更好、更高效地编写代码。</p><h1 id="ac81" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated"><strong class="ak">列表理解</strong></h1><p id="db97" class="pw-post-body-paragraph iu iv hh iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr ha bi translated">我们总是可以使用循环以约定的方式创建一个列表。然而，更好也更简单的方法是使用理解。这里有一些列表理解的便利功能。</p><ul class=""><li id="2d41" class="kv kw hh iw b ix iy jb jc jf kx jj ky jn kz jr la lb lc ld bi translated"><strong class="iw hi">一行</strong>:创建一个从1到100的整数列表，没问题！</li></ul><figure class="lf lg lh li fd ii er es paragraph-image"><div class="er es le"><img src="../Images/75bc00ac17f2ab2ab69f414c8944c6ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:744/format:webp/1*JX0C2vtBEyZuKtKxlIXq_g.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated">numbers=[i for i in range(1，101)]</figcaption></figure><ul class=""><li id="ec03" class="kv kw hh iw b ix iy jb jc jf kx jj ky jn kz jr la lb lc ld bi translated"><strong class="iw hi">条件</strong>:创建一个只有偶数的列表，范围从1到100</li></ul><figure class="lf lg lh li fd ii er es paragraph-image"><div class="er es lj"><img src="../Images/0ca22b4056cb962c29336cad6f443321.png" data-original-src="https://miro.medium.com/v2/resize:fit:952/format:webp/1*9ftvEqvuXWzI8kKtH-uEdg.png"/></div></figure><ul class=""><li id="8606" class="kv kw hh iw b ix iy jb jc jf kx jj ky jn kz jr la lb lc ld bi translated"><strong class="iw hi"> Iterable </strong>:用第二个列表中的项目创建一个数字列表</li></ul><figure class="lf lg lh li fd ii er es paragraph-image"><div class="er es lk"><img src="../Images/107f220478a9f78691df1d5f56f56259.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*PezXadJ8KQqryGSOQxkXOA.png"/></div></figure><p id="e259" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">字典和集合理解(<em class="ll">加成)</em> </strong>:这些数据结构提供与列表理解相同的功能。</p><ul class=""><li id="05d0" class="kv kw hh iw b ix iy jb jc jf kx jj ky jn kz jr la lb lc ld bi translated">集合理解:</li></ul><figure class="lf lg lh li fd ii er es paragraph-image"><div class="er es lm"><img src="../Images/010c95101ecfefa309c5c72d69faea9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:630/format:webp/1*kf1EtBu8wPL-ioO6h75-YA.png"/></div></figure><figure class="lf lg lh li fd ii er es paragraph-image"><div class="er es ln"><img src="../Images/ecbdfead0abe37eceea15c3c90b35aa2.png" data-original-src="https://miro.medium.com/v2/resize:fit:546/format:webp/1*M13c9NrmhpeTEgzClb-sew.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated"><strong class="bd ju">哎呀！这是我的名字，没有欺骗</strong></figcaption></figure><ul class=""><li id="6f1a" class="kv kw hh iw b ix iy jb jc jf kx jj ky jn kz jr la lb lc ld bi translated">字典理解:</li></ul><figure class="lf lg lh li fd ii er es paragraph-image"><div class="er es lo"><img src="../Images/00a536524ca74c07397599614f5552f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:966/format:webp/1*bYI3Q-jriN3Jd14GseD0pQ.png"/></div></figure><figure class="lf lg lh li fd ii er es paragraph-image"><div class="er es lp"><img src="../Images/f183240f3d29823f7699144bc007a94c.png" data-original-src="https://miro.medium.com/v2/resize:fit:532/format:webp/1*sGtI3wLyjqt6fGy9BH8YOw.png"/></div></figure><h1 id="2658" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated"><strong class="ak">拉姆达的力量</strong></h1><p id="a536" class="pw-post-body-paragraph iu iv hh iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr ha bi translated">Lambda函数是匿名或一次性函数，因为它们主要用于一次性功能。然而，当你把Lambda和其他函数结合起来时，你就能看到它的真正潜力。</p><ul class=""><li id="ca87" class="kv kw hh iw b ix iy jb jc jf kx jj ky jn kz jr la lb lc ld bi translated"><strong class="iw hi">Lambda with Filter()</strong>:Filter函数以函数和列表作为参数。</li></ul><figure class="lf lg lh li fd ii er es paragraph-image"><div class="er es lj"><img src="../Images/ef855093e9768815419a600494876d91.png" data-original-src="https://miro.medium.com/v2/resize:fit:952/format:webp/1*rZLtJDv-vWL4N9vUa7sR2g.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated"><strong class="bd ju">打印所有事件</strong></figcaption></figure><ul class=""><li id="c87d" class="kv kw hh iw b ix iy jb jc jf kx jj ky jn kz jr la lb lc ld bi translated"><strong class="iw hi"> Lambda with map() </strong> : Map函数也是以函数和列表为自变量。</li></ul><figure class="lf lg lh li fd ii er es paragraph-image"><div class="er es lq"><img src="../Images/cfff2a187c79d3af31d58db231580104.png" data-original-src="https://miro.medium.com/v2/resize:fit:792/format:webp/1*wk02n0RAakDNJ97ZczZnOg.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated"><strong class="bd ju">将所有元素乘以2 </strong></figcaption></figure><ul class=""><li id="0b35" class="kv kw hh iw b ix iy jb jc jf kx jj ky jn kz jr la lb lc ld bi translated"><strong class="iw hi">Lambda with Reduce()</strong>:Reduce函数将列表的大小缩减为一个返回值。</li></ul><figure class="lf lg lh li fd ii er es paragraph-image"><div class="er es lq"><img src="../Images/0581a1a58994c7bdaf3f90ce4958097a.png" data-original-src="https://miro.medium.com/v2/resize:fit:792/format:webp/1*WvUXEy7hKGbTBp18W27M3Q.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated"><strong class="bd ju">返回所有数字的总和</strong></figcaption></figure><p id="afee" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">Zip()它！</p><p id="4232" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我举个例子解释一下这个很酷的功能。让我们创建如下两个数据帧。</p><pre class="lf lg lh li fd lr ls lt lu aw lv bi"><span id="2ce0" class="lw jt hh ls b fi lx ly l lz ma">df = pd.DataFrame({ 'Id': [1,2,3,4,5,6,7,8,9,10],'Employee': ["A","B","C","D","E","F","G","H","I","J"],<br/>                   'Location': ["Ind","Ind","US","Eur","Eur","Eur","Ind","US","Ind","US"]})</span><span id="8207" class="lw jt hh ls b fi mb ly l lz ma">look_up_df=pd.DataFrame({'location_code':["Ind","US","Eur"], 'description':["India","United States","Europe"]})</span></pre><figure class="lf lg lh li fd ii er es paragraph-image"><div class="er es mc"><img src="../Images/4eb4b466ea66feb8202f4e37cdec9102.png" data-original-src="https://miro.medium.com/v2/resize:fit:972/format:webp/1*jXrstWVXJOTfE_A7PwNEzQ.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated">我们的数据集</figcaption></figure><figure class="lf lg lh li fd ii er es paragraph-image"><div class="er es md"><img src="../Images/bf648ae4e758f2b4b1ece0d11a5cb775.png" data-original-src="https://miro.medium.com/v2/resize:fit:718/format:webp/1*9OVNSMCb9neeCYUnshuizg.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated">位置查询</figcaption></figure><p id="54d1" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">现在假设您想用相应的描述替换每个位置代码，我们可以简单地使用zip，如下所示:</p><pre class="lf lg lh li fd lr ls lt lu aw lv bi"><span id="e1c8" class="lw jt hh ls b fi lx ly l lz ma">df.replace(dict(zip(look_up_df['location_code'],look_up_df['description'])),inplace=True)</span></pre><p id="8c28" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">让我们来分析一下。zip()函数将接受两个可迭代的对象并返回一个元组迭代器，然后我们将它转换成一个字典并用作replace函数的参数。</p><figure class="lf lg lh li fd ii er es paragraph-image"><div class="er es me"><img src="../Images/42bf797e318f49d36330645e6e28b71f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1046/format:webp/1*F2pTuDu5jlhbGBDpyz45HA.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated">在我们的例子中，Zip()返回这个</figcaption></figure><ul class=""><li id="8785" class="kv kw hh iw b ix iy jb jc jf kx jj ky jn kz jr la lb lc ld bi translated">解压缩将会恢复我们的原始系列。</li></ul><pre class="lf lg lh li fd lr ls lt lu aw lv bi"><span id="cd91" class="lw jt hh ls b fi lx ly l lz ma">z=zip(look_up_df['location_code'],look_up_df['description'])<br/>codes, desc =  zip(*z)<br/>print('location_code =', codes)<br/>print('description =', desc)</span></pre><p id="e773" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><em class="ll">编码快乐！</em></p></div></div>    
</body>
</html>