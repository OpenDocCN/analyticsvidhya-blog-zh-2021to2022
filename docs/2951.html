<html>
<head>
<title>Machine Learning Model inside Docker Container.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Docker容器中的机器学习模型。</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/machine-learning-model-inside-docker-container-6b361e787d17?source=collection_archive---------11-----------------------#2021-05-27">https://medium.com/analytics-vidhya/machine-learning-model-inside-docker-container-6b361e787d17?source=collection_archive---------11-----------------------#2021-05-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div class="ab fe cl ij"><img src="../Images/a88bbeb83ff24bf150b7752178c7d332.png" data-original-src="https://miro.medium.com/v2/format:webp/0*xdqXToAPmQrSm6c9.png"/></div></figure><p id="4bbb" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在这个机器学习模型中，我们将制作一个程序来估算给定经验年限的人的工资。</p><p id="b408" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">完成任务的步骤:</p><ul class=""><li id="9de7" class="jk jl hi io b ip iq it iu ix jm jb jn jf jo jj jp jq jr js bi translated">从docker hub下载CentOS图像。</li><li id="f1b1" class="jk jl hi io b ip jt it ju ix jv jb jw jf jx jj jp jq jr js bi translated">使用CentOS映像创建新容器。</li><li id="47c0" class="jk jl hi io b ip jt it ju ix jv jb jw jf jx jj jp jq jr js bi translated">在新容器的顶部安装python软件</li><li id="00f8" class="jk jl hi io b ip jt it ju ix jv jb jw jf jx jj jp jq jr js bi translated">导入训练ML模型所需的库。</li><li id="f07a" class="jk jl hi io b ip jt it ju ix jv jb jw jf jx jj jp jq jr js bi translated">将数据文件复制到容器中。</li><li id="282b" class="jk jl hi io b ip jt it ju ix jv jb jw jf jx jj jp jq jr js bi translated">在一个文件中训练和加载模型以预测值。</li></ul><p id="afaa" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">让我们开始吧</p><p id="2932" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj"> <em class="jy">首先让我们从..</em> </strong></p><h1 id="c640" class="jz ka hi bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated"><strong class="ak"> <em class="kx">什么是机器学习？</em>T9】</strong></h1><p id="9737" class="pw-post-body-paragraph im in hi io b ip ky ir is it kz iv iw ix la iz ja jb lb jd je jf lc jh ji jj hb bi translated"><strong class="io hj"> <em class="jy">机器学习</em></strong><em class="jy">(</em><strong class="io hj"><em class="jy">ML</em></strong><em class="jy">)是研究通过经验和利用数据自动改进的计算机算法。它被视为人工智能的一部分。机器学习算法基于样本数据(称为“训练数据”)建立模型，以便在没有明确编程的情况下进行预测或决策。机器学习算法用于各种各样的应用中，例如在医学和计算机视觉中，在这些应用中，开发常规算法来执行所需的任务是困难的或不可行的。</em></p><p id="c542" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在，</p><h1 id="e04d" class="jz ka hi bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">Docker是什么？</h1><p id="ecf9" class="pw-post-body-paragraph im in hi io b ip ky ir is it kz iv iw ix la iz ja jb lb jd je jf lc jh ji jj hb bi translated">Docker是一个开发、发布和运行应用程序的开放平台。Docker使您能够将应用程序从基础设施中分离出来，这样您就可以快速交付软件。使用Docker，您可以像管理应用程序一样管理基础设施。通过利用Docker快速交付、测试和部署代码的方法，您可以显著减少编写代码和在生产中运行代码之间的延迟。</p><h1 id="0003" class="jz ka hi bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">Docker是如何工作的？</h1><p id="d8bd" class="pw-post-body-paragraph im in hi io b ip ky ir is it kz iv iw ix la iz ja jb lb jd je jf lc jh ji jj hb bi translated">Docker技术使用Linux内核和内核的特性，如C组和名称空间，来隔离进程，使它们能够独立运行。这种独立性是容器的目的——能够彼此独立地运行多个流程和应用程序，以更好地利用您的基础架构，同时保留您在独立系统中拥有的安全性。 </p><p id="0964" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj"> <em class="jy">包括Docker在内的容器工具提供了基于映像的部署模型。这使得跨多个环境共享一个应用程序或一组服务及其所有依赖关系变得很容易。Docker还在这个容器环境中自动部署应用程序(或组成应用程序的组合进程集)。</em> </strong></p><p id="9a38" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj"> <em class="jy">这些构建在Linux容器之上的工具——这使得Docker用户友好且独一无二——为用户提供了前所未有的应用访问、快速部署能力以及对版本和版本分发的控制。</em>T3】</strong></p><h2 id="dcd6" class="ld ka hi bd kb le lf lg kf lh li lj kj ix lk ll kn jb lm ln kr jf lo lp kv lq bi translated"><strong class="ak">待办步骤:</strong></h2><ul class=""><li id="96ae" class="jk jl hi io b ip ky it kz ix lr jb ls jf lt jj jp jq jr js bi translated"><strong class="io hj">启动docker服务</strong></li></ul><pre class="lu lv lw lx fd ly lz ma mb aw mc bi"><span id="730a" class="ld ka hi lz b fi md me l mf mg"><strong class="lz hj"><em class="jy">$ systemctl start docker</em></strong></span></pre><figure class="lu lv lw lx fd ii er es paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="er es mh"><img src="../Images/8ae3c96de96d12a0619fb7d401b28f2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*oDrOuKvxlpjhnKTy.png"/></div></div></figure><ul class=""><li id="2e61" class="jk jl hi io b ip iq it iu ix jm jb jn jf jo jj jp jq jr js bi translated"><strong class="io hj">从docker hub中提取CentOS图像</strong></li></ul><pre class="lu lv lw lx fd ly lz ma mb aw mc bi"><span id="73f9" class="ld ka hi lz b fi md me l mf mg"><strong class="lz hj"><em class="jy">$ docker pull centos:latest</em></strong></span></pre><figure class="lu lv lw lx fd ii er es paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="er es mm"><img src="../Images/6b08019cdc692bc00bedb196a531a1c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Yjj29-KUCKlydyj2.png"/></div></div></figure><figure class="lu lv lw lx fd ii er es paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="er es mh"><img src="../Images/cb5a71ec5f2841f978c0664a36f159f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*6yU3C0pXXrkVxAAl.png"/></div></div></figure><ul class=""><li id="edc7" class="jk jl hi io b ip iq it iu ix jm jb jn jf jo jj jp jq jr js bi translated"><strong class="io hj">使用CentOS映像创建名为ML-model的新容器</strong></li></ul><pre class="lu lv lw lx fd ly lz ma mb aw mc bi"><span id="e9c5" class="ld ka hi lz b fi md me l mf mg"><strong class="lz hj"><em class="jy">$ docker run -it --name ML-model centos:latest</em></strong></span></pre><figure class="lu lv lw lx fd ii er es paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="er es mh"><img src="../Images/0a3bed3f30c4ba85d147c522c5b933d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ev4vvNehaly6vs0v.png"/></div></div></figure><p id="056f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">使用上面的命令，我们可以像在命令中使用-it选项一样直接与容器交互</p><ul class=""><li id="96de" class="jk jl hi io b ip iq it iu ix jm jb jn jf jo jj jp jq jr js bi translated"><strong class="io hj">在新容器顶部安装python软件</strong></li></ul><p id="9695" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">因为它是新的容器，我们必须检查是否有python软件，如果没有，使用下面的命令安装python软件。</p><pre class="lu lv lw lx fd ly lz ma mb aw mc bi"><span id="a439" class="ld ka hi lz b fi md me l mf mg"><strong class="lz hj"><em class="jy"># yum install python</em></strong></span></pre><figure class="lu lv lw lx fd ii er es paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="er es mn"><img src="../Images/1d70e9f86aceed5c6c7b87ea4ced38b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*A8lSM25ppDlYanHn.png"/></div></div></figure><ul class=""><li id="0af2" class="jk jl hi io b ip iq it iu ix jm jb jn jf jo jj jp jq jr js bi translated"><strong class="io hj">导入训练ML模型所需的库。</strong></li></ul><p id="4e7f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在我们必须导入一些训练模型所需的库。为此，我们使用pip3命令来安装这些库。</p><pre class="lu lv lw lx fd ly lz ma mb aw mc bi"><span id="e312" class="ld ka hi lz b fi md me l mf mg"><strong class="lz hj"><em class="jy"># pip3 install numpy<br/># pip3 install pandas<br/># pip3 install sklearn</em></strong></span></pre><figure class="lu lv lw lx fd ii er es paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="er es mo"><img src="../Images/fef89a590985abf7a982e03d94b61930.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*HbX8QG_b3w3jftID.png"/></div></div></figure><ul class=""><li id="2de5" class="jk jl hi io b ip iq it iu ix jm jb jn jf jo jj jp jq jr js bi translated"><strong class="io hj">将数据文件复制到容器中。</strong></li></ul><p id="39a3" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们必须将基本操作系统(即RedhatOS)中的数据复制到centos容器，为此，我们在基本操作系统中运行以下命令。</p><p id="d4b7" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">注意:在这种情况下，您可以复制您的训练模型以在容器中运行，或者我们可以复制数据集以训练该数据集并在容器中创建模型。在这种情况下，我复制数据集并在docker中创建模型。</p><p id="2b92" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">docker CP</strong><strong class="io hj">&lt;src&gt;&lt;container _ name&gt;:&lt;dest&gt;</strong></p><pre class="lu lv lw lx fd ly lz ma mb aw mc bi"><span id="c362" class="ld ka hi lz b fi md me l mf mg"><strong class="lz hj"><em class="jy">$ docker cp Salaray.csv ML-model:/task1/</em></strong></span></pre><figure class="lu lv lw lx fd ii er es paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="er es mp"><img src="../Images/9c7dddede941f17ba361015406be3f59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*joYVG9D-Jk8gxMdY.png"/></div></div></figure><ul class=""><li id="8e1c" class="jk jl hi io b ip iq it iu ix jm jb jn jf jo jj jp jq jr js bi translated"><strong class="io hj">创建训练模型文件并保存模型。</strong></li></ul><pre class="lu lv lw lx fd ly lz ma mb aw mc bi"><span id="f4fb" class="ld ka hi lz b fi md me l mf mg"><strong class="lz hj"><em class="jy"># vim model.py</em></strong></span></pre><figure class="lu lv lw lx fd ii er es paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="er es mn"><img src="../Images/5b44ba5abd9403ad68f780ec6f942d72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*k1bj1Ldee9NMdmYQ.png"/></div></div></figure><ul class=""><li id="03a1" class="jk jl hi io b ip iq it iu ix jm jb jn jf jo jj jp jq jr js bi translated">现在，运行并输入我们想要预测的值。在这种情况下，我训练了一个模型，在这个模型中，我们必须给出经验年数，这样，它将预测该年数的预期工资。</li></ul><pre class="lu lv lw lx fd ly lz ma mb aw mc bi"><span id="95f3" class="ld ka hi lz b fi md me l mf mg"><strong class="lz hj"><em class="jy"># python3 model.py</em></strong></span></pre><figure class="lu lv lw lx fd ii er es paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="er es mm"><img src="../Images/9ece0750f17fbd07d686e95ac02a2861.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*5iNVaGtw1WFOavax.png"/></div></div></figure><p id="f0cd" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在这里，我们的模型是在容器顶部正确创建和预测的。</p><p id="ae21" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">所以，</p><p id="c4e8" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj"> <em class="jy">任务成功完成</em> </strong></p><p id="acea" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这就是你如何在docker容器中创建任何机器学习程序。</p><p id="da7b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">T29！！感谢您阅读文章！！ </strong></p></div></div>    
</body>
</html>