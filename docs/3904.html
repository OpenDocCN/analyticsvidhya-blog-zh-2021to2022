<html>
<head>
<title>Vaccine Tracker: A telegram chat bot (Part 2)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">疫苗追踪器:电报聊天机器人(第二部分)</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/vaccine-tracker-a-telegram-chat-bot-part-2-3907c4243b74?source=collection_archive---------6-----------------------#2021-08-07">https://medium.com/analytics-vidhya/vaccine-tracker-a-telegram-chat-bot-part-2-3907c4243b74?source=collection_archive---------6-----------------------#2021-08-07</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><h1 id="71c7" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">介绍</h1><p id="1823" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">在之前的<a class="ae ka" href="https://ronsharma1992.medium.com/vaccine-tracker-a-telegram-chat-bot-6bbf5ec66b18" rel="noopener">帖子</a>中，我已经解释了疫苗追踪器的设计以及它如何部署在任何本地机器上。在这篇文章中，我将分享一个使用Heroku和Amazon Web Services的telegram聊天机器人的可扩展和无服务器部署。</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kb"><img src="../Images/a8df7217118a7aba66e2672f9fcff12e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_qrleXvchJKhOjDU3Huv3w.png"/></div></div></figure></div><div class="ab cl kn ko go kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ha hb hc hd he"><h1 id="d9b9" class="ie if hh bd ig ih ku ij ik il kv in io ip kw ir is it kx iv iw ix ky iz ja jb bi translated">与Heroku的经历</h1><p id="51c7" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated"><a class="ae ka" href="https://www.heroku.com/what" rel="noopener ugc nofollow" target="_blank"> Heroku </a>是Salesforce推出的一款以应用为中心的云平台，可实现快速便捷的应用部署。所提供的免费服务对于部署个人项目或测试任何新应用程序来说都绰绰有余。然而，我们得到的最大优势是，使用Heroku部署的任何web应用程序都可以使用HTTPS URL自动访问，这是我们的聊天机器人的强制要求，如前所述<a class="ae ka" href="https://ronsharma1992.medium.com/vaccine-tracker-a-telegram-chat-bot-6bbf5ec66b18" rel="noopener"/>。</p><p id="528e" class="pw-post-body-paragraph jc jd hh je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz ha bi translated">然而，在我们的应用程序中使用Heroku有一些限制，其中之一是它只在欧洲和北美地区提供云资源。由于我们的应用程序正在请求来自REST APIss的数据，REST API可从<a class="ae ka" href="https://apisetu.gov.in/public/marketplace/api/cowin#/" rel="noopener ugc nofollow" target="_blank"> <strong class="je hi"> Cowin </strong> </a>获得，这些数据不能从印度以外的IPs访问，并返回一个<a class="ae ka" href="https://httpstatuses.com/403" rel="noopener ugc nofollow" target="_blank"> <strong class="je hi"> HTTP 403 </strong> </a>错误。</p><p id="b71b" class="pw-post-body-paragraph jc jd hh je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz ha bi translated">我发现<a class="ae ka" href="https://www.toptal.com/python/telegram-bot-tutorial-python" rel="noopener ugc nofollow" target="_blank">这篇</a>帖子对于使用Heroku部署一个电报聊天机器人很有用，如果上面的限制不存在，那就去看看吧。</p></div><div class="ab cl kn ko go kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ha hb hc hd he"><h1 id="def2" class="ie if hh bd ig ih ku ij ik il kv in io ip kw ir is it kx iv iw ix ky iz ja jb bi translated">出路:亚马逊网络服务</h1><p id="124b" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">亚马逊在亚太(孟买)地区有一个可用区，因此为部署疫苗跟踪器bot提供了一个可行的选择。然而，选择AWS作为云提供商确实会给应用程序带来另一个问题。默认情况下，部署在AWS实例上的web应用程序可以使用公共HTTP URL在互联网上公开，但是我们的应用程序也需要支持HTTPS。我们稍后会解决这个问题，但是首先我们需要在AWS上安装我们的聊天机器人。Amazon通过<a class="ae ka" href="https://aws.amazon.com/elasticbeanstalk/" rel="noopener ugc nofollow" target="_blank"> AWS Elastic Beanstalk </a>为web应用程序提供了一种非常有效的方法，我也将它用于部署。</p><h2 id="fdfa" class="le if hh bd ig lf lg lh ik li lj lk io jn ll lm is jr ln lo iw jv lp lq ja lr bi translated">弹性豆茎</h2><p id="4dc2" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated"><a class="ae ka" href="https://aws.amazon.com/elasticbeanstalk/" rel="noopener ugc nofollow" target="_blank"> AWS Elastic Beanstalk </a>是一种在AWS云上部署web应用程序的快速而简单的方法。使用这种方法最重要的好处是，它没有额外的成本，产生的成本仅来自部署中涉及的底层资源，如实例、负载平衡器、存储和监控。另一个优势是<a class="ae ka" href="https://aws.amazon.com/elasticbeanstalk/" rel="noopener ugc nofollow" target="_blank"> AWS Elastic Beanstalk </a>自己管理应用平台的基础设施和扩展操作，因此减少了开发团队的工作量，并允许开发人员更多地关注应用逻辑。</p><h2 id="295c" class="le if hh bd ig lf lg lh ik li lj lk io jn ll lm is jr ln lo iw jv lp lq ja lr bi translated">配置EB CLI</h2><p id="04be" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">我假设你已经创建了一个AWS账户，但是如果你还没有，有足够的<a class="ae ka" href="https://aws.amazon.com/premiumsupport/knowledge-center/create-and-activate-aws-account/" rel="noopener ugc nofollow" target="_blank">资源</a>可以创建一个。</p><p id="b1a0" class="pw-post-body-paragraph jc jd hh je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz ha bi translated">Elastic Beanstalk提供了一个易于使用且功能强大的CLI来管理多种环境和应用程序，可以按照此处<a class="ae ka" href="https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/eb-cli3-install.html" rel="noopener ugc nofollow" target="_blank">的说明进行安装。此外，为访问键配置必要的权限也很重要，因为它将在部署应用程序的Elastic Beanstalk控制台中使用。</a></p><h2 id="d932" class="le if hh bd ig lf lg lh ik li lj lk io jn ll lm is jr ln lo iw jv lp lq ja lr bi translated">为Webhooks配置域名</h2><p id="6b30" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">如前所述，我们的telegram bot需要一个HTTPS URL来配置telegram事件的webhooks，因此，我们需要一个SSH/TLS证书作为我们的URL。AWS通过Amazon Certificate Manager免费提供公共SSL/TLS证书，因此，这是推荐的方式。</p><p id="b1c1" class="pw-post-body-paragraph jc jd hh je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz ha bi translated">在提供证书之前，我们需要提供一个注册的公共域名。有相当多的域名注册商，如GoDaddy、Cloud Flare等。但是由于我们将使用AWS资源进行部署，所以使用Amazons自己的DNS服务——route 53要容易得多。Route 53提供域名注册，这使得与其他AWS资源的设置变得容易。通过Route53获得域名很简单，详细说明可以在<a class="ae ka" href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/registrar.html?icmpid=docs_console_unmapped" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es ls"><img src="../Images/9fd87224064865953a3c8b99bcc8aa95.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qirf4teT9rVzhpd04S5B_A.png"/></div></div><figcaption class="lt lu et er es lv lw bd b be z dx translated">53号公路的域名注册</figcaption></figure></div><div class="ab cl kn ko go kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ha hb hc hd he"><h2 id="dd0b" class="le if hh bd ig lf lg lh ik li lj lk io jn ll lm is jr ln lo iw jv lp lq ja lr bi translated">亚马逊证书管理器</h2><p id="d5c9" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">该域名现在可用并注册到DNS注册中心。但是，要通过HTTPS提供内容，注册的域名需要注册证书颁发机构颁发的SSL证书。因为，我们已经广泛地将AWS用于其他资源，Amazon Certificate Manager是一个可行的选择，因为它为ACM管理的资源(如弹性负载平衡器、API网关等)颁发公共证书。免费的。</p><p id="2048" class="pw-post-body-paragraph jc jd hh je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz ha bi translated">要创建证书请求，需要域名和验证选项。验证选项可以通过电子邮件或DNS进行。在我们的例子中，域是通过Route53注册的，因此通过DNS进行验证是首选。另一个技巧是在证书中指定域名时使用通配符，如*。rohan-sharma92.com。这将确保证书对任何子域有效，如果将来需要使用的话。</p><p id="ec17" class="pw-post-body-paragraph jc jd hh je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz ha bi translated">对于通过DNS进行的验证，在AWS中添加证书颁发请求后，可以下载CSV文件。CSV文件是一个DNS配置，其中包含添加CNAME记录的信息。为了完成验证，需要使用CSV文件中提供的值在Route53中添加一个CNAME记录。AWS提供了一组详细的指令来完成此操作<a class="ae ka" href="https://docs.aws.amazon.com/acm/latest/userguide/dns-validation.html" rel="noopener ugc nofollow" target="_blank">这里是</a>。</p></div><div class="ab cl kn ko go kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ha hb hc hd he"><h2 id="c0e5" class="le if hh bd ig lf lg lh ik li lj lk io jn ll lm is jr ln lo iw jv lp lq ja lr bi translated">弹性豆茎:部署配置</h2><p id="7097" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">对于通过EB部署应用程序，<strong class="je hi"> EB Cli </strong>是一种便捷的方式。这可以通过在应用程序目录中运行以下步骤命令来完成:</p><p id="e724" class="pw-post-body-paragraph jc jd hh je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz ha bi translated">1.创建应用程序</p><p id="b01d" class="pw-post-body-paragraph jc jd hh je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz ha bi translated">在elastic beanstalk中的应用程序可以看作是项目的同义词。因此，为了初始化应用程序，<strong class="je hi"> eb init </strong>是首先需要运行的命令，指定应用程序名称和其他基本配置，如设置SSH密钥、代码提交等。这也将创建一个在AWS EB web控制台中可见的应用程序。</p><p id="266e" class="pw-post-body-paragraph jc jd hh je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz ha bi translated">2.配置环境</p><p id="e3f1" class="pw-post-body-paragraph jc jd hh je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz ha bi translated">在elastic beanstalk中，环境包含应用程序的平台配置。要设置环境，运行<strong class="je hi"> eb create </strong>命令，并在后续提示中指定配置设置，如实例详细信息、实例缩放范围等。因为这是一个相当轻量级的应用程序，所以t2 micro和t2 nano实例被配置为用于部署。</p><p id="ab1f" class="pw-post-body-paragraph jc jd hh je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz ha bi translated">3.部署环境</p><p id="4395" class="pw-post-body-paragraph jc jd hh je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz ha bi translated">一旦环境配置完成，应用程序准备好安装，<strong class="je hi"> eb deploy </strong>是将环境部署到AWS上的命令。</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es lx"><img src="../Images/16f5f34603a2f11e0ff5959d4485e00c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-SgXiqffVzxWMLAci1oOVg.png"/></div></div><figcaption class="lt lu et er es lv lw bd b be z dx translated">EB CLI</figcaption></figure><p id="a8cf" class="pw-post-body-paragraph jc jd hh je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz ha bi translated">一旦部署成功，就可以在AWS控制台中看到应用程序和环境以及部署状态。AWS知识库有大量关于其他<strong class="je hi"> eb cli </strong>命令的信息以及示例，可以在<a class="ae ka" href="https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/eb3-cmd-commands.html" rel="noopener ugc nofollow" target="_blank">这里</a>访问。</p><p id="785d" class="pw-post-body-paragraph jc jd hh je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz ha bi translated">对于使用flask部署python web应用程序，Elastic Beanstalk会自己处理大部分事情，只需要一个requirements.txt来指定外部<a class="ae ka" href="https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/python-configuration-requirements.html" rel="noopener ugc nofollow" target="_blank">依赖关系</a>以及python应用程序的入口点。</p><figure class="kc kd ke kf fd kg"><div class="bz dy l di"><div class="ly lz l"/></div></figure><h2 id="0e02" class="le if hh bd ig lf lg lh ik li lj lk io jn ll lm is jr ln lo iw jv lp lq ja lr bi translated">配置环境属性</h2><p id="e657" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">要使用EB完成bot的部署，需要配置以下环境属性:</p><ol class=""><li id="2ad8" class="ma mb hh je b jf kz jj la jn mc jr md jv me jz mf mg mh mi bi translated">令牌:电报机器人令牌。</li><li id="d8ae" class="ma mb hh je b jf mj jj mk jn ml jr mm jv mn jz mf mg mh mi bi translated">Webhook URL:用于接收电报API事件的https URL</li></ol><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es mo"><img src="../Images/afd5a2067337bf098a04eb775da1a4a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wHQuBCiGL3W9zlZg46BqAQ.png"/></div></div></figure><h2 id="98b1" class="le if hh bd ig lf lg lh ik li lj lk io jn ll lm is jr ln lo iw jv lp lq ja lr bi translated">配置负载平衡器</h2><p id="2ca0" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">在配置负载平衡器之前，必须预先设想应用程序的架构，以确定路由流量的端点。疫苗跟踪器大量使用python-telegram-bot库提供的基础设施，处理通过web钩子接收的对话和更新。这个库提供了一个内置的http服务器，用于监听和向telegram API发送事件。服务器通过这里讨论的附加处理程序管理对话事件的不同阶段。</p><p id="4df7" class="pw-post-body-paragraph jc jd hh je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz ha bi translated">默认情况下，EB为部署的应用程序创建一个应用程序负载平衡器。应用程序负载平衡器基于不同的参数(如/route、端口和协议)来路由流量。除此之外，应用程序负载平衡器应该能够访问预定义的路径来进行健康检查。对于健康检查，定期在指定的路由上发出GET请求，以检查资源的状态。如果在任何故障转移情况下需要，这是触发纵向扩展实例所必需的。</p></div><div class="ab cl kn ko go kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ha hb hc hd he"><h2 id="2cbe" class="le if hh bd ig lf lg lh ik li lj lk io jn ll lm is jr ln lo iw jv lp lq ja lr bi translated">API端点</h2><p id="dedd" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">该bot公开了两个API端点:</p><ol class=""><li id="e35c" class="ma mb hh je b jf kz jj la jn mc jr md jv me jz mf mg mh mi bi translated">/:它是默认情况下用于运行状况检查的根端点。</li><li id="7ae0" class="ma mb hh je b jf mj jj mk jn ml jr mm jv mn jz mf mg mh mi bi translated">/vaccine:触发启动bot。</li></ol><p id="a8d7" class="pw-post-body-paragraph jc jd hh je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz ha bi translated">为了将流量路由到这些端点，负载平衡器也需要配置这些as进程。任何进程也将定期进行健康检查，因此健康检查路径应该响应Http GET请求。</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es mp"><img src="../Images/7f11293575caf7bc2e1760e3317736c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3r4JFfSmTvWbcyLiRuWL5w.png"/></div></div></figure><h2 id="7b07" class="le if hh bd ig lf lg lh ik li lj lk io jn ll lm is jr ln lo iw jv lp lq ja lr bi translated">在负载平衡器上配置SSH请求</h2><p id="f4ab" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">默认情况下，从EB部署的应用程序负载平衡器支持Http请求。为了支持HTTPS请求，需要在负载平衡器上配置一个SSL/TLS侦听器(端口443)。之前创建的SSL证书也将用于配置该侦听器。这将确保负载平衡器能够将Https请求从电报服务器转发到我们的bot应用服务器。</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es mq"><img src="../Images/4a545647982bb33dec15b7516b99a55e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0u-r3fMeOk3j-n8BIckBjg.png"/></div></div></figure><h2 id="ada0" class="le if hh bd ig lf lg lh ik li lj lk io jn ll lm is jr ln lo iw jv lp lq ja lr bi translated">反向代理</h2><p id="3ed5" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">反向代理可以被视为实际web服务器前面的中间服务，负责将客户端请求转发到web服务器，就好像这些请求是由它自己发起的一样。对于通过EB部署的基本flask应用程序，标准的反向代理配置可能就足够了，因为它将请求转发到Flask对象创建时指定的端口。然而，在我们的bot中，内部web服务器运行在不同的端口上(默认情况下是3298)，因此，需要反向代理配置来将请求转发到正确的端口。</p><p id="287a" class="pw-post-body-paragraph jc jd hh je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz ha bi translated">Elastic Beanstalk使用Nginx作为部署中的默认反向代理服务器。然而，在EB中配置Nginx并不简单，需要大量的工作，主要是因为互联网上的信息很分散。我将解释我对在EB中配置Nginx的理解，具体到我们的bot的需求。</p><h2 id="52c1" class="le if hh bd ig lf lg lh ik li lj lk io jn ll lm is jr ln lo iw jv lp lq ja lr bi translated">设置反向代理</h2><p id="a4ee" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">AWS Elastic Beanstalk在实例上默认使用Amazon Linux 2平台。反向代理配置必须出现在<strong class="je hi">中。亚马逊Linux 2平台EB项目的平台</strong>目录。反向代理配置的目标是将http/https GET请求路由到应用程序的“<strong class="je hi"> / </strong>”端口5000，并将所有其他类型的请求转发到应用程序服务器的端口3298(默认端口)。为此，需要修改以下配置文件:</p><ol class=""><li id="4af1" class="ma mb hh je b jf kz jj la jn mc jr md jv me jz mf mg mh mi bi translated"><strong class="je hi">nginx . conf</strong>:nginx . conf<strong class="je hi"/>文件位于里面。平台目录，并保存所有端点的通用代理配置。这将覆盖默认的nginx配置文件。</li></ol><figure class="kc kd ke kf fd kg"><div class="bz dy l di"><div class="ly lz l"/></div><figcaption class="lt lu et er es lv lw bd b be z dx translated">nginx配置</figcaption></figure><p id="63f5" class="pw-post-body-paragraph jc jd hh je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz ha bi translated">2.<strong class="je hi"> 00_application.conf </strong>:该文件存在于<strong class="je hi">中。platform \ nginx \ conf . d \ elastic beanstalk</strong>目录(如果不存在，需要手动创建一次)。这些文件的命名约定很重要，因为它决定了这些配置的执行顺序。标准命名惯例是确保在创建新文件时将序列号作为前缀。这些文件还提供了对端点代理配置的更细粒度的控制。</p><figure class="kc kd ke kf fd kg"><div class="bz dy l di"><div class="ly lz l"/></div><figcaption class="lt lu et er es lv lw bd b be z dx translated">00 _应用程序. conf</figcaption></figure></div><div class="ab cl kn ko go kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ha hb hc hd he"><h2 id="e557" class="le if hh bd ig lf lg lh ik li lj lk io jn ll lm is jr ln lo iw jv lp lq ja lr bi translated">最后一击</h2><p id="a4e0" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">正确配置后，部署应该会成功。</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es mr"><img src="../Images/939e398569e9310310afc821950c0014.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lbw5iSoBaYpzXahfEbn4rQ.png"/></div></div><figcaption class="lt lu et er es lv lw bd b be z dx translated">成功的应用程序部署</figcaption></figure><p id="6d4b" class="pw-post-body-paragraph jc jd hh je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz ha bi translated">此外，该机器人可以通过互联网访问。</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es ms"><img src="../Images/31abb64fd61f1fb1ed39a1745ca1d661.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pKFp6rAgb3BT78hyP23UHQ.png"/></div></div><figcaption class="lt lu et er es lv lw bd b be z dx translated">可通过互联网访问的机器人</figcaption></figure><p id="7558" class="pw-post-body-paragraph jc jd hh je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz ha bi translated">要启动这个机器人，我们需要为它提供一个一次性触发器。触发器配置有端点<strong class="je hi">/疫苗</strong>来启动bot的内部web服务器。内部web服务器通过<a class="ae ka" href="https://www.rohan-sharma92.com/vaccine/" rel="noopener ugc nofollow" target="_blank">这个</a> URL手动启动。</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div class="er es mt"><img src="../Images/2c20e100b054b36df76cc6c2b11f67a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1144/format:webp/1*yDji1es1dlLC6jbc3BzpQw.png"/></div><figcaption class="lt lu et er es lv lw bd b be z dx translated">启动机器人的触发器</figcaption></figure></div><div class="ab cl kn ko go kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ha hb hc hd he"><h1 id="e980" class="ie if hh bd ig ih ku ij ik il kv in io ip kw ir is it kx iv iw ix ky iz ja jb bi translated">资源</h1><ol class=""><li id="4eb1" class="ma mb hh je b jf jg jj jk jn mu jr mv jv mw jz mf mg mh mi bi translated">试用疫苗追踪机器人:<a class="ae ka" href="http://t.me/cowin_vaccine_tracking_bot" rel="noopener ugc nofollow" target="_blank">http://t.me/cowin_vaccine_tracking_bot</a></li><li id="309e" class="ma mb hh je b jf mj jj mk jn ml jr mm jv mn jz mf mg mh mi bi translated">了解更多电报机器人:【https://core.telegram.org/bots T2】</li><li id="8b25" class="ma mb hh je b jf mj jj mk jn ml jr mm jv mn jz mf mg mh mi bi translated">弹性豆茎:<a class="ae ka" href="https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/GettingStarted.html" rel="noopener ugc nofollow" target="_blank">https://docs . AWS . Amazon . com/elastic Beanstalk/latest/DG/getting started . html</a></li><li id="b6c3" class="ma mb hh je b jf mj jj mk jn ml jr mm jv mn jz mf mg mh mi bi translated">疫苗追踪器:一个电报聊天机器人(第一部分):<a class="ae ka" rel="noopener" href="/analytics-vidhya/vaccine-tracker-a-telegram-chat-bot-6bbf5ec66b18">https://medium . com/analytics-vid hya/vaccine-Tracker-A-telegram-chat-bot-6 bbf 5 EC 66 b 18</a></li></ol></div></div>    
</body>
</html>