<html>
<head>
<title>Flask For Data Scientists : Building a Searchable File Directory</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据科学家的烧瓶:构建可搜索的文件目录</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/flask-for-data-scientists-building-a-searchable-file-directory-25b286332e80?source=collection_archive---------9-----------------------#2021-04-08">https://medium.com/analytics-vidhya/flask-for-data-scientists-building-a-searchable-file-directory-25b286332e80?source=collection_archive---------9-----------------------#2021-04-08</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/></div><div class="ab cl ie if go ig" role="separator"><span class="ih bw bk ii ij ik"/><span class="ih bw bk ii ij ik"/><span class="ih bw bk ii ij"/></div><div class="ha hb hc hd he"><p id="dbdb" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">你不必是一个专业的python web开发人员，但是使用flask和用它构建简单而强大的web应用程序的能力，是我们工具箱中的一个很好的工具。</p></div><div class="ab cl ie if go ig" role="separator"><span class="ih bw bk ii ij ik"/><span class="ih bw bk ii ij ik"/><span class="ih bw bk ii ij"/></div><div class="ha hb hc hd he"><figure class="jk jl jm jn fd jo er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es jj"><img src="../Images/bc7e13fa03d6ec08db14d6604275a2d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qc9AU5f933ALWMK3K_fOCg.png"/></div></div><figcaption class="jv jw et er es jx jy bd b be z dx translated">一旦完成简单的web应用程序的视觉。</figcaption></figure><p id="bc1b" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在本文中，我将向您展示如何使用flask构建一个简单的web应用程序。该应用程序将用于上传文件到远程路径，然后使用此web应用程序搜索和下载它们。</p><p id="552b" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">要直接跳到代码，请访问下面的github链接:</p><blockquote class="jz ka kb"><p id="0132" class="il im kc in b io ip iq ir is it iu iv kd ix iy iz ke jb jc jd kf jf jg jh ji ha bi translated"><a class="ae kg" href="https://github.com/shabeelkandi/flask-file-upload-search-app" rel="noopener ugc nofollow" target="_blank">https://github . com/shabeelkandi/flask-file-upload-search-app</a></p></blockquote></div><div class="ab cl ie if go ig" role="separator"><span class="ih bw bk ii ij ik"/><span class="ih bw bk ii ij ik"/><span class="ih bw bk ii ij"/></div><div class="ha hb hc hd he"><p id="0449" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在接下来的几行中，我将带您了解web应用程序的一些关键方面，而不是对代码的广泛回顾。</p></div><div class="ab cl ie if go ig" role="separator"><span class="ih bw bk ii ij ik"/><span class="ih bw bk ii ij ik"/><span class="ih bw bk ii ij"/></div><div class="ha hb hc hd he"><p id="17ce" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">重要的事情先来。<strong class="in hi">我们的用例是什么？</strong></p><p id="7407" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><em class="kc">答:</em>用户上传文件。看到的是一个所有文件的表，并能够通过文件名搜索和删除或下载文件。</p><h1 id="0878" class="kh ki hh bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">代码分解</h1><h2 id="d435" class="lf ki hh bd kj lg lh li kn lj lk ll kr iw lm ln kv ja lo lp kz je lq lr ld ls bi translated">定义文件模型。</h2><figure class="jk jl jm jn fd jo"><div class="bz dy l di"><div class="lt lu l"/></div></figure><p id="0496" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在上面的脚本中，我们定义了文件的含义:它应该有id、名称、url(路径)和创建日期。</p><h2 id="911f" class="lf ki hh bd kj lg lh li kn lj lk ll kr iw lm ln kv ja lo lp kz je lq lr ld ls bi translated">Web App首页:上传要素和表格</h2><figure class="jk jl jm jn fd jo"><div class="bz dy l di"><div class="lt lu l"/></div></figure><p id="0907" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">“/”路径指向web app的主页，我们正在为其构建函数<em class="kc"> upload_file()。</em></p><p id="93bb" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在主页上，如果我们得到一个点击上传按钮的‘POST ’(参见github链接上templates文件夹下的upload.html文件),我们做一些基本的检查，看看传递了什么，然后我们做一个db.session命令，将文件路径添加到数据库，然后提交到数据库。</p><p id="e7c7" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">每次一个文件被上传到数据库，文件类被初始化(db的子。模型)，所以我们把创建日期，id都分配了。</p><h2 id="08f2" class="lf ki hh bd kj lg lh li kn lj lk ll kr iw lm ln kv ja lo lp kz je lq lr ld ls bi translated">搜索和删除要素</h2><figure class="jk jl jm jn fd jo"><div class="bz dy l di"><div class="lt lu l"/></div></figure><p id="5d5c" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">现在简单的事情是为我们的应用程序构建一个搜索和删除特性，这非常简单，因为数据已经在数据库中了。</p><p id="05a0" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">搜索只是sqlite数据库的一个sql查询，而删除是基于db.delete命令的。</p><p id="847d" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">将它与html文件结合起来，可以更好地了解web应用程序的显示方式。</p></div><div class="ab cl ie if go ig" role="separator"><span class="ih bw bk ii ij ik"/><span class="ih bw bk ii ij ik"/><span class="ih bw bk ii ij"/></div><div class="ha hb hc hd he"><p id="73d3" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">我们最后要做的就是运行main.py来启动web应用程序</p><p id="f266" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><em class="kc">如果有什么不工作，请在下面评论，我会回来找你；)</em></p></div></div>    
</body>
</html>