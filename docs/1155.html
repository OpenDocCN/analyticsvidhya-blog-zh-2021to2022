<html>
<head>
<title>Hard links and soft links in Linux</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Linux中的硬链接和软链接</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/hard-links-and-soft-links-in-linux-e05a3297e381?source=collection_archive---------22-----------------------#2021-02-16">https://medium.com/analytics-vidhya/hard-links-and-soft-links-in-linux-e05a3297e381?source=collection_archive---------22-----------------------#2021-02-16</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="58cf" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">Linux是基于存储的<strong class="ig hi">操作系统</strong> (OS)，这意味着它的所有功能都是通过文件和文件夹的交互来管理的。当你给你的计算机下命令时，它会搜索与该命令相关的文件，并通过一个函数返回给你。这些文件保存在硬盘驱动器的特定部分，因此我们可以将操作系统视为能够管理硬件和软件之间通信的系统。</p><p id="01b7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">硬盘是一种物理对象，我们可以看到它，触摸它，并且能够存储系统拥有的所有信息。但是我们如何获取这些信息呢？我们不能手动打开硬盘看文件，虽然它们是以虚拟的方式存在的。这是操作系统参与的地方。首先，我们需要知道文件的实际位置，这样我们才能找到它。假设我们正在文件柜中搜索一个特定的文件。如果我们没有一个号码，文件夹的名称或某种识别，这将是令人难以置信的乏味，很难找到文件的实际位置。因此，为了进行有效的搜索，我们需要了解一些关于我们正在寻找的信息。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jc"><img src="../Images/60457a555b80d14505ce4d5d7c88072a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cbNtkX3gP0DDOL7PW70r_A.jpeg"/></div></div></figure><p id="91ac" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们的Linux就是这样对待文件的。当我们存储一个文件时，它的所有信息都是和它一起创建的。硬盘上的位置、大小、所有者、文件类型、访问权限，以及我们如何才能毫不犹豫地找到它。在Linux上，这被称为<strong class="ig hi">索引节点</strong>(索引节点)，它存储了我们需要知道的关于文件及其id(标识号)的所有信息，除了内容及其名称。</p></div><div class="ab cl jo jp go jq" role="separator"><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt"/></div><div class="ha hb hc hd he"><h1 id="09b4" class="jv jw hh bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">硬链接</h1><p id="e8e2" class="pw-post-body-paragraph ie if hh ig b ih kt ij ik il ku in io ip kv ir is it kw iv iw ix kx iz ja jb ha bi translated">所以现在我们知道了Linux在硬盘上存储文件的方式，但是现在我们不知道如何访问它们。不像文件归档程序，当我们找到我们要找的文件时，我们不能读取整个文件，因为它会从系统中被破坏。我们需要读取它们的副本，这样系统就不会忘记文件的存在。这被称为<strong class="ig hi">硬链接</strong>，是一种不直接操作文件内容的有效方法。</p><p id="e724" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">它被命名为“链接”，因为它不是实际的文件，它是一个指向文件在硬盘上的实际位置的指针，所以我们可以很容易地访问它。除了它的名字，正如我们之前提到的，在Linux上所有的东西都是一个文件，我们可以删除它。可以想象，删除硬链接会使硬盘上的文件不可访问(除非我们有另一个相关的硬链接)，因为我们将不再有任何安全的方法来访问它。此外，这个硬链接包含来自实际文件的相同的<strong class="ig hi"> inode </strong>号，因为它处理与原始文件相同的信息。</p><h1 id="0800" class="jv jw hh bd jx jy ky ka kb kc kz ke kf kg la ki kj kk lb km kn ko lc kq kr ks bi translated">创建一些硬链接</h1><p id="9208" class="pw-post-body-paragraph ie if hh ig b ih kt ij ik il ku in io ip kv ir is it kw iv iw ix kx iz ja jb ha bi translated">我们可以主要通过<strong class="ig hi">图形用户界面</strong> (GUI)来管理操作系统，但有时如果我们想改变操作系统的工作方式，我们需要使用<strong class="ig hi">命令行界面</strong> (CLI)。第一个对用户更友好，因为我们可以通过菜单、窗口、滚动条、按钮等与系统交互。另一方面，CLI通过系统解释为直接命令的命令来运行。</p><p id="33cc" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">作为用户，我们有能力控制我们的操作系统，所以了解操作系统的两种方式会让我们更有能力让我们的系统做我们想做的事情。在这种情况下，如果我们想要创建一个硬链接，我们需要在CLI上给出特定的命令，让系统创建一个硬链接。</p><pre class="jd je jf jg fd ld le lf lg aw lh bi"><span id="1953" class="li jw hh le b fi lj lk l ll lm">ln sourcefile hardlink</span></pre><p id="f1be" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">首先，我们需要运行命令“ln”(代表“link”)来创建一个链接。然后，我们需要指定我们要链接的文件是什么“源文件”以及链接文件的名称是什么“硬链接”。如果您运行这个命令，您将会成功地创建一个硬链接。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es ln"><img src="../Images/c869c51e3fd9ad206ff2e9fe7318c66b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-09aNJmtOeIutCfx2tW6vw.png"/></div></div></figure><p id="2ea5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">正如我们在这个终端上看到的，创建了一个<strong class="ig hi">硬链接</strong>，它被附加到实际的文件信息中。如果您仔细查看文件信息行，您会发现在创建链接后，第一个数字是相同的。这是<strong class="ig hi"> inode </strong>的编号，正如我们所看到的，它与我们创建的硬链接是同一个编号。这一行中的另一个数字已经更新，这个数字代表该文件拥有的<strong class="ig hi">硬链接</strong>的数量。权力越大，责任越大，所以请记住，链接也是一个文件，因为每个文件你都可以删除，所以要小心。</p><h1 id="9147" class="jv jw hh bd jx jy ky ka kb kc kz ke kf kg la ki kj kk lb km kn ko lc kq kr ks bi translated">软链接</h1><p id="ad1e" class="pw-post-body-paragraph ie if hh ig b ih kt ij ik il ku in io ip kv ir is it kw iv iw ix kx iz ja jb ha bi translated">但是硬链接并不是Linux上链接文件的唯一方式。我们还得到了<strong class="ig hi">符号链接</strong>，俗称<strong class="ig hi">软链接</strong>。如果你熟悉Windows操作系统，这类似于快捷方式。这些链接是不包含内容或名称文件的文件。但是它们包含它的地址，所以我们可以找到文件的原始文件内容，而不需要费心去搜索它。与<strong class="ig hi">硬链接</strong>不同，<strong class="ig hi">软链接</strong>不具有与原始文件相同的<strong class="ig hi"> inode </strong>，这意味着它们不在硬盘的同一位置。但是，原始文件的<strong class="ig hi"> inode </strong>包含链接所在位置的信息。你可以假设删除这类文件不会对原始文件产生任何影响，你可以想要多少就有多少。</p><p id="8af4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">它们被称为<strong class="ig hi">软链接</strong>是有原因的。它与原始文件的联系并不重要，您可以根据需要创建任意多的文件并删除它，而不会破坏原始文件。这并不意味着它们不重要。实际上，作为一个用户，如果你想把一个文件放在手边，这真的很有用。用一个简单的命令或一个简单的clic打开它总是比搜索文件的存储位置要好，节省一些时间总是很重要的。</p><h1 id="38d1" class="jv jw hh bd jx jy ky ka kb kc kz ke kf kg la ki kj kk lb km kn ko lc kq kr ks bi translated">我们如何创建一个软链接？</h1><p id="4a4b" class="pw-post-body-paragraph ie if hh ig b ih kt ij ik il ku in io ip kv ir is it kw iv iw ix kx iz ja jb ha bi translated">所以现在我们已经知道如何创建一个硬链接，这将是很容易理解如何创建其中之一。过程非常相似，我们打开终端并移动到我们想要创建它的文件夹。然后我们运行这个命令:</p><pre class="jd je jf jg fd ld le lf lg aw lh bi"><span id="6b6a" class="li jw hh le b fi lj lk l ll lm">ln -s sourcefile linkfile</span></pre><p id="f099" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">硬链接</strong>是系统创建的标准链接类型，所以我们需要向命令指定我们想要的链接类型。我们可以在命令中添加一个标记。在命令“ln”之后，我们添加了代表符号的“-s”。之后是和之前描述的相同的过程，添加我们想要链接的文件和链接的名称。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es ln"><img src="../Images/a3daf6e8e14bf2e2437146c70a8c6a14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w0jNliL1AzO5kjyLOTmzzw.png"/></div></div></figure><p id="97db" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">正如我们在终端示例中看到的(为了更清楚起见，链接文件被命名为“myShortcut ”),运行命令后，链接看起来与硬链接有点不同。不仅显示为一个不同的文件，它还被突出显示，以使它是另一种类型的文件。此外，当我们列出文件的信息时，我们可以看到一个指示它指向哪里的箭头。</p><p id="2a19" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">请记住，我们可以在与原始文件不同的位置创建该文件，但是为了做到这一点，我们需要附加我们要链接的文件(源文件)的路径(文件夹)。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es lo"><img src="../Images/a85faa796b5c028f8dfd209265d89226.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9tXV6xdwZwG6IhAgro_32w.jpeg"/></div></div></figure><p id="f3bf" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果您一直学习到这里，您会对什么是链接以及Linux文件系统如何工作有一个很好的了解。如你所见，这个文件柜有点复杂。然而，了解这些概念会让你对操作系统更有信心，让你更有能力让系统按照你想要的那样工作。文件是操作系统效用的重要组成部分，它赋予我们存储大量信息的能力，并使访问这些信息变得容易，因此知道如何有效地管理这些信息会使我们在工作领域成为更好的专业人员。</p></div></div>    
</body>
</html>