<html>
<head>
<title>Speed up your Node CI Pipelines</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">加快您的节点CI流程</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/speed-up-your-node-ci-pipelines-9934127c1fae?source=collection_archive---------28-----------------------#2021-01-27">https://medium.com/analytics-vidhya/speed-up-your-node-ci-pipelines-9934127c1fae?source=collection_archive---------28-----------------------#2021-01-27</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="ef28" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">今天，我们将讨论一个小的改进，它可以使我们的节点流水线更快。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jc"><img src="../Images/d56e1ba6f47c4ef16b98ddb3d7482ecc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tl9hn9kx7niDwIId"/></div></div><figcaption class="jo jp et er es jq jr bd b be z dx translated">由<a class="ae js" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae js" href="https://unsplash.com/@chuttersnap?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> CHUTTERSNAP </a>拍摄</figcaption></figure><p id="8d3c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">几天前，我遇到了一个我从未读过或听说过的npm命令。在那之前，我使用npm install来准备环境，在我的持续集成管道中包含所有依赖项。但是在我稍微处理了一下并测试了一下之后，我留下了深刻的印象。管道速度提高了30%以上。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es jt"><img src="../Images/9ba46bb20859c264cfa3c237862be8da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1194/format:webp/1*TXqVdHyN7Z65BtU0auGPZw.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx translated">更改为npm ci之前和之后</figcaption></figure><h1 id="132b" class="ju jv hh bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">npm ci</h1><p id="63e0" class="pw-post-body-paragraph ie if hh ig b ih ks ij ik il kt in io ip ku ir is it kv iv iw ix kw iz ja jb ha bi translated">正如您在标题中看到的，我所说的命令是npm ci。但是它实际上做什么呢？为什么会快这么多？npm安装有什么不同？下面你可以看到<strong class="ig hi"> <em class="kx"> npm安装</em> </strong>和<strong class="ig hi"> <em class="kx"> npm ci </em> </strong>最重要的区别列表。</p><ol class=""><li id="901f" class="ky kz hh ig b ih ii il im ip la it lb ix lc jb ld le lf lg bi translated"><strong class="ig hi"> <em class="kx"> npm ci </em> </strong>忽略package.json中指定的依赖项，只安装package-lock.json文件中的依赖项。</li><li id="b28b" class="ky kz hh ig b ih lh il li ip lj it lk ix ll jb ld le lf lg bi translated">如果package.json和package-lock.json不包含相同的依赖项，则会返回错误。另一方面，<strong class="ig hi"> <em class="kx"> npm install </em> </strong>命令会调整package-lock.json文件。</li><li id="7b3a" class="ky kz hh ig b ih lh il li ip lj it lk ix ll jb ld le lf lg bi translated">如果node_modules文件夹已经存在，将通过npm ci将其删除并完全重新创建。</li><li id="36fc" class="ky kz hh ig b ih lh il li ip lj it lk ix ll jb ld le lf lg bi translated">package.json和package-lock.json被冻结。两者都不会改变。</li></ol><p id="d92d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">通过以上我列举的种种，<strong class="ig hi"> <em class="kx"> npm ci </em> </strong>比<strong class="ig hi"> <em class="kx"> npm安装</em> </strong>要快得多。我可以推荐大家在自己的ci里试试。不仅仅是因为时间的提升。还因为如果package.json和package-lock.json不包含相同的依赖项，就会引发错误。</p><h1 id="4f24" class="ju jv hh bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">最后的想法</h1><p id="82f2" class="pw-post-body-paragraph ie if hh ig b ih ks ij ik il kt in io ip ku ir is it kv iv iw ix kw iz ja jb ha bi translated">今天我们讲了<strong class="ig hi"> <em class="kx"> npm ci </em> </strong>和<strong class="ig hi"> <em class="kx"> npm安装</em> </strong>的区别。我希望这篇短文是有帮助的，你能够带走一些东西。如果你有任何问题或笔记，请在评论中留下。</p></div></div>    
</body>
</html>