<html>
<head>
<title>Natural Language Processing for beginners (a detailed approach with multiple libraries)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">初学者的自然语言处理(多库的详细方法)</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/natural-language-processing-for-beginners-a-detailed-approach-with-multiple-libraries-d29e2dd0c702?source=collection_archive---------2-----------------------#2022-01-23">https://medium.com/analytics-vidhya/natural-language-processing-for-beginners-a-detailed-approach-with-multiple-libraries-d29e2dd0c702?source=collection_archive---------2-----------------------#2022-01-23</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/c8340fa09645d6c04bcbc1ccdcb4b005.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oj5JrVN1jb14p2twryo-1A.png"/></div></div></figure><h1 id="c27f" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">介绍</h1><p id="4fc5" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">自然语言处理是人工智能的一个领域，专注于让计算机拥有像人类一样理解语言的能力。它支持许多现实世界的应用，如垃圾邮件检测、机器翻译和文本摘要。</p><p id="161c" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">Python中有许多对自然语言处理非常有用的库，每一个都有自己的优点。在本文中，我将概述三个库:NLTK、spaCy和TextBlob。我还将演示如何使用这些库来执行一些常见的NLP任务。</p><h1 id="e32f" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">NLTK</h1><p id="25c6" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">自然语言工具包(NLTK)是一个强大的Python包，它提供了一组自然语言算法。NLTK是最著名的Python NLP库之一，由许多常用算法组成，如标记化、词性标注、词干提取、情感分析和命名实体识别。</p><p id="655b" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated"><strong class="jp hi">安装:</strong></p><p id="7ffc" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">NLTK可以用pip包管理器安装，使用下面显示的命令:</p><pre class="kq kr ks kt fd ku kv kw kx aw ky bi"><span id="9312" class="kz iq hh kv b fi la lb l lc ld">pip install nltk</span></pre><p id="718d" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">之后，您将需要安装数据，以便使用NLTK完成我们将在本文中介绍的不同任务。为此，您需要使用以下代码创建并运行一个python程序:</p><pre class="kq kr ks kt fd ku kv kw kx aw ky bi"><span id="408a" class="kz iq hh kv b fi la lb l lc ld">import nltk</span><span id="fef5" class="kz iq hh kv b fi le lb l lc ld">nltk.download(["punkt", "tagsets", "words", "stopwords", "wordnet", "vader_lexicon", "maxent_ne_chunker", "averaged_perceptron_tagger"])</span></pre><h1 id="edbb" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">文本Blob</h1><p id="03a8" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">TextBlob是Python中另一个很棒的NLP库。它构建在NLTK之上，提供类似的功能，但具有更直观的界面和更温和的学习曲线。出于这个原因，如果您刚刚开始自然语言处理，TextBlob通常更容易使用。</p><p id="8bb1" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated"><strong class="jp hi">安装:</strong></p><p id="1c51" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">可以使用下面显示的命令，通过pip软件包管理器安装TextBlob:</p><pre class="kq kr ks kt fd ku kv kw kx aw ky bi"><span id="4bea" class="kz iq hh kv b fi la lb l lc ld">pip install textblob</span></pre><p id="c2f6" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">因为TextBlob构建在NLTK之上，并且我们在上一步中下载了NLTK数据，所以我们已经完成了设置TextBlob的工作。</p><h1 id="f33c" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">宽大的</h1><p id="ef3d" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">spaCy是比NLTK和TextBlob更新更快的NLP库。据说它具有“行业优势”和“最先进的速度”，主要用于处理和理解大量文本的应用程序。</p><p id="b3d3" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated"><strong class="jp hi">安装:</strong></p><p id="a296" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">您应该使用以下命令来安装spaCy:</p><pre class="kq kr ks kt fd ku kv kw kx aw ky bi"><span id="f1c6" class="kz iq hh kv b fi la lb l lc ld">pip install -U pip setuptools wheel</span><span id="0f2b" class="kz iq hh kv b fi le lb l lc ld">pip install -U spacy</span></pre><p id="ca14" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">如果以上命令不起作用，请点击此链接获取安装说明:<a class="ae lf" href="https://spacy.io/usage" rel="noopener ugc nofollow" target="_blank">https://spacy.io/usage</a>。</p><p id="0b45" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">安装后，您将下载一个经过培训的管道。有关更多信息和可用软件包，请使用以下链接查看型号目录:<a class="ae lf" href="https://spacy.io/models" rel="noopener ugc nofollow" target="_blank">https://spacy.io/models</a>。</p><p id="2cd1" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">对于本文，我们将使用英语管道。您可以在终端/命令提示符下使用以下命令安装它。</p><pre class="kq kr ks kt fd ku kv kw kx aw ky bi"><span id="3c3f" class="kz iq hh kv b fi la lb l lc ld">python -m spacy download en_core_web_sm</span></pre><h1 id="38d5" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">标记化</h1><p id="ef88" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">记号化是一种将一段文本分成更小单元的方法，这些单元被称为<strong class="jp hi">记号</strong>。计算机可以通过分析这些记号来解释文本的意思。</p><p id="731d" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">标记化是自然语言处理的一项基本任务。句子标记化拆分文本中的句子，单词标记化拆分句子中的单词。通常，单词标记化在空格处拆分文本以创建单词列表，句子标记化在停止标点(例如句号或感叹号)处拆分文本以创建句子列表。</p><p id="0d3a" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">单词标记化示例:</p><p id="7806" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">“我爱自然语言处理！”→ <em class="lg">【“我”、“爱”、“自然”、“语言”、“加工”】</em></p><h2 id="65fb" class="kz iq hh bd ir lh li lj iv lk ll lm iz jy ln lo jd kc lp lq jh kg lr ls jl lt bi translated">NLTK中的标记化</h2><p id="7a61" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">NLTK有两个用于标记化的功能:一个用于单词标记化，另一个用于句子标记化。我们可以在一串文本上调用这些函数，它将返回一个可以输出的标记化列表。</p><figure class="kq kr ks kt fd ii"><div class="bz dy l di"><div class="lu lv l"/></div></figure><h2 id="464f" class="kz iq hh bd ir lh li lj iv lk ll lm iz jy ln lo jd kc lp lq jh kg lr ls jl lt bi translated">TextBlob中的标记化</h2><p id="b29a" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">Textblob中的标记化非常简单——我们需要做的就是用想要使用的文本字符串创建一个TextBlob对象。然后，我们只需要输出<em class="lg">。文字</em>和<em class="lg">。句子</em>对象的属性，如下所示。</p><figure class="kq kr ks kt fd ii"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="1f63" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">TextBlob有自己的对象，称为WordList，它是在单词标记化之后创建的。你可以像对待一个普通的列表一样对待这个列表，因为它有大部分相同的功能。如果你愿意，你也可以把它转换成一个列表。</p><h2 id="480c" class="kz iq hh bd ir lh li lj iv lk ll lm iz jy ln lo jd kc lp lq jh kg lr ls jl lt bi translated">空间标记化</h2><p id="4cc0" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">首先，我们导入空间库。我们可以通过spacy.load()加载已安装的管道。这将返回一个名为nlp的<em class="lg">语言</em>对象，包含处理文本所需的功能。在一个文本字符串上调用nlp对象会返回一个经过处理的<em class="lg"> Doc </em>，我们将遍历它来输出各个令牌。第一个循环遍历doc本身以获取单词标记，第二个循环遍历doc.sents以输出句子。</p><figure class="kq kr ks kt fd ii"><div class="bz dy l di"><div class="lu lv l"/></div></figure><h1 id="66be" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">词性标注</h1><p id="271a" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">词性标注(简称词性标注)是将文本中的一个词标注为特定词性(名词、动词、形容词等)的过程。)根据其定义和在句子中的上下文。</p><p id="9806" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">词性标注是一个基本的自然语言处理概念，可用于提取单词之间的关系、构建解析树等等。</p><p id="ab41" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">这三个库都有执行词性标注的有用功能。</p><h2 id="7959" class="kz iq hh bd ir lh li lj iv lk ll lm iz jy ln lo jd kc lp lq jh kg lr ls jl lt bi translated">NLTK中的词性标注</h2><p id="a619" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">NLTK为POS标记提供了一个非常简单的函数，称为<em class="lg"> pos_tag() </em>。它接受一个标记列表，并打印出每个标记的词性。</p><figure class="kq kr ks kt fd ii"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="81d0" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">输出是一个元组列表。每个元组的第一个元素是标记，第二个元素是词性:</p><p id="195d" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">[('我'，' PRP ')，('喜欢'，' VBP ')，('自然'，' JJ ')，('语言'，' NN ')，('处理'，' NN ')，('.', '.')、('它'、' PRP ')、('是'、' VBZ ')、('有趣'、' JJ ')、('.', '.')]</p><p id="ef98" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">要查看每个缩写(如NN或PRP)的含义，请运行以下代码:</p><pre class="kq kr ks kt fd ku kv kw kx aw ky bi"><span id="9160" class="kz iq hh kv b fi la lb l lc ld">#Outputs a list of tags and their meanings<br/>nltk.help.upenn_tagset()</span></pre><h2 id="f100" class="kz iq hh bd ir lh li lj iv lk ll lm iz jy ln lo jd kc lp lq jh kg lr ls jl lt bi translated">TextBlob中的位置标记</h2><p id="b08c" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">在TextBlob中，我们将创建一个TextBlob对象并使用<em class="lg">标签</em>属性。输出的格式与NLTK相同:格式为<em class="lg">(令牌，标签)</em>的元组列表。</p><figure class="kq kr ks kt fd ii"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="2688" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">输出:[('我'，' PRP ')，('喜欢'，' VBP ')，('自然'，' JJ ')，('语言'，' NN ')，('处理'，' NN ')，('它'，' PRP '，('是'，' VBZ '，('有趣'，' JJ')]</p><p id="68b1" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">输出几乎和NLTK一模一样；然而，惟一的区别是TextBlob不包含句点，而NLTK包含句点。</p><h2 id="de94" class="kz iq hh bd ir lh li lj iv lk ll lm iz jy ln lo jd kc lp lq jh kg lr ls jl lt bi translated">空间中的词性标注</h2><p id="6b25" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">与我们之前输出每个单独的标记类似，我们将遍历每个标记，并使用tag_ attribute输出POS标记。因为我们循环并输出每个标签，所以每个标签将在不同的行中输出，但是标签与TextBlob和NLTK输出的标签相同。</p><figure class="kq kr ks kt fd ii"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="f8a6" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">输出<em class="lg">(这些打印在不同的行中，但我删除了多余的行以节省空间)</em> : PRP VBP JJ NN。PRP·VBZ·JJ。</p><h1 id="756d" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">停用词删除</h1><p id="d296" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">停用词是常见的重复英语单词，如me，I，and，should等。停用字词删除是从文本中过滤出停用字词的过程。通过删除停用词，我们可以将更多的注意力放在重要的信息上，因为在许多场景中，停用词是不必要的(不是在每个场景中，而是在许多场景中！).</p><h2 id="9b0b" class="kz iq hh bd ir lh li lj iv lk ll lm iz jy ln lo jd kc lp lq jh kg lr ls jl lt bi translated">NLTK中的停用词移除</h2><p id="8676" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">没有从字符串中删除停用词的内置函数，但是NLTK有一个英文停用词列表，可以使用停用词类访问它(如下所示)。我们将编写自己的代码来过滤掉列表中的停用词。NLTK的停用词表都是小写的，所以我们需要将每个单独的标记改为小写，并检查它是否出现在停用词表中。如果不是，我们会将其添加到过滤列表中。这些都可以使用列表理解在一行中完成，如下所示:</p><figure class="kq kr ks kt fd ii"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="9314" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">输出:['喜欢'，'自然'，'语言'，'处理'，'.'、'有趣'、'.']</p><p id="8d16" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">一旦停用词被过滤，它们通常不会被重构，因为被过滤的句子可能会被用于其他目的，如文本分类；但是，如果你想让它成为一个字符串，NLTK提供了一个方便的detokenizer，叫做Treebank detokenizer。</p><figure class="kq kr ks kt fd ii"><div class="bz dy l di"><div class="lu lv l"/></div></figure><h2 id="ec94" class="kz iq hh bd ir lh li lj iv lk ll lm iz jy ln lo jd kc lp lq jh kg lr ls jl lt bi translated">TextBlob中的停用词移除</h2><p id="6bb8" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">TextBlob不提供停用字词删除功能，因此最好的方法是使用NLTK提供的停用字词列表。创建TextBlob对象后，我们使用与NLTK相同的过程。我们使用列表理解来创建filtered_sentence列表，通过检查每个单独的标记来查看它是否在停用词列表中。</p><figure class="kq kr ks kt fd ii"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="2ea9" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">输出:['喜欢'，'自然'，'语言'，'处理'，'有趣']</p><h2 id="2d04" class="kz iq hh bd ir lh li lj iv lk ll lm iz jy ln lo jd kc lp lq jh kg lr ls jl lt bi translated">空间中的停用词移除</h2><p id="3383" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">停用字词的移除过程在空间上有点不同。不使用SpaCy提供的列表(确实如此)，我们可以使用每个标记的<em class="lg"> is_stop </em>属性来检查它是否是停用词。我们将再次使用列表理解，因为它减少了我们必须编写的代码量。</p><figure class="kq kr ks kt fd ii"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="b1f0" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">输出:【喜欢，自然，语言，处理，。，有意思，。]</p><h1 id="f1a7" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">词汇化和词干化</h1><p id="b4fc" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">词干化和词干化是相似的:在两者中，我们都将一个单词简化为一个词根。在词干化中，这个词根叫做词干，在词元化中，这个词根叫做词元。</p><p id="ceac" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">两者的关键区别在于<strong class="jp hi">词条化</strong>基于词根定义对单词进行分组，可以用来区分现在、过去和不定。让我们看一些例子:</p><p id="39a4" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">研究→研究</p><p id="e65a" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">散步→散步</p><p id="3f3a" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">更好→好</p><p id="f1c8" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">语料库→语料库</p><p id="0bc7" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">另一方面，<strong class="jp hi">词干</strong>通过使用一系列常见的前缀和后缀来切断单词的结尾(后缀)或开头(前缀)。</p><p id="974d" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">研究→研究</p><p id="7e43" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">步行→步行</p><p id="3df3" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">散步→散步</p><p id="2e89" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">散步→散步</p><p id="51f3" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">更好→更好</p><p id="bcf0" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">语料库→语料库</p><p id="c4c0" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">因为词干删除了单词的最后几个字符，所以会导致错误的意思和拼写，正如我们在第一个例子中看到的那样(Studies →Studi)。</p><h2 id="acc0" class="kz iq hh bd ir lh li lj iv lk ll lm iz jy ln lo jd kc lp lq jh kg lr ls jl lt bi translated">NLTK中的引理化</h2><p id="e876" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">NLTK有一个名为WordNetLemmatizer的类，我们将使用它。我们首先创建一个WordNetLemmatizer对象，然后对一个单词调用lemmatize函数。<em class="lg">注意:WordNetLemmatizer的单词需要小写。</em></p><figure class="kq kr ks kt fd ii"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="3999" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">默认情况下，<em class="lg"> lemmatize </em>函数假设这个单词是一个名词。如果不是，这个函数有一个名为‘pos’的参数，你可以在这里输入词性。例如，如果你有一个形容词，你可以把“a”作为第二个参数。</p><figure class="kq kr ks kt fd ii"><div class="bz dy l di"><div class="lu lv l"/></div></figure><h2 id="63cd" class="kz iq hh bd ir lh li lj iv lk ll lm iz jy ln lo jd kc lp lq jh kg lr ls jl lt bi translated">NLTK中的词干</h2><p id="194a" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">NLTK有一个名为PorterStemmer的类，这是一个基于Porter词干算法的词干分析器。我们将首先创建一个单词列表，创建一个PorterStemmer对象，然后遍历该列表并使用<em class="lg"> stem() </em>函数对每个单词进行词干处理。</p><figure class="kq kr ks kt fd ii"><div class="bz dy l di"><div class="lu lv l"/></div></figure><h2 id="f8a3" class="kz iq hh bd ir lh li lj iv lk ll lm iz jy ln lo jd kc lp lq jh kg lr ls jl lt bi translated">TextBlob中的引理化</h2><p id="e2ea" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">TextBlob有一个我们可以创建的<em class="lg"> Word </em>对象。然后我们可以使用那个对象的<em class="lg"> lemmatize() </em>函数，我们传递的参数就是词性。默认情况下，它是一个名词，类似于NLTK。</p><figure class="kq kr ks kt fd ii"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="7370" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">对于每个单词，我们创建一个word对象，并调用该对象的<em class="lg"> lemmatize() </em>函数。内括号是词性(“a”代表形容词，“v”代表动词，默认为名词)。</p><h2 id="4cd8" class="kz iq hh bd ir lh li lj iv lk ll lm iz jy ln lo jd kc lp lq jh kg lr ls jl lt bi translated">TextBlob中的词干</h2><p id="1015" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">TextBlob中的词干处理过程类似于我们对lemmatization所做的。我们首先创建一个word对象，然后调用<em class="lg"> stem() </em>函数。默认情况下，TextBlob使用PorterStemmer算法。由于stem()函数不需要任何因单词而异的词性参数，因此我们可以创建一个单词列表，遍历该列表，并对每个单词进行词干处理。</p><figure class="kq kr ks kt fd ii"><div class="bz dy l di"><div class="lu lv l"/></div></figure><h2 id="640b" class="kz iq hh bd ir lh li lj iv lk ll lm iz jy ln lo jd kc lp lq jh kg lr ls jl lt bi translated">空间中的引理化</h2><p id="8b79" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">在SpaCy中，我们将像以前一样创建一个nlp对象，然后我们将遍历令牌。对于每个token，都有一个名为lemma_的属性，我们可以使用token.lemma_来访问它，如下所示。</p><figure class="kq kr ks kt fd ii"><div class="bz dy l di"><div class="lu lv l"/></div></figure><h2 id="f0e5" class="kz iq hh bd ir lh li lj iv lk ll lm iz jy ln lo jd kc lp lq jh kg lr ls jl lt bi translated">空间中的词干</h2><p id="a9ad" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">spaCy不包含任何词干函数。因此，我们必须使用NLTK库进行词干分析:</p><figure class="kq kr ks kt fd ii"><div class="bz dy l di"><div class="lu lv l"/></div></figure><h1 id="d04a" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">命名实体识别</h1><p id="dbe4" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">NER(命名实体识别)的目标是定位和分类命名实体(人名、组织名、国家名、数量名等)。)在正文里。这是信息提取的一个步骤，可以用来回答特定的问题，比如文章中提到了哪些公司或组织。</p><p id="278b" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">让我们用下面这句话来形容NER:埃隆马斯克是特斯拉的首席执行官，特斯拉成立于2003年。</p><h2 id="f711" class="kz iq hh bd ir lh li lj iv lk ll lm iz jy ln lo jd kc lp lq jh kg lr ls jl lt bi translated">NLTK中的NER</h2><p id="cac7" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">我们将首先对上面的句子进行标记，并找到词性标签。然后，我们将使用ne_chunk()函数对给定的标记标记列表进行分块(从非结构化文本中提取短语)。</p><p id="56ae" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">它返回一个树对象，我们可以将其作为文本输出，或者使用<em class="lg"> draw() </em>函数创建一个图形。</p><figure class="kq kr ks kt fd ii"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="aba4" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">输出:</p><p id="7b65" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">(S</p><p id="7b06" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">(伊隆/NNP)</p><p id="19ce" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">(机构Musk/NNP)</p><p id="af19" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">是/VBZ</p><p id="30a7" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">/DT</p><p id="adb5" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">(组织CEO/特斯拉/NNP的NN)</p><p id="2449" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi">,/,</p><p id="4990" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">哪个/WDT</p><p id="affd" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">曾是/VBD</p><p id="662e" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">创立/VBN</p><p id="9e9b" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">在/在</p><p id="9420" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">2003/CD</p><p id="c25f" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi">./.)</p><figure class="kq kr ks kt fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lw"><img src="../Images/9dd0e41a09a0065fd463f1a3f53b00a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*CGu4sOGtmlFcmnF_"/></div></div></figure><p id="772d" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">这基本上是正确的。它将“埃隆”归类为一个人，“马斯克”归类为一个组织(不正确)，而“特斯拉的首席执行官”归类为一个组织。它遗漏了2003年(日期被视为命名实体)。命名实体识别还不是100%准确，但将来可能会继续改进。</p><h2 id="cd95" class="kz iq hh bd ir lh li lj iv lk ll lm iz jy ln lo jd kc lp lq jh kg lr ls jl lt bi translated">文本Blob中的NER</h2><p id="f46f" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">TextBlob不包含任何NER功能；因此，必须使用NLTK来完成，就像我们对停用词移除所做的那样(在本文前面)。</p><h2 id="fd84" class="kz iq hh bd ir lh li lj iv lk ll lm iz jy ln lo jd kc lp lq jh kg lr ls jl lt bi translated">西班牙的NER</h2><p id="7677" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">当我们在spaCy中创建一个NLP对象时，它有一个<em class="lg"> ents </em>属性，列出了在给定文本中找到的命名实体。我们可以遍历列表并打印每个实体文本和标签。spaCy还有一个可视化工具displacy，它可以突出显示句子中的命名实体。</p><figure class="kq kr ks kt fd ii"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="e9c3" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">输出:</p><p id="9237" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">特斯拉组织</p><p id="caaf" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">2003年日期</p><figure class="kq kr ks kt fd ii er es paragraph-image"><div class="er es lx"><img src="../Images/24a5cb972edc60799400e99c192ef7f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1134/0*1r0pr7wQU8X0Bdh4"/></div></figure><p id="5ea2" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">正如你所看到的，它发现的两个实体都被正确标记，但它错过了埃隆马斯克作为一个实体。</p><h1 id="1710" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">情感分析</h1><p id="c49c" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">我们将在本文中探讨的最后一个NLP任务是情感分析。情感分析的主要目标是确定文本的极性(是积极的、消极的还是中性的)。</p><h2 id="e05d" class="kz iq hh bd ir lh li lj iv lk ll lm iz jy ln lo jd kc lp lq jh kg lr ls jl lt bi translated">NLTK中的情感分析</h2><p id="f993" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">NLTK有一个内置的、预训练的情感分析器，叫做VADER(效价感知词典和情感推理机)。它有一个<em class="lg"> polarity_scores() </em>函数，该函数将一个字符串作为参数，并输出一个包含以下信息的字典:负面、中性和正面得分(这些得分加起来都是1，并且不能是负面的)，以及复合得分，其范围可以从-1(最极端的负面)到1(最极端的正面)。复合得分越接近+1，文本的积极性越高。</p><p id="017f" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">下面是我们如何使用NLTK进行情感分析:</p><figure class="kq kr ks kt fd ii"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="7f4c" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">输出:{'neg': 0.0，' neu': 0.461，' pos': 0.539，' compound': 0.8478}</p><h2 id="4394" class="kz iq hh bd ir lh li lj iv lk ll lm iz jy ln lo jd kc lp lq jh kg lr ls jl lt bi translated">TextBlob中的情感分析</h2><p id="3f50" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">TextBlob使情感分析变得非常容易。我们可以使用TextBlob对象的<em class="lg">情感</em>属性，它返回两个值——极性(-1到1)和主观性(0到1)。主观性决定了文本的主观或客观程度，越接近1的值越主观。</p><figure class="kq kr ks kt fd ii"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="5d0a" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">输出:</p><p id="9416" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi">0.55</p><p id="ae96" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi">1.0</p><h2 id="a100" class="kz iq hh bd ir lh li lj iv lk ll lm iz jy ln lo jd kc lp lq jh kg lr ls jl lt bi translated">空间中的情感分析</h2><p id="9193" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">spaCy不像NLTK和TextBlob那样提供易于使用的情感分析功能。出于这个原因，我们不会在spaCy中讨论情感分析，因为这是一个涉及许多步骤的过程，包括开发和训练机器学习模型。如果你感兴趣，你可以查看spaCy的官方文档，了解如何训练模型。链接:【https://spacy.io/usage/training T2】</p><h1 id="f201" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">结论</h1><p id="c058" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">NLTK、TextBlob和spaCy都是NLP的优秀库。正如您所看到的，这三者之间有一些差异，但在大多数情况下，它们都可以用于大多数自然语言处理任务。根据我的个人经验，TextBlob是前面提到的三个库中最容易学习的，我推荐从TextBlob开始，对于稍微高级一点的特性，NLTK是一个不错的选择。如果你正在寻找更高级的自然语言处理，那么学习spaCy将是有益的。</p><p id="ff81" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">感谢您的阅读！</p></div></div>    
</body>
</html>