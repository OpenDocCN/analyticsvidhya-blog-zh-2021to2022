<html>
<head>
<title>Have you heard of Graph Data Models?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你听说过图形数据模型吗？</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/have-you-heard-of-graph-data-models-84e502b40647?source=collection_archive---------13-----------------------#2021-07-12">https://medium.com/analytics-vidhya/have-you-heard-of-graph-data-models-84e502b40647?source=collection_archive---------13-----------------------#2021-07-12</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="55e3" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">SQL，NoSQL，接下来呢？</h2></div><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es iw"><img src="../Images/62fe4de00882ca06ad12fd887a5786d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tOZVA5WqInNUGrqGxmbEmg.jpeg"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx translated">照片由<a class="ae jm" href="https://unsplash.com/@comparefibre?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">在<a class="ae jm" href="https://unsplash.com/s/photos/patterns-light-in-dark?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上对比纤维</a></figcaption></figure><p id="eede" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">我们都熟悉关系和文档数据模型以及依赖这些模型为数据提供逻辑结构数据库。</p><p id="f0a7" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">但是很少有其他数据模型值得思考。</p><p id="8703" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">类似图形的数据模型在大众中并不流行，但却为许多数据系统(如推荐系统)提供了动力，并且是数据科学、分析和人工智能等新兴领域对可扩展解决方案的迫切需要。</p><h1 id="c69f" class="kj kk hh bd kl km kn ko kp kq kr ks kt in ku io kv iq kw ir kx it ky iu kz la bi translated">需要…</h1><p id="2bc4" class="pw-post-body-paragraph jn jo hh jp b jq lb ii js jt lc il jv jw ld jy jz ka le kc kd ke lf kg kh ki ha bi translated">任何使用过关系数据库的人都知道，数据是以所谓的<em class="lg">关系</em>来组织的，其中每个关系都是一个无序的<em class="lg">元组</em>集合。</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es lh"><img src="../Images/5e22237180a2f47d96048e64d2bc0b5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dogOSfaymhU1yNmwi7MGFg.png"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx translated">一个简单的数据库ER图。</figcaption></figure><p id="0a56" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">关系数据模型适用于大多数用例，尤其适用于数据具有某种规则结构且很少有多对一或一对多关系的情况。</p><p id="1a97" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">当应用程序主要具有一对多关系(树结构/类似文档的结构，通常需要一次加载整个树)或记录之间没有关系时，文档模型成为选择。像MongoDB这样的名字开始发挥作用。</p><p id="5d8c" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">当我们的数据有太多的多对多关系时，它就开始崩溃。</p><p id="20b1" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">关系数据模型中的连接操作会使查询变得非常困难，也难怪强制实施模式会有其他限制。文档模型完全缺乏对连接的支持，而是关注于<em class="lg">位置</em>。</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es li"><img src="../Images/8e89ee66056ad25e86e9bd6fa80494cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*odU0g7ni5TQOrc-t2uc5hg.png"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx translated">具有许多多对多关系的图形数据。</figcaption></figure><p id="58ff" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">一个图由两种对象组成:顶点(<em class="lg">节点</em>或<em class="lg">实体</em>和<em class="lg">边</em> ( <em class="lg">关系</em>或<em class="lg">弧线</em>)。通常建模为图形的数据来自社交网络、网页网络等等。</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es lj"><img src="../Images/9740968f10b3ff6956a7a022ce599fef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7JIW8h4HJ9VD7h1JLV71gw.png"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx translated">图形结构化数据的示例(方框表示顶点，箭头表示边)</figcaption></figure><p id="f9a1" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">有几种不同的方法来构造和查询图形数据。我们将看两个通常由图数据库实现图模型。</p><ol class=""><li id="1065" class="lk ll hh jp b jq jr jt ju jw lm ka ln ke lo ki lp lq lr ls bi translated"><em class="lg">属性图</em>模型</li><li id="4359" class="lk ll hh jp b jq lt jt lu jw lv ka lw ke lx ki lp lq lr ls bi translated"><em class="lg">三店</em>模式</li></ol><h1 id="a212" class="kj kk hh bd kl km kn ko kp kq kr ks kt in ku io kv iq kw ir kx it ky iu kz la bi translated">属性图模型</h1><p id="ba52" class="pw-post-body-paragraph jn jo hh jp b jq lb ii js jt lc il jv jw ld jy jz ka le kc kd ke lf kg kh ki ha bi translated">在属性图模型中，每个顶点包括</p><ul class=""><li id="80a9" class="lk ll hh jp b jq jr jt ju jw lm ka ln ke lo ki ly lq lr ls bi translated">唯一的标识符</li><li id="1f45" class="lk ll hh jp b jq lt jt lu jw lv ka lw ke lx ki ly lq lr ls bi translated">一组向外的边</li><li id="ddc7" class="lk ll hh jp b jq lt jt lu jw lv ka lw ke lx ki ly lq lr ls bi translated">一组引入边</li><li id="ac7c" class="lk ll hh jp b jq lt jt lu jw lv ka lw ke lx ki ly lq lr ls bi translated">属性(键值对)的集合</li></ul><p id="efa3" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">每个边缘包括:</p><ul class=""><li id="1f1e" class="lk ll hh jp b jq jr jt ju jw lm ka ln ke lo ki ly lq lr ls bi translated">唯一的标识符</li><li id="cc81" class="lk ll hh jp b jq lt jt lu jw lv ka lw ke lx ki ly lq lr ls bi translated">边开始的顶点(尾部顶点<em class="lg">)</em></li><li id="e60c" class="lk ll hh jp b jq lt jt lu jw lv ka lw ke lx ki ly lq lr ls bi translated">边缘结束的顶点(头部顶点)</li><li id="2d71" class="lk ll hh jp b jq lt jt lu jw lv ka lw ke lx ki ly lq lr ls bi translated">描述两个顶点之间关系的标签</li><li id="5ae1" class="lk ll hh jp b jq lt jt lu jw lv ka lw ke lx ki ly lq lr ls bi translated">属性(键值对)的集合</li></ul><p id="defa" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">试图在关系模型中表示这个模型很容易，但是您不必在实际的数据库中这样做。</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lz ma l"/></div><figcaption class="ji jj et er es jk jl bd b be z dx translated">用关系模式表示属性图模型</figcaption></figure><p id="04d2" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">这为我们提供了某些有用的功能，例如:</p><ul class=""><li id="4c95" class="lk ll hh jp b jq jr jt ju jw lm ka ln ke lo ki ly lq lr ls bi translated">任何顶点都可以有一条边将它与任何其他顶点连接起来。</li><li id="5820" class="lk ll hh jp b jq lt jt lu jw lv ka lw ke lx ki ly lq lr ls bi translated">给定一个顶点，我们可以容易而有效地找到它的引入边和引出边。</li><li id="4bb0" class="lk ll hh jp b jq lt jt lu jw lv ka lw ke lx ki ly lq lr ls bi translated">通过对不同类型的关系使用不同的标签，我们可以存储几种不同类型的信息。</li><li id="92fc" class="lk ll hh jp b jq lt jt lu jw lv ka lw ke lx ki ly lq lr ls bi translated">足够灵活，可以存储大量相似的信息(注意上面的图表；哈娜住在<em class="lg">地区</em>坎特，拉胡尔住在<em class="lg">邦</em>古吉拉特。Rahul的职业是应用开发者)。</li></ul><p id="e44c" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">实现这个数据模型的数据库有<a class="ae jm" href="https://neo4j.com/" rel="noopener ugc nofollow" target="_blank"> Neo4j </a>、Titan和InfiniteGraph。</p><h2 id="e672" class="mb kk hh bd kl mc md me kp mf mg mh kt jw mi mj kv ka mk ml kx ke mm mn kz mo bi translated">密码查询语言</h2><p id="0791" class="pw-post-body-paragraph jn jo hh jp b jq lb ii js jt lc il jv jw ld jy jz ka le kc kd ke lf kg kh ki ha bi translated">Cypher是一种图形查询语言，开发该语言是为了查询最初打算与图形数据库Neo4j一起使用的属性图。</p><p id="70cd" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">每个顶点都有一个符号名，如用方括号<code class="du mp mq mr ms b">()</code>表示的<code class="du mp mq mr ms b">Indore</code>或<code class="du mp mq mr ms b">NYC</code>，查询的其他部分可以使用这些名称来创建顶点之间的边，使用带有方括号<code class="du mp mq mr ms b">[:&lt;relationship&gt;]</code>的箭头符号来表示关系(参考上面的图结构数据):</p><p id="2906" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><code class="du mp mq mr ms b">(Indore) -[:WITHIN]-&gt; (Gujrat) -[:WITHIN]-&gt; (India)</code></p><p id="ff7f" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">我们可以这样写cypher query中的数据:</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lz ma l"/></div><figcaption class="ji jj et er es jk jl bd b be z dx translated">上图中用Cypher query编写的数据的子集。</figcaption></figure><p id="c29e" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">从这个图中查询数据也很容易，我们在一个<code class="du mp mq mr ms b">MATCH</code>子句中使用相同的箭头符号来查找图中的模式。</p><p id="8b16" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">让我们<em class="lg">找到所有居住在古吉拉特邦、在Tiger Softwares工作的人</em>(假设我们已经添加了所有数据)。</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lz ma l"/></div></figure><p id="2209" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">该查询可以解释如下:</p><p id="f284" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">找出满足以下两个条件<em class="lg">的任意顶点(称之为<code class="du mp mq mr ms b">person</code>):</em></p><ol class=""><li id="8b0c" class="lk ll hh jp b jq jr jt ju jw lm ka ln ke lo ki lp lq lr ls bi translated"><code class="du mp mq mr ms b">person</code>有一个到类型<code class="du mp mq mr ms b">Company</code>的某个顶点(称之为<code class="du mp mq mr ms b">TS</code>)的输出<code class="du mp mq mr ms b">WORKS_IN</code>边，其<code class="du mp mq mr ms b">name</code>属性设置为“Tiger Softwares”。</li><li id="a18d" class="lk ll hh jp b jq lt jt lu jw lv ka lw ke lx ki lp lq lr ls bi translated">同一个<code class="du mp mq mr ms b">person</code>也有到某个顶点的外向<code class="du mp mq mr ms b">LIVES_IN</code>边，沿着从那个顶点到外向<code class="du mp mq mr ms b">WITHIN</code>边的链，到达类型为<code class="du mp mq mr ms b">Location</code>的顶点，其<code class="du mp mq mr ms b">name</code>属性已经被设置为“Gujrat”。</li></ol><p id="916b" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">对于每个这样的人，返回其<code class="du mp mq mr ms b">name</code>属性。</p></div><div class="ab cl mt mu go mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="ha hb hc hd he"><h1 id="dd75" class="kj kk hh bd kl km na ko kp kq nb ks kt in nc io kv iq nd ir kx it ne iu kz la bi translated">三重存储或RDF存储</h1><p id="313f" class="pw-post-body-paragraph jn jo hh jp b jq lb ii js jt lc il jv jw ld jy jz ka le kc kd ke lf kg kh ki ha bi translated">三重存储模型是另一个与属性图模型非常相似的图模型，但是具有更简单的思想。</p><p id="3856" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">在三重存储中，信息以非常简单的三部分语句的形式存储:(<em class="lg">主语</em>，<em class="lg">谓语</em>，<em class="lg">宾语</em>)。比如三联(<em class="lg"> I </em>、<em class="lg"> want </em>、<em class="lg"> apple </em>)、<em class="lg"> I </em>是主语、<em class="lg"> want </em>是谓语(动词)、<em class="lg"> apple </em>是宾语。</p><p id="e387" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">三元组的主语相当于图中的一个顶点。</p><p id="e5c8" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">该对象是以下两种情况之一:</p><ul class=""><li id="0418" class="lk ll hh jp b jq jr jt ju jw lm ka ln ke lo ki ly lq lr ls bi translated">原始数据类型中的值。在这种情况下，谓词和对象形成了主题顶点上属性的键值对。</li></ul><figure class="ix iy iz ja fd jb er es paragraph-image"><div class="er es nf"><img src="../Images/c827d4b6a83602ebd36096b2907b6884.png" data-original-src="https://miro.medium.com/v2/resize:fit:1128/format:webp/1*oeRmeTb9KKg9UywQZ75aJg.png"/></div></figure><ul class=""><li id="57f1" class="lk ll hh jp b jq jr jt ju jw lm ka ln ke lo ki ly lq lr ls bi translated">图中的另一个顶点。在这种情况下，谓词是一个边标签，头顶点是宾语，尾顶点成为主语。</li></ul><figure class="ix iy iz ja fd jb er es paragraph-image"><div class="er es ng"><img src="../Images/1156ae2e73d7fc64ea5f90499b2faf32.png" data-original-src="https://miro.medium.com/v2/resize:fit:1296/format:webp/1*jpecILqWMmK0835jgtoZTg.png"/></div></figure><p id="5fe6" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">图形数据可以写成<a class="ae jm" href="https://en.wikipedia.org/wiki/Turtle_(syntax)" rel="noopener ugc nofollow" target="_blank"> Turtle </a> triples，Tutle代表<strong class="jp hi"> Terse RDF Triple Language，</strong>是<strong class="jp hi"> </strong> <a class="ae jm" href="https://en.wikipedia.org/wiki/Resource_Description_Framework" rel="noopener ugc nofollow" target="_blank"> <strong class="jp hi">资源描述格式</strong> </a> <strong class="jp hi">中表示数据的语法和文件格式。</strong></p><p id="8760" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">顶点表示为<code class="du mp mq mr ms b">_:someName</code>。这个名字的存在只是为了知道哪个三元组指的是同一个顶点。然后谓词以跟在对象后面的<code class="du mp mq mr ms b">:</code>开始。</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lz ma l"/></div><figcaption class="ji jj et er es jk jl bd b be z dx translated">以Turtle triple格式编写的图形数据的相同子集。</figcaption></figure><p id="3fe5" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">当谓词是一个属性时，宾语是一个字符串文字，如<code class="du mp mq mr ms b">:name "India"</code></p><p id="9001" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">当谓语是边时，宾语是顶点，如<code class="du mp mq mr ms b">:worksIn _:ts</code>所示。</p><p id="a427" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">这个模型是由Datomic、AllergoGraph和其他人实现的。</p><h2 id="dac6" class="mb kk hh bd kl mc md me kp mf mg mh kt jw mi mj kv ka mk ml kx ke mm mn kz mo bi translated">SPARQL查询语言</h2><p id="96a0" class="pw-post-body-paragraph jn jo hh jp b jq lb ii js jt lc il jv jw ld jy jz ka le kc kd ke lf kg kh ki ha bi translated">SPARQL(读作“sparkle”)代表<em class="lg"> SPARQL协议，RDF查询语言</em>是一种使用RDF数据模型的三重存储查询语言。</p><p id="bc83" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">与之前相同的查询— <em class="lg">查找居住在古吉拉特邦、在Tiger Softwares工作的人</em>—可以用SPARQL写成如下形式:</p><p id="29f1" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">需要注意的关键是SPARQL中的变量以问号开头。</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lz ma l"/></div></figure><p id="2063" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">今天到此为止。我希望你学到了新东西。</p><p id="ae18" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi"> <em class="lg">保持学习……</em></strong></p><p id="a19d" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">来自anuragdhadse.com<a class="ae jm" href="http://anuragdhadse.com" rel="noopener ugc nofollow" target="_blank">的广播</a></p></div></div>    
</body>
</html>