<html>
<head>
<title>Introduction to Create Own Python Packages</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">创建自己的Python包的介绍</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/introduction-to-create-own-python-packages-9aed417036ee?source=collection_archive---------6-----------------------#2021-08-19">https://medium.com/analytics-vidhya/introduction-to-create-own-python-packages-9aed417036ee?source=collection_archive---------6-----------------------#2021-08-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="a881" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">大家好。在这个故事中，我将尝试解释我们如何创建自己的Python包和模块。这个故事不是关于如何发布你的包，它只是关于如何创建你的包和模块，因为我想我会解释整个过程，但是我太懒了。因此，我们将只讨论这些主题:</p><ul class=""><li id="c5b5" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">什么是包和模块</li><li id="5a60" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">什么是<strong class="ih hj"> __init__。py </strong>文件</li><li id="12e3" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">什么是相对和绝对路径</li></ul></div><div class="ab cl jr js gp jt" role="separator"><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw"/></div><div class="hb hc hd he hf"><h1 id="e33a" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">创建工作区</h1><p id="6040" class="pw-post-body-paragraph if ig hi ih b ii kw ik il im kx io ip iq ky is it iu kz iw ix iy la ja jb jc hb bi translated">我将创建一个文件夹，并在该文件夹上打开vscode。</p><pre class="lb lc ld le fd lf lg lh li aw lj bi"><span id="5ca0" class="lk jz hi lg b fi ll lm l ln lo">cd Desktop/WS &amp;&amp; mkdir medium_python_packages &amp;&amp; cd medium_python_packages &amp;&amp; code .</span></pre><p id="c4f1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我在我的工作空间里创造了这个结构。我在每个<strong class="ih hj">的my_module*中都放了hello方法。py </strong>文件。像下面这样:</p><pre class="lb lc ld le fd lf lg lh li aw lj bi"><span id="7914" class="lk jz hi lg b fi ll lm l ln lo">def hello():</span><span id="ee34" class="lk jz hi lg b fi lp lm l ln lo">    print('Hello I\'m a function from my_module1')</span></pre><blockquote class="lq lr ls"><p id="198b" class="if ig lt ih b ii ij ik il im in io ip lu ir is it lv iv iw ix lw iz ja jb jc hb bi translated">对于额外的信息，我们可以使用<strong class="ih hj">树</strong>命令(mac和linux)将文件夹结构显示为一棵树。</p></blockquote><figure class="lb lc ld le fd ly er es paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="er es lx"><img src="../Images/9265d0b8eb919abaeeacc4f406f80f33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2pbQD65t4haWFYDs8Vkx6Q.png"/></div></div><figcaption class="mf mg et er es mh mi bd b be z dx translated">此故事项目的文件夹结构</figcaption></figure><p id="ed30" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这之后，我们将在几分钟内尝试理解Python包a中的基本术语。</p><p id="26ca" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如你所见，我们有一个名为<strong class="ih hj"> my_package </strong>的文件夹。我们称之为包裹。并且每个包都必须包含<strong class="ih hj"> __init__。py </strong>文件。现在就把它当成一个神奇的功能吧。感谢<strong class="ih hj"> __init__。我们可以给我们的文件和文件夹赋予包属性。我们把包文件夹下的Python文件称为模块，把包下的文件夹称为子包。每个子包也必须包含<strong class="ih hj"> __init__。py </strong>文件。</strong></p><p id="8f53" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在根文件夹中，如果我使用这个结构，我将使用绝对路径:</p><pre class="lb lc ld le fd lf lg lh li aw lj bi"><span id="3491" class="lk jz hi lg b fi ll lm l ln lo">from my_package.my_module1 import hello</span></pre><p id="acc9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是如果我想在<strong class="ih hj">_ _ init _ _(init _ _)中导入<strong class="ih hj"> my_module3.py </strong>。<strong class="ih hj"> my_subpackage2 </strong>的py </strong>，我要用相对导入(后面我们会描述那是干什么用的)。</p><pre class="lb lc ld le fd lf lg lh li aw lj bi"><span id="6e51" class="lk jz hi lg b fi ll lm l ln lo">from .my_module3 import hello</span></pre></div><div class="ab cl jr js gp jt" role="separator"><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw"/></div><div class="hb hc hd he hf"><h1 id="dcc1" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">让我们开始一些进口</h1><p id="84ad" class="pw-post-body-paragraph if ig hi ih b ii kw ik il im kx io ip iq ky is it iu kz iw ix iy la ja jb jc hb bi translated">我要从my_module1.py文件中导入<strong class="ih hj"> hello函数</strong>。正如我们所知，它位于包的根级别。为此，我需要使用绝对路径来导入。但首先我想给你看些东西。当我尝试用这个导入时:</p><pre class="lb lc ld le fd lf lg lh li aw lj bi"><span id="9e22" class="lk jz hi lg b fi ll lm l ln lo">import my_package.my_module1</span></pre><p id="7652" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我将得到错误消息“my_module1未定义”。这里的问题是什么？</p><figure class="lb lc ld le fd ly er es paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="er es mj"><img src="../Images/fb23cb4c7814eda10f19df8d5b8485f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bVR-L3YTsJy-fDXbFtuWsw.png"/></div></div></figure><p id="2b3d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果我们想从app.py文件中访问hello方法，我们需要使用绝对路径来导入。</p><pre class="lb lc ld le fd lf lg lh li aw lj bi"><span id="51b1" class="lk jz hi lg b fi ll lm l ln lo">from my_package.my_module1 import hello</span></pre><figure class="lb lc ld le fd ly er es paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="er es mj"><img src="../Images/31a6c72762eb4c60d3fe56702bcf8dff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RXUKvx_8yqqUS3wigEJU8g.png"/></div></div></figure><p id="396a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可能认为访问其他函数需要使用相同方式，即绝对路径。</p><figure class="lb lc ld le fd ly er es paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="er es mj"><img src="../Images/a1890cc42b87b4a9ec20250aa1564698.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UvhVvIlrRsi0qG9Nw7IplQ.png"/></div></div></figure><blockquote class="lq lr ls"><p id="2f5a" class="if ig lt ih b ii ij ik il im in io ip lu ir is it lv iv iw ix lw iz ja jb jc hb bi translated">对于额外的信息，您可以使用“as”关键字给函数一个临时名称。</p></blockquote><p id="9d63" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是我想从包名中访问我的函数。我们如何做到这一点？在这种情况下，我们会遇到__init__。py文件和相关导入。正如我们所说的，每个包/子包都包含__init__。我们可以在这里导入我们需要从包名访问的函数。</p><p id="eb2d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我将转到my_package的init文件，并在这里导入my_module。</p><figure class="lb lc ld le fd ly er es paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="er es mj"><img src="../Images/b3849be7e3b8460e6e895e4c7d997759.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fDOW0FcRRU-urVPqoONL0g.png"/></div></div></figure><p id="b0cb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">感谢init文件中所有导入的函数，我们可以从包名中访问它。</p><figure class="lb lc ld le fd ly er es paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="er es mj"><img src="../Images/13206e4ebf270c0ab3ae758b78b091b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9tSpDOLJ-LKq9IeiC1MksQ.png"/></div></div></figure><p id="bae8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是，有下划线但是:)如果我想从my_module2.py访问hello函数，可以这样做吗？正如你可能认为的，没有。</p><p id="da4d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为此，我需要在my_subpackage1的init文件中导入my_module2.py，并在my_package的init文件中导入my_subpackage1。</p><figure class="lb lc ld le fd ly er es paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="er es mj"><img src="../Images/df2de034af0e5f0897bb2edfff9aada2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zrSGfS30Yw0s074teyEt-g.png"/></div></div><figcaption class="mf mg et er es mh mi bd b be z dx translated">my_subpackage1的初始化文件</figcaption></figure><figure class="lb lc ld le fd ly er es paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="er es mj"><img src="../Images/ba373d20e15ab806c324e9829b131307.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vlYXS3IdTmL2R-KvR-l5DA.png"/></div></div><figcaption class="mf mg et er es mh mi bd b be z dx translated">我的包的初始化文件</figcaption></figure><p id="1d81" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我可以从包名中访问这些函数。</p><figure class="lb lc ld le fd ly er es paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="er es mj"><img src="../Images/f03c292059d47479a7baba5222db1756.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QOf-LimymuNUMeLIT54B_A.png"/></div></div></figure><p id="e788" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">是的，我们已经学习了绝对路径，相对路径，__init__。py文件、包、子包和模块术语。我希望它有帮助。</p><p id="9a5e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">亲切的问候。</p></div></div>    
</body>
</html>