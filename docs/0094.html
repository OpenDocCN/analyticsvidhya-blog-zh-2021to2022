<html>
<head>
<title>How to generate Word Clouds from multiple news source (with python code)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何从多个新闻源生成单词云(使用python代码)</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/how-to-generate-word-clouds-from-multiple-news-source-with-python-code-47a03c512fe4?source=collection_archive---------15-----------------------#2021-01-04">https://medium.com/analytics-vidhya/how-to-generate-word-clouds-from-multiple-news-source-with-python-code-47a03c512fe4?source=collection_archive---------15-----------------------#2021-01-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="0b61" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面的教程将分为两个部分——从新闻API中检索新闻信息，以及单词云的生成。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/c0d3cb62f7ee4fe52744651380b96c19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*RZqb5qBHmfP7vuD2.png"/></div></div></figure><h1 id="97d5" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">新闻宣传短片</h1><blockquote class="kn ko kp"><p id="1a0e" class="if ig kq ih b ii ij ik il im in io ip kr ir is it ks iv iw ix kt iz ja jb jc hb bi translated"><strong class="ih hj"> News API </strong>是一个简单易用的API，它可以立即返回全网头条和文章的JSON元数据。</p></blockquote><p id="d8c2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，前往<a class="ae ku" href="https://newsapi.org/" rel="noopener ugc nofollow" target="_blank">新闻API </a>到<strong class="ih hj">获取API密钥。</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kv"><img src="../Images/283120d815a3f3dd1c2497168eb104aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*crUVDfhoZMOCnzXWDhXUGA.png"/></div></div></figure><p id="d076" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，打开你的Jupyter笔记本，开始编码吧！我们需要首先安装<a class="ae ku" href="https://pypi.org/project/newsapi-python/" rel="noopener ugc nofollow" target="_blank"> newsapi-python </a>客户端库。</p><pre class="je jf jg jh fd kw kx ky kz aw la bi"><span id="f5fb" class="lb jq hi kx b fi lc ld l le lf">!pip install newsapi-python</span></pre><p id="b6ff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，导入所有必需的库供以后使用。请将您的API密钥粘贴在括号中，如下所示。</p><pre class="je jf jg jh fd kw kx ky kz aw la bi"><span id="c5fe" class="lb jq hi kx b fi lc ld l le lf">import pandas as pd</span><span id="b9b8" class="lb jq hi kx b fi lg ld l le lf">import numpy as np</span><span id="52e5" class="lb jq hi kx b fi lg ld l le lf">from datetime import *</span><span id="ec4c" class="lb jq hi kx b fi lg ld l le lf">from newsapi import NewsApiClient</span><span id="4717" class="lb jq hi kx b fi lg ld l le lf">newsapi = NewsApiClient(api_key=’5f921c126ca94bfc8afd8accaf02bef9')</span></pre><h2 id="7773" class="lb jq hi bd jr lh li lj jv lk ll lm jz iq ln lo kd iu lp lq kh iy lr ls kl lt bi translated">资料检索</h2><pre class="je jf jg jh fd kw kx ky kz aw la bi"><span id="3482" class="lb jq hi kx b fi lc ld l le lf">sources = newsapi.get_sources()</span><span id="0440" class="lb jq hi kx b fi lg ld l le lf">sources_list = []</span><span id="e36c" class="lb jq hi kx b fi lg ld l le lf">for source in sources[‘sources’]:</span><span id="0940" class="lb jq hi kx b fi lg ld l le lf">sources_list.append(source[‘id’])</span><span id="99a8" class="lb jq hi kx b fi lg ld l le lf">print(len(sources_list))</span><span id="ace2" class="lb jq hi kx b fi lg ld l le lf">sources_list</span></pre><p id="fd04" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这部分代码将列出所有潜在的新闻来源。部分结果如下所示:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lu"><img src="../Images/5b6d25eb542ce1a41e10b49d10c2891a.png" data-original-src="https://miro.medium.com/v2/resize:fit:756/format:webp/1*S-I5MkQJ7iRP6UbJl3KUEQ.png"/></div></figure><p id="b745" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，您可以指定想要检索的新闻文章的<strong class="ih hj">时间戳</strong>。例如，30天前发表的所有新闻文章。此外，这里需要指定<strong class="ih hj">查询</strong>字符串(例如“数据科学”)。在我的例子中，我只打算检索30天前前50家通讯社中与“数据科学”相关的新闻文章。所有结果都存储在<em class="kq">结果</em>数组中。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="lv lw l"/></div></figure><h1 id="3654" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">词云</h1><p id="39f7" class="pw-post-body-paragraph if ig hi ih b ii lx ik il im ly io ip iq lz is it iu ma iw ix iy mb ja jb jc hb bi translated">一旦我们获得了上下文数据，我们就可以开始创建单词云了。这里，我们使用<strong class="ih hj"> WordCloud </strong>库为每个新闻机构创建一个单独的WordCloud。由于<em class="kq">结果</em>数组存储了50组新闻文章，根据下面的代码将生成50个单词云。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="lv lw l"/></div></figure><p id="e906" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一些例子如下所示:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mc"><img src="../Images/e0e056a6c919e85275a1e09820195234.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*AyqZ10e9P2lhRAlWttJmqw.png"/></div></figure><p id="c84d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这就是为多个新闻源生成单词云的教程的结束。相同的技术可以应用于许多不同的用例中。希望这个简单的演示有所帮助！</p></div></div>    
</body>
</html>