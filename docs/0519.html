<html>
<head>
<title>Influence of dependent variable (y)’s scale on AIC, BIC</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">因变量(y)的规模对scale的影响</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/influence-of-dependent-variable-y-s-scale-on-aic-bic-fff3fe6d6b52?source=collection_archive---------14-----------------------#2021-01-19">https://medium.com/analytics-vidhya/influence-of-dependent-variable-y-s-scale-on-aic-bic-fff3fe6d6b52?source=collection_archive---------14-----------------------#2021-01-19</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><h1 id="188e" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated"><strong class="ak">简介</strong></h1><p id="c2a2" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">当考虑嵌套统计模型的模型选择标准时，我们通常会想到AIC和BIC。这两个度量是基于最大化的对数似然值并权衡预测值的数量而得出的。</p><figure class="kb kc kd ke fd kf er es paragraph-image"><div class="er es ka"><img src="../Images/b8e94feeee904ea91b4bd6ba69e97b80.png" data-original-src="https://miro.medium.com/v2/resize:fit:498/format:webp/1*ht7HBeEZgIvW6vmse_kw8g.png"/></div><figcaption class="ki kj et er es kk kl bd b be z dx translated">k是预测值的数量(图片来自<a class="ae km" href="https://en.wikipedia.org/wiki/Akaike_information_criterion" rel="noopener ugc nofollow" target="_blank">维基百科</a></figcaption></figure><figure class="kb kc kd ke fd kf er es paragraph-image"><div class="er es kn"><img src="../Images/0a9880b4997d9a1f83fdc1d8c9f32472.png" data-original-src="https://miro.medium.com/v2/resize:fit:606/format:webp/1*m3JrbSLEU5zLbBghH0-k3A.png"/></div><figcaption class="ki kj et er es kk kl bd b be z dx translated">k是预测值的数量，n是观察值的数量。BIC对预测者的数量施加了更重的惩罚(如果n &gt; 4 ),因此更喜欢简单的模型(图片来自<a class="ae km" href="https://en.wikipedia.org/wiki/Bayesian_information_criterion" rel="noopener ugc nofollow" target="_blank">维基百科</a></figcaption></figure><p id="47f7" class="pw-post-body-paragraph jc jd hh je b jf ko jh ji jj kp jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">然而，因变量y的规模对这些指标的影响还没有得到足够的重视。</p><p id="bdac" class="pw-post-body-paragraph jc jd hh je b jf ko jh ji jj kp jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">在这里，我将尝试通过一个模拟数据集来说明。</p><p id="452a" class="pw-post-body-paragraph jc jd hh je b jf ko jh ji jj kp jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated"><em class="kt">(完整练习可在我的</em><a class="ae km" href="https://github.com/miaow27/medium_blogs/blob/main/influence_of_y_on_aic.ipynb" rel="noopener ugc nofollow" target="_blank"><em class="kt">GitHub</em></a><em class="kt">)</em></p><h1 id="2165" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">模拟数据设置</h1><figure class="kb kc kd ke fd kf er es paragraph-image"><div class="er es ku"><img src="../Images/59659ee64159b3b2aee18ea62d37e3b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:330/format:webp/1*hZhtImJXia99QXjvHyensA.png"/></div><figcaption class="ki kj et er es kk kl bd b be z dx translated">1e4观测值有9个特征，每个特征都遵循伽玛分布</figcaption></figure><figure class="kb kc kd ke fd kf er es paragraph-image"><div class="er es kv"><img src="../Images/340574c3b580da8ac9eb87f66735cc53.png" data-original-src="https://miro.medium.com/v2/resize:fit:326/format:webp/1*IhEFSFexKbrTORavV-n3GA.png"/></div><figcaption class="ki kj et er es kk kl bd b be z dx translated">噪声遵循标准的常态</figcaption></figure><figure class="kb kc kd ke fd kf er es paragraph-image"><div class="er es kw"><img src="../Images/84a13492be76e85975aa947963599481.png" data-original-src="https://miro.medium.com/v2/resize:fit:766/format:webp/1*Os9k3YjPWGzGjVLmZUbRHA.png"/></div><figcaption class="ki kj et er es kk kl bd b be z dx translated">y实际上是如何产生的。这在现实中会是未知的。</figcaption></figure><figure class="kb kc kd ke fd kf er es paragraph-image"><div class="er es kx"><img src="../Images/1a1d08c8e91a328b1e36a23d0ad8d868.png" data-original-src="https://miro.medium.com/v2/resize:fit:732/format:webp/1*-FczUUgst16gV50-xtk9HA.png"/></div><figcaption class="ki kj et er es kk kl bd b be z dx translated">N = 1000，N个特征= 9</figcaption></figure><h1 id="4503" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated"><strong class="ak">场景</strong></h1><p id="2857" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">现在，暂时忘记模拟设置。假设我们给出以下数据集:</p><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="er es ky"><img src="../Images/9f22bf2494085495044fd4fc24c599b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2C5kC57Wq-o8najfFBrkqw.png"/></div></div><figcaption class="ki kj et er es kk kl bd b be z dx translated">数据集1</figcaption></figure><p id="d2de" class="pw-post-body-paragraph jc jd hh je b jf ko jh ji jj kp jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">假设经过一些初步的探索，我们确定了两个模型(都是简单的线性回归，但是有不同的特征):</p><figure class="kb kc kd ke fd kf er es paragraph-image"><div class="er es ld"><img src="../Images/b8d2d29df7a94588ead9bc39a30bb819.png" data-original-src="https://miro.medium.com/v2/resize:fit:686/format:webp/1*PlTcBjTd6hLpHc0NaM54Ag.png"/></div><figcaption class="ki kj et er es kk kl bd b be z dx translated">候选模型1</figcaption></figure><figure class="kb kc kd ke fd kf er es paragraph-image"><div class="er es le"><img src="../Images/33f1d91a884dc2996dbde446abbf2918.png" data-original-src="https://miro.medium.com/v2/resize:fit:622/format:webp/1*2gO8pTK_4uq0R_cGZyibfg.png"/></div><figcaption class="ki kj et er es kk kl bd b be z dx translated">候选模型2</figcaption></figure><p id="fb3b" class="pw-post-body-paragraph jc jd hh je b jf ko jh ji jj kp jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">我们决定使用AIC作为模型选择标准。由于模型1提供较小的AIC，我们决定使用模型1作为我们的最终选择。</p><figure class="kb kc kd ke fd kf er es paragraph-image"><div class="er es lf"><img src="../Images/a69c50e35b4babbda30ffaee43b9bc22.png" data-original-src="https://miro.medium.com/v2/resize:fit:934/format:webp/1*G3inpfPlXT2kB2D2rBk8TA.png"/></div><figcaption class="ki kj et er es kk kl bd b be z dx translated">数据集1的模型选择结果</figcaption></figure><p id="be77" class="pw-post-body-paragraph jc jd hh je b jf ko jh ji jj kp jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">现在，假设我们给出另一个数据集，具有不同的结果，但具有相同的特征空间。再次，我们决定使用AIC和测试相同的上述模型。</p><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="er es lg"><img src="../Images/74fc28571801a4b1307438f0b6ca248b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TH47e7JlngPaOlFDGbJYYQ.png"/></div></div><figcaption class="ki kj et er es kk kl bd b be z dx translated">数据集2</figcaption></figure><figure class="kb kc kd ke fd kf er es paragraph-image"><div class="er es lh"><img src="../Images/968b0ea56020e1372694e4762e1ee411.png" data-original-src="https://miro.medium.com/v2/resize:fit:980/format:webp/1*hx2S75UrjR4_A_jrLvghNw.png"/></div><figcaption class="ki kj et er es kk kl bd b be z dx translated">数据集2的模型选择结果</figcaption></figure><p id="eec8" class="pw-post-body-paragraph jc jd hh je b jf ko jh ji jj kp jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">这一次，模型2的AIC更小。</p><p id="58e1" class="pw-post-body-paragraph jc jd hh je b jf ko jh ji jj kp jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">所以，这是目前发生的事情:我们给定两个具有相同特征空间的数据集。数据集1对于候选模型1具有较小的AIC(<em class="kt">w ~ x1+X5+X6+x7+x8+x9</em>)，而数据集2对于候选模型2具有较小的AIC(<em class="kt">w ~ X5+X6+x7+x8+x9</em>)。</p><h1 id="242d" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated"><strong class="ak">惊喜惊喜~ </strong></h1><p id="405e" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">现在，看看这个大发现:</p><p id="b195" class="pw-post-body-paragraph jc jd hh je b jf ko jh ji jj kp jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">在数据集1中:w = y</p><p id="6111" class="pw-post-body-paragraph jc jd hh je b jf ko jh ji jj kp jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">在数据集2中:w = y⁴</p><p id="d5e6" class="pw-post-body-paragraph jc jd hh je b jf ko jh ji jj kp jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">既然这是模拟数据，我们知道<em class="kt"> y </em>只取决于<em class="kt"> X1，X2，X3，X4 </em>。然而，<strong class="je hi">通过改变y的比例，我们发现AIC实际上会更喜欢模型2 </strong> ( <strong class="je hi">它不包含任何真正的预测器</strong>！！).</p><h1 id="59c7" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated"><strong class="ak">结果的尺度变化水平</strong></h1><p id="101c" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">如果我们对每个不同的数据集重复这一过程，结果变量<em class="kt"> w </em>以如下方式创建:</p><figure class="kb kc kd ke fd kf er es paragraph-image"><div class="er es li"><img src="../Images/11c77358fbe39ee4feaa1cee57558239.png" data-original-src="https://miro.medium.com/v2/resize:fit:200/format:webp/1*GiGH9fbvqyVnjJTKFhlqLA.png"/></div><figcaption class="ki kj et er es kk kl bd b be z dx translated">上例针对p=1和p=4</figcaption></figure><p id="bdad" class="pw-post-body-paragraph jc jd hh je b jf ko jh ji jj kp jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">当p ≥ 3.5时，AIC开始选择错误的模型。<strong class="je hi">换句话说，结果中的噪声掩盖了来自该点特征的真实信号。</strong></p><figure class="kb kc kd ke fd kf er es paragraph-image"><div class="er es lj"><img src="../Images/20febeeee9666e6b0af16100c4851130.png" data-original-src="https://miro.medium.com/v2/resize:fit:758/format:webp/1*Kf2jC7FIKg-k6GRGULJZLA.png"/></div><figcaption class="ki kj et er es kk kl bd b be z dx translated">每条线代表新数据集(wj，x1j，…，x9j)上的模型选择结果，其中wj = yj**p</figcaption></figure><h1 id="c863" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">如果X1对y的作用强10倍呢？</h1><p id="495d" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">回想一下X1对<em class="kt"> y </em>的作用并不太强。</p><p id="c500" class="pw-post-body-paragraph jc jd hh je b jf ko jh ji jj kp jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated"><em class="kt">y =</em><strong class="je hi"><em class="kt">2</em></strong><em class="kt">* X1+2 * X2+10 * X3+100 * X4</em></p><p id="2827" class="pw-post-body-paragraph jc jd hh je b jf ko jh ji jj kp jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated"><strong class="je hi">如果我们增加y和X1的关系会怎么样，</strong>比如说10次？</p><p id="52ba" class="pw-post-body-paragraph jc jd hh je b jf ko jh ji jj kp jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated"><em class="kt">y =</em><strong class="je hi"><em class="kt">20</em></strong><em class="kt">* X1+2 * X2+10 * X3+100 * X4</em></p><p id="da35" class="pw-post-body-paragraph jc jd hh je b jf ko jh ji jj kp jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">当p ≥9时，模型2具有较小的AIC</p><figure class="kb kc kd ke fd kf er es paragraph-image"><div class="er es lk"><img src="../Images/1beaa7e16b86f85200bdfe9efd95025e.png" data-original-src="https://miro.medium.com/v2/resize:fit:824/format:webp/1*xbxXLvt_zaP_VlmgU7_2Pg.png"/></div><figcaption class="ki kj et er es kk kl bd b be z dx translated">同样的练习，在一个新的数据集上，X1对y的影响比以前强10倍</figcaption></figure><p id="dfdc" class="pw-post-body-paragraph jc jd hh je b jf ko jh ji jj kp jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">这意味着结果的规模可能会影响AIC选择正确模型的准确性。然而，如果特征的影响很强，那么模型将更不容易受y的比例的影响。</p></div><div class="ab cl ll lm go ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="ha hb hc hd he"><h1 id="ee1e" class="ie if hh bd ig ih ls ij ik il lt in io ip lu ir is it lv iv iw ix lw iz ja jb bi translated"><strong class="ak">结论</strong></h1><p id="2467" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">当使用AIC、BIC等指标进行模型选择时，我们需要小心，尤其是当候选模型的值<strong class="je hi">相对接近</strong>时。</p><blockquote class="lx ly lz"><p id="ff5c" class="jc jd kt je b jf ko jh ji jj kp jl jm ma kq jp jq mb kr jt ju mc ks jx jy jz ha bi translated">我们如何知道值是否接近？我们可以对结果施加一些影响(例3或例4 ),看看首选型号是否互换。</p></blockquote><p id="c370" class="pw-post-body-paragraph jc jd hh je b jf ko jh ji jj kp jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">我们还证明了不同的y值可能导致不同的选择结果。然而，如果X的影响更强，则选择结果的准确性将更稳健。</p><h1 id="a80c" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated"><strong class="ak">参考</strong></h1><div class="md me ez fb mf mg"><a href="https://en.wikipedia.org/wiki/Akaike_information_criterion" rel="noopener  ugc nofollow" target="_blank"><div class="mh ab dw"><div class="mi ab mj cl cj mk"><h2 class="bd hi fi z dy ml ea eb mm ed ef hg bi translated">阿凯克信息准则</h2><div class="mn l"><h3 class="bd b fi z dy ml ea eb mm ed ef dx translated">赤池信息准则(AIC)是样本外预测误差的估计量，因此相对质量…</h3></div><div class="mo l"><p class="bd b fp z dy ml ea eb mm ed ef dx translated">en.wikipedia.org</p></div></div><div class="mp l"><div class="mq l mr ms mt mp mu kg mg"/></div></div></a></div><div class="md me ez fb mf mg"><a href="https://en.wikipedia.org/wiki/Bayesian_information_criterion" rel="noopener  ugc nofollow" target="_blank"><div class="mh ab dw"><div class="mi ab mj cl cj mk"><h2 class="bd hi fi z dy ml ea eb mm ed ef hg bi translated">贝叶斯信息准则</h2><div class="mn l"><h3 class="bd b fi z dy ml ea eb mm ed ef dx translated">在统计学中，贝叶斯信息准则(BIC)或施瓦兹信息准则(也是SIC，SBC，SBIC)是一种…</h3></div><div class="mo l"><p class="bd b fp z dy ml ea eb mm ed ef dx translated">en.wikipedia.org</p></div></div></div></a></div></div></div>    
</body>
</html>