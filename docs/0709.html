<html>
<head>
<title>Beginners Guide for Images in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python图像初学者指南</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/beginners-guide-for-images-in-python-9a8b07bfb0a5?source=collection_archive---------27-----------------------#2021-01-27">https://medium.com/analytics-vidhya/beginners-guide-for-images-in-python-9a8b07bfb0a5?source=collection_archive---------27-----------------------#2021-01-27</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/f6bdb564150b899e47b5d3b45d46420d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*CLz66aPtpMm0VfwU"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">在<a class="ae it" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae it" href="https://unsplash.com/@russn_fckr?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> russn_fckr </a>拍摄的照片</figcaption></figure><p id="3be2" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">Python是目前最流行的编程语言，而images是web中最常见的数据类型之一。在我的图像处理导论选修课教授Benjur Emmanuel Borja的帮助下，我探索了如何使用Python在计算机中表示图像。</p><p id="69ff" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">首先，对于这个博客，我们将使用numpy和scikit-image来处理Python中的图像。还有其他像OpenCV (cv2)这样的库，它在图像处理方面非常流行。我们还将使用matplotlib进行绘图。</p><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="0aad" class="kb kc hh jx b fi kd ke l kf kg">import numpy as np<br/>from skimage.io import imshow, imread</span></pre><p id="c66f" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">数字图像只是用代表特定像素强度的数字矩阵来表示</strong>。在这种情况下，图像的范围从0到255(最暗到最亮)，但是在一些图像表示中，强度值的范围从0到1。为了简单起见，让我们只有一个通道，这意味着我们只有强度值，因此你可以在下面看到我们的图像是灰度。</p><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="b5c4" class="kb kc hh jx b fi kd ke l kf kg">array = np.array([[0, 70], <br/>                 [200, 255]])<br/>print("Matrix Representation:")<br/>print(array)</span><span id="6bb1" class="kb kc hh jx b fi kh ke l kf kg">plt.imshow(array, cmap='gray')<br/>plt.title("Image Representation of Array");</span></pre><figure class="js jt ju jv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ki"><img src="../Images/7789713e5e3ea4a736d38ab7272ae0b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:716/format:webp/1*Vd8PMpHumsUm_uj3rSkQFw.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">矩阵表示与图像表示</figcaption></figure></div><div class="ab cl kj kk go kl" role="separator"><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko"/></div><div class="ha hb hc hd he"><h2 id="f06f" class="kb kc hh bd kq kr ks kt ku kv kw kx ky jf kz la lb jj lc ld le jn lf lg lh li bi translated">色彩空间</h2><p id="64da" class="pw-post-body-paragraph iu iv hh iw b ix lj iz ja jb lk jd je jf ll jh ji jj lm jl jm jn ln jp jq jr ha bi translated">彩色图像怎么样？那么，让我们加载一个图像文件，并展示它们是如何表示的。您可以在<a class="ae it" href="https://pasteboard.co/JLwVzey.png" rel="noopener ugc nofollow" target="_blank"> RGB样本图像—粘贴板上的图像</a>下载该图像。</p><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="d5b2" class="kb kc hh jx b fi kd ke l kf kg">rgb = imread('rgb.png')<br/>imshow(rgb);</span></pre><figure class="js jt ju jv fd ii er es paragraph-image"><div class="er es lo"><img src="../Images/4a59e4fc68fdf623d33b4eccd9d317ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:970/format:webp/1*wWFIj6Pkh0ZxCWjoe7d2bw.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated">样本RGB图像</figcaption></figure><p id="7b9a" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">上面的示例图像有三个矩阵堆叠在一起。这些矩阵中的一个表示一个特定通道中的强度值。在这种情况下，对于该图像，每个矩阵分别表示红色、绿色和蓝色通道，如下所示。</p><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="a490" class="kb kc hh jx b fi kd ke l kf kg">fig, ax = plt.subplots(1, 3, figsize=(12,4))<br/>ax[0].imshow(rgb[:,:,0], cmap='Reds')<br/>ax[0].set_title('Red')<br/>ax[1].imshow(rgb[:,:,1], cmap='Greens')<br/>ax[1].set_title('Green')<br/>ax[2].imshow(rgb[:,:,2], cmap='Blues')<br/>ax[2].set_title('Blue');</span></pre><figure class="js jt ju jv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lp"><img src="../Images/1768a976bccd7594603c927cf1b5661b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PJCi9aMVs9425-hqgUCbSQ.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">样本图像的RGB通道</figcaption></figure><p id="6120" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">RGB被称为<strong class="iw hi">颜色空间</strong>。图像中的色彩空间表示每个通道将如何表示图像的哪个属性。还有另一种颜色空间，称为HSV或色调、饱和度和值。让我们把上面的图像转换成它的HSV表示。</p><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="746d" class="kb kc hh jx b fi kd ke l kf kg">from skimage.color import rgb2hsv<br/>rgb_hsv = rgb2hsv(rgb)</span></pre><p id="122e" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">那么下面我们来看看HSV的各个渠道。<strong class="iw hi">注意:我们将其他频道减半，只关注下面的其他频道。</strong></p><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="3ba6" class="kb kc hh jx b fi kd ke l kf kg">fig, ax = plt.subplots(1, 3, figsize=(12,4))<br/>rgb_hsv = rgb2hsv(rgb)<br/>rgb_hsv[:,:,1] = 0.5<br/>rgb_hsv[:,:,2] = 0.5<br/>ax[0].imshow(rgb_hsv, cmap='hsv')<br/>ax[0].set_title('Hue')</span><span id="c198" class="kb kc hh jx b fi kh ke l kf kg">rgb_hsv = rgb2hsv(rgb)<br/>rgb_hsv[:,:,0] = 0.5<br/>rgb_hsv[:,:,2] = 0.5<br/>ax[1].imshow(rgb_hsv, cmap='hsv')<br/>ax[1].set_title('Saturation')</span><span id="ff1e" class="kb kc hh jx b fi kh ke l kf kg">rgb_hsv = rgb2hsv(rgb)<br/>rgb_hsv[:,:,0] = 0.5<br/>rgb_hsv[:,:,1] = 0.5<br/>ax[2].imshow(rgb_hsv, cmap='hsv')<br/>ax[2].set_title('Value');</span></pre><figure class="js jt ju jv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lq"><img src="../Images/0e58e3c484c182d5f6925b20f1f04e4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*267tbUaahHqHMJ_OMOHiuQ.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">样本图像的HSV通道</figcaption></figure><p id="b9d1" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">您可以使用代码轻松转换图像的HSV表示</p><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="cee3" class="kb kc hh jx b fi kd ke l kf kg">from skimage.color import hsv2rgb<br/>rgb = hsv2rgb(rgb_hsv)</span></pre><p id="10ad" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">为什么要改变图像的色彩空间表示？有时，在一个或另一个颜色空间中操作它们更容易。例如，在HSV中，很容易获得它们的值来查看图像中的明亮区域。</p><h2 id="26c7" class="kb kc hh bd kq kr ks kt ku kv kw kx ky jf kz la lb jj lc ld le jn lf lg lh li bi translated"><strong class="ak">图像类型</strong></h2><p id="fb4f" class="pw-post-body-paragraph iu iv hh iw b ix lj iz ja jb lk jd je jf ll jh ji jj lm jl jm jn ln jp jq jr ha bi translated">上面，我们展示了不同种类的色彩空间。现在，让我们看看不同类型的图像。有时候，你只想得到一个通道作为图像的强度。这就是为什么下面，我们得到了图像的灰度版本。</p><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="901b" class="kb kc hh jx b fi kd ke l kf kg">from skimage.color import rgb2gray<br/>rgb_gray = rgb2gray(rgb)<br/>imshow(rgb_gray);</span></pre><figure class="js jt ju jv fd ii er es paragraph-image"><div class="er es lr"><img src="../Images/0f309d3bc82fd8e186b5323f0c60b77a.png" data-original-src="https://miro.medium.com/v2/resize:fit:984/format:webp/1*EveyxpAPoUJ1eHbTPivbiA.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated">样本图像的灰度</figcaption></figure><p id="367b" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">让我们确认一下灰度图像和RGB图像中有多少通道。</p><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="ab6e" class="kb kc hh jx b fi kd ke l kf kg">print("RGB Number of Channels:", rgb.shape[2])<br/>print("Grayscale Number of Channels:", rgb.shape[2])</span></pre><figure class="js jt ju jv fd ii er es paragraph-image"><div class="er es ls"><img src="../Images/0026f2dfed428ae5a87b83d32d413306.png" data-original-src="https://miro.medium.com/v2/resize:fit:910/format:webp/1*OPCJ1mTbWEVuQPRhOrnW_w.png"/></div></figure><p id="3d89" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我们还可以通过设置阈值将灰度图像转换为二进制或单色图像，阈值以下的所有图像都是黑色(值为0)，以上的所有图像都是白色(值为1.0或255)。</p><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="eab9" class="kb kc hh jx b fi kd ke l kf kg">from skimage import img_as_uint<br/># for this demo, set threshold to average value<br/>rgb_binary = img_as_uint(rgb_gray &gt; rgb_gray.mean())<br/>imshow(rgb_binary);</span></pre><figure class="js jt ju jv fd ii er es paragraph-image"><div class="er es lt"><img src="../Images/f4daf80c2bdabf3c2353d1fba275cf7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:976/format:webp/1*cFG0I2iumULSkm62Gv5oCQ.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated">样本的二进制图像</figcaption></figure><h2 id="f704" class="kb kc hh bd kq kr ks kt ku kv kw kx ky jf kz la lb jj lc ld le jn lf lg lh li bi translated"><strong class="ak">采样</strong></h2><p id="4483" class="pw-post-body-paragraph iu iv hh iw b ix lj iz ja jb lk jd je jf ll jh ji jj lm jl jm jn ln jp jq jr ha bi translated">现在我们来谈谈图像的分辨率。采样包括以规则的空间间隔获取图像的值或强度。基本上就分辨率而言，我们想知道我们希望纵向或横向有多少像素。例如下面，让我们说<strong class="iw hi"> N </strong>为图像每边的像素数。让我们看看不同数量的<strong class="iw hi"> N </strong>或<strong class="iw hi">的不同分辨率将如何表示一个圆的图像。</strong></p><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="1fd8" class="kb kc hh jx b fi kd ke l kf kg">def circle_image(x, y):<br/>    X, Y = np.meshgrid(x, y)<br/>    return X**2 + Y**2</span><span id="7fec" class="kb kc hh jx b fi kh ke l kf kg">Ns = 2**np.arange(1, 5)<br/>fig, ax = plt.subplots(1, len(Ns), figsize=(12, 4))<br/>for i, N in enumerate(Ns):<br/>    image = circle_image(np.linspace(-1, 1, num=N), np.linspace(-1, 1, num=N))<br/>    ax[i].imshow(image,cmap='gray')<br/>    ax[i].set_title(r'$N = %d$' % N)</span></pre><figure class="js jt ju jv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lu"><img src="../Images/a16f969dbf93e9dedef12e1add766ed0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L1NbeIB38N1XOYEe5A8Y-w.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">具有不同采样间隔的圆</figcaption></figure><h2 id="2c0f" class="kb kc hh bd kq kr ks kt ku kv kw kx ky jf kz la lb jj lc ld le jn lf lg lh li bi translated">量化</h2><p id="52eb" class="pw-post-body-paragraph iu iv hh iw b ix lj iz ja jb lk jd je jf ll jh ji jj lm jl jm jn ln jp jq jr ha bi translated">现在，让我们来讨论图像可以表现多少种颜色。正如我们之前所说，图像颜色强度可以从0到255来表示。对于一个简单的8位图像，假设2⁸ = 256，从0到255(包括0)有256个值。但是仍然可能有不同的量化或<strong class="iw hi">位深度。</strong>结果如下。比特数为<strong class="iw hi"> k </strong>表示有多少个值代表一个通道的不同强度。下面，你可以看到，当<strong class="iw hi"> k=2 </strong>时，只有两个颜色值，因此图像不是彩色的。二进制图像就是这种情况。对于彩色8位图像，量化或<strong class="iw hi"> k </strong>将等于256。</p><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="9ce6" class="kb kc hh jx b fi kd ke l kf kg">def circle_image(x, y):<br/>    X, Y = np.meshgrid(x, y)<br/>    return X**2 + Y**2</span><span id="ae9f" class="kb kc hh jx b fi kh ke l kf kg">ks = 2**np.arange(1, 5)<br/>circ_image = circle_image(np.linspace(0, 1, num=4), <br/>                          np.linspace(0, 1, num=4))<br/>fig, ax = plt.subplots(1, len(ks), figsize=(12, 4))<br/>for i, k in enumerate(ks):<br/>    bins = np.linspace(0, circ_image.max(), k)<br/>    image = np.digitize(circ_image, bins)<br/>    image = np.vectorize(bins.tolist().__getitem__)(image-1)<br/>    ax[i].imshow(image)<br/>    ax[i].set_title(r'$k = %d$' % k)</span></pre><figure class="js jt ju jv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lv"><img src="../Images/3aed4fac30d2c843fce9fc7cd331c619.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N9Op2LP_zGuWMYsCZCjRaw.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">具有不同量化间隔的圆</figcaption></figure><h2 id="b324" class="kb kc hh bd kq kr ks kt ku kv kw kx ky jf kz la lb jj lc ld le jn lf lg lh li bi translated">结论</h2><p id="4448" class="pw-post-body-paragraph iu iv hh iw b ix lj iz ja jb lk jd je jf ll jh ji jj lm jl jm jn ln jp jq jr ha bi translated">正如我们已经展示的，图像是如何基于它的颜色空间、分辨率和量化来表现的。我们还了解了如何使用scikit-image在Python中加载图像和修改图像。</p></div></div>    
</body>
</html>