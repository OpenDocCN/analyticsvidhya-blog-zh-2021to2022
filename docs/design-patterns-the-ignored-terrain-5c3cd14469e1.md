# 设计模式:被忽略的地形！

> 原文：<https://medium.com/analytics-vidhya/design-patterns-the-ignored-terrain-5c3cd14469e1?source=collection_archive---------25----------------------->

# 本文通过一个例子介绍了什么是设计模式及其不同的类别。

![](img/a060f5e3870aae815478f5fcf95075b1.png)

资料来源:伊瓦·马斯基奇著 [Pexel](https://www.pexels.com/photo/gray-and-black-hive-printed-textile-691710/)

最近，我向一位软件开发人员提到，我正在阅读一篇关于设计模式的文章。我得到的表情是——那是什么？我询问了一些其他的开发者，他们的回答或多或少都是相似的。长话短说，我发现许多开发人员根本不知道设计模式的概念，或者只是听说过这些术语，或者将它们与设计原则混淆了。免责声明:我说的是经验少于 3-4 年的开发人员，并不是所有的开发人员都这样。所以，我想我会写一本关于设计模式的入门书。这篇文章将是非常基础的，我们不会深入任何模式。

**什么是设计模式？**

在我们的软件工程职业生涯中，我们都见过类似的设计问题一次又一次地发生。很多时候，我们开始用一种方法来解决它，然后发现这个方法有问题，然后尝试另一种方法，等等。经过几次迭代后，我们最终确定了一种适合给定场景的方法。我们不是第一个面临这个问题的人，也不是第一个解决这个问题的人。在此期间，业内专家面临类似的重复出现的设计问题，他们开发了相同的标准解决方案。设计模式只不过是对重复出现的设计问题的一个实用的解决方案。它允许我们使用之前概述的解决方案，专家开发人员经常使用这些解决方案来解决软件问题，因此我们不需要每次都从面向对象编程原则的基础构建解决方案。这些也有助于为代码提供结构，避免“意大利面条式代码”。重要的是要明白，这些不是一套源代码，人们可以像 java 库或框架那样记住并放入他们的软件中。相反，这些更多的是概念性的。我们可以拿国际象棋做类比来更好地理解它。了解国际象棋的规则就像了解软件语言的语法和元素，例如编写循环、创建类等等。作为一个新手，我们的主要焦点仍然是国际象棋的规则，然后下一步通常是考虑下一步棋。然而，如果我们在国际象棋中获得经验，或者如果我们观察一个专家玩家，他/她不是在思考这些事情(这些成为他们的第一天性)，而是在寻找棋盘上的特定模式。有许多已知的模式，如暴露的国王或孤立的棋子等。一个有经验的玩家将能够知道在游戏的什么情况下创建哪些模式，然后能够利用这些模式。软件设计模式也是如此！它是关于了解模式，然后认识到哪些模式适合给定的情况。第一部分很简单。但是，第二部分是有经验的。因为有各种各样的设计模式，很多时候可以应用多种模式，但并不是所有的模式都是最好的。

**好处**

好处显而易见:

*   不要重新发明轮子。专家们已经做到了，我们不需要再次经历试验。
*   更好的结构化代码/设计:由专家开发并经过多年迭代。至少可以说，这些是结构良好的。
*   它有助于创建一个通用的设计词汇表:这意味着设计模式提供了一种讨论设计解决方案的简化方法。因此不需要一遍又一遍地解释它们。设计模式给出了模式名，使得讨论它们更容易。这可以节省时间，并确保每个人都引用相同的模式。例如，在我们有两个对象的软件中有一个非常常见的设计问题。第一个对象依赖于第二个对象。如果第二个对象改变，需要通知第一个对象。如果我们每次都要解释这个问题的陈述和解决方案，那就要花很多时间。相反，我们可以简单地说，我们将在这里使用“观察者设计模式”。每个人都会知道这意味着什么。这也减少了误解的空间

关于设计模式最著名的书籍之一是由 Erich Gamma、Richard Helm、Ralph Johnson 和 John Vlissides 撰写的**Design Patterns:Elements of Reusable Object-Oriented Software**。这四个也被称为 ***四人帮*** 。当每个人都开发了程序和图形应用程序时，他们已经发现了在他们的设计解决方案中出现的模式。他们将这些模式形式化为参考，这成为他们的书。“四人帮”开发的模式是为了便于阅读而组织起来的，并且经常以它们的目的来命名。这些模式组合在一起形成了一个目录，也称为“四人帮”的设计模式目录。

**图案类别:**

四人帮的图案目录包含**二十三个图案**。这些模式可以分为三个不同的类别:**创造模式、结构模式和行为模式**。这种分类并不难。有些模式可以跨越多个或所有类别。

创造模式:它处理我们**如何处理创造新对象**。它包括创造和克隆。基于创建和克隆对象，有几种不同的模式。例如，如果我们正在创建一个与现有对象相似的对象，而不是实例化一个新对象，我们可能会克隆现有对象。我们可能会选择克隆，而不是基于我们正在实现的语言进行实例化。没有类概念的语言会鼓励我们克隆和添加现有的对象。像 Javascript 这样的语言不包含要实例化的传统类。相反，对象被克隆和扩展以满足那些特定实例的目的，称为原型。Javascript 允许在运行时修改这些原型。另一方面，像 Java 和 C#这样的语言严重依赖于使用编译时定义的特定类来实例化对象。**创建对象的不同方式会强烈影响我们解决问题的方式。因此，不同的语言会影响可能使用的模式。**

**结构模式:**描述对象是如何相互连接的。这些模式与分解和概括的设计原则有关。有许多不同的方法可以构造对象，这取决于你想要它们之间的关系。结构模式不仅描述了不同对象之间的关系，还描述了子类和类之间如何通过继承进行交互。结构模式使用这些关系，并描述它们应该如何工作以实现特定的设计目标。

**行为模式:**关注对象如何分配工作，并描述每个对象如何实现单一的内聚功能。行为模式也关注独立的对象如何朝着一个共同的目标工作。在一级方程式比赛中，赛道上的维修站工作人员与此非常相似。每个成员都有自己的职责——更换轮胎、拆卸、安装螺栓等。但是他们有一个共同的目标。

**单例设计模式**:

我们将采用一个简单的设计模式，并简要讨论它。我们将在下一篇文章中详细介绍它。这里的想法只是给出对设计模式的理解。

我们将采用**单例模式**。这是一种创造性的模式。单一模式指的是一个类只有一个对象。

*   在某些情况下，一个类有多个对象会导致冲突。在这种情况下，我们选择单例模式。
*   单例模式的另一个目标是单个对象在程序中是全局可访问的。

如果我们单独工作或者在一个小项目上工作，我们可以做一个注释或者心理记录——我们不应该创建 xyz 类的多个对象。但是更多的时候，我们都将在一个项目中工作，其中多个开发人员将一起工作。此外，一个人可以离开公司，而这个新人对此一无所知。因此，最好将这种设计意图编入软件本身。我们将在下一篇文章中讨论实际的 Java 代码。然而，为了更好地理解，我们将简要讨论如何做同样的事情。如果我们在类中创建一个“私有”构造函数，会解决问题吗？确实解决了不能从类外调用的问题。但这也会阻止创建该类的对象。为了解决这个问题，我们要做两件事-

*   首先，我们将声明“私有”类变量。这个类变量将引用我们的单例类的一个实例。因为变量是私有的，所以只能在类中修改。
*   其次，在类中创建一个公共方法，该方法将创建该类的一个实例，但前提是实例尚不存在。

因为该方法是公共的，所以它可以被全局调用，并可用于创建该类的一个实例。常规构造函数是隐藏的。其他类将调用公共方法。这将进行基本的把关，并确保只创建一个对象。如果已经创建了对象，可以全局使用相同的方法来引用它。这样做的一个好处是**懒惰创造**。这意味着直到需要时才创建对象。它有它的权衡，但在这里，我们只是想讨论它是什么。

我希望这篇文章能够对设计模式的概念有所启发。这是一个广阔的领域，需要大量的实践知识来掌握它。