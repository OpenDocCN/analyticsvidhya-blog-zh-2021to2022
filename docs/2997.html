<html>
<head>
<title>How to Visualize Human Language</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何可视化人类语言</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/how-to-visualize-word-embeddings-7ed0fb047089?source=collection_archive---------22-----------------------#2021-05-28">https://medium.com/analytics-vidhya/how-to-visualize-word-embeddings-7ed0fb047089?source=collection_archive---------22-----------------------#2021-05-28</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="bae1" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">和七个让你开始创业的想法！</h2></div><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es iw"><img src="../Images/1202bb4859a7e793090b37797e792c23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*N5Lm3YsPuf_6jZpS"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx translated">右边的绿点代表“女人”这个词，紫点代表前100个高薪工作。这些工作中只有32个更接近“女人”而不是“男人”<strong class="bd jm">来源:</strong> <a class="ae jn" href="http://borgez.ml" rel="noopener ugc nofollow" target="_blank"> borgez.ml </a></figcaption></figure><blockquote class="jo jp jq"><p id="837b" class="jr js jt ju b jv jw ii jx jy jz il ka kb kc kd ke kf kg kh ki kj kk kl km kn ha bi translated">一张图片胜过千言万语。<em class="hh">那么，如果我们能在一个图表中总结一份1000字的文件会怎么样？</em></p></blockquote><p id="2b37" class="pw-post-body-paragraph jr js hh ju b jv jw ii jx jy jz il ka ko kc kd ke kp kg kh ki kq kk kl km kn ha bi translated">图表和仪表板用于模拟财务和数字数据。它们是分析师和投资者分析、交流和制定战略的首选工具。但是直到几年前，使用图表来可视化人类语言还是不可能的。今天，单词嵌入使文本文档处理更快，更容易聚合，分析更有利可图。</p></div><div class="ab cl kr ks go kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="ha hb hc hd he"><p id="0656" class="pw-post-body-paragraph jr js hh ju b jv jw ii jx jy jz il ka ko kc kd ke kp kg kh ki kq kk kl km kn ha bi translated">单词嵌入是意义的数字表示，它们是自然语言处理研究的悠久传统与深度学习的最新进展相结合的结果。<strong class="ju hi">用向量表示意义</strong>使数据科学家能够像处理数字一样对单词进行数学运算。这些包括应用程序中使用的加法、减法和比较，如谷歌的搜索引擎。我的随笔"<a class="ae jn" rel="noopener" href="/geekculture/what-are-word-embeddings-6f6f677b13ce?sk=45ba2e778d00838e42cf78a8d2386c58">什么是单词嵌入？</a>”很好地深入介绍了这个主题。</p><p id="52a4" class="pw-post-body-paragraph jr js hh ju b jv jw ii jx jy jz il ka ko kc kd ke kp kg kh ki kq kk kl km kn ha bi translated">单词嵌入可视化从将文本转换成矢量开始。然后，减少其维数来绘制它们。<strong class="ju hi">本文通过四个步骤中的每一个来绘制单词嵌入。</strong>并使用TensorflowJS、React和recharts提供TypeScript中的示例代码。我将通过探讨主题分类问题来举例说明这一点。最后，分享7个你可以利用该技术实现的创业想法。</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es ky"><img src="../Images/32044959514879ace7003da4a573fd4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*XyIXCTif0rjKQJlT"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx translated">照片由<a class="ae jn" href="https://unsplash.com/@comparefibre?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">对比<a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">上的纤维</a>和</a></figcaption></figure><h2 id="abf0" class="kz la hh bd jm lb lc ld le lf lg lh li ko lj lk ll kp lm ln lo kq lp lq lr ls bi translated">1.将数据集符号化</h2><p id="31de" class="pw-post-body-paragraph jr js hh ju b jv lt ii jx jy lu il ka ko lv kd ke kp lw kh ki kq lx kl km kn ha bi translated">这一切都始于干净的数据。TensorflowJS <a class="ae jn" href="https://github.com/tensorflow/tfjs-models/tree/master/universal-sentence-encoder#universal-sentence-encoder-lite" rel="noopener ugc nofollow" target="_blank">通用语句编码器</a> <strong class="ju hi">将</strong> <strong class="ju hi">单词</strong>，句子，甚至是短文段<strong class="ju hi">转换成矢量</strong>。但是如果数据集不符合这种格式，您可以使用正则表达式对其进行分段:</p><pre class="ix iy iz ja fd ly lz ma mb aw mc bi"><span id="ee4b" class="kz la hh lz b fi md me l mf mg">// Split a text by words.<br/>const wordTokenizer = (text:string) =&gt; text.match(/(\b[^ $]+\b)/g)</span><span id="7744" class="kz la hh lz b fi mh me l mf mg">// Split it by sentences.<br/>const sentenceTokenizer = (t:string) =&gt; t.match( /[^.!?]+[.!?]+/g )</span><span id="7e0b" class="kz la hh lz b fi mh me l mf mg">// Split by paragraphs.<br/>const paragraphTokenizer = (text:string) =&gt; text.split("\n")</span></pre><h2 id="c6b0" class="kz la hh bd jm lb lc ld le lf lg lh li ko lj lk ll kp lm ln lo kq lp lq lr ls bi translated">2.用TensorflowJS建模</h2><p id="4ac2" class="pw-post-body-paragraph jr js hh ju b jv lt ii jx jy lu il ka ko lv kd ke kp lw kh ki kq lx kl km kn ha bi translated">获得单词embeddings很容易。首先加载两个依赖项:Tensorflow和<strong class="ju hi">句子编码器模型</strong>。然后，加载模型；这将触发一个网络请求，需要几秒钟时间。最后，将标记化的数据集作为字符串数组提供给模型，并将输出转换成JavaScript数组。</p><pre class="ix iy iz ja fd ly lz ma mb aw mc bi"><span id="3f30" class="kz la hh lz b fi md me l mf mg">import { load } from '@tensorflow-models/universal-sentence-encoder'import '@tensorflow/tfjs'</span><span id="f718" class="kz la hh lz b fi mh me l mf mg">// Turn an array of texts into word-embeddings.<br/>const vectorize = (text:string[]) =&gt; {<br/>  const model = await load()<br/>  const tensors = await model.embed(text)<br/>  const embeddings = await tensor.array()<br/>  return embeddings<br/>}</span></pre><h2 id="5684" class="kz la hh bd jm lb lc ld le lf lg lh li ko lj lk ll kp lm ln lo kq lp lq lr ls bi translated">3.降维</h2><p id="a195" class="pw-post-body-paragraph jr js hh ju b jv lt ii jx jy lu il ka ko lv kd ke kp lw kh ki kq lx kl km kn ha bi translated">TensorflowJS输出是512维向量；试图绘制它们是一种嵌合体的努力。幸运的是，有几种降维技术。一种常见、有效且<strong class="ju hi">简单的技术</strong>是<a class="ae jn" href="https://en.wikipedia.org/wiki/Principal_component_analysis" rel="noopener ugc nofollow" target="_blank">主成分分析</a>。</p><p id="7507" class="pw-post-body-paragraph jr js hh ju b jv jw ii jx jy jz il ka ko kc kd ke kp kg kh ki kq kk kl km kn ha bi translated">npm模块ml-pca是在Typescript中压缩矢量的一个优秀的轻量级选择。为了使用它，我们首先基于TensorflowJS输出创建一个新模型，并使用该模型<strong class="ju hi">预测二维向量。</strong></p><pre class="ix iy iz ja fd ly lz ma mb aw mc bi"><span id="b842" class="kz la hh lz b fi md me l mf mg">import { PCA } from 'ml-pca'</span><span id="c73c" class="kz la hh lz b fi mh me l mf mg">// Reduce the dimensionality of word embeddings.<br/>reduceDimensionality = (embeddings:number[][]) =&gt; {<br/>  const pca = new PCA(embeddings)<br/>  const matrix = pca.predict([embeddings], {nComponents:2})<br/>  const reducedVectors = matrix.to2DArray()[0]<br/>  return reducedVectors<br/>}</span></pre><h2 id="e8d3" class="kz la hh bd jm lb lc ld le lf lg lh li ko lj lk ll kp lm ln lo kq lp lq lr ls bi translated">4.用反作用力画出来</h2><p id="4990" class="pw-post-body-paragraph jr js hh ju b jv lt ii jx jy lu il ka ko lv kd ke kp lw kh ki kq lx kl km kn ha bi translated">最后一步是使用ReactJS和<a class="ae jn" href="https://recharts.org/" rel="noopener ugc nofollow" target="_blank"> recharts </a>绘制它。我们将从将我们的标记化数据集映射到缩减的向量开始。然后导入散点图，并添加相应的颜色、道具和样式，将其转换为React组件。最后选标题:不要小看这一步。一定要明确<strong class="ju hi">你想用剧情传达什么。</strong></p><pre class="ix iy iz ja fd ly lz ma mb aw mc bi"><span id="06b7" class="kz la hh lz b fi md me l mf mg">import { ScatterChart, Scatter, Tooltip } from 'recharts'</span><span id="2f40" class="kz la hh lz b fi mh me l mf mg">interface iData {name:string, x:number, y:number}<br/>interface iEmbeddingsPlot {title:string, data:iData[]} </span><span id="5dd9" class="kz la hh lz b fi mh me l mf mg">const EmbeddingsPlot = ({title, data}:iEmbeddingsPlot) =&gt; &lt;div&gt;<br/>  &lt;h1&gt; { title } &lt;/h1&gt;<br/>  &lt;ScatterChart data={data}&gt;<br/>    &lt;Tooltip/&gt;<br/>    &lt;RechartScatter data={data} fill={colors[i]} /&gt;<br/>  &lt;/ScatterChart&gt;<br/>&lt;/div&gt;</span></pre><h1 id="e79c" class="mi la hh bd jm mj mk ml le mm mn mo li in mp io ll iq mq ir lo it mr iu lr ms bi translated">示例:按主题的文档可视化</h1><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es mt"><img src="../Images/7ef73e3ebc7a2f0caae6a95e44f481f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EbqEq3ceTyL2u0fBlesDlw.png"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx translated">主题分类图表示例。题目越靠左，技术性越强。垂直维度代表个人(顶部)与社会(底部)。<strong class="bd jm">来源:</strong> <a class="ae jn" href="https://borgez.ml" rel="noopener ugc nofollow" target="_blank"> borgez.ml </a></figcaption></figure><p id="bc55" class="pw-post-body-paragraph jr js hh ju b jv jw ii jx jy jz il ka ko kc kd ke kp kg kh ki kq kk kl km kn ha bi translated">为了说明这个过程，考虑映射一个由主题标记的文档数组。这些是我们可能面临的一些挑战:</p><ol class=""><li id="60af" class="mu mv hh ju b jv jw jy jz ko mw kp mx kq my kn mz na nb nc bi translated">文档大小对于通用句子编码器来说太大。</li><li id="1d8f" class="mu mv hh ju b jv nd jy ne ko nf kp ng kq nh kn mz na nb nc bi translated">主题数量太多，无法在图表中为每个主题指定唯一的颜色。</li><li id="a470" class="mu mv hh ju b jv nd jy ne ko nf kp ng kq nh kn mz na nb nc bi translated">我们需要使用该工具对未标记的文档进行分类。</li></ol><p id="b4c8" class="pw-post-body-paragraph jr js hh ju b jv jw ii jx jy jz il ka ko kc kd ke kp kg kh ki kq kk kl km kn ha bi translated">Shay Palachy写了一篇出色的39分钟指南，概述了用于嵌入文档的不同技术。对于上面的例子，我选择了一种更实用的方法，通过句子对文本进行标记，并对它们进行平均来找到<strong class="ju hi">最终文档的嵌入。</strong></p><p id="dc6f" class="pw-post-body-paragraph jr js hh ju b jv jw ii jx jy jz il ka ko kc kd ke kp kg kh ki kq kk kl km kn ha bi translated">我用类似的程序在图表上画出每个主题。对对应于相同主题的每个文档取向量的平均值。<strong class="ju hi">平均值是对文本数据应用数学运算得出的值</strong>的一个很好的例子。</p><p id="84fd" class="pw-post-body-paragraph jr js hh ju b jv jw ii jx jy jz il ka ko kc kd ke kp kg kh ki kq kk kl km kn ha bi translated">最后一步:<strong class="ju hi">预测未标注文档的主题。</strong>我们可以应用支持向量机(SVM)等机器学习算法，训练神经网络，或进行地理查询，以在2D向量空间中找到最近的主题。关于这个主题的更多信息，请参考我的教程:“<a class="ae jn" rel="noopener" href="/geekculture/how-to-develop-a-text-recommendation-engine-99d3b46effdb?sk=508c65e2139bfdfbd8043b2090ee1bd7"> <strong class="ju hi">如何创建文字推荐引擎</strong> </a>”</p><h1 id="df40" class="mi la hh bd jm mj mk ml le mm mn mo li in mp io ll iq mq ir lo it mr iu lr ms bi translated">额外收获:7个基于单词嵌入的创业想法</h1><ol class=""><li id="9a92" class="mu mv hh ju b jv lt jy lu ko ni kp nj kq nk kn mz na nb nc bi translated"><strong class="ju hi"> Kluster: </strong>产品评论聚合技术。</li><li id="9ba6" class="mu mv hh ju b jv nd jy ne ko nf kp ng kq nh kn mz na nb nc bi translated"><strong class="ju hi">优质潜在客户:</strong>根据潜在客户网站的语言自动确定他们的资格。</li><li id="4f65" class="mu mv hh ju b jv nd jy ne ko nf kp ng kq nh kn mz na nb nc bi translated"><strong class="ju hi"> HR-Rec: </strong>推荐引擎寻找最佳前景。</li><li id="9568" class="mu mv hh ju b jv nd jy ne ko nf kp ng kq nh kn mz na nb nc bi translated"><strong class="ju hi">旅游:</strong>根据体验，而不是位置，对餐馆、酒店和目的地进行分组。</li><li id="c176" class="mu mv hh ju b jv nd jy ne ko nf kp ng kq nh kn mz na nb nc bi translated"><strong class="ju hi"> ReadFlix: </strong>每天晚上下班后找到最适合阅读的内容。</li><li id="b715" class="mu mv hh ju b jv nd jy ne ko nf kp ng kq nh kn mz na nb nc bi translated"><strong class="ju hi">healty:</strong>监控企业沟通和组织文化的仪表板。</li><li id="65fe" class="mu mv hh ju b jv nd jy ne ko nf kp ng kq nh kn mz na nb nc bi translated"><strong class="ju hi"> Matchy: </strong>根据想法加入人，而不是外貌。</li></ol><p id="45b4" class="pw-post-body-paragraph jr js hh ju b jv jw ii jx jy jz il ka ko kc kd ke kp kg kh ki kq kk kl km kn ha bi translated">这些想法都有相同的概念:分析文本数据并创造可视化效果来帮助决策。我很乐意详述这些想法，或者在LinkedIn上与我联系，讨论MVP。你觉得，哪个想法最有上升空间？</p><blockquote class="jo jp jq"><p id="eaf4" class="jr js jt ju b jv jw ii jx jy jz il ka kb kc kd ke kf kg kh ki kj kk kl km kn ha bi translated">“每当你看到一个成功的企业，有人曾经做出了一个勇敢的决定。”― <strong class="ju hi">彼得·德鲁克</strong></p></blockquote></div><div class="ab cl kr ks go kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="ha hb hc hd he"><p id="9672" class="pw-post-body-paragraph jr js hh ju b jv jw ii jx jy jz il ka ko kc kd ke kp kg kh ki kq kk kl km kn ha bi translated"><em class="jt">感谢您的阅读。我希望你喜欢这个故事！更多关于</em> <strong class="ju hi"> <em class="jt">自然语言处理</em> </strong> <em class="jt">的内容，可以考虑</em> <a class="ae jn" href="https://santiagoq.medium.com/" rel="noopener"> <em class="jt">给我一个跟随</em> </a> <em class="jt">。我很想在评论中听到你的想法，你的掌声将会非常受欢迎。🙏</em></p></div></div>    
</body>
</html>