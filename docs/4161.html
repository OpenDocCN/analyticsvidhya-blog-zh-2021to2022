<html>
<head>
<title>Exploratory Data Analysis: NYC Taxi Trip Duration using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">探索性数据分析:使用Python的纽约市出租车出行持续时间</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/exploratory-data-analysis-nyc-taxi-price-prediction-using-python-44fce176a8fe?source=collection_archive---------1-----------------------#2021-09-04">https://medium.com/analytics-vidhya/exploratory-data-analysis-nyc-taxi-price-prediction-using-python-44fce176a8fe?source=collection_archive---------1-----------------------#2021-09-04</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/6c8e24b2b54bf7594f3382717a8828ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*R8QowQaWQlH--sLX.jpg"/></div></div></figure><p id="cc8d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">让我们从了解探索性数据分析(EDA)开始。EDA可以定义为:</p><ol class=""><li id="6427" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm js jt ju jv bi translated">理解或获得对我们数据的直觉。</li><li id="a0fd" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">检查我们的数据是否正确，见解是否正确。</li><li id="3f9a" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">找出您的数据是否有任何缺失值，或者我们的数据集中是否有任何异常值。</li><li id="aee5" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">总结我们的数据。</li></ol><figure class="kc kd ke kf fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kb"><img src="../Images/12b0898d49de3c3eb8c54df4fc7f7e3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jORl-5J1caPe8ODiIK6axA.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">进行EDA的步骤</figcaption></figure></div><div class="ab cl kk kl go km" role="separator"><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp"/></div><div class="ha hb hc hd he"><blockquote class="kr ks kt"><p id="599b" class="ip iq ku ir b is it iu iv iw ix iy iz kv jb jc jd kw jf jg jh kx jj jk jl jm ha bi translated">正确使用统计方法的重要性</p></blockquote><p id="d82c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">假设我们正在绘制两个城市一周中某一天的用电量，其中0代表星期日，1代表星期一，依此类推。</p><figure class="kc kd ke kf fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ky"><img src="../Images/ec4d73cc1e22ae62c55bf92bb5b6c77d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c-aeUk2rwgvUps7ZjRENEQ.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">因此，假设我们采用平均值作为统计方法:可以认为城市A的耗电量更多，因为它的折线图比城市B高得多</figcaption></figure><figure class="kc kd ke kf fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kz"><img src="../Images/c528fd7d800344a7ce2f97a17ee260a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8sUSNC1MuzVsvzqy6eygMg.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">如果我们以中位数作为统计指标来比较电力消耗，我们可以看到两个城市的电力消耗没有太大的差异。</figcaption></figure><blockquote class="kr ks kt"><p id="54c8" class="ip iq ku ir b is it iu iv iw ix iy iz kv jb jc jd kw jf jg jh kx jj jk jl jm ha bi translated">在本例中，与均值相比，中值是正确的统计方法，因为如果我们将均值视为统计参数，则城市A中的一些房屋可能会对城市A的分布造成更大的干扰。</p></blockquote><h1 id="fe3d" class="la lb hh bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">让我们从讨论问题陈述开始:</h1><p id="582b" class="pw-post-body-paragraph ip iq hh ir b is ly iu iv iw lz iy iz ja ma jc jd je mb jg jh ji mc jk jl jm ha bi translated">这个博客的目的只是探索数据集，并从中产生见解。以下是数据集中所有可用变量/特征的描述，可帮助您执行EDA:</p><ul class=""><li id="6881" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm md jt ju jv bi translated"><strong class="ir hi"> id </strong> —每次旅行的唯一标识符</li><li id="3967" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm md jt ju jv bi translated"><strong class="ir hi"> vendor_id </strong> —表示与旅行记录相关联的提供商的代码</li><li id="38e7" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm md jt ju jv bi translated"><strong class="ir hi"> pickup_datetime </strong> —启用血糖仪的日期和时间</li><li id="ce6f" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm md jt ju jv bi translated"><strong class="ir hi"> dropoff_datetime </strong> —血糖仪脱离的日期和时间</li><li id="007d" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm md jt ju jv bi translated"><strong class="ir hi">乘客数量</strong> —车辆中的乘客数量(驾驶员输入值)</li><li id="8f5b" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm md jt ju jv bi translated"><strong class="ir hi">拾取经度</strong> —仪表接合的经度</li><li id="91ca" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm md jt ju jv bi translated"><strong class="ir hi">拾取纬度</strong> —仪表接合的纬度</li><li id="eaf9" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm md jt ju jv bi translated"><strong class="ir hi"> dropoff_longitude </strong> —仪表脱离的经度</li><li id="5277" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm md jt ju jv bi translated"><strong class="ir hi"> dropoff_latitude </strong> —仪表脱离的纬度</li><li id="c3cd" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm md jt ju jv bi translated"><strong class="ir hi"> store_and_fwd_flag </strong> —该标志表示在发送给供应商之前，行程记录是否保存在车辆存储器中，因为车辆没有连接到服务器(Y = store and forwardn =不是存储和转发行程)</li><li id="b7c0" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm md jt ju jv bi translated"><strong class="ir hi">行程持续时间</strong>——(目标)行程持续时间，单位为秒</li></ul><blockquote class="kr ks kt"><p id="e89f" class="ip iq ku ir b is it iu iv iw ix iy iz kv jb jc jd kw jf jg jh kx jj jk jl jm ha bi translated">让我们开始探索我们的数据集:</p></blockquote><figure class="kc kd ke kf fd ii er es paragraph-image"><div class="er es me"><img src="../Images/368f4d251fca20230557393fc4e06c9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1098/format:webp/1*YEn-SY_L9yttC2LXHM2Byg.png"/></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">导入基本库</figcaption></figure><figure class="kc kd ke kf fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mf"><img src="../Images/4c73d6c4b1c3e0498564e1cfdcf6dcd0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nhGt8Qb8sgzuZqB--PTHSg.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">读取数据集</figcaption></figure><figure class="kc kd ke kf fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mg"><img src="../Images/dadf04e8657fc19ff0c7dda63ae0b622.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XfoO17Ryjs_OLWTsuqkMLw.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">使用Describe()函数检查基本统计信息</figcaption></figure><blockquote class="kr ks kt"><p id="1b51" class="ip iq ku ir b is it iu iv iw ix iy iz kv jb jc jd kw jf jg jh kx jj jk jl jm ha bi translated">我们从中得到推论。对于所有连续变量，计数变量与数据集中的行数相同，这意味着没有缺失值。<br/> 2。乘客计数范围从0到9。<br/> 3。在我们的数据集中，有两种供应商类型提供出租车。<br/> 4。行程持续时间具有高标准偏差。最长的行程大约是277.6小时。</p></blockquote><figure class="kc kd ke kf fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mh"><img src="../Images/5d9a8829ab03ba4f65f320737cb4550d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jP8nvfRIWd76vhoo3JSA1w.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">验证从Describe()函数推断的缺失值，并检查数据集中可用的要素</figcaption></figure><figure class="kc kd ke kf fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mi"><img src="../Images/d41e1933c280fcc5871c398bc5b1a66c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ewwe99O0xziDnturDnOhqQ.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">检查数据类型。</figcaption></figure><blockquote class="kr ks kt"><p id="cdb7" class="ip iq ku ir b is it iu iv iw ix iy iz kv jb jc jd kw jf jg jh kx jj jk jl jm ha bi translated">1.需要将pickup_datetime和dropoff_datetime更改为datetime格式。</p><p id="5981" class="ip iq ku ir b is it iu iv iw ix iy iz kv jb jc jd kw jf jg jh kx jj jk jl jm ha bi translated">2.商店和转发标志需要改变成类别格式(是/否)。</p></blockquote><p id="6095" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">让我们像上面看到的那样更改数据类型:</p><figure class="kc kd ke kf fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mj"><img src="../Images/6e7cdf17f06c02ba3198c5bcb9532419.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RP3GiP8VoNyrRhxrknbmjQ.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">As Type用于将数据类型更改为我们想要表示的类型</figcaption></figure><blockquote class="kr ks kt"><p id="3b30" class="ip iq ku ir b is it iu iv iw ix iy iz kv jb jc jd kw jf jg jh kx jj jk jl jm ha bi translated">让我们探索日期时间，并扩展到工作日、月、小时、分钟，以便在分析数据时获得更全面的了解</p></blockquote><figure class="kc kd ke kf fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mk"><img src="../Images/5fe32d69ed46b3b6a58aa07e45eed3d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*89DTGQJ-uYmMPSqM2fyeqg.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">可以实现日期时间库，如上所示，按月、小时、分钟等进行过滤</figcaption></figure><p id="a097" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">通过向我们使用日期时间库创建的数据集中添加更多列，让我们看看数据集中发生了什么变化:</p><blockquote class="kr ks kt"><p id="66c5" class="ip iq ku ir b is it iu iv iw ix iy iz kv jb jc jd kw jf jg jh kx jj jk jl jm ha bi translated">数据[['接送日期时间'，'接送日期时间'，'接送日'，'接送日'，'接送日'号'，'接送日'号'，'接送日'号'，'接送月'，'接送小时'，'接送小时'，'接送分钟'，'接送分钟']]。头部()</p></blockquote><figure class="kc kd ke kf fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ml"><img src="../Images/79a46bc05bacb3cb545c30128e5d69ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PI4m-RqkUglOCr-EjHRAWQ.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">完美你可以看到我们的日期时间功能已经创建</figcaption></figure><p id="97f0" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">使用Geopy库计算新的要素距离(我们将进一步了解该库)可以为我们的分析部分提供见解:</p><figure class="kc kd ke kf fd ii er es paragraph-image"><div class="er es mm"><img src="../Images/36e6fd6263c8016a18a9a253c09c5f6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1320/format:webp/1*KS0Z3yx2GzB1-SJHLTJBdw.png"/></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">经度和纬度特征可以帮助理解行程起点和终点坐标</figcaption></figure><p id="c173" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在，我们已经为每次旅行的数据集中的每一行添加了距离，我们可以使用lambda函数，这对于在整个数据集中进行一次旅行非常方便。</p><pre class="kc kd ke kf fd mn mo mp mq aw mr bi"><span id="0705" class="ms lb hh mo b fi mt mu l mv mw">data['distance'] <strong class="mo hi">=</strong>data. Apply(<strong class="mo hi">lambda</strong> x: distance_Trip(x['pickup latitude'],x['pickup longitude'],x['dropoff_latitude'],x['dropoff_longitude']), axis<strong class="mo hi">=</strong>1)</span></pre><p id="200c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">使用点应用，我们可以在我们创建的距离行程函数中使用lambda函数来计算距离。</p><figure class="kc kd ke kf fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mk"><img src="../Images/b9c07c6cbf816da9a65919679bc0b902.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JDw_i5Lg0zW5cuAYEjXKjw.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">现在我们可以看到距离特征是为我们的数据集计算的</figcaption></figure><blockquote class="kr ks kt"><p id="b420" class="ip iq ku ir b is it iu iv iw ix iy iz kv jb jc jd kw jf jg jh kx jj jk jl jm ha bi translated">单变量分析:</p></blockquote><p id="0aba" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">让我们从分析接送周开始:</p><figure class="kc kd ke kf fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mx"><img src="../Images/f4942b404ea229712acc67c52ba32106.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AoeKTaLfTxdBD2iYa0cQ6w.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">我们可以观察到星期五是最忙的一周。</figcaption></figure><p id="beaf" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">让我们看看哪些旅行被记录或没有。</p><figure class="kc kd ke kf fd ii er es paragraph-image"><div class="er es my"><img src="../Images/cac594b507cabf2ea3bd562dd460e6fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*GRLZjXMQCNzCFeEpavKeWA.png"/></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">99 %的时间旅行不会被记录在服务器上。我们需要在双变量分析中进一步研究。</figcaption></figure><p id="c680" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">让我们看看哪个月的旅行次数最多:</p><figure class="kc kd ke kf fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mk"><img src="../Images/8b695074b44e4d2c753e041e55097274.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FaQJsKDI6gGp4RrYwI8cPA.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">对出租车司机来说，三月是最忙的月份，其次是四月。</figcaption></figure><blockquote class="kr ks kt"><p id="fe94" class="ip iq ku ir b is it iu iv iw ix iy iz kv jb jc jd kw jf jg jh kx jj jk jl jm ha bi translated">现在让我们创建一个函数Duration()，我们将它描述为:</p><p id="53bf" class="ip iq ku ir b is it iu iv iw ix iy iz kv jb jc jd kw jf jg jh kx jj jk jl jm ha bi translated"><strong class="ir hi"> If 6 &lt;时间&lt;12-上午:If 12 &lt; t &lt; 16和16 &lt; t &lt; 22为晚上，其他行程为深夜</strong></p></blockquote><figure class="kc kd ke kf fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mz"><img src="../Images/0dfb7a9abc4e4020858717dfe7447b35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NzlO6AwKKGObcBKuZbmLaA.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">一天中完美的时间被创造出来</figcaption></figure><p id="81b1" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在让我们看看乘客人数分布:</p><figure class="kc kd ke kf fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es na"><img src="../Images/701e635e2efe231b1ace9aac82fd01b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ipUeN8Qe2CLjZWe4w9RePQ.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">直观的</figcaption></figure><figure class="kc kd ke kf fd ii er es paragraph-image"><div class="er es nb"><img src="../Images/5a59d762b53e765f6feb87017c7839d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:884/format:webp/1*4XvIdfpN44-6qHVSlWX8NA.png"/></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">描述的</figcaption></figure><blockquote class="kr ks kt"><p id="92da" class="ip iq ku ir b is it iu iv iw ix iy iz kv jb jc jd kw jf jg jh kx jj jk jl jm ha bi translated">从中可以看出以下几点:</p><p id="13a7" class="ip iq ku ir b is it iu iv iw ix iy iz kv jb jc jd kw jf jg jh kx jj jk jl jm ha bi translated">a)大部分乘客密度位于b/w 1和2。</p><p id="e889" class="ip iq ku ir b is it iu iv iw ix iy iz kv jb jc jd kw jf jg jh kx jj jk jl jm ha bi translated">b)有两个行程，最大乘客人数分别为7人和9人。</p><p id="dad7" class="ip iq ku ir b is it iu iv iw ix iy iz kv jb jc jd kw jf jg jh kx jj jk jl jm ha bi translated">c)有33次旅行没有乘客，这意味着预订可能由于某种原因被取消。</p></blockquote><p id="a1d2" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">让我们分析一下我们之前创建的一天中发生的旅行持续时间:</p><figure class="kc kd ke kf fd ii er es paragraph-image"><div class="er es nc"><img src="../Images/86f291e314cc1a3068087854a9e9464b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1382/format:webp/1*Jf0BTEB5pjTgd6fbUTGL5A.png"/></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">晚上是最忙的时间，其次是早上，这是有道理的，因为大多数人不得不在早上去办公室，晚上回家。</figcaption></figure><p id="555d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">让我们分析出行持续时间特征:</p><figure class="kc kd ke kf fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nd"><img src="../Images/4eac09717ee56f496ef67efa1d806a9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xLy8vYcZGw8457N43bnnYA.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">这表明它有异常值，因为它是右偏的，我们可以从分布图中看到。让我们绘制方框图，看看是否有异常值。</figcaption></figure><figure class="kc kd ke kf fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ne"><img src="../Images/df4a7ed146d01ad55d059c832724c44f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MWqY_qN2Uc9pZZHQMcxm7w.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">我们可以看到有一个异常值，值1939736是数据集中的极值。让我们放弃这一价值。</figcaption></figure><p id="5fff" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">让我们再创造一个特征出租车司机的平均速度:</p><figure class="kc kd ke kf fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nf"><img src="../Images/87540e633baf09bf65398e0cbde245fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ucULMOjEYilHsrHRdGZlyQ.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">从平均速度，我们可以推断，纽约市有主要的交通。</figcaption></figure><blockquote class="kr ks kt"><p id="0c2c" class="ip iq ku ir b is it iu iv iw ix iy iz kv jb jc jd kw jf jg jh kx jj jk jl jm ha bi translated">双变量分析:</p></blockquote><p id="0311" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">让我们分析乘客数量和供应商ID:</p><figure class="kc kd ke kf fd ii er es paragraph-image"><div class="er es ng"><img src="../Images/32a440214aef3c422c0a029c778b4ef2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1374/format:webp/1*aZZR4TMug2Nu0156mpSf6Q.png"/></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">供应商id与乘客数量</figcaption></figure><blockquote class="kr ks kt"><p id="bd75" class="ip iq ku ir b is it iu iv iw ix iy iz kv jb jc jd kw jf jg jh kx jj jk jl jm ha bi translated">大多数人在预订出租车服务时更喜欢供应商2，这可以引出思考部分:</p><p id="e943" class="ip iq ku ir b is it iu iv iw ix iy iz kv jb jc jd kw jf jg jh kx jj jk jl jm ha bi translated">a)供应商1提供的出租车可能短缺。</p><p id="7227" class="ip iq ku ir b is it iu iv iw ix iy iz kv jb jc jd kw jf jg jh kx jj jk jl jm ha bi translated">B)或者与A相比，供应商B可能提供了更好的服务。让我们通过绘制catplot进行调查。</p></blockquote><figure class="kc kd ke kf fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nh"><img src="../Images/e2a3821af9b77cfdd4b160a1d7591774.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZneDy1p0_cL9bvHkWp28BA.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">供应商id与行程持续时间</figcaption></figure><blockquote class="kr ks kt"><p id="a8b3" class="ip iq ku ir b is it iu iv iw ix iy iz kv jb jc jd kw jf jg jh kx jj jk jl jm ha bi translated">供应商1提供短途旅行。供应商2提供短途和长途旅行，这就是为什么人们更喜欢供应商2。</p></blockquote><p id="f04d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">让我们看看我们之前讨论过的双变量分析中的b/w商店和_fwd标志与行程持续时间的关系:</p><figure class="kc kd ke kf fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ni"><img src="../Images/ff4e7659cf48fb41a612727caf73fd4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4RRMYbL1U3eKmICJfZ4XdQ.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">我们可以从那里观察到的更长的旅程没有记录。短途旅行是有记录的</figcaption></figure><blockquote class="kr ks kt"><p id="4f6f" class="ip iq ku ir b is it iu iv iw ix iy iz kv jb jc jd kw jf jg jh kx jj jk jl jm ha bi translated">现在让我们看看数据集中不同变量的相关性。</p></blockquote><figure class="kc kd ke kf fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nj"><img src="../Images/c337df620150fb796e93f17dfc12952c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JncwfoX_dUIEyHihVtUbZA.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">数据集中的数字数据类型</figcaption></figure><figure class="kc kd ke kf fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nk"><img src="../Images/c2cb0c6a7a0831b1ce890dba17a1b4c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4NEoHhUnS7BLnXeDph5C6g.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">这是我们从Correlation()函数得到的一个非常大的表。让我们用一个更小的表格来看皮尔逊系数，这样更容易查阅。</figcaption></figure><p id="cfc7" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">让我们将所有数字列拆分，然后进行快速排序，接着创建一个日期框架，将排序后的值和系数放在一起进行分析:</p><figure class="kc kd ke kf fd ii er es paragraph-image"><div class="er es nl"><img src="../Images/99ffad7c055aef616d39738f01d4a47d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1312/format:webp/1*n0_dlIxecw373ic_E5SaqQ.png"/></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">我们可以看到，取货日和卸货日的相关性最高。</figcaption></figure><p id="9708" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">让我们画出热图来看看所有的相关性:</p><figure class="kc kd ke kf fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nm"><img src="../Images/8d63fece962a051bad90ef51a537641b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_DYlaDcSv7KU9zfl1yvTqQ.png"/></div></div></figure><blockquote class="kr ks kt"><p id="8cc3" class="ip iq ku ir b is it iu iv iw ix iy iz kv jb jc jd kw jf jg jh kx jj jk jl jm ha bi translated">斯皮尔曼相关似乎在它们之间有非常相似的模式，除了在相关的大小上有轻微的变化。<br/> *相关性不显著的变量太多。<br/> *主要相关性存在于接送时间之间。</p></blockquote><p id="6683" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">让我们一起分析乘客数量与行程持续时间:</p><figure class="kc kd ke kf fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nn"><img src="../Images/d0b6694ca78fe4a5a1cd92b23931e639.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oOqokSetox7B04PrPRnZnA.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">大多数乘客行程持续时间为b/w 800至1000秒。<br/>最短旅行持续时间约为0，这可能是一个异常值，或者人们可能在预订后取消了行程。这应该进行调查。</figcaption></figure><figure class="kc kd ke kf fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es no"><img src="../Images/c54839e19cae4feaf769ccf8cf6dbbe1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Jx0prtyEaieMQFlQrTw67A.png"/></div></div></figure><blockquote class="kr ks kt"><p id="15cc" class="ip iq ku ir b is it iu iv iw ix iy iz kv jb jc jd kw jf jg jh kx jj jk jl jm ha bi translated">我们可以观察到下午2点到4点左右是最忙的时候。</p></blockquote><p id="4250" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们可以执行T-检验和Z-检验，从数据中获得更多见解:</p><figure class="kc kd ke kf fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es np"><img src="../Images/c96ab7d6ca6e581cdc97ce71bba9f264.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UaOf1P-VWfgn7ogtztd9ug.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">在Python中创建z测试和T测试公式</figcaption></figure><figure class="kc kd ke kf fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nq"><img src="../Images/00d721abe42cabb52c5d3978ea55058b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cW1dHDaf1S6KeCyndClxgg.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">创建了一个函数来检查所有的统计参数</figcaption></figure><figure class="kc kd ke kf fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nr"><img src="../Images/2c9af45cf6060e180b7b453572bd0529.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WYLMYIm5Kl53ekT2cEFi6w.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">两家供应商的平均速度没有显著变化。</figcaption></figure><figure class="kc kd ke kf fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ns"><img src="../Images/c5d79f756bccddf07f4fbbfef2578ab1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CORBJ-Qafu6Qy8MVLpfr4Q.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">有一个显著的变化。与供应商1相比，供应商2的行程持续时间更长。我们可以在数据集中看到许多异常值。</figcaption></figure><blockquote class="kr ks kt"><p id="092a" class="ip iq ku ir b is it iu iv iw ix iy iz kv jb jc jd kw jf jg jh kx jj jk jl jm ha bi translated">多元分析:</p></blockquote><p id="b907" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">让我们从数据集中的多变量分析开始:</p><figure class="kc kd ke kf fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nt"><img src="../Images/35d8ddc48f6c6bf2775105da0aed0570.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T1iFcogjUSVwWVibb32NzQ.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">b/w提货日和卸货日的紧密关系。<br/>中等关系b/w平均速度和距离。</figcaption></figure><figure class="kc kd ke kf fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nu"><img src="../Images/322cc04eb1e22fb25efca8af44cc6d33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*heePyfR-mkE8iehlDP_pIg.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">装货时间与行程持续时间与商店和前进标志</figcaption></figure><blockquote class="kr ks kt"><p id="b44b" class="ip iq ku ir b is it iu iv iw ix iy iz kv jb jc jd kw jf jg jh kx jj jk jl jm ha bi translated">从这里我们可以推断，与短途旅行相比，长途旅行标记被记录下来。</p></blockquote><figure class="kc kd ke kf fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nv"><img src="../Images/9db58af915a838af60f0cace86b16167.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UDnRnrnFpgcXSgywWgBsrg.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">提货时间与速度和一天中的时间</figcaption></figure><blockquote class="kr ks kt"><p id="5948" class="ip iq ku ir b is it iu iv iw ix iy iz kv jb jc jd kw jf jg jh kx jj jk jl jm ha bi translated">我们可以由此推断:</p><p id="d8a9" class="ip iq ku ir b is it iu iv iw ix iy iz kv jb jc jd kw jf jg jh kx jj jk jl jm ha bi translated">1.深夜平均速度是最大的，因为交通可能会更少。</p><p id="ca96" class="ip iq ku ir b is it iu iv iw ix iy iz kv jb jc jd kw jf jg jh kx jj jk jl jm ha bi translated">2.在上午和下午，交通状况会很拥挤，这表明汽车的平均速度较低(12-20公里/小时)</p></blockquote><blockquote class="nw"><p id="c029" class="nx ny hh bd nz oa ob oc od oe of jm dx translated">因此，我们讨论了探索性数据分析，以及它如何帮助我们识别数据中的潜在模式。</p><p id="c6d7" class="nx ny hh bd nz oa og oh oi oj ok jm dx translated">现在，你可能已经有了做EDA的感觉。我建议您在我们的数据集中探索更多这样的变量。</p></blockquote><h1 id="7695" class="la lb hh bd lc ld le lf lg lh li lj lk ll ol ln lo lp om lr ls lt on lv lw lx bi translated">快乐学习！</h1></div></div>    
</body>
</html>