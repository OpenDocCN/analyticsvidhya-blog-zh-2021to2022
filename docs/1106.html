<html>
<head>
<title>One of the infinity stone “Feature Engineering”</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">无限石“特征工程”之一</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/one-of-the-infinity-stone-feature-engineering-c18d3ac20942?source=collection_archive---------16-----------------------#2021-02-14">https://medium.com/analytics-vidhya/one-of-the-infinity-stone-feature-engineering-c18d3ac20942?source=collection_archive---------16-----------------------#2021-02-14</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/0d03ea2c322c690c8c1006a18a3da925.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t8d6pcrhaZ3GZn31Y-U0pA.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">图片由谷歌提供</figcaption></figure><p id="602b" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">在创建数据科学项目时，我们都遵循由不同阶段组成的数据科学生命周期，包括</p><p id="e585" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">数据采集</p><p id="5724" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">特征工程</p><p id="ddcf" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">特征选择</p><p id="1d5b" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">模型创建</p><p id="ac08" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">模型的调整</p><p id="a2c0" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">评估矩阵</p><p id="3f5c" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">部署</p><p id="9ae7" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">要说我们的项目是数据科学项目，我们必须包括上述所有阶段。但在这里，我们将讨论一个重要且耗时的阶段，即特征工程。</p><p id="a410" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">根据我的经验，特征工程需要更多的大约。一个项目花费30-40%的时间。</p><blockquote class="jr js jt"><p id="0b1b" class="it iu ju iv b iw ix iy iz ja jb jc jd jv jf jg jh jw jj jk jl jx jn jo jp jq ha bi translated">先说特征工程。</p></blockquote><p id="8cc0" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">特征工程简单地说就是从我们的数据集中提取、操作、分析和发现相关数据，这有助于我们的模型给出更好的结果。</p><p id="6edf" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">在现实中，数据并不像我们用于学习的那样简单，它们包含大量缺失值，列的单位和大小不同，可能存在异常值，特征可能不符合正态分布，还可能存在不平衡数据集。处理所有这些事情属于特征工程。</p><blockquote class="jr js jt"><p id="8723" class="it iu ju iv b iw ix iy iz ja jb jc jd jv jf jg jh jw jj jk jl jx jn jo jp jq ha bi translated">特征工程中包括的步骤</p></blockquote><p id="d82f" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">数据清理</strong></p><p id="14cf" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">它包括删除空值或用一些相关值替换，以增加特征的重要性。</p><blockquote class="jr js jt"><p id="817e" class="it iu ju iv b iw ix iy iz ja jb jc jd jv jf jg jh jw jj jk jl jx jn jo jp jq ha bi translated">处理空值的方法:</p></blockquote><p id="d761" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">删除空值，这是最简单的方法，但不要马上尝试。</p><p id="1671" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">如果数据本质上是数字，则用平均值/众数/中位数代替。</p><p id="90e5" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">如果数据是分类数据，则替换为最常用的值。</p><p id="2d65" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">可以使用插补技术来填补空值。</p><p id="727e" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">有时向后和向前填充有助于处理空值。</p><p id="72f6" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">在分类变量的情况下，应用分类器算法来预测缺失数据。</p><p id="db89" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">还有其他方法来处理空值，上面是一些处理空值的常用技术。如果你知道，请回复。</p><p id="e1cf" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">与异类战斗</strong></p><p id="fcf1" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">异常值</strong>是数据集中远离所有其他观察值的数据点。位于数据集总体分布之外的数据点。</p><p id="67cd" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">根据问题陈述，有时离群值很重要，比如说在股票市场中，有时任何公司股票的价格都可能呈指数上升，这就变成了离群值，但我们不能删除它，因为在股票价格预测中，我们需要最近n天的趋势。</p><blockquote class="jr js jt"><p id="49a5" class="it iu ju iv b iw ix iy iz ja jb jc jd jv jf jg jh jw jj jk jl jx jn jo jp jq ha bi translated">但是我们应该知道如何处理异常值。同样，有多种方法:</p></blockquote><p id="8dc3" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">通过使用z分数分布</p><p id="356a" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">通过用1.5倍偏差范围替换异常值，在极端异常值的情况下，我们可以使用3倍偏差范围。</p><p id="798b" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">编码</strong></p><p id="21d6" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">机器学习算法对数学公式起作用，因此当我们传递经过大量计算的数据集时，因此我们的数据本质上需要是整数或浮点数。</p><p id="13a0" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">但有时我们的数据集包含需要转换为数值的分类数据，但我们不能直接转换它们，而是应该以这样的方式转换，它们应该包含关于数据集的信息。</p><p id="d4f1" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">分类数据有两种类型，即有序数据和名义数据。</p><p id="39d3" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">名义数据只是简单地命名一些东西，而不是将其分配到与其他编号的对象或数据片段相关的顺序中。名义数据的一个例子可能是每个学生测试结果的“通过”或“失败”分类。</p><p id="8e8f" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">与名义数据不同，序数数据包含一些顺序；序数以排列的方式相互联系。例如，假设您收到了一份来自您最喜欢的餐馆的调查，要求您对所接受的服务提供反馈。您可以将服务质量分为“1”表示差，“2”表示低于平均水平，“3”表示一般水平，“4”表示非常好。</p><p id="1003" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">所以，对于这两者，我们有不同的编码方式。</p><figure class="jz ka kb kc fd ii er es paragraph-image"><div class="er es jy"><img src="../Images/bd908f3b0fd3fd5ddd0d5dd8a110731c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/1*VmDvoJCkKkbjXYGzYuXT8A.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated">作者图片</figcaption></figure><blockquote class="jr js jt"><p id="fd0d" class="it iu ju iv b iw ix iy iz ja jb jc jd jv jf jg jh jw jj jk jl jx jn jo jp jq ha bi translated">序数编码可以使用</p></blockquote><p id="27e4" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">标签编码器</p><p id="52e4" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">目标引导的顺序类别</p><blockquote class="jr js jt"><p id="8f47" class="it iu ju iv b iw ix iy iz ja jb jc jd jv jf jg jh jw jj jk jl jx jn jo jp jq ha bi translated">标称编码可以使用</p></blockquote><p id="4f14" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">一个热编码</p><p id="1d9a" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">一个热编码有多个类别</p><p id="a7fd" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">平均编码</p><p id="9ce7" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">用计数频率替换多个类别</p><p id="7859" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">特征缩放</strong></p><p id="2934" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">大多数数据集包含10多个特征，每个特征都有其单位(千克/厘米/$/摄氏度)和量值(值)。</p><p id="6e77" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">对于回归类型的问题，存在梯度下降的概念，我们必须最小化我们的损失，直到达到全局最小值，因此，如果您的数据集包含具有不同单位和大小的这些要素，则训练时间可能会增加，也会影响准确性。</p><p id="25df" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">在KNN情况下，如果我们不进行缩放，那么计算2个数据点之间的距离变得非常复杂和耗时。</p><p id="cfdf" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">因此，为了克服这种情况，我们可以将所有功能缩小到一个公共范围。</p><figure class="jz ka kb kc fd ii er es paragraph-image"><div class="er es kd"><img src="../Images/ef8b74759bfe2338465a6eab03b4c87f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1160/format:webp/1*DoM0blbWyuAJjEjQyjdAIg.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated">作者图片</figcaption></figure><p id="1950" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">正常化</strong>是一种缩放技术，在这种技术中，值被移动和重新缩放，使得它们最终的范围在0和1之间。这也称为最小-最大缩放。可以使用MinMaxScaler来完成。</p><p id="667f" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">这是归一化的公式:</p><figure class="jz ka kb kc fd ii er es paragraph-image"><div class="er es ke"><img src="../Images/f2eaa2177b8ce7a6fddd1ac14e506207.png" data-original-src="https://miro.medium.com/v2/resize:fit:362/format:webp/1*vWoISGX8nE3hLnL4saFrVw.png"/></div></figure><p id="bbb5" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">标准化</strong>是另一种缩放技术，其中数值以平均值为中心，并带有单位标准偏差。这意味着属性的平均值变为零，结果分布有一个单位标准偏差。这可以使用StandardScaler()来完成</p><p id="8e69" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">这是标准化的公式:</p><figure class="jz ka kb kc fd ii er es paragraph-image"><div class="er es kf"><img src="../Images/610845938171e6ae345b32e8589a8de3.png" data-original-src="https://miro.medium.com/v2/resize:fit:272/format:webp/1*PZgFZjVQ7pDil2TeG9HCeQ.png"/></div></figure><p id="130c" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">处理不平衡数据集</strong></p><p id="73f4" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">假设我们有一个数据集，它有因变量作为分类数据，比如0和1或者是和否</p><p id="fce0" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">在某些情况下，如果70%的输入输出为1，其余为0。这可能导致数据集不平衡的情况。当我们创建模型时，它可能偏向于1，在预测测试数据时，它将提供结果为1。</p><p id="a903" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">因此，为了避免偏差，有不同的方法来处理不平衡数据集。</p><p id="3f9b" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">过采样:在少数类中随机复制例子</p><p id="e9ee" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">欠采样:随机删除多数类中的样本</p><p id="48b1" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">使用集合技术</p><p id="2d29" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">最后，这些是特征工程中涉及的步骤，如果有任何剩余，请给出您的回答。</p><blockquote class="jr js jt"><p id="9931" class="it iu ju iv b iw ix iy iz ja jb jc jd jv jf jg jh jw jj jk jl jx jn jo jp jq ha bi translated"><strong class="iv hi">如需进一步查询，您可以在我的</strong><a class="ae kg" href="https://www.linkedin.com/in/mayank-yogi-806ba9156/" rel="noopener ugc nofollow" target="_blank"><strong class="iv hi"><em class="hh">LinkedIn</em></strong></a><strong class="iv hi"><em class="hh">或</em></strong><a class="ae kg" href="https://github.com/MayankkYogi" rel="noopener ugc nofollow" target="_blank"><strong class="iv hi"><em class="hh">GitHub</em></strong></a>上联系我</p></blockquote></div></div>    
</body>
</html>