<html>
<head>
<title>Getting Lyrics of Songs via Python (LyricsGenius)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过Python (LyricsGenius)获取歌词</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/getting-lyrics-of-songs-via-python-lyricsgenius-23e5dd5992e3?source=collection_archive---------2-----------------------#2021-02-03">https://medium.com/analytics-vidhya/getting-lyrics-of-songs-via-python-lyricsgenius-23e5dd5992e3?source=collection_archive---------2-----------------------#2021-02-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/88511cc7d34118884cda3e198258517f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x4znURDFfeAGVv9_7gA9tg.png"/></div></div></figure><p id="cb96" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">LyricsGenius是一个python库，通过它的API可以更容易地从Genius.com下载任何歌词。</p><p id="98c7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在开始编码之前，来自genius的API key是必须的。因此，通过这个<a class="ae jo" href="https://genius.com/developers" rel="noopener ugc nofollow" target="_blank">链接</a>创建API很容易。</p><p id="000d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">创建完API，就开始编码吧。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es jp"><img src="../Images/112c0f4f255e25f98db3a0d5c498b0ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1068/format:webp/1*mc7wSO0zhHE_QQjvfT6oew.png"/></div></figure></div><div class="ab cl ju jv gp jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hb hc hd he hf"><p id="1ca5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">LyricsGenius使用Python 3。对于安装，</p><p id="42e5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先，检查您的python版本。</p><pre class="jq jr js jt fd kb kc kd ke aw kf bi"><span id="9059" class="kg kh hi kc b fi ki kj l kk kl">python --version</span></pre><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es km"><img src="../Images/3324592bd63a80a65e0ae089d8036660.png" data-original-src="https://miro.medium.com/v2/resize:fit:1090/format:webp/1*Gngw2Vtd_RVpekYRKy0lcQ.png"/></div></figure><p id="ab8b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">其次，下载python库。</p><pre class="jq jr js jt fd kb kc kd ke aw kf bi"><span id="a093" class="kg kh hi kc b fi ki kj l kk kl">#If python --version is Python3, <br/>pip install lyricsgenius<br/>#If python --version is Python2,<br/>pip3 install lyricsgenius</span></pre><p id="3c9d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于最新版本，尝试安装Github链接。</p><pre class="jq jr js jt fd kb kc kd ke aw kf bi"><span id="be9e" class="kg kh hi kc b fi ki kj l kk kl">pip install git+https://github.com/johnwmillr/LyricsGenius.git</span></pre><p id="3193" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，您已经准备好使用lyricsgenius了。导入库和模块。</p><pre class="jq jr js jt fd kb kc kd ke aw kf bi"><span id="08a1" class="kg kh hi kc b fi ki kj l kk kl">#api_key is your TOKEN from Genius Developers. It will look like that.</span><span id="f501" class="kg kh hi kc b fi kn kj l kk kl">api_key = <br/>"XXX-XXXX7XXXXXYUeXXXXXMXXWsUXXXXX7BXXXXX3_XXXXXsY_aBXXXXXzXX"<br/>genius = lg.Genius(api_key)</span></pre><p id="6f0e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于Genius搜索的额外说明，下面的示例中有一些参数。</p><pre class="jq jr js jt fd kb kc kd ke aw kf bi"><span id="96b0" class="kg kh hi kc b fi ki kj l kk kl">genius = lg.Genius(api_key, skip_non_songs=True, excluded_terms=["(Remix)", "(Live)"], remove_section_headers=True)</span></pre><p id="c830" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">下一步是搜索艺术家的歌词。</p><pre class="jq jr js jt fd kb kc kd ke aw kf bi"><span id="fe53" class="kg kh hi kc b fi ki kj l kk kl">#Searches all of "Pop Smoke"'s songs.<br/>artist = genius.search_artist("Pop Smoke")</span><span id="1b6b" class="kg kh hi kc b fi kn kj l kk kl">#Searches 5 of "Pop Smoke"'s songs.<br/>artist = genius.search_artist("Pop Smoke",max_songs=5)</span><span id="3e1c" class="kg kh hi kc b fi kn kj l kk kl">#Searches 5 of "Pop Smoke"'s songs via its Title.<br/>artist = genius.search_artist("Pop Smoke",max_songs=5,sort="title")</span><span id="b920" class="kg kh hi kc b fi kn kj l kk kl"># Sorts = popularity release_date title</span></pre><p id="9c69" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">的<em class="ko">输出</em></p><p id="c702" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="ko">artist = genius . search _ artist(" Pop Smoke "，max_songs=5，sort="title") </em></p><p id="abc2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="ko">是:</em></p><pre class="jq jr js jt fd kb kc kd ke aw kf bi"><span id="03b2" class="kg kh hi kc b fi ki kj l kk kl">Searching for songs by Pop Smoke...<br/><br/>Song 1: "Dior"<br/>Song 2: "Mood Swings"<br/>Song 3: "Welcome to the Party"<br/>Song 4: "For the Night"<br/>Song 5: "Hello"<br/><br/>Reached user-specified song limit (5).<br/>Done. Found 5 songs.</span></pre><p id="4404" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于看到的歌曲:</p><pre class="jq jr js jt fd kb kc kd ke aw kf bi"><span id="56f6" class="kg kh hi kc b fi ki kj l kk kl">songs = artist.songs<br/>print(songs)</span></pre><p id="a793" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">输出:</p><pre class="jq jr js jt fd kb kc kd ke aw kf bi"><span id="6bef" class="kg kh hi kc b fi ki kj l kk kl">[('Dior', 'Pop Smoke'), ('Mood Swings', 'Pop Smoke'), ('Welcome to the Party', 'Pop Smoke'), ('For the Night', 'Pop Smoke'), ('Hello', 'Pop Smoke')]</span></pre><p id="26f4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于受限或非受限歌曲中的特定歌曲:</p><pre class="jq jr js jt fd kb kc kd ke aw kf bi"><span id="f122" class="kg kh hi kc b fi ki kj l kk kl">song = artist.song("Dior")<br/>print(song)</span></pre><p id="a02d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">输出:</p><pre class="jq jr js jt fd kb kc kd ke aw kf bi"><span id="9f79" class="kg kh hi kc b fi ki kj l kk kl">"Dior" by Pop Smoke:<br/>    Traphouse Mob<br/>    Huh,  roll another one<br/>    Said  I'm never lackin', always pistol packing<br/>    With them automa...</span></pre><p id="1dd9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于“歌曲”变量的歌词:</p><pre class="jq jr js jt fd kb kc kd ke aw kf bi"><span id="b695" class="kg kh hi kc b fi ki kj l kk kl">print(song.lyrics)</span></pre><p id="b569" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">输出:</p><pre class="jq jr js jt fd kb kc kd ke aw kf bi"><span id="e57c" class="kg kh hi kc b fi ki kj l kk kl">Traphouse Mob<br/>Huh,  roll another one<br/>Said  I'm never lackin', always pistol packing<br/>With them automatics, we gon' send him to heaven<br/>Wait, wait, wait, wait, ayy, ayy, woo (Aw, shit), huh<br/>Oh,  you feelin' sturdy, huh? (You feelin' sturdy, man)<br/>Shake  somethin'<br/>Shake it, shake it, shake it<br/><br/>She  like the way that I dance<br/>She like the way that I move<br/>She like the way that I rock<br/>She like the way that I woo<br/>And  she let it clap for a nigga<br/>(She let it clap for a nigga)<br/>And she throw it back for a nigga<br/>(Yeah, she throw it back for a nigga)<br/>Mike Amiri, Mike Amiri<br/>Billie Jean, Billie Jean (Uh)<br/>Christian Dior, Dior<br/>I'm up in all the stores<br/>When it rains, it pours<br/>She like the way I rrr<br/>Mike Amiri, Mike Amiri<br/>Billie Jean, Billie Jean (Uh)<br/>Christian Dior, Dior<br/>I'm up in all the stores<br/>When it rains, it pours<br/>She like the way I rrr<br/><br/>When I walk in the spot, thirty on me<br/>Buy out the club, niggas know that I'm paid<br/>Bitch, I'm a thot, get me lit<br/>I can't fuck with these niggas 'cause niggas is gay<br/>All on my page suckin' dick<br/>All in my comments and screamin' my name<br/>While I'm in the club, throwin' them hundreds and fifties and ones and ones<br/>Pop Smoke, they know I'm wildin'<br/>If I'm on the island, I'm snatchin' the cell<br/>Brody got locked, denied his bail<br/>Until he free, I'm raisin' hell<br/>Tell my shooters call me FaceTime<br/>For all the times we had to face time<br/>Free D-Nice, he doin' state time<br/>If you need the glizzy, you could take mine<br/>Please don't come out your mouth, you know I'm like that<br/>I'll make a movie like TNT<br/>Glock-30 on me, ask who really want it<br/>I bet I air it like BNB<br/>Nappy Blue wildin' in my section<br/>And I keep that .38 for the weapon<br/>Remember when I came home from corrections<br/>All the bad bitches in my direction<br/><br/>She like the way that I dance<br/>She like the way that I move<br/>She like the way that I rock<br/>She like the way that I woo<br/>And she let it clap for a nigga<br/>(She let it clap for a nigga)<br/>And she throw it back for a nigga<br/>(Yeah, she throw it back for a nigga)<br/>Mike Amiri, Mike Amiri<br/>Billie Jean, Billie Jean (Uh)<br/>Christian Dior, Dior<br/>I'm up in all the stores<br/>When it rains, it pours<br/>She like the way I rrr<br/>Mike Amiri, Mike Amiri<br/>Billie Jean, Billie Jean (Uh)<br/>Christian Dior, Dior<br/>I'm up in all the stores<br/>When it rains, it pours<br/>She like the way I rrr</span></pre></div><div class="ab cl ju jv gp jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hb hc hd he hf"><p id="ff9f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">代码示例的完整用法</p><pre class="jq jr js jt fd kb kc kd ke aw kf bi"><span id="bd3b" class="kg kh hi kc b fi ki kj l kk kl">def get_lyrics(artists, song_limit):<br/>    c = 0<br/>    for artist in artists:<br/>        try:<br/>            songs = (genius.search_artist(artist, max_songs=song_limit, sort='popularity')).songs<br/>            song_lyrics_list = [song.lyrics for song in songs]<br/>            file = open(f"{artist}_lyrics_of_{len(song_lyrics_list)}_songs.txt", "w", encoding='utf-8')<br/>            file.write("\n \n \n \n \n".join(song_lyrics_list))<br/>            c += 1<br/>            print(f"Songs grabbed:{len(song_lyrics_list)}")<br/>            file.close()<br/>            print("___________________________________________________\n\n\n\n")<br/>        except:<br/>            print(f"some exception at {artist}: {c}")</span><span id="fb01" class="kg kh hi kc b fi kn kj l kk kl"># Sorts = popularity release_date title</span><span id="eefb" class="kg kh hi kc b fi kn kj l kk kl">api_key = "YOUR_API_KEY"<br/>import lyricsgenius as lg</span><span id="0b11" class="kg kh hi kc b fi kn kj l kk kl">genius = lg.Genius(api_key, skip_non_songs=True, excluded_terms=["(Remix)", "(Live)"], remove_section_headers=True)</span><span id="9a11" class="kg kh hi kc b fi kn kj l kk kl">art = ["Pop Smoke","Weekend"]<br/>lyrics = get_lyrics(art, 5)<br/>#</span></pre><p id="0a57" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">感谢阅读这篇文章。希望对你有帮助。</p></div></div>    
</body>
</html>