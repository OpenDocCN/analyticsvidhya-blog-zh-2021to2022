<html>
<head>
<title>Simple web Scrapping using beautifulsoup</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用beautifulsoup进行简单的web报废</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/simple-web-scrapping-using-beautifulsoup-d7cfd59b53f3?source=collection_archive---------9-----------------------#2021-03-05">https://medium.com/analytics-vidhya/simple-web-scrapping-using-beautifulsoup-d7cfd59b53f3?source=collection_archive---------9-----------------------#2021-03-05</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="46a6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi jc translated">这是我在medium上的第一篇文章，我刚刚受到一个朋友的启发，他正在为想学习网络抓取的你写一个非常有用的资源。如果你对网络抓取和python感兴趣，你可以跟随她的媒介【https://arrlany.medium.com/】T2。</p><p id="4043" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在这第一篇文章中，我将讲述如何使用python中的beautifulsoup库来废弃一个网站。这是一个非常简单的步骤，我刚刚从以前的训练营课上学到的。供你参考，我写了我的代码并在google collab上运行它们，是的，google collab对那些想学习和练习python编程但对计算机要求不高的人来说非常有用，就像我一样，它非常容易使用，非常轻便。</p></div><div class="ab cl jm jn go jo" role="separator"><span class="jp bw bk jq jr js"/><span class="jp bw bk jq jr js"/><span class="jp bw bk jq jr"/></div><div class="ha hb hc hd he"><p id="1b98" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我将删除kompas.com的信息，特别是它的“berita terpopuler”专栏。</p><p id="3df4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">首先，像往常一样，我们需要导入项目所需的所有python库。在这里我将导入熊猫、urlopen和beautifulsoup。Urllib将打开网站url，而bs4将用于抓取网站，我们还将使用pandas将结果转换为pandas数据帧。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="f65d" class="kc kd hh jy b fi ke kf l kg kh">from urllib.request import urlopen<br/>from bs4 import BeautifulSoup<br/>import pandas as pd</span></pre><p id="d4c2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">然后我们需要创建一个函数，我将其命名为def kompas()，然后创建3个变量，如下所示。在变量“Alamat”中，您可以输入您想要的网站url。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="e302" class="kc kd hh jy b fi ke kf l kg kh">def kompas():<br/>  alamat = "https://www.kompas.com/"<br/>  html = urlopen(alamat)<br/>  data = BeautifulSoup(html, 'html.parser')</span></pre><p id="bcf6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在继续编写整个代码之前，我们必须决定我们要抓取网站的哪一部分。就像我之前说过的，我会从网站上删除“berita populer”专栏。因此，我需要检查“berita populer”部分中的元素，只需将光标悬停在“berita terpopuler”列周围，右键单击，然后选择“检查元素”。</p><figure class="jt ju jv jw fd kj er es paragraph-image"><div class="er es ki"><img src="../Images/95ddfe333bec256ed3efb59fde929f40.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*2d7AuO2xmcuvlqJjbvJxBw.jpeg"/></div></figure><p id="058e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们将得到如下的检查元素结果。</p><figure class="jt ju jv jw fd kj er es paragraph-image"><div role="button" tabindex="0" class="kn ko di kp bf kq"><div class="er es km"><img src="../Images/3335cbce583868e881e462b2d125efc5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r6JdYOGE-kbAn8_0l_ymzA.jpeg"/></div></div></figure><p id="e4c8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">该部分有html h4标签和类“most__title ”,因此我们可以编写如下代码:</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="b20a" class="kc kd hh jy b fi ke kf l kg kh">title = []<br/>items = data.findAll("h4", {"class":"most__title"})<br/>for item in items:<br/>    title.append(item.get_text())</span></pre><p id="b9b7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们创建了一个名为title的列表，在将废弃结果转换为数据框之前，将它作为一个只包含文本标题的列表。items变量将存储所有的报废结果，在本例中，它们都在HTML标签h4中，并且具有most__title类。循环条目将只从每个“条目”结果中获取文本格式，即新闻的标题，并将它们添加到“标题”列表中。</p><p id="317a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">该函数的最后一部分是将列表转换成数据帧，以便于阅读。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="997c" class="kc kd hh jy b fi ke kf l kg kh">df = pd.DataFrame(title, columns = ['Judul Berita Populer'])<br/>print(title)</span></pre><p id="f0c7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在让我们调用函数kompas()</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="9dc6" class="kc kd hh jy b fi ke kf l kg kh">kompas()</span></pre><p id="81a7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">一段完整的代码最后会是这样的:</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="14bd" class="kc kd hh jy b fi ke kf l kg kh">from urllib.request import urlopen<br/>from bs4 import BeautifulSoup<br/>import pandas as pd</span><span id="428c" class="kc kd hh jy b fi kr kf l kg kh">def kompas():<br/>    alamat = "https://www.kompas.com/"<br/>    html = urlopen(alamat)<br/>    data = BeautifulSoup(html, 'html.parser')<br/>    title = []<br/>    items = data.findAll("h4", {"class":"most__title"})<br/>    for item in items:<br/>        title.append(item.get_text())<br/>        df = pd.DataFrame(title, columns = ['Judul Berita Populer'])<br/>        print(df)</span><span id="c273" class="kc kd hh jy b fi kr kf l kg kh">kompas()</span></pre><p id="90ce" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">运行代码后，我们将得到如下结果:</p><figure class="jt ju jv jw fd kj er es paragraph-image"><div class="er es ks"><img src="../Images/8a1d115283e835bb9b0e81ec36dcf2a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:916/format:webp/1*mdSNd1e5a2wzdbOfwyym2g.jpeg"/></div></figure><p id="693f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">最后，这就是关于如何使用python中的beautifulsoup库从一个网站进行简单的web报废。感谢你阅读我的第一篇文章。也感谢sanbercode.com<a class="ae jl" href="http://sanbercode.com" rel="noopener ugc nofollow" target="_blank">的训练营。</a></p></div></div>    
</body>
</html>