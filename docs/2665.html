<html>
<head>
<title>Patient Selection for Diabetes Clinical Trial Using EHR</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用EHR为糖尿病临床试验选择患者</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/patient-selection-for-diabetes-clinical-trial-using-ehr-c21c24d30aa?source=collection_archive---------9-----------------------#2021-05-11">https://medium.com/analytics-vidhya/patient-selection-for-diabetes-clinical-trial-using-ehr-c21c24d30aa?source=collection_archive---------9-----------------------#2021-05-11</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="f282" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">根据维基百科，电子健康记录(EHR)是以数字格式电子存储的患者和人群健康信息的系统化集合。这些记录通过联网的或其他信息网络和交换来共享。EHR可能包括一系列数据，从人口统计、病史、药物和过敏到免疫状态、实验室测试结果、放射图像、生命体征、年龄和体重等个人统计数据以及账单信息。</p><p id="ffc5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这个项目是一个数据科学家与EHR一起为糖尿病患者选择工作的假设案例，它是我在人工智能医疗保健纳米学位项目中的一个项目。该项目旨在通过对关键医疗代码集进行适当的过滤和预处理/特征工程，证明在遭遇层面构建正确数据表示的重要性。还要求学生分析和解释他们的模型对关键人群的偏见。</p><p id="27f8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">利益相关方:</strong></p><p id="91db" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">制药行业和监管机构。</p><h1 id="f349" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated">任务:</h1><p id="f552" class="pw-post-body-paragraph ie if hh ig b ih ka ij ik il kb in io ip kc ir is it kd iv iw ix ke iz ja jb ha bi translated">建立一个回归模型，该模型可以预测患者的预计住院时间，并使用该模型来选择/筛选您的研究患者。</p><h1 id="83e8" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated">数据集:</h1><p id="4f2d" class="pw-post-body-paragraph ie if hh ig b ih ka ij ik il kb in io ip kc ir is it kd iv iw ix ke iz ja jb ha bi translated">这个项目是用来自<a class="ae kf" href="https://archive.ics.uci.edu/ml/datasets/Diabetes+130-US+hospitals+for+years+1999-2008" rel="noopener ugc nofollow" target="_blank"> UCI欧文</a>的数据集完成的，该数据集已经过修改。</p><p id="2a11" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我通过比较记录的数量和遇到的数量来确定数据集的级别。记录的数量大于遇到的数量，使其成为线数据集级别。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="er es kg"><img src="../Images/5d01bebb72c05ff811476830e3a5778f.png" data-original-src="https://miro.medium.com/v2/resize:fit:556/0*gf-NgcO4XnWrdy38"/></div></figure><p id="5abe" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">接下来，我分析了数据集，发现:</p><p id="f1ce" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> a .具有大量缺失/零值的字段:</strong></p><p id="acb5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">重量</p><p id="c109" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">a1c结果</p><p id="0ad6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">医学_专业</p><p id="8b0e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">付款人_代码</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="er es ko"><img src="../Images/7ad4165c83101fd99c700578d4ce00d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:810/0*W1JGTUgFoww_jce2"/></div></figure><p id="908e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> b .数值场具有高斯/正态分布</strong></p><p id="ea75" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">数量_药物</p><p id="168b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">数量_实验室_程序</p><p id="e45a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">住院时间</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es kp"><img src="../Images/6ff96c0b93781154f33eafd9b5cc16cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*JJFYPXlIBDl50UWK"/></div></div></figure><p id="bb42" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> c .具有高基数的字段</strong></p><p id="8533" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">其他_诊断_代码:19374</p><p id="12c1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">主诊断代码:716</p><p id="02c6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">ndc_code: 251</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="er es ku"><img src="../Images/6fb0452e1fad64f63dfc3408f3ce639d.png" data-original-src="https://miro.medium.com/v2/resize:fit:584/0*I-6e7wyedZDscNbr"/></div></figure><p id="4fbf" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这些字段具有较高的基数，因为它们是代码，并且是基于与所教授的课程相关的诊断和药物治疗而创建的。</p><p id="c26a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> d .人口分布。</strong></p><p id="e44b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">年龄:</strong>人口的年龄分布在40-90岁之间，最大值为70-80岁。</p><p id="0f40" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">性别:</strong>女性人口高于男性人口。</p><p id="cba0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们还注意到，0-40岁和70-100岁年龄组的女性人口较多，而40-70岁年龄组的男性人口较多。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="er es kv"><img src="../Images/97e24e8d941ff4b9e6aa10622c00e7c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:720/0*fkdlivEDicuozrQB"/></div></figure><p id="2f11" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">然后我降低了NDC码特征的维数。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="er es kw"><img src="../Images/908fc1fbabdbf1e0d691250db8f6fdd9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1100/0*ZP5bc-zGuFR0YF8j"/></div></figure><p id="5d0f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">然后，我简化了模型的数据聚合，以防止未来患者遇到的数据泄漏，并通过只选择患者的第一次遇到来降低数据转换和建模步骤的复杂性。然后将数据聚集到正确的级别进行建模。</p><p id="3b86" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">功能选择:</strong></p><p id="4fa2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我排除了payer_code和weight字段，因为它们大部分都缺少数据。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="er es kx"><img src="../Images/5b5d68016dcce16ca7011f6c587c9e49.png" data-original-src="https://miro.medium.com/v2/resize:fit:770/0*RbM8mFEiDTb0OHvN"/></div></figure><p id="fc64" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">数据拆分:</strong></p><p id="ceaa" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我将数据分成60%、20%、20%的训练、验证和测试，然后可视化人口统计学的分割。</p><p id="502b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我也分析了这些分裂，并把它们形象化。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="er es ky"><img src="../Images/f59a74509d2e5fd98853450fbc48d2ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:978/0*sQ2gsbsiNWWkcFcT"/></div></figure><p id="57de" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">然后，我将分割数据转换为Tensorflow数据集，为转换后的数据集构建词汇表，并使用Tensorflow特征列API创建分类特征。接下来，我用Tensorflow特征列创建了数字特征。</p><h1 id="c9f6" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated">模型构建:</h1><p id="3ccd" class="pw-post-body-paragraph ie if hh ig b ih ka ij ik il kb in io ip kc ir is it kd iv iw ix ke iz ja jb ha bi translated">我做了两个模型。具有relu激活的顺序模型和糖尿病模型，RMSprop作为优化器，MSE作为具有早期停止和10个时期的损失度量。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es kz"><img src="../Images/a3b9210809c5eb2b620ae40a0dd7909a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*eL2Mwq0l4VKhHkgL"/></div></div></figure><h1 id="9040" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated">预测:</h1><p id="6785" class="pw-post-body-paragraph ie if hh ig b ih ka ij ik il kb in io ip kc ir is it kd iv iw ix ke iz ja jb ha bi translated">我检查了预测输出，通过向测试数据框架添加二元预测，将回归输出转换为用于患者选择的分类输出。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="er es la"><img src="../Images/ce066974e3a4b2d05bb3829f2f81be1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1080/0*AYcYIekFJTalZdfK"/></div></figure><h1 id="51ac" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated">模型评估:</h1><p id="9c34" class="pw-post-body-paragraph ie if hh ig b ih ka ij ik il kb in io ip kc ir is it kd iv iw ix ke iz ja jb ha bi translated">我使用AUC、recall、precision和F1评分评估了该模型，准确率为73%。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="er es lb"><img src="../Images/42b8d7879ae05ad7e86102d9c96ce281.png" data-original-src="https://miro.medium.com/v2/resize:fit:1042/0*XmHA97Yl82oZpXqD"/></div></figure><p id="8b45" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">偏倚评估:</strong></p><p id="144e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我使用Aequitas偏差工具包评估了潜在偏差，并选择了参照组。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es lc"><img src="../Images/d8c25369f48da3294b299b120a4e0cc0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*zPD_jHw0Tc5BuLUS"/></div></div></figure><p id="3481" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">偏差分析:</strong></p><p id="b052" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我分析了患者选择的种族和性别领域的偏见，结果显示性别似乎缺乏偏见，而在种族方面，高加索人的PPR高于其他任何群体。白种人的高精度意味着它的假阳性会更少。这也意味着在这个模型中，白种人比其他群体更容易达到预期。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es ld"><img src="../Images/6b15edc23411f298b9645f9bb275592d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qecassVnWINaOMX2"/></div></div></figure><p id="94df" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">公平性分析:</strong></p><p id="8949" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我做了一个相对于参照组的公平性分析，参照组是性别，发现每个性别之间没有太大的差异。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="er es le"><img src="../Images/de6109bd21c0275b6b446f21d9efc2dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/0*R8K-heoHsxKoNKka"/></div></figure><h1 id="0b27" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated">结论:</h1><p id="f8e4" class="pw-post-body-paragraph ie if hh ig b ih ka ij ik il kb in io ip kc ir is it kd iv iw ix ke iz ja jb ha bi translated">这个项目有助于加强我在医疗保健领域的人工智能知识，专注于在临床试验中使用EHR进行人口统计选择。代码可以在<a class="ae kf" href="https://github.com/Nwosu-Ihueze/Udacity/tree/main/diabetes_testing" rel="noopener ugc nofollow" target="_blank">我的回购</a>中找到，你可以调整超参数以获得比我更好的分数。您可以通过<a class="ae kf" href="https://www.linkedin.com/in/rosemary-nwosu-ihueze/" rel="noopener ugc nofollow" target="_blank"> LinkendIn </a>与我联系，寻求建议和修改。感谢您的阅读。</p></div></div>    
</body>
</html>