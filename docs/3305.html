<html>
<head>
<title>Tensorflow-GPU: How to Install Tensorflow with NVIDIA CUDA,cuDNN and GPU support on Windows</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Tensorflow-GPU:如何在Windows上安装支持NVIDIA CUDA、cuDNN和GPU的Tensorflow</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/tensorflow-gpu-how-to-install-tensorflow-with-nvidia-cuda-cudnn-and-gpu-support-on-windows-6158cffc1c29?source=collection_archive---------0-----------------------#2021-06-24">https://medium.com/analytics-vidhya/tensorflow-gpu-how-to-install-tensorflow-with-nvidia-cuda-cudnn-and-gpu-support-on-windows-6158cffc1c29?source=collection_archive---------0-----------------------#2021-06-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/f8872c373d2084deb7391364b347282f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zWuRP4TAgqrUbftlKPVhvw.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><a class="ae iu" href="https://www.bbc.com/news/technology-56114508" rel="noopener ugc nofollow" target="_blank">来源</a></figcaption></figure><p id="deca" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">本文将指导您在系统上安装TensorFlow并使其与NVIDIA GPU兼容。在我们深入安装过程之前，让我回顾一下这篇文章背后的动机。</p></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><p id="c233" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">动机</strong></p><p id="8ff0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我最近买了一台新电脑(大约在4月份)，这台笔记本电脑配备了NVIDIA GEFORCE GTX 1650 GPU (4GB内存)。这是为了加快我的机器学习和深度学习项目。笔记本电脑对于基本的深度学习和机器学习任务来说非常快，但对于计算成本高昂的训练来说却非常慢(当训练在CPU上进行时，你还能指望什么呢)。</p><p id="05ef" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这种挫败感让我开始寻找利用系统GPU的方法。我偶然看到一篇很棒的medium文章，<a class="ae iu" href="https://towardsdatascience.com/installing-tensorflow-with-cuda-cudnn-and-gpu-support-on-windows-10-60693e46e781" rel="noopener" target="_blank">在Windows 10 </a>上安装支持CUDA、cuDNN和GPU的Tensorflow，不幸的是在一丝不苟地按照文章中的说明操作之后。我仍然无法让我的GPU与Tensorflow兼容。在网上研究了几类之后，我成功的让我的GPU兼容了Tensorflow。我希望这篇文章能对你有所帮助，帮助你避免我遇到的错误。好了，故事讲完了，让我们深入安装程序。在我们深入了解安装程序之前，了解一下NVIDIA CUDA、cuDNN和Tensorflow是什么会很酷？？</p><p id="1858" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">张量流</strong></p><p id="2b27" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">“TensorFlow是机器学习/深度学习的端到端开源平台。它有一个全面、灵活的工具、库和社区资源的生态系统，让研究人员推动ML的最新发展，开发人员轻松构建和部署ML驱动的应用程序。”<a class="ae iu" href="https://www.tensorflow.org/" rel="noopener ugc nofollow" target="_blank">来源</a></p><p id="5547" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">英伟达CUDA </strong></p><p id="775d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><a class="ae iu" href="https://developer.nvidia.com/about-cuda" rel="noopener ugc nofollow" target="_blank">’“CUDA</a>是Nvidia为通用计算在自己的GPU(图形处理单元)上开发的并行计算平台和编程模型。CUDA使开发人员能够利用GPU的计算并行化能力，加快计算密集型应用的速度。”<a class="ae iu" href="https://www.infoworld.com/article/3299703/what-is-cuda-parallel-programming-for-gpus.html" rel="noopener ugc nofollow" target="_blank">来源</a>。CUDA通过利用所谓的并行计算(即，它不是只在单个计算实例上进行训练，而是划分任务，在不同的计算实例上进行训练)来加快机器学习和深度学习的训练时间。CPU在单个实例上计算，而GPU在多个实例上计算，这使得GPU上的操作比CPU更快。CUDA使你的GPU能够工作，还有其他CUDA替代工具包，如OpenCL，但目前Tensorflow与NVIDIA更兼容(这是我购买NVIDIA驱动的笔记本电脑的原因之一)。</p><figure class="ka kb kc kd fd ij"><div class="bz dy l di"><div class="ke kf l"/></div></figure><p id="7aba" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> cuDNN </strong></p><p id="825c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">“NVIDIA CUDA深度神经网络库(cuDNN)是用于<a class="ae iu" href="https://developer.nvidia.com/deep-learning" rel="noopener ugc nofollow" target="_blank">深度神经网络</a>的GPU加速原语库。cuDNN为标准例程提供了高度优化的实现，例如前向和后向卷积、池化、规范化和激活层。全球深度学习研究人员和框架开发人员依赖cuDNN实现高性能GPU加速。”<a class="ae iu" href="https://developer.nvidia.com/cudnn" rel="noopener ugc nofollow" target="_blank">来源</a></p><p id="8e32" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">安装步骤</strong></p><p id="785e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">请注意，我将从乔安妮·麦显杰博士的这篇<a class="ae iu" href="https://towardsdatascience.com/installing-tensorflow-with-cuda-cudnn-and-gpu-support-on-windows-10-60693e46e781" rel="noopener" target="_blank">伟大文章</a>中摘录一些内容，这篇文章对我很有帮助。唯一的问题是，这篇文章是旧的，你会遇到最新版本的NVIDIA CUDA的错误。</p><p id="5fbc" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">第一步:将要安装的软件</strong></p><p id="93c0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">要安装该软件，你必须在你的电脑上安装一个兼容NVIDIA CUDA的GPU(这一点非常重要)。<a class="ae iu" href="https://www.pcmag.com/how-to/what-graphics-card-do-i-have#:~:text=Open%20the%20Start%20menu%20on,of%20your%20GPU%20right%20there." rel="noopener ugc nofollow" target="_blank">您可以使用此链接了解您的系统上安装了什么GPU。</a></p><ul class=""><li id="22c5" class="kg kh hi ix b iy iz jc jd jg ki jk kj jo kk js kl km kn ko bi translated">Microsoft Visual Studio</li><li id="b2fd" class="kg kh hi ix b iy kp jc kq jg kr jk ks jo kt js kl km kn ko bi translated">NVIDIA CUDA工具包</li><li id="153e" class="kg kh hi ix b iy kp jc kq jg kr jk ks jo kt js kl km kn ko bi translated">NVIDIA cuDNN</li><li id="cb7a" class="kg kh hi ix b iy kp jc kq jg kr jk ks jo kt js kl km kn ko bi translated">Python(如果没有安装)</li><li id="f8e9" class="kg kh hi ix b iy kp jc kq jg kr jk ks jo kt js kl km kn ko bi translated">张量流</li></ul></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><p id="4b41" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">第二步:下载Visual Studio速成版</strong></p><p id="7e61" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> Visual Studio是CUDA工具包的先决条件</strong></p><p id="b5f9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">根据NVIDIA的说法，在您可以使用NVIDIA CUDA Toolkit之前，必须在您的系统上安装visual studio(<a class="ae iu" href="https://docs.nvidia.com/cuda/cuda-installation-guide-microsoft-windows/index.html" rel="noopener ugc nofollow" target="_blank">您可以使用此链接访问先决条件</a>)。</p><figure class="ka kb kc kd fd ij er es paragraph-image"><div class="er es ku"><img src="../Images/ecdb14f05c34426c8da930a00845c520.png" data-original-src="https://miro.medium.com/v2/resize:fit:1144/format:webp/1*UubJmd3Sz5vDfGzThKq8OA.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated"><a class="ae iu" href="https://docs.nvidia.com/cuda/cuda-installation-guide-microsoft-windows/index.html" rel="noopener ugc nofollow" target="_blank">来源</a></figcaption></figure><p id="165f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果您试图在没有安装Visual Studio的情况下下载并安装CUDA Toolkit for Windows。此错误通知将弹出“找不到Visual Studio的支持版本。CUDA工具包的一些组件将无法正常工作”。有Visual Studio代码和Visual Studio(请注意区别)</p><p id="f55a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">选择并下载Visual Studio Express </strong></p><p id="1604" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Visual Studio的最新版本(免费)是Visual Studio Express社区版2019。你可以用这个<a class="ae iu" href="https://visualstudio.microsoft.com/vs/express/" rel="noopener ugc nofollow" target="_blank">链接</a>访问软件。</p><figure class="ka kb kc kd fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kv"><img src="../Images/7e070d172f962760bcac63521668eb23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mH8uwul7edTb1cushGutgA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">Visual Studio速成版的图示概述(图片由作者提供)</figcaption></figure><p id="43b4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">请点击下载社区2019链接，您的下载将开始。下载完成后，您可以像安装其他软件一样安装它。一旦你点击安装/打开，你将看到这个图像</p><figure class="ka kb kc kd fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kw"><img src="../Images/dc02efe950090a5d5df0d88f20c60784.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*epqQoI0s52bwPArvnV1WRQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">Visual Studio社区2019的安装窗口。(图片由作者提供)</figcaption></figure><p id="4bae" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">请点击可用并安装Visual Studio社区2019(我已经安装了Visual Studio社区2017)。在安装过程中，Visual Studio会提示您在没有工作负荷的情况下继续安装，或者添加工作负荷。请点击“继续”</p><figure class="ka kb kc kd fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kx"><img src="../Images/c839492873b7de79ea7ae16e295ed001.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aTXI4ZjbhDisyZTCRJsUSw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><a class="ae iu" href="https://towardsdatascience.com/installing-tensorflow-with-cuda-cudnn-and-gpu-support-on-windows-10-60693e46e781" rel="noopener" target="_blank">来源</a></figcaption></figure><p id="3646" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">安装Visual Studio后，请重新启动/重启您的电脑，这将防止<em class="ky"> Visual Studio仍在运行，并防止安装CUDA工具包的错误。</em></p><p id="95aa" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">第三步:下载适用于Windows 10的CUDA工具包</strong></p><figure class="ka kb kc kd fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kz"><img src="../Images/29fddce10462f093d1af25f8418b4d48.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ARla2x8vBnvunLrGcXsASA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">作者图片</figcaption></figure><p id="8f74" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Tensorflow ≥2.5.0需要CUDA Toolkit 11.2版本，可以通过此<a class="ae iu" href="https://developer.nvidia.com/cuda-toolkit-archive" rel="noopener ugc nofollow" target="_blank">链接</a>访问该软件</p><figure class="ka kb kc kd fd ij er es paragraph-image"><div class="er es la"><img src="../Images/e4c60ff15e7107f785ed735880020a62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1328/format:webp/1*u_QwDdvVDdjD4aH4Nrb7qQ.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">作者图片</figcaption></figure><p id="c868" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">点击CUDA工具包11.2.0，下载CUDA工具包11.2.0)。</p><figure class="ka kb kc kd fd ij er es paragraph-image"><div class="er es lb"><img src="../Images/67fcce3b10efd918101381f45e073afc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1364/format:webp/1*O7eodKgjOmuH7M4Ol66hUQ.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">作者图片</figcaption></figure><p id="99ca" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">选择您的目标平台，点击上面的红色圆圈符号，然后点击下载。</p><figure class="ka kb kc kd fd ij er es paragraph-image"><div class="er es lc"><img src="../Images/d7e019e199ca9ef36d19ebc19a3c2a52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1288/format:webp/1*5w3ms4sVlMf6RfVKULDCbg.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">作者图片</figcaption></figure><p id="2bcd" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">运行已经下载的基本安装程序将产生CUDA安装窗口，如下所示</p><figure class="ka kb kc kd fd ij er es paragraph-image"><div class="er es ld"><img src="../Images/74530eb50cbd952e4606dc8092efe4c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*n6yL5wheH9A8Bh3GYyI2Nw.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">CUDA基础安装程序的CUDA安装包。作者图片</figcaption></figure><p id="028f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">点击ok(不要改变目录)，CUDA安装程序将被解压到你的电脑上。NVIDIA CUDA Toolkit安装将开始，并显示一条确认消息。安装程序将检查您的系统是否满足要求，您将看到下面的屏幕。</p><figure class="ka kb kc kd fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es le"><img src="../Images/89b77b1ff3ccddf977ceebdbfeb9e2fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ycN2454pbwU8ZoL33kJErQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">单击快速安装选项，然后单击下一步按钮。<a class="ae iu" href="https://towardsdatascience.com/installing-tensorflow-with-cuda-cudnn-and-gpu-support-on-windows-10-60693e46e781" rel="noopener" target="_blank">来源</a></figcaption></figure><p id="8e07" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">继续点击“下一步”按钮，直到进入最后一步(完成)，然后点击“启动样品”。</p><p id="2a43" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">第五步:下载并安装cuDNN </strong></p><p id="87c8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在已经安装了CUDA 11.2，下一步就是找到cuDNN的兼容版本。Tensorflow ≥ 2.5.0需要cuDNN SDK 8.1.0版本。使用此链接访问<a class="ae iu" href="https://developer.nvidia.com/cudnn" rel="noopener ugc nofollow" target="_blank"> NVIDIA cuDNN </a>。</p><figure class="ka kb kc kd fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lf"><img src="../Images/5680f85c3d87417cabda837f8f32f673.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*APsrmlvnCHhSGMSSRixqPw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">点击下载cuDNN。作者图片</figcaption></figure><p id="08e0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您需要成为NVIDIA开发者计划的成员才能下载cuDNN(它是免费加入的)。</p><figure class="ka kb kc kd fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lg"><img src="../Images/ff5c1aafcd8bda0e5adcc535b522172b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GdzYvIpKaLnRo_84mmLIVA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">作者图片</figcaption></figure><p id="689d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">点击立即加入并填写注册表格。完成后，您将被自动带到下载页面，如下所示。</p><figure class="ka kb kc kd fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lh"><img src="../Images/2625c160872d4584e688242de29bb78c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N5iCMmAVvIDXI-pKtaIqYg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">作者图片</figcaption></figure><p id="fddd" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">点击链接并下载文件。下载文件后，请解压缩文件(请注意路径)。</p><p id="c117" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">由于CUDA依赖于cuDNN，所以您需要将一些文件从cuDNN复制到CUDA中。</p><p id="4372" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">他们是</p><ul class=""><li id="a830" class="kg kh hi ix b iy iz jc jd jg ki jk kj jo kk js kl km kn ko bi translated">cudnn64_8.dll</li><li id="5443" class="kg kh hi ix b iy kp jc kq jg kr jk ks jo kt js kl km kn ko bi translated">cudnn.h</li><li id="7f71" class="kg kh hi ix b iy kp jc kq jg kr jk ks jo kt js kl km kn ko bi translated">cudnn.lib</li></ul><p id="47b7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> 5.1 cudnn64_8.dll </strong></p><figure class="ka kb kc kd fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es li"><img src="../Images/44298bc80ab8519c5cc70adabe832ca1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GtVP2foKAC9XKZVLCefmCA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">如何定位cudnn64_8.dll文件？作者图片</figcaption></figure><p id="97a6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您需要直接从bin子文件夹路径中复制cudnn64_8.dll。bin子文件夹位于cuda中，cuda是cuDNN中的一个子文件夹。</p><p id="157f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">复制文件后，您需要将文件粘贴到CUDA文件夹下的bin子文件夹中。CUDA文件夹位于NVIDIA计算工具包内。</p><figure class="ka kb kc kd fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lj"><img src="../Images/ea42aa1191e92c24b6ef9bb033a3f27a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*42XWpx_lSRVR0pqf_-SClw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">将文件粘贴到该目录中(无需创建任何文件夹)。作者图片</figcaption></figure><h2 id="34bb" class="lk ll hi bd lm ln lo lp lq lr ls lt lu jg lv lw lx jk ly lz ma jo mb mc md me bi translated"><strong class="ak"> 5.2 cudnn.h </strong></h2><p id="1be6" class="pw-post-body-paragraph iv iw hi ix b iy mf ja jb jc mg je jf jg mh ji jj jk mi jm jn jo mj jq jr js hb bi translated">像上面所做的一样，您需要从位于cuda文件夹中的include子文件夹中复制cudnn.h。cuda文件夹位于cuDNN内部。</p><figure class="ka kb kc kd fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mk"><img src="../Images/c8734c0607c6389a7e6a26c16192c978.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mhW2oQlHRFJzf-XQMGO7IA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">复制cudnn.h文件。作者图片</figcaption></figure><p id="092e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您需要将cudnn.h复制到CUDA中的include子文件夹中。CUDA文件夹位于NVIDIA GPU计算工具包文件夹中。</p><figure class="ka kb kc kd fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ml"><img src="../Images/7f2ec6ded07cfa6852d0010cb5fd6fd2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HhLzaxvEEI9eH7QPI1pjXA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">将复制的cudnn.h文件粘贴到该文件夹中。作者图片</figcaption></figure><p id="1879" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> 5.3 cudnn.lib </strong></p><p id="0b53" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您需要从位于lib子文件夹中的x64子文件夹中复制cudnn.lib。lib子文件夹位于cuDNN内部。</p><figure class="ka kb kc kd fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mm"><img src="../Images/ddaaeb14a3c3d4d4022b74e11a236fd3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UJ53ZewYVFBRJvdlAPAd7A.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">按作者复制cudnn.lib. Image</figcaption></figure><figure class="ka kb kc kd fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mn"><img src="../Images/302a380a4c5d0b1e13855e228f80a167.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dWdATxrnZaCKz0vfoo_iDg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">将复制的cudnn.lib粘贴到CUDA内的lib子文件夹中。作者图片</figcaption></figure><p id="dd11" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">重命名cursolver64_11.dll </strong></p><p id="37e6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您需要将cusolver64_11.dll重命名为cusolver64_10.dll，否则将出现此错误<em class="ky">“无法加载动态库‘Cu solver 64 _ 10 . dll’；当您尝试利用您的GPU进行Tensorflow培训<em class="ky">时，出现d error:Cu solver 64 _ 10 . dll not found '</em>。</em></p><figure class="ka kb kc kd fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mo"><img src="../Images/40ed461ef76cd3c5819487ddc15378dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MM-v1jlb5IY13WMhsBKV5Q.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">我已经将cursolver64_11.dll重命名为cursolver64_10.dll(需要这样做)。作者图片</figcaption></figure><p id="7933" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">步骤5.3:确认在Windows中设置了CUDA环境变量</strong></p><p id="b2ab" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了使CUDA正常工作，你需要确保CUDA环境变量设置在你的PC路径中。要确认这一点，您需要检查环境变量。这可以通过以下步骤找到</p><p id="b811" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">控制面板-&gt;系统和安全-&gt;系统-&gt;高级系统设置。</p><p id="4c2a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这将打开一个窗口，单击高级选项卡。如下图所示</p><figure class="ka kb kc kd fd ij er es paragraph-image"><div class="er es mp"><img src="../Images/a42c1800fdd42964dac0654f28971681.png" data-original-src="https://miro.medium.com/v2/resize:fit:1092/format:webp/1*7WOGbl9LAE4hoSjV-9Wehg.png"/></div></figure><figure class="ka kb kc kd fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mq"><img src="../Images/ee1278c4a87a6509cf98ab706c9066a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a9zoQnDYS4vF8rofF7levw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">作者图片</figcaption></figure><blockquote class="mr ms mt"><p id="82db" class="iv iw ky ix b iy iz ja jb jc jd je jf mu jh ji jj mv jl jm jn mw jp jq jr js hb bi translated">这些路径是自动添加的，但以防您找不到它们。只需输入C:\Program Files\NVIDIA GPU计算工具包\CUDA\v11.2\bin和C:\Program Files\NVIDIA GPU计算工具包\CUDA\V11.2\libnvvp。</p></blockquote><p id="881c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">第6步:安装Python(以防你以前没有这样做过)</p><p id="43f9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我推荐用anaconda下载python，你可以用这个<a class="ae iu" href="https://www.anaconda.com/products/individual" rel="noopener ugc nofollow" target="_blank">链接</a>访问Anaconda。</p><figure class="ka kb kc kd fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mx"><img src="../Images/51bc4664782cc26b4fac05dc8a0c55a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tPfNklDtfgCD04WYkLmO_g.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">作者图片</figcaption></figure><p id="3668" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">安装anaconda非常容易，一旦你点击install，就会显示简单安装的说明。</p><p id="eb05" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">步骤7:安装Tensorflow(如果未安装)</strong></p><figure class="ka kb kc kd fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es my"><img src="../Images/8ea99d3e5bdc657e2c4c57abe99be2ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XOSPtH_X8kHdzigrKoaFJA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">打开您的终端，激活conda和pip安装TensorFlow。作者图片</figcaption></figure><p id="c288" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">步骤8:测试TensorFlow的安装及其对GPU的访问</strong></p><p id="840d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">打开终端(命令提示符)，键入conda activate，然后键入python(进入python交互模式)</p><blockquote class="mr ms mt"><p id="be28" class="iv iw ky ix b iy iz ja jb jc jd je jf mu jh ji jj mv jl jm jn mw jp jq jr js hb bi translated">#导入tensorflow包</p><p id="6d15" class="iv iw ky ix b iy iz ja jb jc jd je jf mu jh ji jj mv jl jm jn mw jp jq jr js hb bi translated">将张量流作为tf导入</p></blockquote><p id="48af" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">运行此代码来测试您的Tensorflow安装对CUDA的支持，</p><blockquote class="mr ms mt"><p id="f3c9" class="iv iw ky ix b iy iz ja jb jc jd je jf mu jh ji jj mv jl jm jn mw jp jq jr js hb bi translated">TF . test . is _ build _ with _ cuda()</p></blockquote><p id="f619" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">要确认Tensorflow可以访问系统上的GPU，可以使用以下代码进行测试</p><blockquote class="mr ms mt"><p id="b358" class="iv iw ky ix b iy iz ja jb jc jd je jf mu jh ji jj mv jl jm jn mw jp jq jr js hb bi translated">TF . test . is _ GPU _ available(cuda _ only = False，min _ cuda _ compute _ capability = None</p></blockquote><p id="fae7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">几分钟后它将返回<strong class="ix hj"> <em class="ky">真</em> </strong>。</p><figure class="ka kb kc kd fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mz"><img src="../Images/cfa73191fafe69fb48b51644c61d1fd0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8_5CGSDzNjZfaY8gk-9Z7g.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">作者图片</figcaption></figure><p id="f1d2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">可选步骤</strong></p><p id="3477" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您可能会遇到此错误“未创建XLA设备，未设置tf_xla_enable_xla_devices”。XLA有助于加快对GPU的训练，以设置tf_xla_enable_xla_devices你可以按照这个步骤</p><figure class="ka kb kc kd fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es na"><img src="../Images/b93d4259168f67f0fde2bde39f4abcc3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eTRMU4v-Q6a7MijWDkaPUQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">作者图片</figcaption></figure><p id="10b1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">导航到环境变量，导航到系统变量，然后单击新建按钮。如上所示填写变量名和变量值。</p><p id="814c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">结论</strong></p><p id="8d65" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这篇文章旨在建立在乔安妮·麦显杰博士的这篇旧文章的基础上，并提供在windows上正确安装支持NVIDIA CUDA、cuDNN和GPU的TensorFlow的更新说明。我可能会在下一篇文章中写如何在Linux Ubuntu发行版上安装CUDA、cuDNN和GPU。感谢阅读到这一点，请订阅我的通讯，以尽早获得我的文章。</p><p id="6905" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">参考文献</strong></p><ul class=""><li id="87b4" class="kg kh hi ix b iy iz jc jd jg ki jk kj jo kk js kl km kn ko bi translated"><a class="ae iu" href="https://towardsdatascience.com/installing-tensorflow-with-cuda-cudnn-and-gpu-support-on-windows-10-60693e46e781" rel="noopener" target="_blank">https://towards data science . com/installing-tensorflow-with-cuda-cud nn-and-GPU-support-on-windows-10-60693 e46e 781</a>(启发了这篇文章，并作为安装tensor flow的指南)</li><li id="c0cb" class="kg kh hi ix b iy kp jc kq jg kr jk ks jo kt js kl km kn ko bi translated"><a class="ae iu" href="https://stackoverflow.com/questions/65608713/tensorflow-gpu-could-not-load-dynamic-library-cusolver64-10-dll-dlerror-cuso" rel="noopener ugc nofollow" target="_blank"> Python — Tensorflow GPU无法加载动态库“Cu solver 64 _ 10 . dll”；dlerror:找不到Cu solver 64 _ 10 . dll—堆栈溢出</a></li><li id="5f1e" class="kg kh hi ix b iy kp jc kq jg kr jk ks jo kt js kl km kn ko bi translated"><a class="ae iu" href="https://github.com/tensorflow/tensorflow/issues/44683" rel="noopener ugc nofollow" target="_blank">cuda _安装</a></li></ul></div></div>    
</body>
</html>