<html>
<head>
<title>Feature Engineering with Hitters Dataset</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Hitters数据集的特征工程</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/feature-engineering-with-hitters-dataset-1a992daf13fa?source=collection_archive---------3-----------------------#2021-07-10">https://medium.com/analytics-vidhya/feature-engineering-with-hitters-dataset-1a992daf13fa?source=collection_archive---------3-----------------------#2021-07-10</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="ddc7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> <em class="jc">端到端的机器学习项目。</em>T3】</strong></p><p id="a8f6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">你好，<br/>在本文中，我将展示我在Hitters数据集上进行的特征工程步骤。我将讨论我们在创建功能时考虑哪些信息，以及我们更喜欢哪些应用程序。由于我做的一些决定可能会因项目而异，所以我没有分享每个阶段的相关代码。我将分享与特性工程相关的代码，这是我们的主要关注点。这个项目的主要目标是做一个端到端的机器学习项目，经过特征工程和预处理，可以预测球员的工资。</p><p id="cc05" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">击球手数据集包括在1986-1987赛季打球的球员的各种统计数据。数据集由20个变量和322个观察值组成，只有工资变量有缺失的观察值。数据集变量的定义如下:</p><p id="a317" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">球棒:在1986-1987赛季中用球棒击球的次数</p><p id="457f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">点击率:1986-1987赛季的点击率</p><p id="f9fe" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">HmRun:1986-1987赛季最有价值的热门歌曲</p><p id="4f81" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">得分:他在1986-1987赛季为他的球队赢得的分数</p><p id="7d0b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">打点:击球手在赛季中击球时慢跑的人数</p><p id="3c6e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">保送:对方球员的失误次数</p><p id="ec70" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">年数:球员在大联盟的上场时间(以年为单位)</p><p id="68f3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">棒球棍:职业生涯中用棒球棍击球的次数</p><p id="deae" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">CHits:职业生涯中的点击次数</p><p id="33f7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">CHmRun:职业生涯中最有价值的安打</p><p id="66d4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">克伦斯:他在职业生涯中为他的球队赢得的积分</p><p id="c4a2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">CRBI:击球手职业生涯中击球时慢跑的人数</p><p id="8fc8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">CWalks:对方球员在职业生涯中犯的错误数</p><p id="1564" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">联赛:有A级和N级的因素，显示球员在赛季结束前所参加的联赛</p><p id="17b6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">分区:一个E级和W级的系数，表示球员在1986年底的位置</p><p id="7180" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">输出:在游戏中帮助你的队友</p><p id="01b6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">助攻数:球员在1986-1987赛季中的助攻数</p><p id="c0a9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">失误:球员在1986-1987赛季的失误</p><p id="ea00" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">薪水:球员在1986-1987赛季的薪水(以千计)</p><p id="746d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">新联盟:在1987赛季开始时显示球员联盟的A级和N级因子</p><p id="3f1d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">首先，我将谈论我通过相互比较数值变量而获得的特征。在此过程中需要考虑的一点是，通过在最小值为0的数值变量上加1来防止出现na或inf值。在这个过程之后，我们可以将数值变量相互划分。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/e286b7b48e26840328f255d34327ef23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1340/0*Bs2HiivueYwyLGT7"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">数字变量的分位数</figcaption></figure><p id="fa93" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">第一组功能是计算相关赛季占整个职业生涯的比例。我们通过对上面定义的变量进行比例分配来获得它。我们试图创造新类型的球员。跑步者类型的球员通过准确的投篮完成跑步，让他在场上的朋友得分。另一方面,“打了就跑”代表的是那些在准确命中后可以进入下一阶段的运动员。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jp"><img src="../Images/17454abf25e7c1aba6f3dc482ca668f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hcaoEN1NNMivrAapSHPZqg.jpeg"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">运动员必须通过所有的垒来完成比赛</figcaption></figure><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="jq jr l"/></div></figure><p id="bc21" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">第二组特征由按年划分的职业统计数据组成。我们期望年平均收入高的球员能拿到高薪。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="jq jr l"/></div></figure><p id="7bba" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">第三组特征是基于玩家的游戏年限来对他们进行分级。我们将玩了2年或更短时间的玩家命名为初级玩家，2到5年的玩家命名为中级玩家，玩了5到10年的玩家命名为高级玩家，玩了10年以上的玩家命名为专家玩家。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="jq jr l"/></div></figure><p id="9cce" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们根据第四个功能组所在的部门和年份为其命名。e分区代表东，W分区代表西。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="jq jr l"/></div></figure><p id="8f8e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">第五个特征组是关于球员在下一个赛季打哪个联赛。以A为代表的美国联赛，通常被称为少年巡回赛。以N为代表的全国联赛，被称为高级巡回赛。两个联赛的冠军正在进行决赛。在这个小组中，我们代表了那些在第一个赛季参加了甲A联赛，并在接下来的赛季中与Ascend一起参加了N联赛的人。我们叫了相反血统的选手。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="jq jr l"/></div></figure><p id="0147" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在最后一组特征中，有各种相互关联的多个变量的比率。这组特征来自相关季节的变量。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="jq jr l"/></div></figure><p id="cfd0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在预处理阶段，我们抑制了异常值。在此过程中，我们的首选范围是将值保持在数据的1%到99%之间，并根据这些值抑制异常值。我们保持较低的间隔，因为我们的数据集中的观察数量很少。我们为分类变量执行了标签、序号和一个热编码转换。为了填充缺失值，我们用knnImputer填充缺失值，并用robust-scaler缩放数据。我们没有调整我们的目标变量——薪水，因为我们想根据RMSE来比较价值。最后，我们建立了多元线性回归模型。我们找到了测试数据集的RMSE和R平方值(R平方:0.6506，RMSE:268.4507)。</p><p id="7447" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">最后，我们设法拥有了比原始变量更重要的变量。下面你可以找到重要性图表。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="er es js"><img src="../Images/08fed2b37b21668d1a74cbe0a4db0bfb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n_i7iRQrqKpb0DxlDivT-A.png"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">特征重要性图。</figcaption></figure><p id="f174" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">参考资料:</p><p id="1c39" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">[1]:<a class="ae jx" href="https://bootcamp.veribilimiokulu.com/egitim/veri-bilimci-yetistirme-programi/" rel="noopener ugc nofollow" target="_blank">https://boot camp . veribilimokulu . com/egi Tim/veri-bili MCI-yetistirme-programi/</a></p><p id="1143" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">[2]:<a class="ae jx" href="https://www.mlb.com/glossary" rel="noopener ugc nofollow" target="_blank">https://www.mlb.com/glossary</a></p><p id="5a1c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">【3】:【https://en.wikipedia.org/wiki/Baseball_statistics T2】</p></div></div>    
</body>
</html>