<html>
<head>
<title>Analysis of Brazilian E-commerce Text Reviews Dataset Using NLP and Google Translate</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用NLP和Google Translate分析巴西电子商务文本评论数据集</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/analysis-of-brazilian-e-commerce-text-reviews-dataset-using-nlp-and-google-translate-c8b6238d6bb1?source=collection_archive---------14-----------------------#2021-01-31">https://medium.com/analytics-vidhya/analysis-of-brazilian-e-commerce-text-reviews-dataset-using-nlp-and-google-translate-c8b6238d6bb1?source=collection_archive---------14-----------------------#2021-01-31</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="f042" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">翻译、分析和可视化文本数据，以获取有用的见解</h2></div><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es iw"><img src="../Images/ac5f5968da1afc41dd0150df49c8a277.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VL55r2vBzzaOdGlpS091ag.jpeg"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx translated">阿拉娜·哈里斯在<a class="ae jm" href="https://unsplash.com/s/visual/28364792-49b7-47e8-9e7a-7e7313f6dd83?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h1 id="b20f" class="jn jo hh bd jp jq jr js jt ju jv jw jx in jy io jz iq ka ir kb it kc iu kd ke bi translated">介绍</h1><p id="28b5" class="pw-post-body-paragraph kf kg hh kh b ki kj ii kk kl km il kn ko kp kq kr ks kt ku kv kw kx ky kz la ha bi translated">理解顾客的评论对企业的成功至关重要。分析评论有助于正确辨别顾客不同的偏好、喜好、厌恶等。这些提取的见解可用于改善客户服务和体验。</p><p id="4d2b" class="pw-post-body-paragraph kf kg hh kh b ki lb ii kk kl lc il kn ko ld kq kr ks le ku kv kw lf ky kz la ha bi translated">在本文中，我们将处理巴西电子商务评论数据集，在该数据集上，我们将对评论文本执行一些探索性数据分析(EDA)，从我们的分析中获得有意义的见解，然后将我们的输出从葡萄牙语翻译成英语，以便更好、更容易理解。</p><h1 id="b712" class="jn jo hh bd jp jq jr js jt ju jv jw jx in jy io jz iq ka ir kb it kc iu kd ke bi translated">数据集描述</h1><p id="a7fc" class="pw-post-body-paragraph kf kg hh kh b ki kj ii kk kl km il kn ko kp kq kr ks kt ku kv kw kx ky kz la ha bi translated">这个数据集取自Kaggle，由巴西的Olist在线商店慷慨提供。这里是<a class="ae jm" href="https://www.kaggle.com/olistbr/brazilian-ecommerce" rel="noopener ugc nofollow" target="_blank">数据集</a>的链接。</p><p id="1f5b" class="pw-post-body-paragraph kf kg hh kh b ki lb ii kk kl lc il kn ko ld kq kr ks le ku kv kw lf ky kz la ha bi translated">这个Kaggle项目有多个数据集，包含不同的字段，如订单、支付、地理位置、产品、产品类别等。但是我们将只关注文本评论数据集来进行分析。评论数据集有100，000个数据点，去掉NaN值后，剩下40，000个评论，足以进行分析。一些评论有标题，所有的评论都有分数，所以我们也必须考虑这些。</p><h1 id="5aae" class="jn jo hh bd jp jq jr js jt ju jv jw jx in jy io jz iq ka ir kb it kc iu kd ke bi translated">方法学</h1><h1 id="dfb9" class="jn jo hh bd jp jq jr js jt ju jv jw jx in jy io jz iq ka ir kb it kc iu kd ke bi translated">安装和导入库</h1><p id="42d6" class="pw-post-body-paragraph kf kg hh kh b ki kj ii kk kl km il kn ko kp kq kr ks kt ku kv kw kx ky kz la ha bi translated">首先，我们必须为我们的自然语言处理导入重要的库(如pandas、numpy和matplotlib)和NLTK工具。</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lg lh l"/></div></figure><p id="fee6" class="pw-post-body-paragraph kf kg hh kh b ki lb ii kk kl lc il kn ko ld kq kr ks le ku kv kw lf ky kz la ha bi translated">对于我们的语言翻译，我们需要安装谷歌翻译API。我最初在使用原始API时遇到了一些错误，但几天前我找到了一个名为“Google_trans_new”的工作版本，有效地解决了这个问题。可以访问<a class="ae jm" href="https://github.com/lushan88a/google_trans_new" rel="noopener ugc nofollow" target="_blank">这里</a>了解更多。</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lg lh l"/></div></figure><p id="c127" class="pw-post-body-paragraph kf kg hh kh b ki lb ii kk kl lc il kn ko ld kq kr ks le ku kv kw lf ky kz la ha bi translated">如果您尚未安装它，请继续安装，因为我们稍后的翻译会用到它。从上图中，我们可以看到这个翻译API支持的语言列表。目前，我们只对葡萄牙语和英语感兴趣。让我们快速运行一个例子；</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lg lh l"/></div></figure><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es li"><img src="../Images/247aeb17ffb74c2589c7455e278d6fb2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*TJSDQWT5Z-PUWMHW.png"/></div></div></figure><p id="d213" class="pw-post-body-paragraph kf kg hh kh b ki lb ii kk kl lc il kn ko ld kq kr ks le ku kv kw lf ky kz la ha bi translated">我们可以看到我们的葡萄牙语文本是如何翻译的，我们可以决定翻译成该API支持的任何其他语言。</p><h1 id="bcca" class="jn jo hh bd jp jq jr js jt ju jv jw jx in jy io jz iq ka ir kb it kc iu kd ke bi translated">数据预处理</h1><p id="50f2" class="pw-post-body-paragraph kf kg hh kh b ki kj ii kk kl km il kn ko kp kq kr ks kt ku kv kw kx ky kz la ha bi translated">接下来，我们将读入数据，并执行一些初始EDA和数据集修改。</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lg lh l"/></div></figure><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es lj"><img src="../Images/50006fe3683e55888a3dd484503c1e05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*JRp_kSH-XGJ7ZCI3.png"/></div></div></figure><p id="c139" class="pw-post-body-paragraph kf kg hh kh b ki lb ii kk kl lc il kn ko ld kq kr ks le ku kv kw lf ky kz la ha bi translated">评论数据集在评论文本和评论标题中有大量的NaN值，因此我们将确保删除那些丢失的值并重置索引。</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lg lh l"/></div></figure><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es lk"><img src="../Images/f623d3fed54d0c61c806d2463b3a69c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*95kgl5cUm_gFJhXL.png"/></div></div></figure><p id="cbac" class="pw-post-body-paragraph kf kg hh kh b ki lb ii kk kl lc il kn ko ld kq kr ks le ku kv kw lf ky kz la ha bi translated">就像正常的日常NLP任务一样，我们需要实现一些必要的预处理步骤，包括:通过删除停用词、使用正则表达式模块仅接受字母、对文本进行标记以及使所有单词小写以保持一致性来转换评论数据。在这种情况下，我们必须删除葡萄牙语停用词。</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lg lh l"/></div></figure><h1 id="725c" class="jn jo hh bd jp jq jr js jt ju jv jw jx in jy io jz iq ka ir kb it kc iu kd ke bi translated">数据可视化</h1><p id="19f1" class="pw-post-body-paragraph kf kg hh kh b ki kj ii kk kl km il kn ko kp kq kr ks kt ku kv kw kx ky kz la ha bi translated">在我们的数据预处理之后，是时候使用Wordclouds可视化我们的评论文本了。单词云是相关文本数据的可视化表示，它通过字体大小显示单词的重要性。</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lg lh l"/></div></figure><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es ll"><img src="../Images/4a5f4854190548714a3a5ada1d067c16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*EyHcT3qZZ5Y7Gzo1.png"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx translated">WordCloud显示评论文本中单词重要性</figcaption></figure><p id="1019" class="pw-post-body-paragraph kf kg hh kh b ki lb ii kk kl lc il kn ko ld kq kr ks le ku kv kw lf ky kz la ha bi translated">上面的单词云显示了葡萄牙语中最常见的单词，如果你不懂葡萄牙语，这没有多大意义，所以我们需要将这些单词翻译成英语。此时，Countvectorizer用于获取最重要的单字(一个单词)、双字(两个单词)和三元字(三个单词)。下面是代码和图像显示三元模型和各自的英文翻译。要获得单字和双字，分别替换<em class="lm"> ngram_range =(1，1)和(2，2) </em>。</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lg lh l"/></div></figure><figure class="ix iy iz ja fd jb er es paragraph-image"><div class="er es ln"><img src="../Images/43caeed677524e5531d7c931d0dded9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/0*UMlBJtzdp2o9cRrl.png"/></div></figure><p id="4b5a" class="pw-post-body-paragraph kf kg hh kh b ki lb ii kk kl lc il kn ko ld kq kr ks le ku kv kw lf ky kz la ha bi translated">从得到的单字母词、双字母词和三字母词中，我们可以有把握地推断出大多数顾客对送货服务感到满意，还有一些顾客对产品质量感到满意。</p><p id="43d0" class="pw-post-body-paragraph kf kg hh kh b ki lb ii kk kl lc il kn ko ld kq kr ks le ku kv kw lf ky kz la ha bi translated">类似的预处理步骤也应用于评论标题栏，并使用Wordcloud来可视化这些标题。</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lg lh l"/></div></figure><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es ll"><img src="../Images/3db2272a53a460043d1d50e780682d40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*LeYnjxMSaXHpXqKR.png"/></div></div></figure><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lg lh l"/></div></figure><figure class="ix iy iz ja fd jb er es paragraph-image"><div class="er es lo"><img src="../Images/30afb653375742b78e321c4a1787a3b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:930/format:webp/0*3LGl0ycklELWS6-F.png"/></div></figure><p id="544a" class="pw-post-body-paragraph kf kg hh kh b ki lb ii kk kl lc il kn ko ld kq kr ks le ku kv kw lf ky kz la ha bi translated">在reviews标题列上执行类似的操作，我们能够更好地理解不满意的客户的不满意的评论。这些评论包括:获得不完整的交货，没有收到订购的货物，交货延迟，交货质量低，收到错误/有缺陷的产品。到目前为止，这些是不满意的客户的主要抱怨，但我们也看到了其他客户的高度满意度。</p><p id="6883" class="pw-post-body-paragraph kf kg hh kh b ki lb ii kk kl lc il kn ko ld kq kr ks le ku kv kw lf ky kz la ha bi translated">为了进一步了解给出低/高评价分数的客户和给出评价的客户之间的关系，我们需要做一个显示这些数字的计数图；</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es lp"><img src="../Images/6cfa94d4f5bbc72ac969cea284c2212a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*L7lbKUMn4ZyJ4Cuv.png"/></div></div></figure><p id="5652" class="pw-post-body-paragraph kf kg hh kh b ki lb ii kk kl lc il kn ko ld kq kr ks le ku kv kw lf ky kz la ha bi translated">我们可以注意到，大约36%的5星评论者给出了评论，而79%的1星评论者给出了评论，因此当客户不高兴时，他/她更有可能给出评论。</p><p id="9485" class="pw-post-body-paragraph kf kg hh kh b ki lb ii kk kl lc il kn ko ld kq kr ks le ku kv kw lf ky kz la ha bi translated">我们也来看看平均每篇评论的字数；</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lg lh l"/></div></figure><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es lq"><img src="../Images/df79b8868e43e9ec25c664da41d80e38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ipwCx94Z25aMw_MC.png"/></div></div></figure><h1 id="2e9e" class="jn jo hh bd jp jq jr js jt ju jv jw jx in jy io jz iq ka ir kb it kc iu kd ke bi translated">结论</h1><p id="d550" class="pw-post-body-paragraph kf kg hh kh b ki kj ii kk kl km il kn ko kp kq kr ks kt ku kv kw kx ky kz la ha bi translated">到目前为止，我们已经能够对客户的文本评论进行分析，我们已经看到了一些客户提出的不满意的评论。现在，数据科学家/分析师需要找出确保这些问题得到解决的最佳方法。</p><p id="19d6" class="pw-post-body-paragraph kf kg hh kh b ki lb ii kk kl lc il kn ko ld kq kr ks le ku kv kw lf ky kz la ha bi translated">在这篇文章的结尾，我相信你知道如何能够实现基本的文本可视化，并且能够使用Google Translate API将文本语言转换成你喜欢的语言。还有其他许多想法可以在这个数据集上实现，如情感分析和主题建模，这些也在我的笔记本中涉及。完整的Github笔记本可以在<a class="ae jm" href="https://github.com/Johnne32/Sample/blob/main/Brazilian%20reviews%20analysis.ipynb" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><p id="b88b" class="pw-post-body-paragraph kf kg hh kh b ki lb ii kk kl lc il kn ko ld kq kr ks le ku kv kw lf ky kz la ha bi translated">快乐学习！</p></div></div>    
</body>
</html>