<html>
<head>
<title>E-Commerce Data: Exploratory Data Analysis (EDA)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">电子商务数据:探索性数据分析(EDA)</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/e-commerce-data-exploratory-data-analysis-eda-99b17cf53765?source=collection_archive---------4-----------------------#2021-01-18">https://medium.com/analytics-vidhya/e-commerce-data-exploratory-data-analysis-eda-99b17cf53765?source=collection_archive---------4-----------------------#2021-01-18</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="73ee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本文中，我将使用电子商务数据来进行EDA数据分析的第一步，也是最重要的一步，因此我们将从我的经验和研究中获得的角度来看这个数据结构。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/b5e71fd21191eed350a72d0a38991b6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*rI1yxQeOli3aJryt.jpg"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">电子商务-(来自Mobil13.com)</figcaption></figure><h1 id="2a25" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated"><strong class="ak">首先，什么是EDA？</strong></h1><p id="1306" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">EDA或探索性数据分析是数据分析的初步步骤，旨在总结数据的主要特征，更好地理解数据，揭示变量之间的关系，并看到数据中的重要变量。</p><p id="2fc7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">简而言之，查看数据并尝试从中提取尽可能多的意义是一种很好的做法。</p><h1 id="1576" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">电子商务数据</h1><p id="0cb1" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">为了分享我对我所知道的概念和技术的看法，我使用了UCI机器学习库中以“在线零售”为标题的位于英国的国际数据集，其中包括2010年1月12日至2011年9月12日之间发生的所有交易。我直接从Kaggle访问了这个数据集。您也可以访问下面的链接:</p><div class="kw kx ez fb ky kz"><a href="https://www.kaggle.com/carrie1/ecommerce-data" rel="noopener  ugc nofollow" target="_blank"><div class="la ab dw"><div class="lb ab lc cl cj ld"><h2 class="bd hj fi z dy le ea eb lf ed ef hh bi translated">电子商务数据</h2><div class="lg l"><h3 class="bd b fi z dy le ea eb lf ed ef dx translated">英国零售商的实际交易</h3></div><div class="lh l"><p class="bd b fp z dy le ea eb lf ed ef dx translated">www.kaggle.com</p></div></div><div class="li l"><div class="lj l lk ll lm li ln jn kz"/></div></div></a></div><h1 id="aa83" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">EDA的步骤</h1><ol class=""><li id="feab" class="lo lp hi ih b ii kr im ks iq lq iu lr iy ls jc lt lu lv lw bi translated">描述统计学</li><li id="d351" class="lo lp hi ih b ii lx im ly iq lz iu ma iy mb jc lt lu lv lw bi translated">缺少值</li><li id="24b0" class="lo lp hi ih b ii lx im ly iq lz iu ma iy mb jc lt lu lv lw bi translated">分组数据</li><li id="dc0c" class="lo lp hi ih b ii lx im ly iq lz iu ma iy mb jc lt lu lv lw bi translated">离群点检测</li><li id="39cd" class="lo lp hi ih b ii lx im ly iq lz iu ma iy mb jc lt lu lv lw bi translated">相关</li></ol><p id="ecfc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">导入Pandas、NumPy和可视化所需的所有库(Seaborn、Matplotlib、Missingno等。)从Python库中，我们可以导入数据。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mc"><img src="../Images/3d0d417cd4bd3a93c6a729fa75e0c8c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ewIXtO2C6VdlJTASxhf0FQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">数据导入</figcaption></figure><p id="a6b8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当我们用不同的(重音符号等)导入CSV格式的数据时。)Python中的字符我们应该使用编码。这就是为什么encode被用来将字符串转换成字节串，以便能够在程序中传递非ASCII数据。</p><blockquote class="md me mf"><p id="2f1a" class="if ig mg ih b ii ij ik il im in io ip mh ir is it mi iv iw ix mj iz ja jb jc hb bi translated">“当您通过internet/网络传输数据时，信息是作为原始字节传输的。非ascii字符不能用一个字节来表示，所以我们需要一种特殊的表示方式(比如“ISO-8859–1”)。</p></blockquote><h2 id="e839" class="mk ju hi bd jv ml mm mn jz mo mp mq kd iq mr ms kh iu mt mu kl iy mv mw kp mx bi translated"><strong class="ak">描述性统计</strong></h2><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mc"><img src="../Images/e1ad4c07d0a86ca112c2512858b09a2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SckESmffJUU2e8YLguQiyQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">使用data.info()查看数据内容</figcaption></figure><p id="6950" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，我想用info()查看数据的内容。</p><p id="8f0a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">数据中有541909个条目和8列。并且这些特征中的大多数是分类变量类型。由于CustomerID是以数字形式给出的，因此它将被转换为“int64”。InvoiceDate将被转换为日期时间。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es my"><img src="../Images/63c8216d5c43b6e3b5419b1dafc542f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SrOqoFOOffcwAFHKW6nrmA.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">使用data.describe()查看描述性统计数据</figcaption></figure><p id="b227" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以从count列中看到每个特性是否有大量的缺失值。正如我们所看到的，有些特性缺少值。查看唯一值，它将显示为熊猫的NaN描述的分类值。</p><p id="54e4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们看到在量上有一个负值作为min，后面，我们再分析。</p><h2 id="0669" class="mk ju hi bd jv ml mm mn jz mo mp mq kd iq mr ms kh iu mt mu kl iy mv mw kp mx bi translated">丢失值的处理</h2><p id="ec8b" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">我们可以使用可视化来查看丢失的值，但是可视化不足以看到全局。可能会有看不到的遗漏变量，这些也需要考察。在可视化缺失数据后，我们需要做的第一件事是对缺失数据进行分类。对缺失变量进行分类将是处理它们的指南。</p><blockquote class="md me mf"><p id="dcc0" class="if ig mg ih b ii ij ik il im in io ip mh ir is it mi iv iw ix mj iz ja jb jc hb bi translated">缺失数据分为完全随机缺失(MCAR)、随机缺失(MAR)和非随机缺失(MNAR)。</p></blockquote><p id="1d95" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">换句话说，缺失变量可能是随机形成的，不依赖于任何其他变量的值，或者是半随机的，依赖于一些或主要依赖于其他变量。</p><p id="7514" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这里，我们可以使用missingno库，或者我们可以将每列数据可视化为箱线图，以发现异常值，或者我们也可以使用热图，通过突出显示缺失数据来可视化我们的数据。此外，有许多方法来处理缺失值，我们使用的技术取决于我们的数据集和上下文。</p><p id="c715" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里我用msno.bar做了一个可视化</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mz"><img src="../Images/085f16e9a451412ff82df1f569f07dba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c5Ldiw6HlQbDmch-WcakHA.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">缺失变量的可视化</figcaption></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es na"><img src="../Images/df9f2605f5406b30e9b01a0136d10e37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iKOR_sNC56h3nrJfNTCnjw.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">缺失变量的分布</figcaption></figure><p id="cda7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">24.9 %的客户是未知的。此外，我们还有0.3 %的遗漏描述。我们需要获得关于那件事的进一步信息。</p><p id="13d7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">除了描述中缺失的数据，我们还会查看客户id中是否有缺失的数据。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es nb"><img src="../Images/0547333c0f8199212a5485aa58078a04.png" data-original-src="https://miro.medium.com/v2/resize:fit:640/format:webp/1*x0Q3D26QNH9PXcTCYtx4bg.jpeg"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">产品描述中缺失数据的数量出现在两个变量中</figcaption></figure><p id="667d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在缺少产品描述的情况下，客户和单价总是会丢失。</p><p id="6c30" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">处理这些似乎是不可能的，所以把它从数据中去掉更有意义。</p><p id="5932" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们看看我们是否隐藏了nan值？</p><p id="735b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们没有找到NaN值，而是找到了隐藏的缺失值(显示字符串“missing”和“？”).我们把他们变成了NaN。我们丢弃了这些数据，因为我们不知道为什么描述丢失了(客户id也丢失了)。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es nc"><img src="../Images/a6b9f728ecf34e087961dc841d276b8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JuYmKEV9ExEJAYDAS1OsCw.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">隐藏描述中缺少的值</figcaption></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es nc"><img src="../Images/8dbe0a09293416818b2460c7d1fc15a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9wfnEvkQwXxHoqnzg-8dhw.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">隐藏描述中缺少的值</figcaption></figure><h2 id="055c" class="mk ju hi bd jv ml mm mn jz mo mp mq kd iq mr ms kh iu mt mu kl iy mv mw kp mx bi translated"><strong class="ak">分组数据</strong></h2><p id="1769" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">使用“分组”方法，我们可以将数据分成不同的类别。通过根据一个或多个变量对数据进行分组，我们可以对单个组进行分析。</p><p id="55c3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">除了我所加的例子，还可以利用我们的创造力和电子商务知识进一步成倍增加和发展。甚至可以进行有趣的观察。</p><p id="f2b1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们继续吧！</p><p id="a9d7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在将名为InovoiceDate的列转换为日期时间格式后，我们创建了年、月和日格式的新列，以便我们可以在分组时使用这些列。</p><p id="5a1b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以在下图中看到分组示例和可视化效果。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es nc"><img src="../Images/4fd680eeb44b012c36cf48a674fec358.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P7hK24ENVlh9zrUbipDT5w.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">按年份和月份分组统计发票编号</figcaption></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es nd"><img src="../Images/6b8ef45e9af60d61cbde07e8e6f563b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*g1xZ61ne6yUQmlUt.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">按月列出的交易数量</figcaption></figure><p id="fe75" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最高交易数量发生在2011年11月。</p><p id="b939" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果我们在日列上使用“groupby”并计算发票号，我们可以制作一个如下图所示的可视化图形。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ne"><img src="../Images/0c601930fe7753f61f1c4f29c187f437.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ZznNgobZbF8Ix9sm.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">按天计算的交易数量</figcaption></figure><p id="9fd8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从这里可以看出，最高成交数发生在周四。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es nf"><img src="../Images/d2e5770f66c4c9a415c5db6ecc86ba34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1268/format:webp/0*tTuYHOHPdWnEI1Aa.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">国家的交易数量</figcaption></figure><p id="b773" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这里，我们也可以看到哪个国家在“groupby”的帮助下进行了最多的交易。</p><p id="f831" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">同样，我们可以根据国家、总收入、取消订单率等进行比较。</p><p id="ab29" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">根据客户id和发票号，我们可以看到购买或退货的金额。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ng"><img src="../Images/9efb908d04dfbe281b394de78fc1ee90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cP6KWZvE1ALOLuwI4WJmxw.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">按客户id和发票号分组合计数量</figcaption></figure><p id="6cff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">发票号中既有数值，也有以C开头的值。我认为以C开头的交易意味着退货交易，相应的数量值将为负。因此，我创建了一个名为Canceled_orders的列，并观察数量值。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es nh"><img src="../Images/b563911636b6842c10f31ae3c226db41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3ftbL3eE_bb44S_YXs4CUg.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">取消订单列的创建</figcaption></figure><p id="00ab" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如我们在这里看到的，退货交易的值以C开头，金额值变为负值。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ni"><img src="../Images/ce2f25ad2cdb650a52b83f01a8927f92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5695-zZ5ewDWVUNzv7_LAA.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">总分配</figcaption></figure><p id="f6a3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果我们从大的方面来看，客户、产品、订单和退货的总数如左图所示。</p><p id="7dc2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我将产品数量和单价相乘，得出总收益。然后就可以按照客户分组，分析哪个客户消费最多，退货最多。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es nh"><img src="../Images/ff3e81657f11ea3f6c626c3fc36e8649.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ncoUDZiysovDYCPfELrvrA.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">寻找总收入</figcaption></figure><p id="0d2b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当我检查单价时，我看到值为0，并认为这些是给客户的礼物。我通过包含产品描述进行了分组，结果如图所示。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es nj"><img src="../Images/a2411f49642d222b3956f6b3e546639f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_a6LzTh1emQAQhUIzDHoZg.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">零单价产品的检验</figcaption></figure><p id="65be" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">虽然我不是100%确定，但我认为描述显示产品是作为礼物赠送的。我现在不考虑产品的单价。然后我们可以在异常值分析中检查它。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es nk"><img src="../Images/15fd54184a06c473ee073fd80c020423.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-fNqxYHQHbJsVxA5pRbYMQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">定义中不同句子形式的相同表述</figcaption></figure><p id="9845" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如我们在这里看到的，同一股票代码有多个定义。</p><p id="c456" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当我们查看它们时，我们看到相同的定义以不同的句子形式输入，这增加了定义的多样性。这些也需要修复。</p><h2 id="11e3" class="mk ju hi bd jv ml mm mn jz mo mp mq kd iq mr ms kh iu mt mu kl iy mv mw kp mx bi translated"><strong class="ak">异常值检测</strong></h2><p id="c415" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">分析数据集中的离群值，主要是为了验证数据是否有意义，用正确的视角看数据集。异常值可能是由数据收集过程中的错误引起的，或者可能表明数据中存在差异。</p><p id="2102" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以将不同的特征(一个变量异常值分析)绘制成箱线图或另一个特征(多个变量异常值分析)的函数，如目标变量。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es nl"><img src="../Images/108b82e99284ab946a6011b2f9b8bace.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*y4GkpRx2MopJyYGv.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">显示异常值的箱线图</figcaption></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es nm"><img src="../Images/ed1a2c93e71bfa1ab10c419e23b96293.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uGTqgCUwsVD2AnlMjDp83Q.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">详细检查三个特征</figcaption></figure><p id="eba8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们已经看到产品单价为0的值。当我们查看单价的最小值和最大值时，我们可以看到有极端的异常值。</p><p id="73ae" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">大多数产品以2至12件的数量出售(% 25%至75%)。同样，当我们查看数量最小值和最大值时，我们可以看到存在极端的异常值。</p><p id="24d5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这里，我们可以使用硬边方法看到异常值，因此我们不包括显示极端异常值的值。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es nn"><img src="../Images/2e587a0acabc79c3027b7408a551931d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IPCNFC95PO8tpsv6OYjKBg.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">硬边缘法异常检测</figcaption></figure><p id="66e7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将高于99%和低于1%的值视为异常值的方法称为硬边。</p><p id="6d27" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以在图中的UnitPrice和TotalPrice列中看到异常值的数量。由于这些值太多，删除或更改这些变量可能不符合逻辑。</p><p id="a8c3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">对数变换</strong></p><p id="aa1a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用对数变换，我们可以为具有非常宽的数据范围的变量获得更宽的冲程角度。</p><div class="je jf jg jh fd ab cb"><figure class="no ji np nq nr ns nt paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><img src="../Images/695223ba1c943a181db8e3768dfcbe10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/0*r6o8qHvcrjhVaBj9.png"/></div></figure><figure class="no ji nu nq nr ns nt paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><img src="../Images/5ec653b457424ed321f13126aca61ca1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/0*VJEw_S2beve7yTKa.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx nv di nw nx translated">取对数的两个变量的可视化</figcaption></figure></div><p id="3e2a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">绘制直方图时，对数变换对于压缩y轴非常有用。由于我们有非常广泛的数据，较小的值被较大的值压缩。我们可以取每个变量的对数，用sns.distplot可视化。</p><blockquote class="md me mf"><p id="906c" class="if ig mg ih b ii ij ik il im in io ip mh ir is it mi iv iw ix mj iz ja jb jc hb bi translated">“对数变换还可以突出异常值，并可能得到钟形分布。这个想法是，获取数据的对数可以为数据提供对称性。”</p></blockquote><p id="963a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如上面引号中提到的，我们的目的是确定异常值之外的范围，并且只接收属于它的数据。例如，对于以对数形式显示的TotalPrice值，我们可以采用范围为exp (-2.5)到exp (8)的值。超出此范围的值是我们没有包括在数据中的值。我发现这个数字是8963，它比我在硬边法中发现的数字(7992)要高。</p><p id="eb8e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">虽然异常值的数量很高，但我们可以用第一硬边法去除异常值，然后进行对数变换，得到限值内的值。或者，我们可以做相反的过程，但当然可以使用不同的方法。</p><p id="8a80" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">异常值分析依赖于分析师的创造力。我的建议是先看看离群值对模型的反应，然后决定是放弃还是改变它们。</p><h1 id="e64b" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">相关</h1><p id="bef3" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">变量之间的相关性表明，当一个变量变正或变负时，另一个变量往往会朝那个方向变化。简而言之，相关性是变量之间相互依赖的一种度量。</p><blockquote class="md me mf"><p id="939a" class="if ig mg ih b ii ij ik il im in io ip mh ir is it mi iv iw ix mj iz ja jb jc hb bi translated">“知道因果关系和相关性之间的区别很重要。因为相关性并不意味着因果关系，而因果关系可能需要独立的实验。”</p></blockquote><p id="f976" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">理解相关性是有用的，因为我们可以用一个变量的值来估计另一个变量的值。</p><p id="25da" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这篇文章中，我将解释皮尔逊相关系数，一种常见的相关类型。</p><p id="8fe9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">皮尔逊相关</strong></p><p id="07e1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">皮尔逊相关度量系数在-1和1之间的两个变量之间的线性相关性。</p><p id="7f0a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">1:正线性相关。</p><p id="788d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">0:无线性相关性(这些变量很可能互不影响)。</p><p id="052a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">-1:负线性相关。</p><p id="ef86" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">皮尔逊相关是函数corr()的默认方法。让我们用Seaborn创建关联热图。它的默认状态是sns.heatmap (df.corr())。将颜色图中显示的值范围从-1设置为1，并将注释设置为“True”以显示热图中的相关值后，它将给出如下图所示的输出。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ny"><img src="../Images/d59167b4d5c7cae028674354e4c6f61a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*SnOJeLW9DpRmfWN_.png"/></div></div></figure><p id="15cb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这个数据集中查看影响总价的变量是不合理的。因为我们不能期望变量之间有很强的相关性。</p><p id="c0b5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果将具有相同内容的定义收集在某个组下，并通过在下面的研究中安排定义周期来根据类别进行分离，则查看相关性可能是合乎逻辑的。所以期望现在的相关性是不合理的，所以必须产生新的变量。</p><p id="c318" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">感谢阅读我的文章！</p><p id="77fe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们暂时结束了。我知道有一部作品需要进一步发展。在这一点上，你的反馈对我很重要。下面分享一下我参考的作品和文章:</p><p id="42c5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">EDA:<a class="ae nz" rel="noopener" href="/towards-artificial-intelligence/exploratory-data-analysis-eda-dont-ask-how-ask-what-2e29703fb24a">https://medium . com/forward-artificial-intelligence/explorative-data-analysis-EDA-dont-ask-how-ask-what-2e 29703 FB 24 a</a></p><p id="d68e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">异常值分析:<a class="ae nz" href="https://towardsdatascience.com/a-brief-overview-of-outlier-detection-techniques-1e0b2c19e561" rel="noopener" target="_blank">https://towards data science . com/a-brief-overview-of-outlier-detection-techniques-1e 0 b 2c 19 e 561</a></p><p id="17fb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">缺失值:<a class="ae nz" href="https://towardsdatascience.com/handling-missing-data-for-a-beginner-6d6f5ea53436" rel="noopener" target="_blank">https://towards data science . com/handling-missing-data-for-a初学者-6d6f5ea53436 </a></p><p id="351c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">卡格尔项目:<a class="ae nz" href="https://www.kaggle.com/allunia/e-commerce-sales-forecast" rel="noopener ugc nofollow" target="_blank">https://www.kaggle.com/allunia/e-commerce-sales-forecast</a>，<a class="ae nz" href="https://www.kaggle.com/fabiendaniel/customer-segmentation" rel="noopener ugc nofollow" target="_blank">https://www.kaggle.com/fabiendaniel/customer-segmentation</a></p></div></div>    
</body>
</html>