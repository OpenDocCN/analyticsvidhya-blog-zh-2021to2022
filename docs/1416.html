<html>
<head>
<title>Sparkify Churn Analysis</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Sparkify流失分析</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/sparkify-churn-analysis-a8b6a60ffde9?source=collection_archive---------20-----------------------#2021-02-28">https://medium.com/analytics-vidhya/sparkify-churn-analysis-a8b6a60ffde9?source=collection_archive---------20-----------------------#2021-02-28</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="d8bf" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">Udacity数据科学纳米学位的顶点项目。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jc"><img src="../Images/93477afba85f0b95f5a47846c88f0910.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-LfNqkcUBk11HCeup7zeDw.png"/></div></div></figure><h1 id="2a7f" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">项目概述</h1><p id="6838" class="pw-post-body-paragraph ie if hh ig b ih km ij ik il kn in io ip ko ir is it kp iv iw ix kq iz ja jb ha bi translated">在本帖中，我们将为一家名为<strong class="ig hi"> Sparkify </strong>的“公司”分析并构建一个客户流失模型。这家公司向客户提供音乐流媒体服务，就像Spotify或Pandora一样。</p><p id="230f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为了利用<strong class="ig hi"> Spark，</strong>我们需要在开始时建立一个Spark会话。通过使用本地集群，您也可以在没有实际服务器的情况下实现这一点。</p><p id="9dae" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">你可以在我的<a class="ae kr" href="https://github.com/pato0301/sparkify_capstone_udacity" rel="noopener ugc nofollow" target="_blank"> GitHub </a>中看到更详细的分析。</p><h1 id="afbb" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">问题陈述</h1><p id="164c" class="pw-post-body-paragraph ie if hh ig b ih km ij ik il kn in io ip ko ir is it kp iv iw ix kq iz ja jb ha bi translated">该项目的工作是从这些用户的行为数据中发现被搅动用户的特征，并采取措施尽早留住潜在的流失用户。</p><p id="7dec" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">项目的难点在于交给模型训练的数据要一人一项。虽然我们的数据是行为数据，但我们需要从行为数据中提取用户特征，然后交给模型进行训练，得到结果。这些特征将从探索性数据分析和特征工程中产生。在结果不佳的情况下，该过程可以迭代多次，直到模型表现良好。</p><h1 id="0525" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated"><strong class="ak">数据集</strong></h1><p id="3fdc" class="pw-post-body-paragraph ie if hh ig b ih km ij ik il kn in io ip ko ir is it kp iv iw ix kq iz ja jb ha bi translated">提供的原始数据是应用程序跟踪的用户活动数据。该应用程序记录艺术家，歌曲，持续时间，用户信息，包括一些人口统计和地理数据，时间戳和其他相关信息。</p><p id="fe81" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">有一个<strong class="ig hi">页面</strong>功能，它在我们的分析中起着重要的作用，因为它包含了用户在使用我们的应用程序的每个会话中查看位置的跟踪信息。</p><h1 id="da62" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated"><strong class="ak">什么是客户流失？</strong></h1><p id="baea" class="pw-post-body-paragraph ie if hh ig b ih km ij ik il kn in io ip ko ir is it kp iv iw ix kq iz ja jb ha bi translated">我们可以将客户流失定义为一个企业的客户不再购买或与该企业互动的现象。</p><p id="5b53" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在我们的例子中，当这个人点击取消确认时，我们得到一个客户流失。</p><h1 id="b54c" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated"><strong class="ak">有没有办法识别极有可能流失的用户？</strong></h1><div class="jd je jf jg fd ab cb"><figure class="ks jh kt ku kv kw kx paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><img src="../Images/9ff84c4645204bfe2488248d45a53786.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*hZHzo_WEB6a5RyG4YlRRxg.png"/></div></figure><figure class="ks jh ky ku kv kw kx paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><img src="../Images/a774b326e2c080ff4168657bc172caea.png" data-original-src="https://miro.medium.com/v2/resize:fit:530/format:webp/1*VjrfJJQQ81OLM8s6mNZzwQ.png"/></div></figure><figure class="ks jh kz ku kv kw kx paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><img src="../Images/686b1c5195cecd26ee8847969718b516.png" data-original-src="https://miro.medium.com/v2/resize:fit:536/format:webp/1*63rt_YIWM-sdJziBUKzwiw.png"/></div></figure></div><div class="ab cb"><figure class="ks jh la ku kv kw kx paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><img src="../Images/0528a5a78cc1c8b8dbdd72811be9d36f.png" data-original-src="https://miro.medium.com/v2/resize:fit:670/format:webp/1*6VRlqZ5OP_iGLdKd2WN1IA.png"/></div></figure><figure class="ks jh lb ku kv kw kx paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><img src="../Images/c6e2f0e03b0481bfe3d5054191747296.png" data-original-src="https://miro.medium.com/v2/resize:fit:656/format:webp/1*gRhpOqamNebuKelTxyNdxA.png"/></div></figure><figure class="ks jh lc ku kv kw kx paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><img src="../Images/4a55f6f355a92ed201f20fd7cfc06f37.png" data-original-src="https://miro.medium.com/v2/resize:fit:676/format:webp/1*Z3TcMmzSgixRegPJP8MIBQ.png"/></div></figure></div><div class="ab cb"><figure class="ks jh ld ku kv kw kx paragraph-image"><img src="../Images/24d4144cfa18e0a59a86ef24b21e1209.png" data-original-src="https://miro.medium.com/v2/resize:fit:770/format:webp/1*oUlunedJ91U584hlWD-FIA.png"/></figure><figure class="ks jh le ku kv kw kx paragraph-image"><img src="../Images/8fcbdb4f12fcf73ca78001c7f3455865.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*jzmza9ooZGnqBWSsuYuP3A.png"/></figure></div><p id="e83d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">正如我们所看到的，我们可以说，在一般情况下，男性更容易流失。然而，这并不是一个很好的方式来判断一个人是否会流失。我们也可以看到，不倾听或不给予太多喜欢女性会转而更多地搅动。但是，这并不足以说明有人会流失，即使是，也只是针对女性群体。</p><h1 id="fe2f" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated"><strong class="ak">我们可以从已经获得的数据中生成哪些特征？</strong></h1><ul class=""><li id="a531" class="lf lg hh ig b ih km il kn ip lh it li ix lj jb lk ll lm ln bi translated"><em class="lo">用户参与度的衡量:</em></li></ul><p id="8f9f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">自注册以来的时间，竖起/放下拇指的次数，添加到播放列表的歌曲数，添加的朋友数，每次会话收听的歌曲数。</p><ul class=""><li id="a85a" class="lf lg hh ig b ih ii il im ip lp it lq ix lr jb lk ll lm ln bi translated"><em class="lo">用户基本统计信息:</em></li></ul><p id="86ca" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">性别。</p><h1 id="2b38" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated"><strong class="ak">如何选择模特？</strong></h1><p id="883e" class="pw-post-body-paragraph ie if hh ig b ih km ij ik il kn in io ip ko ir is it kp iv iw ix kq iz ja jb ha bi translated">因为这是一个分类模型(我们需要将用户分类为流失或不流失)，我们尝试了3个不同的模型:</p><ul class=""><li id="a99d" class="lf lg hh ig b ih ii il im ip lp it lq ix lr jb lk ll lm ln bi translated">支持向量机</li><li id="487e" class="lf lg hh ig b ih ls il lt ip lu it lv ix lw jb lk ll lm ln bi translated">梯度增强树</li><li id="233d" class="lf lg hh ig b ih ls il lt ip lu it lv ix lw jb lk ll lm ln bi translated">随机森林。</li></ul><h1 id="d447" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated"><strong class="ak">选择指标</strong></h1><p id="db05" class="pw-post-body-paragraph ie if hh ig b ih km ij ik il kn in io ip ko ir is it kp iv iw ix kq iz ja jb ha bi translated">为了评估和选择模型，我们选择了两个指标:</p><ul class=""><li id="b54e" class="lf lg hh ig b ih ii il im ip lp it lq ix lr jb lk ll lm ln bi translated">准确(性)</li><li id="6c6a" class="lf lg hh ig b ih ls il lt ip lu it lv ix lw jb lk ll lm ln bi translated">F1分数。</li></ul><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es lx"><img src="../Images/7fe01e4e84b3e94dbe01997848294066.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pcheau6OpwQJCbAZVXh-4w.png"/></div></div></figure><p id="2286" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">然而，这最后一个对我们来说更重要。这是因为它给了我们一个简单的方法来衡量<a class="ae kr" href="https://towardsdatascience.com/precision-vs-recall-386cf9f89488" rel="noopener" target="_blank">、<strong class="ig hi">精度</strong>(我们是否将报价发送给了正确的人)和<strong class="ig hi">召回</strong>(我们是否错过了一个我们应该发送报价的型号</a>。我们希望确定那些可能流失的客户，并为他们提供一些特别优惠以留住客户，但同时，我们不希望向那些不太可能流失的客户提供太多优惠(最有可能是金钱激励)，从而浪费金钱和资源。</p><h1 id="a779" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated"><strong class="ak">最终型号</strong></h1><p id="1bcb" class="pw-post-body-paragraph ie if hh ig b ih km ij ik il kn in io ip ko ir is it kp iv iw ix kq iz ja jb ha bi translated">我们将前面提到的3个模型中的每一个与基础模型进行比较，在基础模型中，我们将每个人都视为客户流失或每个人都不流失。</p><p id="87be" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在对它们进行比较之后，最好的模型是随机森林，它给我们的准确度是0.833，F1值是0.757。</p><p id="f94b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在进行超参数调整后，我们获得了0.788的F1分数，比基本模型高20%。</p><p id="d986" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">最后，我们可以通过下图看到模型中每个特征的权重:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es ly"><img src="../Images/887bdfcbcd3c7edb0d7aed4e9ec25c9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:902/format:webp/1*8raX94Fe8mcPx8GrlcAHog.png"/></div></figure><p id="ee26" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">从图表中，我们可以看到寿命实际上起着非常重要的作用。但这可能是有偏见的，因为那些搅动的人使用服务的时间肯定更短，因此，我们可能会重新考虑我们的模型或做一些转换来减少偏见。除此之外，拇指向下数、拇指向上数、添加的好友数和播放的平均歌曲数也起着重要作用。比如大量的拇指向下可能说明我们的服务无法正确的推荐歌曲给用户；添加的大量歌曲可能说明用户喜爱我们服务提供的歌曲。</p><p id="a8b8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">你可以在<a class="ae kr" href="https://www.linkedin.com/in/patricio-villanueva/" rel="noopener ugc nofollow" target="_blank"> <strong class="ig hi"> LinkedIn </strong> </a>或者访问我的网站<a class="ae kr" href="https://github.com/pato0301" rel="noopener ugc nofollow" target="_blank"> <strong class="ig hi"> Github </strong> </a> <strong class="ig hi">与他联系。</strong></p></div></div>    
</body>
</html>