<html>
<head>
<title>How to host a discord.py bot with Heroku and Github</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Heroku和Github托管一个discord.py机器人</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/how-to-host-a-discord-py-bot-on-heroku-and-github-d54a4d62a99e?source=collection_archive---------2-----------------------#2021-02-23">https://medium.com/analytics-vidhya/how-to-host-a-discord-py-bot-on-heroku-and-github-d54a4d62a99e?source=collection_archive---------2-----------------------#2021-02-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="c3c8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">所以你制造了你的不和谐机器人，你现在做什么？</strong></p><p id="9464" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，让你的机器人上线的唯一方法是在你的电脑上运行程序。本教程将向您展示如何使用Heroku远程运行它。</p><p id="3bd7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jd">注意:本教程假设你已经(1)制作了一个discord.py机器人，并在虚拟环境中安装了所有依赖项，(2)创建了一个Heroku帐户，以及(3)熟悉Github的基础知识。它不涉及技术细节，而是一个易于遵循的步骤列表。</em></p></div><div class="ab cl je jf gp jg" role="separator"><span class="jh bw bk ji jj jk"/><span class="jh bw bk ji jj jk"/><span class="jh bw bk ji jj"/></div><div class="hb hc hd he hf"><h2 id="562f" class="jl jm hi bd jn jo jp jq jr js jt ju jv iq jw jx jy iu jz ka kb iy kc kd ke kf bi translated">初始项目目录</h2><p id="21e0" class="pw-post-body-paragraph if ig hi ih b ii kg ik il im kh io ip iq ki is it iu kj iw ix iy kk ja jb jc hb bi translated">在学习本教程之前，您的项目目录应该大致是这样的。</p><figure class="km kn ko kp fd kq er es paragraph-image"><div class="er es kl"><img src="../Images/6f915ab9ef3d2012bc8b7e3c5f4e5daa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/1*EJegxG55E2iBzgPd1MOHOw.png"/></div><figcaption class="kt ku et er es kv kw bd b be z dx translated">注意:。创意不是项目的一部分</figcaption></figure></div><div class="ab cl je jf gp jg" role="separator"><span class="jh bw bk ji jj jk"/><span class="jh bw bk ji jj jk"/><span class="jh bw bk ji jj"/></div><div class="hb hc hd he hf"><h2 id="641c" class="jl jm hi bd jn jo jp jq jr js jt ju jv iq jw jx jy iu jz ka kb iy kc kd ke kf bi translated"><strong class="ak">设置您的项目目录</strong></h2><ol class=""><li id="55cc" class="kx ky hi ih b ii kg im kh iq kz iu la iy lb jc lc ld le lf bi translated">添加一个<strong class="ih hj"><em class="jd">requirements . txt</em></strong>。<br/> <em class="jd">这个文件包含了你的机器人使用的虚拟环境中的所有依赖项。</em></li></ol><figure class="km kn ko kp fd kq er es paragraph-image"><div class="er es lg"><img src="../Images/355f4c582cc793695a784c7dfd6cd876.png" data-original-src="https://miro.medium.com/v2/resize:fit:752/format:webp/1*e4jnVBmx4TFwgLdHDKeFmg.png"/></div><figcaption class="kt ku et er es kv kw bd b be z dx translated">在您的项目目录中使用这个命令来自动完成。</figcaption></figure><figure class="km kn ko kp fd kq er es paragraph-image"><div class="er es lh"><img src="../Images/479bd332cc49d4ae2166fc3421cecb80.png" data-original-src="https://miro.medium.com/v2/resize:fit:468/format:webp/1*zSN0D0nS0rSH2ScJU2gprA.png"/></div><figcaption class="kt ku et er es kv kw bd b be z dx translated">您的requirements.txt应该大致如下所示。<strong class="bd jn">确定它有discord.py. </strong></figcaption></figure><p id="2f62" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">更新:还要确保你的<strong class="ih hj"> <em class="jd">需求中有<strong class="ih hj"> discord== &lt;版本&gt;</strong>. txt</em></strong><em class="jd">(注意不在图中)。输入<code class="du li lj lk ll b">pip freeze</code>并将其复制粘贴到一个新创建的文本文件中，而不是自动方式。</em></p><p id="9128" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.添加一个<strong class="ih hj"> <em class="jd"> runtime.txt </em> </strong>。这个文件将包含你在这个项目中使用的Python版本。</p><figure class="km kn ko kp fd kq er es paragraph-image"><div class="er es lm"><img src="../Images/ba37063bdbab2bd166ccde010d0a555e.png" data-original-src="https://miro.medium.com/v2/resize:fit:524/format:webp/1*XZMroaXlYH1fkVoy2hH0wg.png"/></div><figcaption class="kt ku et er es kv kw bd b be z dx translated">使用此命令检查Python的版本。确保你在正确的项目目录中。</figcaption></figure><figure class="km kn ko kp fd kq er es paragraph-image"><div class="er es ln"><img src="../Images/80103bdab781f5e4f8419fc0a1afd53c.png" data-original-src="https://miro.medium.com/v2/resize:fit:396/format:webp/1*2Zrr7vbe3XJMjtS_Hdx2KQ.png"/></div><figcaption class="kt ku et er es kv kw bd b be z dx translated">用您的版本替换3.9.2。</figcaption></figure><p id="6c8b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.添加一个<strong class="ih hj"> <em class="jd"> Procfile </em> </strong>。<br/> <em class="jd">该文件将包含Heroku所需的指定工人编号。</em></p><ul class=""><li id="5fc1" class="kx ky hi ih b ii ij im in iq lo iu lp iy lq jc lr ld le lf bi translated">创建一个文本文件，放入<code class="du li lj lk ll b">worker: python3 main.py</code>，命名为<strong class="ih hj"> <em class="jd"> Procfile.txt </em> </strong>。<em class="jd">注意:用主程序的文件位置替换</em> <code class="du li lj lk ll b"><em class="jd">main.py</em></code> <em class="jd">。确保包括它可能在的任何文件夹。</em></li><li id="d183" class="kx ky hi ih b ii ls im lt iq lu iu lv iy lw jc lr ld le lf bi translated">重命名该文件并删除。txt扩展名。按“确定”弹出任何程序。</li></ul><p id="03cc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您的目录现在应该看起来像这样:</p><figure class="km kn ko kp fd kq er es paragraph-image"><div class="er es lx"><img src="../Images/c7ce1529b19d198fc83a66275f6cbe4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1208/format:webp/1*R7tbUe8DVemR3odTMtT5lA.png"/></div><figcaption class="kt ku et er es kv kw bd b be z dx translated">确保Procfile是一个文件而不是. txt。</figcaption></figure></div><div class="ab cl je jf gp jg" role="separator"><span class="jh bw bk ji jj jk"/><span class="jh bw bk ji jj jk"/><span class="jh bw bk ji jj"/></div><div class="hb hc hd he hf"><h2 id="a7ba" class="jl jm hi bd jn jo jp jq jr js jt ju jv iq jw jx jy iu jz ka kb iy kc kd ke kf bi translated"><strong class="ak">在HEROKU上主持</strong></h2><ol class=""><li id="3453" class="kx ky hi ih b ii kg im kh iq kz iu la iy lb jc lc ld le lf bi translated">创建一个Github存储库，并将您的项目上传到<code class="du li lj lk ll b">main</code>分支。</li><li id="b0f6" class="kx ky hi ih b ii ls im lt iq lu iu lv iy lw jc lc ld le lf bi translated">在Heroku上为你的机器人制作一个新的应用。</li><li id="41c4" class="kx ky hi ih b ii ls im lt iq lu iu lv iy lw jc lc ld le lf bi translated">在<em class="jd">部署</em>选项卡中，将您的应用程序连接到Github repo。</li></ol><figure class="km kn ko kp fd kq er es paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="er es ly"><img src="../Images/9fa806057eed8ebc101cbd33609319ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wFUoLfN4Ya1Pwj9JfKmxyA.jpeg"/></div></div><figcaption class="kt ku et er es kv kw bd b be z dx translated">搜索你的回购和连接。</figcaption></figure><p id="9f59" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">4.部署您的应用程序。</p><figure class="km kn ko kp fd kq er es paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="er es md"><img src="../Images/0f6e54859cd070ee798d36c331f61c26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1Z5MxZXNHGYKdKWu9q_YnA.png"/></div></div><figcaption class="kt ku et er es kv kw bd b be z dx translated">注意:这个部分上面是自动部署。你在Github Repo中的每一次提交都会自动重新部署应用。</figcaption></figure><p id="b439" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">5.成功部署后，转到<em class="jd"> Resources </em>选项卡，打开worker dyno。</p><figure class="km kn ko kp fd kq er es paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="er es me"><img src="../Images/8bfd6626439947b40878568eb3c1643f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8ZeAGRVD-t2NnRuwyVZ9rA.png"/></div></div><figcaption class="kt ku et er es kv kw bd b be z dx translated">点击编辑图标向右滑动。</figcaption></figure></div><div class="ab cl je jf gp jg" role="separator"><span class="jh bw bk ji jj jk"/><span class="jh bw bk ji jj jk"/><span class="jh bw bk ji jj"/></div><div class="hb hc hd he hf"><p id="fd86" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">检查你在Heroku上的日志，看看是否一切正常。</p><p id="4826" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">之后，确保你的GitHub repo保持更新<em class="jd">(特别是requirements.txt，如果你安装了更多的模块)</em>并在Heroku上部署每次更新<em class="jd">(除非你启用了自动部署)</em>。</p><p id="e53d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">就这么简单，你的机器人现在已经启动并远程运行了。</p></div></div>    
</body>
</html>