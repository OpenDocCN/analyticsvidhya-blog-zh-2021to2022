<html>
<head>
<title>Custom CallBack Function in Tensorflow 2.0(Basic)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Tensorflow 2.0中的自定义回调函数(基本)</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/custom-callback-function-in-tensorflow-2-0-basic-dd0904a5f12d?source=collection_archive---------15-----------------------#2021-01-11">https://medium.com/analytics-vidhya/custom-callback-function-in-tensorflow-2-0-basic-dd0904a5f12d?source=collection_archive---------15-----------------------#2021-01-11</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="e0db" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果你熟悉Tensorflow，你应该听说过回调函数，所以这里有一个关于你自己写一个自定义函数的小博客。</p><figure class="jc jd je jf fd jg er es paragraph-image"><div role="button" tabindex="0" class="jh ji di jj bf jk"><div class="er es et"><img src="../Images/ebd69066317f37fa2d05601eb728ed39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dkMpGLbOYgippOdKj3gbng.jpeg"/></div></div></figure><h2 id="2fa3" class="jn jo hh bd jp jq jr js jt ju jv jw jx ip jy jz ka it kb kc kd ix ke kf kg kh bi translated">回调函数到底是什么？</h2><p id="ea69" class="pw-post-body-paragraph ie if hh ig b ih ki ij ik il kj in io ip kk ir is it kl iv iw ix km iz ja jb ha bi translated">嗯根据Tensorflow官网</p><blockquote class="kn ko kp"><p id="05eb" class="ie if kq ig b ih ii ij ik il im in io kr iq ir is ks iu iv iw kt iy iz ja jb ha bi translated">回调是一个强大的工具，可以在训练、评估或推断过程中定制Keras模型的行为。例子包括<code class="du ku kv kw kx b"><a class="ae ky" href="https://www.tensorflow.org/api_docs/python/tf/keras/callbacks/TensorBoard" rel="noopener ugc nofollow" target="_blank">tf.keras.callbacks.TensorBoard</a></code>用TensorBoard可视化训练进度和结果，或者<code class="du ku kv kw kx b"><a class="ae ky" href="https://www.tensorflow.org/api_docs/python/tf/keras/callbacks/ModelCheckpoint" rel="noopener ugc nofollow" target="_blank">tf.keras.callbacks.ModelCheckpoint</a></code>在训练期间定期保存你的模型。</p></blockquote><p id="d6bb" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">简而言之，这意味着您可以在满足条件时执行特殊的功能，例如在达到指定的精度后停止模型训练，或者保存模型以检查其进度。</p><p id="af52" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">既然已经定义了回调，我将演示一个自定义回调函数，该函数在模型达到99%的准确率后停止(因为我使用的是经典的时尚MNIST数据集，所以准确率会很高)。</p><div class="kz la ez fb lb lc"><a href="https://www.datadriveninvestor.com/2020/11/19/how-machine-learning-and-artificial-intelligence-changing-the-face-of-ecommerce/" rel="noopener  ugc nofollow" target="_blank"><div class="ld ab dw"><div class="le ab lf cl cj lg"><h2 class="bd hi fi z dy lh ea eb li ed ef hg bi translated">机器学习和人工智能如何改变电子商务的面貌？|数据驱动…</h2><div class="lj l"><h3 class="bd b fi z dy lh ea eb li ed ef dx translated">电子商务开发公司，现在，整合先进的客户体验到一个新的水平…</h3></div><div class="lk l"><p class="bd b fp z dy lh ea eb li ed ef dx translated">www.datadriveninvestor.com</p></div></div><div class="ll l"><div class="lm l ln lo lp ll lq jl lc"/></div></div></a></div><p id="c69f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">我们开始进口</strong></p><p id="9209" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我需要TensorFlow API，以及创建一个密集的神经网络(DNN)模型的密集和扁平化层。</p><figure class="jc jd je jf fd jg"><div class="bz dy l di"><div class="lr ls l"/></div></figure><p id="0953" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">自定义回调函数</strong></p><p id="8c90" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">正如我上面提到的，回调函数在获得99%的精确度后停止模型的训练</p><figure class="jc jd je jf fd jg"><div class="bz dy l di"><div class="lr ls l"/></div></figure><p id="501a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">导入、处理和创建模型</strong></p><p id="7f9c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">就像标题一样导入mnist数据集，处理它，为它创建一个序列模型</p><figure class="jc jd je jf fd jg"><div class="bz dy l di"><div class="lr ls l"/></div></figure><h2 id="0101" class="jn jo hh bd jp jq jr js jt ju jv jw jx ip jy jz ka it kb kc kd ix ke kf kg kh bi translated">编译并运行</h2><p id="492d" class="pw-post-body-paragraph ie if hh ig b ih ki ij ik il kj in io ip kk ir is it kl iv iw ix km iz ja jb ha bi translated">我编译该模型，并将Adam算法定义为优化器，将稀疏分类交叉熵定义为损失函数。最后，我将模型与训练数据进行拟合。在这里，您可以将回调包含在一个列表中，并且可以使用我上面写的自定义回调。随着模型的训练，回调将具有内部状态的视图，并在满足其条件时触发。</p><figure class="jc jd je jf fd jg"><div class="bz dy l di"><div class="lr ls l"/></div></figure><p id="0e35" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">你可以从<a class="ae ky" href="https://github.com/Pavankunchala/Deep-Learning/blob/master/Tensorflow_Basics/fashion_mnist.py" rel="noopener ugc nofollow" target="_blank"> <strong class="ig hi">这里</strong> </a>找到博客的代码</p><p id="6a16" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">结束了！(至少目前如此)</p><p id="adc6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> PS </strong>:如果你有任何疑问，你可以给我发邮件<a class="ae ky" href="http://pavankunchalapk@gmail.com/" rel="noopener ugc nofollow" target="_blank">这里</a>，你可以从<a class="ae ky" href="https://www.linkedin.com/in/pavan-kumar-reddy-kunchala/" rel="noopener ugc nofollow" target="_blank">这里<strong class="ig hi">在我的linkedin上联系我</strong> </a> <strong class="ig hi"> </strong>，你可以从<a class="ae ky" href="https://github.com/Pavankunchala" rel="noopener ugc nofollow" target="_blank"> <strong class="ig hi">这里</strong> </a>在我的Github上查看我的其他代码(它有非常酷的东西)</p><p id="0b66" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我也在寻找深度学习和计算机视觉领域的自由职业机会，如果你愿意合作，请给我发邮件(<a class="ae ky" href="mailto:pavankunchalapk@gmail.com" rel="noopener ugc nofollow" target="_blank">pavankunchalapk@gmail.com</a>)</p><p id="9862" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">祝你有美好的一天！</p><p id="3ed8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">获取专家视图— <a class="ae ky" href="https://datadriveninvestor.com/ddi-intel" rel="noopener ugc nofollow" target="_blank"> <strong class="ig hi">订阅DDI英特尔</strong> </a></p></div></div>    
</body>
</html>