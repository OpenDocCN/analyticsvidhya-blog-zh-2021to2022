# Python 中的二分模块

> 原文：<https://medium.com/analytics-vidhya/bisect-module-in-python-6b78f8c37beb?source=collection_archive---------2----------------------->

![](img/d88143a7c43625af40162656aefb12e8.png)

作者:CodeWithHarry

前几天在提升自己 Python 技能的搜索中，我发现了用 Python 写的 ***二分模块*** ，其源代码不超过 80 行。

基本上，这个模块实现了二分法来寻找在排序列表中添加给定元素的插入点。值得一提的是，作为参数传递给这些函数的列表必须按升序排序，否则这些函数不会出现任何错误，但结果将是意想不到的。

现在，是时候更详细地了解每个函数了！

## 等分 _ 左(a，x，lo=0，hi =无)

该方法返回索引 ***i*** ，其中必须插入值 ***x*** ，这样列表 ***a*** 保持有序。在 ***x*** 值已经出现在列表中的情况下，索引 ***i*** 将正好在已经存在的最左边的 ***x*** 值之前。通过下面的例子，这一点将看得很清楚。

注意: ***平分模块*** 预装了 Python 发行版。

1-平分 _left 函数。

在上面的代码片段中定义了一个列表 ***a*** ，并且需要知道必须在哪里插入索引 ***x*** value (7)以便*保持有序。当 ***等分 _ 左*** 被调用时，其返回值为 3，该值是 ***x*** 必须插入的索引。*

*继续前面的代码片段，让我们通过调用对象列表的 ***insert*** 方法，在列表*中插入 ***x*** 值。**

**1.1-二等分 _ 左功能**

**请注意 ***x*** 值是如何插入到 ***a*** 列表的索引 3 处的。在后面的章节中将会说明，这可以通过使用 ***二等分模块*** 提供的方法来轻松完成。**

**现在让我们看一个例子，其中 ***x*** 值已经出现在列表中，此外还有到目前为止还没有提到的参数 ***lo*** 和 ***hi*** 的使用。**

**2-插入 x 值。**

**如前所述， ***平分 _ 左*** 方法返回的索引对应于列表中 ***x*** 值(8)的第一个匹配项。 ***lo*** 和 ***hi*** 参数用于指示您要考虑的列表的起始和结束索引，当这些参数没有传递给函数时，整个列表被视为与前面的示例相同。看看下面的例子，这里使用了参数 ***lo*** 和 ***hi。*****

**3- x 值已经存在**

**正如 ***lo*** 和 ***hi*** 被传递给 ***平分 _ 离开*** 方法列表考虑的将是*【2:7】***【5，6，7，9，10】***。**平分 _ 左**在这个片上找到索引 ***i*** 然后返回基于整个列表的 el 索引。***

## **等分 _ 右(a，x，lo=0，hi =无)**

**此功能与 ***平分 _ 左*** 功能相同，但如果***×x***值已经出现在 ***a*** 列表中，则索引 I 将位于已经存在的最右边的 ***x*** 值之后。让我们看一个例子。**

**四等分 _ 右函数**

**请注意，列表中最右边的 ***x*** 值(4)位于索引 4 处，因此，紧随其后的索引将是 5。 ***lo*** 和 ***hi*** 参数的作用类似于 ***等分 _ 左*** 功能。**

## **insort_left(a，x，lo=0，hi =无)**

**在前面的代码片段中使用了 ***插入*** 对象列表的方法来插入 ***列表中的*x 值通过使用 index*返回的 ***等分 _ 左*** 函数，嗯，*****

*****该功能中的 **lo** 和 ***hi*** 参数与之前的功能相同。这里没有什么新东西。*****

****让我们看下面的例子:****

****5-insort_left 函数****

****上面的代码片段对应于第三个代码片段(*2-插入 x 值*)，在 ***二等分 _ 左*** 函数的解释中作为例子给出，注意结果是相同的。****

## ****insort_right(a，x，lo=0，hi =无)****

****该函数的工作方式与 ***insort_left*** 相同，除了它使用 ***平分 _right*** 函数找到需要插入 ***x*** 值的位置。****

****让我们看一个例子:****

****6- insort_right 函数****

****前面的代码片段在第 ***节中使用，请注意得到了相同的结果。*******

****这是使用 ***的功能平分*** 模块的最简单方法。需要特别提到的是 ***平分 _ 左*** 和 ***平分 _ 右*** 的时间复杂度为***O(log(n)***由于它们的实现使用了[二分搜索法算法](https://en.wikipedia.org/wiki/Binary_search_algorithm)。 ***insort_right*** 和 ***insort_left*** 函数的时间复杂度取决于 list 类的 ***insert*** 方法的复杂度，即***【O(n)***。****

****所有的例子都使用了整数列表，但是你也可以使用浮点数列表，甚至是字符串列表。也许你想知道如果我使用一个元组或者一个字符串会怎么样？好问题！。嗯，你可以在元组和字符串中使用 ***平分 _ 左*** 和*平分 _ 右* 没有任何问题，但是如果你试图在这些对象上使用***insort _ 左*** 和***insort _ 右*** 你会得到一个错误。为什么呢？发生这种情况是因为元组和字符串是不可变的对象，并且这些类型的对象没有实现 ***insert*** 方法，该方法将一个可变对象就地修改为列表。****

*******二等分 _ 右*** 和 ***insort_right*** 有别名，所以 ***二等分 _ 右*** t 可以简称为 ***二等分*** 和 i **nsort_right** 为 **insort。******

****最后，看看当您试图在一个按降序排序的列表上或者甚至在一个未排序的列表上使用这些函数时会发生什么。你会很容易发现的！****

****切记不要多此一举！****

****如果你对这篇文章有任何意见，请告诉我:)。****

****参考****

*   ****[二等分—数组二等分算法](http://bisect — Array bisection algorithm)****