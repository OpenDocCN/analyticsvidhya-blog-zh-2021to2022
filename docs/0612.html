<html>
<head>
<title>Statistics: Visualize data using Python!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">统计:使用Python可视化数据！</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/statistics-visualize-data-using-python-6d23aee7f6d7?source=collection_archive---------8-----------------------#2021-01-24">https://medium.com/analytics-vidhya/statistics-visualize-data-using-python-6d23aee7f6d7?source=collection_archive---------8-----------------------#2021-01-24</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/2c4d43f139473663e00b7fcc08676c78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*KLkRir2KZ6wOOy4K"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">艾萨克·史密斯在<a class="ae it" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="14c2" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这是我将撰写的一系列文章中的第二篇，对统计学进行简要介绍。在本文中，我们将介绍如何使用各种图表可视化数据，以及如何阅读它们。我将展示如何使用Python创建这些图表，还将包括代码片段。完整版本的代码请访问我的<a class="ae it" href="https://github.com/vivekparasharr/Learn-Programming" rel="noopener ugc nofollow" target="_blank"> GitHub库</a>。</p><p id="0e67" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">Python有许多允许创建视觉上吸引人的图表的库。在本文中，我们将使用内置的tips数据集，然后使用以下库进行绘图:</p><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="5a8d" class="kb kc hh jx b fi kd ke l kf kg">import seaborn as sns<br/>tips = sns.load_dataset("tips") # tips dataset can be loaded from seaborn<br/>sns.get_dataset_names() # to get a list of other available datasets</span><span id="6a5a" class="kb kc hh jx b fi kh ke l kf kg">import plotly.express as px<br/>tips = px.data.tips() # tips dataset can be loaded from plotly<br/># data_canada = px.data.gapminder().query("country == 'Canada'")</span><span id="d81a" class="kb kc hh jx b fi kh ke l kf kg">import pandas as pd<br/>tips.to_csv('/Users/vivekparashar/Downloads/tips.csv') # we can save the dataset into a csv and then load it into SAS or R for plotting</span><span id="a6a3" class="kb kc hh jx b fi kh ke l kf kg">import altair as alt</span><span id="f495" class="kb kc hh jx b fi kh ke l kf kg">import statsmodels.api as sm</span></pre><p id="a51c" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">让我们快速了解一下tips数据集的结构:</p><figure class="js jt ju jv fd ii er es paragraph-image"><div class="er es ki"><img src="../Images/a64a3a572dea14ee8e4c8bdb8625a58e.png" data-original-src="https://miro.medium.com/v2/resize:fit:842/format:webp/0*sBdh3zHaIjCOHAGX.png"/></div></figure><p id="3605" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我们将在本文中介绍以下图表:</p><ul class=""><li id="8a08" class="kj kk hh iw b ix iy jb jc jf kl jj km jn kn jr ko kp kq kr bi translated"><em class="ks">点状图</em>显示两个(或多个)时间点之间或两个(或多个)条件之间的变化。</li></ul><figure class="js jt ju jv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kt"><img src="../Images/c5f78e7cc6f43b9c3653eabecd7cf79c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1372/format:webp/0*w0i9DN2ppNFVHtNZ.png"/></div></div></figure><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="bc52" class="kb kc hh jx b fi kd ke l kf kg"># Using plotly library<br/>t = tips.groupby(['day','sex']).mean()[['total_bill']].reset_index()<br/>px.scatter(t, x='day', y='total_bill', color='sex', <br/>        title='Average bill by gender by day', <br/>        labels={'day':'Day of the week', 'total_bill':'Average Bill in $'})</span></pre><ul class=""><li id="8952" class="kj kk hh iw b ix iy jb jc jf kl jj km jn kn jr ko kp kq kr bi translated"><em class="ks">条形(水平和垂直)图</em>用于显示数据点的分布，或比较不同数据子组的度量值。</li></ul><figure class="js jt ju jv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ku"><img src="../Images/4c0eda062d8ac7f0845652d7ab818781.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Zb09QC9uCO8JDW93.png"/></div></div></figure><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="bbf8" class="kb kc hh jx b fi kd ke l kf kg"># Using pandas plot<br/>tips.groupby('sex').mean()['total_bill'].plot(kind='bar') <br/>tips.groupby('sex').mean()['tip'].plot(kind='barh')</span><span id="bc94" class="kb kc hh jx b fi kh ke l kf kg"># Using plotly<br/>t = tips.groupby(['day','sex']).mean()[['total_bill']].reset_index()<br/>px.bar(t, x='day', y='total_bill') # Using plotly<br/>px.bar(t, x='total_bill', y="day", orientation='h')</span></pre><ul class=""><li id="2ae1" class="kj kk hh iw b ix iy jb jc jf kl jj km jn kn jr ko kp kq kr bi translated"><em class="ks">堆叠条形图</em>在您希望每个条形图显示多个分类变量时非常有用</li></ul><figure class="js jt ju jv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kv"><img src="../Images/7db48c548919398de0d9a89c765d2e71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*188qOfIDonzFoJ59.png"/></div></div></figure><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="9034" class="kb kc hh jx b fi kd ke l kf kg"># using pandas plot; kind='barh' for horizontal plot <br/># need to unstack one of the levels and fill na values<br/>tips.groupby(['day','sex']).mean()[['total_bill']]\<br/>        .unstack('sex').fillna(0)\<br/>        .plot(kind='bar', stacked=True) </span><span id="298f" class="kb kc hh jx b fi kh ke l kf kg"># Using plotly<br/>t = tips.groupby(['day','sex']).mean()[['total_bill']].reset_index()<br/>px.bar(t, x="day", y="total_bill", color="sex", title="Average bill by Gender and Day") # vertical <br/>px.bar(t, x="total_bill", y="day", color="sex", title="Average bill by Gender and Day", orientation='h') # horizontal</span></pre><ul class=""><li id="15a2" class="kj kk hh iw b ix iy jb jc jf kl jj km jn kn jr ko kp kq kr bi translated"><em class="ks">箱线图(水平和垂直)</em>在箱线图中，数值数据被分成四分位数，在第一个和第三个四分位数之间画一个方框，沿着第二个四分位数再画一条线来标记中位数。在一些箱线图中，第一个和第三个四分位数之外的最小值和最大值用线来描绘，这些线通常被称为胡须。</li></ul><figure class="js jt ju jv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kw"><img src="../Images/dc65a30edcc364b401da3dfd0c640d39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*A9ifLpkrpv0tpNCo.png"/></div></div></figure><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="a194" class="kb kc hh jx b fi kd ke l kf kg"># using pandas plot<br/># we specify y=variable for vertical and x=variable for horizontal for horizontal box plot respectively<br/>tips[['total_bill']].plot(kind='box') </span><span id="b380" class="kb kc hh jx b fi kh ke l kf kg"># using plotly<br/>px.box(tips, y='total_bill') </span><span id="94a3" class="kb kc hh jx b fi kh ke l kf kg"># using seaborn<br/>sns.boxplot(y=tips["total_bill"])</span></pre><ul class=""><li id="f1c5" class="kj kk hh iw b ix iy jb jc jf kl jj km jn kn jr ko kp kq kr bi translated"><em class="ks">小提琴剧情</em>是盒子剧情的变种</li></ul><figure class="js jt ju jv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kx"><img src="../Images/a841008041e25818b3c1414ae7bc159c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Ana4bVx6iMIGd8Su.png"/></div></div></figure><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="95bc" class="kb kc hh jx b fi kd ke l kf kg"># Using seaborn<br/>sns.violinplot(y=tips.total_bill)<br/>sns.violinplot(data=tips, x='day', y='total_bill', <br/>        hue='smoker', <br/>        palette='muted', split=True,<br/>        scale='count', inner='quartile',<br/>        order=['Thur','Fri','Sat','Sun'])</span><span id="1379" class="kb kc hh jx b fi kh ke l kf kg">sns.catplot(x='sex', y='total_bill',<br/>        hue='smoker', col='time',<br/>        data=tips, kind='violin', split=True,<br/>        height=4, aspect=.7)</span></pre><ul class=""><li id="7093" class="kj kk hh iw b ix iy jb jc jf kl jj km jn kn jr ko kp kq kr bi translated"><em class="ks">直方图</em>是数据频率分布的直观表示。频率用条形表示。</li></ul><figure class="js jt ju jv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ky"><img src="../Images/fb169df59528f6a297d1b04bde637baa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*wJZE3AC3v6tNHjN4.png"/></div></div></figure><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="5497" class="kb kc hh jx b fi kd ke l kf kg"># using pandas plot<br/>tips.total_bill.plot(kind='hist') </span><span id="b90d" class="kb kc hh jx b fi kh ke l kf kg"># using plotly<br/>px.histogram(tips, x="total_bill") </span><span id="2387" class="kb kc hh jx b fi kh ke l kf kg"># using seaborn<br/>sns.histplot(data=tips, x="total_bill") </span><span id="af29" class="kb kc hh jx b fi kh ke l kf kg"># using altair<br/>alt.Chart(tips).mark_bar().encode(alt.X('total_bill:Q', bin=True),y='count()')</span></pre><ul class=""><li id="b40c" class="kj kk hh iw b ix iy jb jc jf kl jj km jn kn jr ko kp kq kr bi translated"><em class="ks">概率图</em>是一种直观比较来自不同分布的数据的方式。它有两种类型——PP图或qq图</li><li id="ff6f" class="kj kk hh iw b ix kz jb la jf lb jj lc jn ld jr ko kp kq kr bi translated"><em class="ks"> pp图(概率对概率)</em>是两种分布(经验和理论)的累积分布函数(CDFs)相互比较的可视化方法。</li><li id="e637" class="kj kk hh iw b ix kz jb la jf lb jj lc jn ld jr ko kp kq kr bi translated"><em class="ks"> qq图(分位数对分位数)</em>用于比较两个分布的分位数。分位数可以定义为具有相等概率的连续区间，或者以类似的方式划分样本。分布可以是理论分布或来自过程的样本分布等。</li><li id="db9a" class="kj kk hh iw b ix kz jb la jf lb jj lc jn ld jr ko kp kq kr bi translated">正态概率图是qq图的一个例子。这是了解数据集是否正态分布的一种方式</li></ul><figure class="js jt ju jv fd ii er es paragraph-image"><div class="er es le"><img src="../Images/74da8cc8e5468e6915fb2ad0aa23263a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/0*NuOY66RPwGfiFQTz.png"/></div></figure><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="db2e" class="kb kc hh jx b fi kd ke l kf kg"># using statsmodels<br/>import statsmodels.graphics.gofplots as sm <br/>import numpy as np<br/>sm.ProbPlot(np.array(tips.total_bill)).ppplot(line='s') <br/>sm.ProbPlot(np.array(tips.total_bill)).qqplot(line='s')</span></pre><ul class=""><li id="dab6" class="kj kk hh iw b ix iy jb jc jf kl jj km jn kn jr ko kp kq kr bi translated"><em class="ks">散点图</em>显示两个数值变量之间的关系。</li></ul><figure class="js jt ju jv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lf"><img src="../Images/b3932737dca54667a23aa9e4e84d7df6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*BD90c83LTQBhoWCT.png"/></div></div></figure><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="bfe7" class="kb kc hh jx b fi kd ke l kf kg"># using plotly<br/>px.scatter(tips, x='total_bill', y='tip', color='sex', size='size', hover_data=['day']) </span><span id="7cd5" class="kb kc hh jx b fi kh ke l kf kg"># using pandas plot<br/>tips.plot(x='total_bill', y='tip', kind='scatter')</span></pre><ul class=""><li id="4453" class="kj kk hh iw b ix iy jb jc jf kl jj km jn kn jr ko kp kq kr bi translated"><em class="ks"> Reg plot </em>创建两个参数之间的回归线，并帮助可视化它们的线性关系</li></ul><figure class="js jt ju jv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kw"><img src="../Images/50f7978922563dd8e290993dfbe68de4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*RdcTxYe9sui9d3oB.png"/></div></div></figure><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="6a35" class="kb kc hh jx b fi kd ke l kf kg"># using seaborn<br/>sns.regplot(x="total_bill", y="tip", data=tips, marker='+') </span><span id="4274" class="kb kc hh jx b fi kh ke l kf kg"># for categorical variables we can add jitter to see overlapping points<br/>sns.regplot(x="size", y="total_bill", data=tips, x_jitter=.1)</span></pre><ul class=""><li id="8b06" class="kj kk hh iw b ix iy jb jc jf kl jj km jn kn jr ko kp kq kr bi translated"><em class="ks">线状图</em>用于可视化某事物随时间的价值</li></ul><figure class="js jt ju jv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lg"><img src="../Images/db15746afbb308acc325f87e80547225.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*thDFJsiAndoOeF2B.png"/></div></div></figure><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="ba69" class="kb kc hh jx b fi kd ke l kf kg"># using pandas plot<br/>tips['total_bill'].plot(kind='line') </span><span id="bd0b" class="kb kc hh jx b fi kh ke l kf kg"># using plotly<br/>px.line(tips, y='total_bill', title='Total bill') </span><span id="7006" class="kb kc hh jx b fi kh ke l kf kg">t = tips.groupby('day').sum()[['total_bill']].reset_index()<br/>px.line(t, x='day',y='total_bill', title='Total bill by day')</span><span id="abb1" class="kb kc hh jx b fi kh ke l kf kg"># using altair<br/>alt.Chart(t).mark_line().encode(x='day', y='total_bill') </span><span id="a88c" class="kb kc hh jx b fi kh ke l kf kg"># using seaborn<br/>sns.lineplot(data=t, x='day', y='total_bill')</span></pre><ul class=""><li id="61b1" class="kj kk hh iw b ix iy jb jc jf kl jj km jn kn jr ko kp kq kr bi translated"><em class="ks">面积图</em>在图表上绘制数据值以及使用线段连接数据值方面类似于折线图。但是，在面积图中，线段和x轴之间的区域用颜色填充。</li></ul><figure class="js jt ju jv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lh"><img src="../Images/13aa22bdcb223533f9ba7cbcfab3b66f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ndsPW6dsCR97xjBo.png"/></div></div></figure><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="9559" class="kb kc hh jx b fi kd ke l kf kg"># using pandas plot<br/>tips.groupby('day').sum()[['total_bill']].plot(kind='area') </span><span id="1399" class="kb kc hh jx b fi kh ke l kf kg"># stacked area can be done using pandas.plot as well<br/>t = tips.groupby(['day','sex']).count()[['total_bill']].reset_index()<br/>t_pivoted = t.pivot(index='day', columns='sex', values='total_bill')<br/>t_pivoted.plot.area() </span><span id="9c3e" class="kb kc hh jx b fi kh ke l kf kg"># using plotly<br/>px.area(t, x='day', y='total_bill', color='sex',line_group='sex') </span><span id="df20" class="kb kc hh jx b fi kh ke l kf kg"># using altair<br/>alt.Chart(t).mark_area().encode(x='day', y='total_bill')</span></pre><ul class=""><li id="3c57" class="kj kk hh iw b ix iy jb jc jf kl jj km jn kn jr ko kp kq kr bi translated"><em class="ks">饼状图</em>是一个圆形的统计图形，分成若干个切片来说明数字比例。在饼图中，每个切片的弧长与它所代表的数量成比例。</li></ul><figure class="js jt ju jv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es li"><img src="../Images/7064ca7327a43830e881352791885f1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*g4ugrPHnsTCwqvxU.png"/></div></div></figure><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="b312" class="kb kc hh jx b fi kd ke l kf kg"># using pandas plot<br/>tips.groupby('sex').count()['tip'].plot(kind='pie') </span><span id="0df0" class="kb kc hh jx b fi kh ke l kf kg"># using plotly<br/>px.pie(tips, values='tip', names='day')</span></pre><ul class=""><li id="b9de" class="kj kk hh iw b ix iy jb jc jf kl jj km jn kn jr ko kp kq kr bi translated"><em class="ks">旭日图</em>非常适合显示分层数据。层次结构的每个级别都由一个环或圆表示，最里面的圆作为层次结构的顶部。</li></ul><figure class="js jt ju jv fd ii er es paragraph-image"><div class="er es lj"><img src="../Images/34709c3a80593ccc6c105b9c3136b44f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1384/format:webp/0*nnLcPQpclpMHMD7B.png"/></div></figure><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="c712" class="kb kc hh jx b fi kd ke l kf kg">px.sunburst(tips, path=['sex', 'day', 'time'], values='total_bill', color='day')</span></pre><ul class=""><li id="5115" class="kj kk hh iw b ix iy jb jc jf kl jj km jn kn jr ko kp kq kr bi translated"><em class="ks">雷达图</em>是一种以二维图表的形式显示多元数据的图形方法，该图表由三个或三个以上的量化变量组成，这些变量在从同一点开始的轴上表示。</li></ul><figure class="js jt ju jv fd ii er es paragraph-image"><div class="er es lj"><img src="../Images/3211b6e2d0c96ea2c9ef5c14f65efa05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1384/format:webp/0*8MM0yedUWxLQLlBP.png"/></div></figure><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="96f7" class="kb kc hh jx b fi kd ke l kf kg"># using plotly<br/>t = tips.groupby('day').mean()[['total_bill']].reset_index()<br/>px.line_polar(t, r='total_bill', theta='day', line_close=True)</span></pre><p id="e06a" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">提高可视化的最好方法是通过实践。我发现有用的是参加一个叫做<a class="ae it" href="https://github.com/rfordatascience/tidytuesday" rel="noopener ugc nofollow" target="_blank"> TidyTuesday </a>的每周可视化挑战！</p><p id="64f4" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">欢迎评论！</p></div></div>    
</body>
</html>