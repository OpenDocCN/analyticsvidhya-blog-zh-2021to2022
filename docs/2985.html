<html>
<head>
<title>KNAPSACK Dynamic Programing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">背包动态规划</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/knapsack-dynamic-programing-45dbb4b74f77?source=collection_archive---------10-----------------------#2021-05-28">https://medium.com/analytics-vidhya/knapsack-dynamic-programing-45dbb4b74f77?source=collection_archive---------10-----------------------#2021-05-28</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="3a47" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">让我们举一个例子，我们将通过背包动态规划来解决它。</p><p id="77a8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">分数背包问题，顾名思义，物品在这里是可分的。如果拿走全部物品是不可能的，我们甚至可以把任何物品的一部分放进背包。用贪心法求解。</p><h1 id="f15a" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated">背包问题变体-</h1><p id="5d37" class="pw-post-body-paragraph ie if hh ig b ih ka ij ik il kb in io ip kc ir is it kd iv iw ix ke iz ja jb ha bi translated">背包问题有以下两种变体-</p><p id="0699" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">1.分数背包问题</p><p id="2967" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">2.0/1背包问题</p><p id="b23d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">分数背包问题采用贪婪方法求解，步骤如下- </strong></p><h1 id="1df4" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated">第一步:</h1><p id="4fcf" class="pw-post-body-paragraph ie if hh ig b ih ka ij ik il kb in io ip kc ir is it kd iv iw ix ke iz ja jb ha bi translated">对于每个项目，计算其价值/重量比。</p><h1 id="d192" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated">第二步:</h1><p id="4ec8" class="pw-post-body-paragraph ie if hh ig b ih ka ij ik il kb in io ip kc ir is it kd iv iw ix ke iz ja jb ha bi translated">按照价值/重量比的降序排列所有项目。</p><h1 id="f5b9" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated">步骤03:</h1><p id="6e2c" class="pw-post-body-paragraph ie if hh ig b ih ka ij ik il kb in io ip kc ir is it kd iv iw ix ke iz ja jb ha bi translated">从比率最高的物品开始，将物品放入背包。</p><p id="2043" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">把尽可能多的东西放进背包。</p><h1 id="a686" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated">时间复杂度-</h1><p id="478b" class="pw-post-body-paragraph ie if hh ig b ih ka ij ik il kb in io ip kc ir is it kd iv iw ix ke iz ja jb ha bi translated">主要的耗时步骤是按照价值/重量比的降序对所有物品进行分类。</p><p id="02be" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果项目已经按要求的顺序排列，那么while循环需要O(n)时间。</p><p id="f8e6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae kf" href="https://www.gatevidyalay.com/quick-sort-sorting-algorithms/" rel="noopener ugc nofollow" target="_blank"> <strong class="ig hi">快速排序</strong> </a>的平均时间复杂度为O(nlogn)。</p><p id="1fdf" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">因此，包括排序在内的总时间为O(nlogn)。</p><h1 id="7d7e" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated">0/1背包问题-</h1><p id="aad5" class="pw-post-body-paragraph ie if hh ig b ih ka ij ik il kb in io ip kc ir is it kd iv iw ix ke iz ja jb ha bi translated">在0/1背包问题中，</p><p id="0820" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">顾名思义，物品在这里是不可分割的。</p><p id="c844" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们不能拿任何项目的分数。</p><p id="84e6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们要么完全接受一个项目，要么完全放弃它。</p><p id="439a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">采用动态规划方法求解。</p><h1 id="8f2e" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated">使用动态规划的0/1背包问题</h1><p id="3b9d" class="pw-post-body-paragraph ie if hh ig b ih ka ij ik il kb in io ip kc ir is it kd iv iw ix ke iz ja jb ha bi translated">考虑一下-</p><p id="df0d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">背包重量容量= w</p><p id="09a7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">有一定重量和价值的物品数量= n</p><p id="8cae" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">0/1背包问题使用动态规划在以下步骤中解决</p><h1 id="df6d" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated">第一步:</h1><p id="a820" class="pw-post-body-paragraph ie if hh ig b ih ka ij ik il kb in io ip kc ir is it kd iv iw ix ke iz ja jb ha bi translated">画一个表格，比如“T ”,有(n+1)行和(w+1)列。</p><p id="ba5f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">用零填充第0行和第0列的所有方框，如下所示-</p><h1 id="da52" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated">第二步:</h1><p id="7623" class="pw-post-body-paragraph ie if hh ig b ih ka ij ik il kb in io ip kc ir is it kd iv iw ix ke iz ja jb ha bi translated">开始从左到右从上到下逐行填充表格。</p><p id="354a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">使用以下公式-</p><p id="0ba3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> T (i，j) = max { T ( i-1，j)，value i + T( i-1，j —权重i ) } </strong></p><p id="e35c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这里，T(i，j) =所选物品的最大值，如果我们可以取物品1至I，重量限制为j。</p><p id="590d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这一步导致完全填充表格。</p><p id="90b8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">然后，最后一个盒子的值代表可以放入背包的最大可能值。</p><h1 id="5a2c" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated">步骤03:</h1><p id="86bf" class="pw-post-body-paragraph ie if hh ig b ih ka ij ik il kb in io ip kc ir is it kd iv iw ix ke iz ja jb ha bi translated">为了识别必须放入背包以获得最大利润的物品，</p><p id="08c0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">考虑表格的最后一列。</p><p id="340a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">开始从下到上扫描条目。</p><p id="b81d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">当遇到一个条目的值与存储在其上面的条目的值不同时，标记该条目的行标签。</p><p id="e436" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">扫描完所有条目后，标记的标签代表必须放入背包的物品。</p><h1 id="1f4a" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated">时间复杂度-</h1><p id="a2a4" class="pw-post-body-paragraph ie if hh ig b ih ka ij ik il kb in io ip kc ir is it kd iv iw ix ke iz ja jb ha bi translated">表中的每个条目需要恒定的时间θ(1)来进行计算。</p><p id="bc04" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">填充(n+1)(w+1)个表格条目需要θ(nw)时间。</p><p id="6823" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">因为追踪过程追踪n行，所以追踪解需要θ(n)时间。</p><p id="4147" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">因此，使用动态规划求解0/1背包问题需要总的θ(nw)时间。</p><blockquote class="kg kh ki"><p id="df38" class="ie if kj ig b ih ii ij ik il im in io kk iq ir is kl iu iv iw km iy iz ja jb ha bi translated"><strong class="ig hi"> <em class="hh">问题陈述:</em> </strong> <em class="hh">一个小偷入室抢劫。他包里最多能装5公斤的东西。房子里有4件物品，重量和价值如下。如果小偷完全拿走或完全留下物品，他应该拿什么物品？</em></p></blockquote><figure class="ko kp kq kr fd ks er es paragraph-image"><div class="er es kn"><img src="../Images/51a0e39c89cef39a6d124fd47daca8d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:528/format:webp/0*jmqnHQCKBbaYNDev.png"/></div></figure><p id="b778" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">解决方案:</strong></p><p id="dd7b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">前提条件:</p><p id="8cc7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">背包容量(w) = 5公斤</p><p id="d91a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">项目数(n) = 4</p><p id="f9e9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">第一步:绘制T (n+1)行和(w+1)列的表格。</p><p id="aa4a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">n =物品数量，w =重量</p><figure class="ko kp kq kr fd ks er es paragraph-image"><div class="er es kv"><img src="../Images/26b53ffedab84c1454e1f382f2d2f7bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1118/format:webp/0*aefPFcqmbb1cKxd7.png"/></div></figure><p id="2eec" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们可以用给定的公式来识别这些值:<strong class="ig hi"> T (i，j) = max {T (i-1，j)，value i + T (i-1，j — weight i ) } </strong></p><p id="eb00" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">识别T (1，1): </strong></p><p id="bf1c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们有，</p><p id="4da9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">i = 1</p><p id="e09c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">j = 1</p><p id="28df" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">(值)i =(值)1 = 3</p><p id="d68d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">(重量)i =(重量)1 = 2</p><p id="2d62" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">让我们把价值和确定的T (1，1)</p><p id="e2bd" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">代入这些值，我们得到-</p><p id="4915" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">T (1，1)= max { T(1–1，1)，3+T(1–1，1–2)}</p><p id="72ca" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">T (1，1) = max {T (0，1)，3 + T (0，-1)}</p><p id="50e8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">T (1，1) = T (0，1){忽略T (0，-1)}</p><p id="7fa1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">T (1，1) = 0</p><p id="f4a4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">类似地，计算所有条目。</p><p id="6dba" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在计算完所有条目并将其填入表格后，我们得到了下表-</p><figure class="ko kp kq kr fd ks er es paragraph-image"><div class="er es kw"><img src="../Images/96dbb9b63c0e27460399f93d7fcc9bbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1122/format:webp/0*aq8ilkXGjzKfZnXf.png"/></div></figure><p id="3266" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">最后一项表示可以放入背包的最大可能值。</p><p id="818d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">因此，可以放入背包的最大可能值= 7。</strong></p></div></div>    
</body>
</html>