<html>
<head>
<title>Beginners guide: from collections import Counter</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">初学者指南:从集合进口柜台</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/beginners-guide-from-collections-import-counter-d93bcecd190b?source=collection_archive---------2-----------------------#2021-03-05">https://medium.com/analytics-vidhya/beginners-guide-from-collections-import-counter-d93bcecd190b?source=collection_archive---------2-----------------------#2021-03-05</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/6410f7a4bc3da9c141a65e6db3abdbe2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QNvHOOSIqoxyW0fb"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae iu" href="https://unsplash.com/@hiteshchoudhary?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Hitesh Choudhary </a>拍摄的照片</figcaption></figure><p id="5760" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">众所周知，Python因其简单的语言而广受欢迎。然而，有很多模块是围绕Python构建的，这使得Python使用起来更加简单。模块基本上是别人为你编写的Python函数，工作起来完美无缺。知道使用哪个模块以及何时使用模块会使编程变得更简单，因为您不必编写代码来完成相同的任务。尽管如此，您确实需要知道方法背后的逻辑，以便正确地实现它们。</p><p id="a77b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">其中最受欢迎的模块是C <a class="ae iu" href="https://docs.python.org/3/library/collections.html" rel="noopener ugc nofollow" target="_blank">集合</a>模块。Collections是一组在容器中存储数据的工具(例如，列表、字典、集合、元组)。</p><p id="4d8a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在本文中，我将提到集合模块中我认为非常有用的两个容器:<br/> - Counter <br/> - OrderedDict</p><p id="8f3e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">之所以重点关注这三个，是因为它们都是dictionary的子类。它们实现起来既快又容易。</p></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><h1 id="b9fa" class="ka kb hi bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">计数器</h1><p id="27f5" class="pw-post-body-paragraph iv iw hi ix b iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo lc jq jr js hb bi translated">你可以通过计数器内部的<em class="ld">字符串</em>、<em class="ld">列表</em>和<em class="ld">字典</em>或者通过计数器的方式传入数据(参见下面的减法示例)。</p><p id="a52f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Counter对传入的元素进行计数，并返回包含元素计数的键、值对。</p><p id="53ee" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">要实现Counter，首先需要从collections模块导入它。Counter中的大写字母“C”需要导入，因为Python是一种区分大小写的语言。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="51ec" class="ln kb hi lj b fi lo lp l lq lr">from collections import Counter </span></pre><p id="1842" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一旦导入，您可以简单地开始使用计数器。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="40b6" class="ln kb hi lj b fi lo lp l lq lr">numbers = [90, 95, 50, 55, 60, 20, 90, 85, 50, 90, 85, 95]<br/>Counter(numbers)</span><span id="2771" class="ln kb hi lj b fi ls lp l lq lr">output:<br/>Counter({90: 3, 95: 2, 50: 2, 55: 1, 60: 1, 20: 1, 85: 2})</span></pre><p id="ab79" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">或者实例化为您喜欢的变量。但是，您必须在计数器后传递“()”，如下所示。此方法类似于创建手动计数器。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="610b" class="ln kb hi lj b fi lo lp l lq lr"># Counter <br/>c = Counter()<br/>numbers = [90, 95, 50, 55, 60, 20, 90, 85, 50, 90, 85, 95]<br/>for num in numbers:<br/>    c[num]+=1<br/>print(c)</span><span id="eec4" class="ln kb hi lj b fi ls lp l lq lr">output:<br/>Counter({90: 3, 95: 2, 50: 2, 55: 1, 60: 1, 20: 1, 85: 2})<br/>   <br/>       --------------------------------------------------</span><span id="748f" class="ln kb hi lj b fi ls lp l lq lr"># Manual<br/>numbers = [90, 95, 50, 55, 60, 20, 90, 85, 50, 90, 85, 95]<br/>grade={}<br/>for num in numbers:<br/>    if num in grade:<br/>        grade[num]+=1<br/>    else:<br/>        grade[num]=1<br/>print(grade)</span><span id="ca90" class="ln kb hi lj b fi ls lp l lq lr">output:<br/>{90: 3, 95: 2, 50: 2, 55: 1, 60: 1, 20: 1, 85: 2}</span></pre><p id="d61f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在计数器循环中，不需要创建新的字典或<em class="ld"> if-else </em>条件来指定num不是数字时如何递增。</p><p id="21eb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在Counter中，有两种方法了解起来很有用。<br/> - most_common(n) —其中<em class="ld"> n </em>是您想要的常用对数。<br/> -元素()<br/> -减法</p><ul class=""><li id="e80f" class="lt lu hi ix b iy iz jc jd jg lv jk lw jo lx js ly lz ma mb bi translated">最常见的(n)</li></ul><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="f695" class="ln kb hi lj b fi lo lp l lq lr">from collections import Counter<br/>numbers = [90, 95, 50, 55, 20, 90, 85, 50, 90, 85, 95, 55, 55, 55]<br/>grade=Counter(numbers).most_common(2)<br/>print(grade)</span><span id="b157" class="ln kb hi lj b fi ls lp l lq lr">output:<br/>[(55, 4), (90, 3)] #prints a list with the most common elements and the number of counts as key, value tuple. </span></pre><ul class=""><li id="ea84" class="lt lu hi ix b iy iz jc jd jg lv jk lw jo lx js ly lz ma mb bi translated">元素()</li></ul><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="c48e" class="ln kb hi lj b fi lo lp l lq lr">from collections import Counter<br/>numbers = {55:4, 90:3}<br/>grade=Counter(numbers)<br/>print(list(grade.elements()))</span><span id="3684" class="ln kb hi lj b fi ls lp l lq lr">output:<br/>[55, 55, 55, 55, 90, 90, 90] #prints a list of all the elements in the dictionary</span></pre><ul class=""><li id="edcc" class="lt lu hi ix b iy iz jc jd jg lv jk lw jo lx js ly lz ma mb bi translated">减去</li></ul><p id="b04b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">正如我上面提到的，除了列表、字符串或字典之外，还有一种方法可以在计数器中传递数据。它只是为元素声明一个值，counter函数读为“有4个‘a’，3个‘b’和2个‘c’。”此外，当您从另一个元素(在本例中为“d”)中减去值，并且该值不存在于您传递给计数器的值中时，它知道该值为0，并且不会抛出错误。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="6da5" class="ln kb hi lj b fi lo lp l lq lr">from collections import Counter<br/>c=Counter(a=4, b=3, c=2, d=0)<br/>d=['a', 'b', 'c', 'd', 'e']<br/>c.subtract(d)<br/>print(c)</span><span id="7a3f" class="ln kb hi lj b fi ls lp l lq lr">output:<br/>Counter({'a': 3, 'b': 2, 'c': 1, 'd': -1, 'e': -1})</span></pre><p id="9fc9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">集合中还有其他函数:Deque、Chainmap、UserString等等。然而，我发现自己使用计数器的频率最高。此外，从Python 3.6开始，字典实际上会记住元素插入字典的顺序</p></div></div>    
</body>
</html>