<html>
<head>
<title>3 Steps to get you started in Stock Market Analysis in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python进行股票市场分析的3个步骤</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/3-steps-to-get-you-started-in-stock-market-analysis-in-python-49a4a0b090ed?source=collection_archive---------8-----------------------#2021-04-13">https://medium.com/analytics-vidhya/3-steps-to-get-you-started-in-stock-market-analysis-in-python-49a4a0b090ed?source=collection_archive---------8-----------------------#2021-04-13</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="b19c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们将使用Python分析MSFT股票，计算一些基本的交易指标，并绘制OHLC图表。</p><p id="9810" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">要进行更复杂的分析，查看这篇文章我们的<a class="ae jc" rel="noopener" href="/analytics-vidhya/python-for-stock-analysis-fcff252ca559"> Python for Stock Market </a></p><h1 id="aff3" class="jd je hh bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">介绍</h1><p id="6823" class="pw-post-body-paragraph ie if hh ig b ih kb ij ik il kc in io ip kd ir is it ke iv iw ix kf iz ja jb ha bi translated">这是Python股票市场分析系列的第六篇文章，我将试图涵盖你开始股票市场分析所需的基础知识。</p><p id="a5a7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">让我们从基础开始。在本文中，您将了解到:</p><ul class=""><li id="380d" class="kg kh hh ig b ih ii il im ip ki it kj ix kk jb kl km kn ko bi translated">用Python获取股票数据的最简单方法</li><li id="f00b" class="kg kh hh ig b ih kp il kq ip kr it ks ix kt jb kl km kn ko bi translated">什么是交易指标，如何计算</li><li id="ec12" class="kg kh hh ig b ih kp il kq ip kr it ks ix kt jb kl km kn ko bi translated">如何用OHLC图表绘制股票数据</li></ul><h2 id="ccbd" class="ku je hh bd jf kv kw kx jj ky kz la jn ip lb lc jr it ld le jv ix lf lg jz lh bi translated">我们将分析过去5年的数据</h2><pre class="li lj lk ll fd lm ln lo lp aw lq bi"><span id="aeda" class="ku je hh ln b fi lr ls l lt lu">pip install yfinance</span><span id="2bec" class="ku je hh ln b fi lv ls l lt lu">import yfinance as yf</span><span id="8f09" class="ku je hh ln b fi lv ls l lt lu">df = yf.download("MSFT", start="2015-01-01", end="2021-03-31", interval="1d")</span><span id="4ead" class="ku je hh ln b fi lv ls l lt lu">df.head()</span></pre><figure class="li lj lk ll fd lx er es paragraph-image"><div class="er es lw"><img src="../Images/61eb30e73baae8ac7e755ab20ac78424.png" data-original-src="https://miro.medium.com/v2/resize:fit:1218/format:webp/1*Q-ozpzbTYhd_XMg3BoDS-g.png"/></div></figure><p id="e9b4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">yfinance下载函数有很多参数:</p><ul class=""><li id="99b0" class="kg kh hh ig b ih ii il im ip ki it kj ix kk jb kl km kn ko bi translated">您可以使用1m、2m、5m、15m、30m、60m、90m、1h、1d、5d、1wk、1mo、3mo，而不是将间隔设置为1d。</li><li id="99ba" class="kg kh hh ig b ih kp il kq ip kr it ks ix kt jb kl km kn ko bi translated">您可以在一个列表或字符串中定义多个tickers:“间谍AAPL MSFT”。</li><li id="adfc" class="kg kh hh ig b ih kp il kq ip kr it ks ix kt jb kl km kn ko bi translated">您可以使用“ytd”来下载从今天起一年内的数据，而不是开始和结束日期。其他有效期间包括1d、5d、1mo、3mo、6mo、1y、2y、5y、10y、ytd、max。</li><li id="65a1" class="kg kh hh ig b ih kp il kq ip kr it ks ix kt jb kl km kn ko bi translated">详见<a class="ae jc" href="https://github.com/ranaroussi/yfinance" rel="noopener ugc nofollow" target="_blank"> yfinance </a>。</li></ul><p id="0f6d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">你也可以从<a class="ae jc" href="https://in.finance.yahoo.com/" rel="noopener ugc nofollow" target="_blank">雅虎财经</a>下载CSV文件。</p><h1 id="ab0d" class="jd je hh bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">2.计算交易指标</h1><p id="5aa0" class="pw-post-body-paragraph ie if hh ig b ih kb ij ik il kc in io ip kd ir is it ke iv iw ix kf iz ja jb ha bi translated">交易指标是数学计算，在价格图表上绘制成线条，可以帮助交易者识别市场中的某些信号和趋势。</p><h1 id="10c3" class="jd je hh bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">TA-LIB</h1><p id="79f1" class="pw-post-body-paragraph ie if hh ig b ih kb ij ik il kc in io ip kd ir is it ke iv iw ix kf iz ja jb ha bi translated">就技术分析而言，TA-LIB 是Python中使用最多的库之一。</p><p id="bc41" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">要使用它，你首先需要安装TA-LIB依赖项，我知道安装TA-LIB很难，因此我写了一篇文章，请阅读。</p><div class="ma mb ez fb mc md"><a href="https://rohan09.medium.com/how-to-install-ta-lib-in-python-86e4edb80934" rel="noopener follow" target="_blank"><div class="me ab dw"><div class="mf ab mg cl cj mh"><h2 class="bd hi fi z dy mi ea eb mj ed ef hg bi translated">如何在Python中安装TA-LIB</h2><div class="mk l"><h3 class="bd b fi z dy mi ea eb mj ed ef dx translated">在这里，我将帮助您在PC/笔记本电脑上安装TA-LIB。对你们来说应该很容易！</h3></div><div class="ml l"><p class="bd b fp z dy mi ea eb mj ed ef dx translated">rohan09.medium.com</p></div></div></div></a></div><h1 id="68dd" class="jd je hh bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">移动平均数</h1><p id="7bc8" class="pw-post-body-paragraph ie if hh ig b ih kb ij ik il kc in io ip kd ir is it ke iv iw ix kf iz ja jb ha bi translated">移动平均线(MA)用于确定当前价格趋势的方向，不受短期价格上涨的影响。</p><p id="8e85" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">MA指标结合了特定时间范围内的股价点，并除以数据点的数量，得出一条趋势线。</p><p id="1b06" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">让我们计算MSFT收盘价的20天(短期)和200天(长期)MA(我们可以用熊猫直接计算MA):</p><pre class="li lj lk ll fd lm ln lo lp aw lq bi"><span id="01dc" class="ku je hh ln b fi lr ls l lt lu">df.loc[:, ‘ma20’] = df.Close.rolling(20).mean()<br/>df.loc[:, ‘ma200’] = df.Close.rolling(200).mean()</span></pre><figure class="li lj lk ll fd lx er es paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="er es mm"><img src="../Images/128b60cafd72bb8288a152321a0a27cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mUNji3Q6-473OXcf09AOSA.png"/></div></div></figure><h1 id="3aeb" class="jd je hh bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">为什么均线很重要？</h1><p id="4d4c" class="pw-post-body-paragraph ie if hh ig b ih kb ij ik il kc in io ip kd ir is it ke iv iw ix kf iz ja jb ha bi translated">移动平均线用于识别重要的<a class="ae jc" href="https://www.investopedia.com/trading/support-and-resistance-basics/" rel="noopener ugc nofollow" target="_blank">支撑位</a>和<a class="ae jc" href="https://www.investopedia.com/trading/support-and-resistance-basics/" rel="noopener ugc nofollow" target="_blank">阻力位</a>。</p><p id="dadb" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">交易者观察短期均线与长期均线的交叉，作为趋势变化的可能指标，以进入多头和空头头寸。</p><h1 id="be8f" class="jd je hh bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">RSI——相对强度指数</h1><p id="fb3f" class="pw-post-body-paragraph ie if hh ig b ih kb ij ik il kc in io ip kd ir is it ke iv iw ix kf iz ja jb ha bi translated">相对强弱指数(RSI)是技术分析中使用的一种动量指标，用于衡量最近价格变化的幅度，以评估股票或其他资产价格的超买或超卖情况。</p><p id="bbc9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">RSI显示为一个振荡器(在两个极端之间移动的线形图),读数可以从0到100。它通常用于14天的时间段。</p><h1 id="5ebb" class="jd je hh bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">相对强弱和相对强弱指数一样吗？</h1><p id="22f1" class="pw-post-body-paragraph ie if hh ig b ih kb ij ik il kc in io ip kd ir is it ke iv iw ix kf iz ja jb ha bi translated">相对强弱表明一只股票相对于另一只股票、指数或基准的价值，而相对强弱表明一只股票相对于同一只股票近期表现的表现。</p><p id="2dd5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">让我们计算MSFT的相对强度</p><pre class="li lj lk ll fd lm ln lo lp aw lq bi"><span id="1690" class="ku je hh ln b fi lr ls l lt lu">import talib</span><span id="b640" class="ku je hh ln b fi lv ls l lt lu">df.loc[:, “rsi”] = talib.RSI(df.Close, 14)</span></pre><p id="c85a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在，让我们绘制RSI图，30表示超卖，70表示超买:</p><figure class="li lj lk ll fd lx"><div class="bz dy l di"><div class="mr ms l"/></div></figure><figure class="li lj lk ll fd lx er es paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="er es mt"><img src="../Images/4aadb93881322406bf93c3f54bf0379c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_gS52moEUXonjMD7o6_DXQ.png"/></div></div></figure><p id="cc62" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">RSI ≥70的资产通常被认为超买，而RSI ≤ 30的资产通常被认为超卖:</p><ul class=""><li id="83fb" class="kg kh hh ig b ih ii il im ip ki it kj ix kk jb kl km kn ko bi translated">超买信号表明资产价格可能会回调。</li><li id="ce24" class="kg kh hh ig b ih kp il kq ip kr it ks ix kt jb kl km kn ko bi translated">超卖信号可能意味着短期下跌即将成熟，资产可能会反弹。</li></ul><p id="3f22" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在上图中，我们可以观察到MSFT价格随着RSI的变化而变化的模式。当超买(RSI ≥70)时，价格处于修正阶段，反之亦然。</p><h1 id="6150" class="jd je hh bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">3.绘制股票数据</h1><p id="0482" class="pw-post-body-paragraph ie if hh ig b ih kb ij ik il kc in io ip kd ir is it ke iv iw ix kf iz ja jb ha bi translated">在这一节中，我们将看到如何绘制OHLC图，这是一种我们在交易平台上常见的开盘价、最高价、最低价和收盘价的图表。</p><p id="499b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们将使用Plotly库来制作OHLC海图。</p><p id="4cc7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为了用Plotly绘制OHLC，我们只需要在正确的投入上设定价格。</p><figure class="li lj lk ll fd lx"><div class="bz dy l di"><div class="mr ms l"/></div></figure><figure class="li lj lk ll fd lx er es paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="er es mu"><img src="../Images/a238ed0f4b9f8cdde06196b47176ae5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qmWEne8j08F28T67yOXygA.png"/></div></div><figcaption class="mv mw et er es mx my bd b be z dx translated">MSFT图</figcaption></figure><p id="9192" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在你可以进入更复杂的分析，我有一篇完美的文章可以指导你:-</p><p id="c680" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae jc" rel="noopener" href="/analytics-vidhya/python-for-stock-analysis-fcff252ca559">用于股票分析的Python</a></p><p id="2969" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">免责声明</strong>已经有人尝试使用时间序列分析算法来预测股票价格，尽管它们仍然不能用于在真实市场中下注。这只是一篇教程文章，并不打算以任何方式“指导”人们购买股票。</p><p id="a657" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在轮到你鼓掌了，跟我来。感谢您的阅读！</p><p id="0faf" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">给我一个<a class="ae jc" href="https://rohan09.medium.com/" rel="noopener">关注</a>如果你喜欢这个，更多的科技博客！</p><p id="619d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">再见了。</p></div></div>    
</body>
</html>