<html>
<head>
<title>How to install OpenCV for C++ in Visual Studio code for Ubuntu OS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Ubuntu OS的Visual Studio代码中安装OpenCV for C++</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/how-to-install-opencv-for-visual-studio-code-using-ubuntu-os-9398b2f32d53?source=collection_archive---------0-----------------------#2021-08-16">https://medium.com/analytics-vidhya/how-to-install-opencv-for-visual-studio-code-using-ubuntu-os-9398b2f32d53?source=collection_archive---------0-----------------------#2021-08-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="5e4c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在搜索“如何使用Ubuntu 18.04 OS安装OpenCV for Visual studio代码”时，只有很少的资源。所以，在花了几个小时后，我通过阅读这篇文章，设法在linux操作系统上安装了OpenCV for Visual studio。虽然这篇文章涵盖了如何安装的核心概念，但对于像我这样的初学者来说，它并不清楚。所以，我正在复制我的一个版本，这样对于像我这样的初学者来说会很有用，他们有兴趣使用他们最喜欢的Visual Studio代码IDE来体验使用C++的OpenCV。</p><h1 id="cff0" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">第1部分:安装OpenCV</h1><p id="4c2a" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated"><strong class="ih hj">第一步</strong>:打开你的终端，输入如下图所示的命令。(即使用“cd”命令移动到您的主目录并安装“cmake”和make)</p><pre class="kh ki kj kk fd kl km kn ko aw kp bi"><span id="d8bd" class="kq jf hi km b fi kr ks l kt ku">cd<br/>sudo apt install -y cmake<br/>sudo apt install -y make</span></pre><figure class="kh ki kj kk fd kw er es paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="er es kv"><img src="../Images/ea686ef873f2827818654d8dfb0bc821.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RteW6DsbTStjsKtB5tqn7w.png"/></div></div><figcaption class="ld le et er es lf lg bd b be z dx translated">安装cmake和make</figcaption></figure><p id="994a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">(因为我已经安装了它们，所以我在控制台中得到如上所示的消息)</p><p id="5165" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">【https://github.com/opencv/opencv/tree/4.5.1】第二步:从github页面<a class="ae jd" href="https://github.com/opencv/opencv/tree/4.5.1" rel="noopener ugc nofollow" target="_blank">下载OpenCV文件的最新稳定版本</a></p><p id="d2fb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">撰写本文时，OpenCV 4.5.1是最新的稳定版本。</p><p id="fa3d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">转到上面提到的链接，最好在主文件夹中使用如下所示的git clone方法</p><pre class="kh ki kj kk fd kl km kn ko aw kp bi"><span id="e17e" class="kq jf hi km b fi kr ks l kt ku">git clone <a class="ae jd" href="https://github.com/opencv/opencv.git" rel="noopener ugc nofollow" target="_blank">https://github.com/opencv/opencv.git</a></span></pre><figure class="kh ki kj kk fd kw er es paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="er es lh"><img src="../Images/a5a3a888d2f2ae5ee7283d33269c906a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hLbTh4tekaPCQO0B_AtHbw.png"/></div></div><figcaption class="ld le et er es lf lg bd b be z dx translated">git克隆opencv</figcaption></figure><p id="c028" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在成功的git克隆之后，您应该在您的主文件夹中找到一个名为opencv的文件夹</p><p id="23ca" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在进入opencv文件夹，创建一个名为build的文件夹</p><pre class="kh ki kj kk fd kl km kn ko aw kp bi"><span id="8f75" class="kq jf hi km b fi kr ks l kt ku">cd opencv &amp;&amp; mkdir build</span></pre><p id="2e7c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">步骤4: </strong>现在使用以下命令安装cmake gui</p><pre class="kh ki kj kk fd kl km kn ko aw kp bi"><span id="9637" class="kq jf hi km b fi kr ks l kt ku">sudo apt-get install cmake-qt-gui</span></pre><p id="56f5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">完成后，使用命令“cmake-gui”打开cmake gui</p><pre class="kh ki kj kk fd kl km kn ko aw kp bi"><span id="7f56" class="kq jf hi km b fi kr ks l kt ku">cmake-gui</span></pre><p id="286b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在你应该得到如下所示的窗口</p><figure class="kh ki kj kk fd kw er es paragraph-image"><div class="er es li"><img src="../Images/989d5abbde6c26eb1dc8ff04cb384b80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1262/format:webp/1*PeLbhb4s8Yj6xAaBPnHcBg.png"/></div><figcaption class="ld le et er es lf lg bd b be z dx translated">cmake-gui</figcaption></figure><p id="44d1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如上图所示，对于“何处是源代码:”对话框，粘贴您的opencv文件的路径，对于“何处构建二进制文件:”对话框，复制粘贴opencv目录(我们在第3步开始时创建的)内的构建目录的路径</p><p id="63b0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">步骤5: </strong>现在点击配置，然后点击生成。不要被gui中出现的红色值吓倒，只需单击“配置”,完成后单击“生成”</p><p id="6722" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第6步:</strong>现在返回终端，移动到opencv文件夹中的build文件夹，然后一个接一个地输入命令，如下面的代码片段所示。坐下来放松一下，因为“进行安装”将会花费大量的时间</p><pre class="kh ki kj kk fd kl km kn ko aw kp bi"><span id="c768" class="kq jf hi km b fi kr ks l kt ku">cd ~/opencv/build<br/>make -j4<br/>make install<br/>sudo apt-get install libopencv-dev</span></pre><p id="7fb4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> Step7: </strong>一旦以上步骤结束，现在就该检查安装是否成功了。这可以使用命令“pkg-config — modversion opencv4”来完成</p><pre class="kh ki kj kk fd kl km kn ko aw kp bi"><span id="8c14" class="kq jf hi km b fi kr ks l kt ku">pkg-config --modversion opencv4</span></pre><figure class="kh ki kj kk fd kw er es paragraph-image"><div class="er es lj"><img src="../Images/420681f5e7eaa5b7f875f5178c5744bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1232/format:webp/1*Q2QHCJs0lFax-HRtC9My1g.png"/></div><figcaption class="ld le et er es lf lg bd b be z dx translated">检查opencv包的版本</figcaption></figure><p id="bc6c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您在执行上述命令时遇到任何错误，请返回到构建文件夹cd ~/opencv/build，尝试以下命令，然后尝试“pkg-config — modeversion opencv4”</p><pre class="kh ki kj kk fd kl km kn ko aw kp bi"><span id="5ebb" class="kq jf hi km b fi kr ks l kt ku">cd ~/opencv/build</span><span id="d2ce" class="kq jf hi km b fi lk ks l kt ku">cmake -D CMAKE_BUILD_TYPE=Release -D OPENCV_GENERATE_PKGCONFIG=YES -D CMAKE_INSTALL_PREFIX=/usr/local ..</span><span id="a2ef" class="kq jf hi km b fi lk ks l kt ku">sudo make <br/>sudo make install</span><span id="5dce" class="kq jf hi km b fi lk ks l kt ku">pkg-config --modversion opencv4</span></pre></div><div class="ab cl ll lm gp ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="hb hc hd he hf"><h1 id="45a7" class="je jf hi bd jg jh ls jj jk jl lt jn jo jp lu jr js jt lv jv jw jx lw jz ka kb bi translated"><strong class="ak">第二部分:Visual Studio代码配置</strong></h1><p id="8151" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated"><strong class="ih hj">第一步:</strong>打开visual studio代码- &gt;新建一个文件夹(比如说“project”)-&gt;新建一个cpp文件(比如说“new.cpp”)</p><p id="a3f4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第二步:</strong>复制粘贴一张图片(比如“Lena.jpg”)到新建的文件夹中</p><p id="335e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们的文件夹结构应该看起来像下面这样</p><pre class="kh ki kj kk fd kl km kn ko aw kp bi"><span id="f7ad" class="kq jf hi km b fi kr ks l kt ku">project<br/>|--new.cpp<br/>|--Lena.png</span></pre><p id="c245" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">步骤3: </strong>复制粘贴下面的代码，如果需要的话，不要忘记更改图像名称，并确保在进一步操作之前检查是否存在任何语法错误</p><pre class="kh ki kj kk fd kl km kn ko aw kp bi"><span id="c9c5" class="kq jf hi km b fi kr ks l kt ku">#include &lt;opencv2/highgui.hpp&gt;<br/>#include &lt;iostream&gt;</span><span id="7c66" class="kq jf hi km b fi lk ks l kt ku">int main( int argc, char** argv )<br/>{<br/>    cv::Mat image;<br/>    image = cv::imread("Lena.png",cv::IMREAD_COLOR);<br/>    if(! image.data)<br/>        {<br/>            std::cout&lt;&lt;"Could not open file" &lt;&lt; std::endl;<br/>            return -1;<br/>        }</span><span id="2f18" class="kq jf hi km b fi lk ks l kt ku">    cv::namedWindow("namba image", cv::WINDOW_AUTOSIZE);<br/>    cv::imshow("namba image", image);<br/>    cv::waitKey(0);<br/>    return 0;<br/>}</span></pre><figure class="kh ki kj kk fd kw er es paragraph-image"><div class="er es lx"><img src="../Images/18128101fb8298ac348fbf0251f25091.png" data-original-src="https://miro.medium.com/v2/resize:fit:1072/format:webp/1*-J436H3VCVFxt-2LqcXpUA.png"/></div></figure><p id="d4e9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> Step4: </strong>在main.cpp文件打开的情况下，按“ctrl+shift+p”，这将打开命令托盘，在其中选择“C/C++:编辑配置(JSON)”打开“c_cpp_properties.json”，如下所示</p><figure class="kh ki kj kk fd kw er es paragraph-image"><div class="er es ly"><img src="../Images/57548510f83eb0d01ee611fa0bb20f2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1240/format:webp/1*CAVIuyIRLWlncAkTHBTtPQ.png"/></div></figure><p id="8c17" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">步骤5: </strong>在“c_cpp_properties.json”中编辑要添加的IncludePath</p><p id="63b8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">"/usr/local/include/opencv4/** "如下所示</p><figure class="kh ki kj kk fd kw er es paragraph-image"><div class="er es lz"><img src="../Images/ab5e7d249522f504e5642e53100db478.png" data-original-src="https://miro.medium.com/v2/resize:fit:950/format:webp/1*REHv0VLvCILMG3QjA4cTHg.png"/></div></figure><p id="91cf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在创建另一个文件并命名为“Makefile”，我们的文件夹结构应该类似于下面的代码片段</p><pre class="kh ki kj kk fd kl km kn ko aw kp bi"><span id="8e19" class="kq jf hi km b fi kr ks l kt ku">project<br/>|--new.cpp<br/>|--Lena.png<br/>|--Makefile</span></pre><p id="2ee3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在Makefile中输入下面的代码。最好键入下面的代码，而不是复制粘贴，因为这可能会导致错误。</p><blockquote class="ma mb mc"><p id="27af" class="if ig md ih b ii ij ik il im in io ip me ir is it mf iv iw ix mg iz ja jb jc hb bi translated">(<strong class="ih hj">注意:当您键入命令时，确保最后一行的开头有一个制表符，而不是四个空格)</strong></p></blockquote><pre class="kh ki kj kk fd kl km kn ko aw kp bi"><span id="08a1" class="kq jf hi km b fi kr ks l kt ku">CC = g++<br/>PROJECT = new_output<br/>SRC = new.cpp<br/>LIBS = `pkg-config --cflags --libs opencv4`<br/>$(PROJECT) : $(SRC)<br/>    $(CC) $(SRC) -o $(PROJECT) $(LIBS)</span></pre><figure class="kh ki kj kk fd kw er es paragraph-image"><div class="er es mh"><img src="../Images/7dd996534962287261d86e2f2c1d9a1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:934/format:webp/1*WgEs3_O-6auR98NqbC_sCw.png"/></div></figure><p id="92c0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> Step7: </strong>现在转到VS代码中的终端，键入“make”。这将为您提供一个名为“new_output”的可执行文件</p><p id="a020" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第八步:现在执行。/new _ out。这应该弹出我们的图像，如下所示</p><figure class="kh ki kj kk fd kw er es paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="er es mi"><img src="../Images/7fbd662386fd52a31bf4cdaf7f80c999.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u153BivTBGaELgZzf0aHew.png"/></div></div></figure></div><div class="ab cl ll lm gp ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="hb hc hd he hf"><p id="ee0a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果这篇文章对你有帮助，别忘了留下两个掌声。如果在评论区遇到任何错误，请不吝发表。谢谢你。</p><p id="7931" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">问候，</p><p id="56c8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">维格内什·卡希尔卡马尔</p><p id="77ae" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jd" href="https://aipylinux.quora.com/" rel="noopener ugc nofollow" target="_blank">人工授精</a></p></div></div>    
</body>
</html>